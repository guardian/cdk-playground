stacks:
  - deploy
regions:
  - eu-west-1
deployments:
  cloudformation:
    type: cloud-formation
    app: cdk-playground
    parameters:
      templatePath: CdkPlayground.template.json
      amiParameter: AMICdkplayground
      amiEncrypted: true
      amiTags:
        Recipe: arm64-bionic-java11-deploy-infrastructure
        AmigoStage: PROD
        BuiltBy: amigo
  cdk-playground:
    type: autoscaling
    parameters:
      bucket: deploy-tools-dist
    dependencies:
      - cloudformation
  update-ami:
    type: ami-cloudformation-parameter
    app: cdk-playground
    parameters:
      amiParameter: AMICdkplayground
      amiEncrypted: true
      amiTags:
        Recipe: arm64-bionic-java11-deploy-infrastructure
        AmigoStage: PROD
        BuiltBy: amigo
