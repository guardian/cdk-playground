{"version":3,"file":"CalloutEmbedBlockComponent-importable.client.web.ac86e1b6c2432dc5180d.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/static/icons/minus.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/plus.svg","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/FieldLabel.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/FileUpload.tsx","webpack://@guardian/dotcom-rendering/./src/lib/stringifyFileBase64.ts","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/CheckboxSelect.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/RadioSelect.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/MultiSelect.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/Select.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/TextArea.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/FormFields/TextInput.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbed/Form.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutEmbedBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/link/Link.js"],"sourcesContent":["var _rect;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgMinus = function SvgMinus(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\"\n  }, props), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 5,\n    y: 15,\n    width: 22,\n    height: 3\n  })));\n};\nexport default SvgMinus;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgPlus = function SvgPlus(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.2 0h1.6l.4 7.8 7.8.4v1.6l-7.8.4-.4 7.8H8.2l-.4-7.8L0 9.8V8.2l7.8-.4.4-7.8z\"\n  })));\n};\nexport default SvgPlus;","import { css } from '@emotion/react';\nimport {\n\tpalette as sourcePalette,\n\ttextSans17,\n\ttextSansBold17,\n\ttextSansItalic15,\n\tvisuallyHidden,\n} from '@guardian/source/foundations';\nimport type { CampaignFieldType } from '../../../types/content';\n\nconst fieldLabelStyles = css`\n\t${textSansBold17}\n`;\n\nconst fieldDescription = css`\n\t${textSans17}\n`;\n\nconst optionalTextStyles = css`\n\t${textSansItalic15}\n\tcolor: ${sourcePalette.neutral[46]};\n\tpadding-left: 5px;\n`;\n\ntype Props = {\n\tformField: CampaignFieldType;\n\thideLabel?: boolean;\n};\n\nexport const FieldLabel = ({ formField, hideLabel }: Props) => (\n\t<label\n\t\tcss={[fieldLabelStyles, hideLabel && visuallyHidden]}\n\t\thtmlFor={formField.name}\n\t\thidden={formField.hideLabel}\n\t>\n\t\t{formField.label}\n\t\t{!formField.required && <span css={optionalTextStyles}>Optional</span>}\n\t\t{!!formField.description && (\n\t\t\t<div>\n\t\t\t\t<span css={fieldDescription}>{`${formField.description}`}</span>\n\t\t\t</div>\n\t\t)}\n\t</label>\n);\n","// File upload is the only legacy component that is still used on the old callout form\nimport { css } from '@emotion/react';\nimport { space, text, textSansBold15 } from '@guardian/source/foundations';\nimport { useState } from 'react';\nimport { stringifyFileBase64 } from '.././../../lib/stringifyFileBase64';\nimport type { CampaignFieldFile } from '../../../types/content';\nimport { FieldLabel } from './FieldLabel';\n\nconst fileUploadInputStyles = css`\n\tpadding-top: 10px;\n\tpadding-bottom: 10px;\n`;\n\nconst errorMessagesStyles = css`\n\tpadding-top: ${space[2]}px;\n\tcolor: ${text.error};\n\t${textSansBold15};\n`;\n\ntype Props = {\n\tformField: CampaignFieldFile;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const FileUpload = ({ formField, formData, setFormData }: Props) => {\n\tconst [error, setError] = useState('');\n\tconst onSelectFile = async (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (event.target.files?.[0]) {\n\t\t\tsetError('');\n\t\t\ttry {\n\t\t\t\tconst stringifiedFile = await stringifyFileBase64(\n\t\t\t\t\tevent.target.files[0],\n\t\t\t\t);\n\t\t\t\tsetFormData({\n\t\t\t\t\t...formData,\n\t\t\t\t\t[formField.id]: stringifiedFile,\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsetError(\n\t\t\t\t\t'Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files',\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<FieldLabel formField={formField} />\n\t\t\t<input\n\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\tcss={fileUploadInputStyles}\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\"image/*, .pdf\"\n\t\t\t\trequired={formField.required}\n\t\t\t\tonChange={onSelectFile}\n\t\t\t/>\n\t\t\t<p>We accept images and pdfs. Maximum total file size: 6MB</p>\n\t\t\t{!!error && <div css={errorMessagesStyles}>{error}</div>}\n\t\t</>\n\t);\n};\n","export const stringifyFileBase64 = (file: File): Promise<string> =>\n\tnew Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.addEventListener(\n\t\t\t'load',\n\t\t\t() => {\n\t\t\t\tconst fileAsBase64 = reader.result\n\t\t\t\t\t?.toString()\n\t\t\t\t\t.split(';base64,')[1];\n\t\t\t\t// remove data:*/*;base64, from the start of the base64 string\n\n\t\t\t\tif (fileAsBase64) {\n\t\t\t\t\tresolve(fileAsBase64);\n\t\t\t\t} else {\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t'Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files',\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\t\treader.addEventListener('error', () => {\n\t\t\treject(\n\t\t\t\tnew Error(\n\t\t\t\t\t'Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files',\n\t\t\t\t),\n\t\t\t);\n\t\t});\n\t\treader.readAsDataURL(file);\n\t});\n","import { Checkbox, CheckboxGroup } from '@guardian/source/react-components';\nimport type { CampaignFieldCheckbox } from '../../../types/content';\n\ntype Props = {\n\tformField: CampaignFieldCheckbox;\n\tformData: { [key in string]: string[] };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n\tvalidationErrors?: { [key in string]: string };\n};\n\nexport const CheckboxSelect = ({\n\tformField,\n\tformData,\n\tsetFormData,\n\tvalidationErrors,\n}: Props) => (\n\t<>\n\t\t<CheckboxGroup\n\t\t\terror={validationErrors?.[formField.id]}\n\t\t\thideLabel={formField.hideLabel}\n\t\t\tname={formField.name}\n\t\t\tlabel={formField.label}\n\t\t\tsupporting={formField.description}\n\t\t>\n\t\t\t{formField.options.map((option, index) => {\n\t\t\t\t// data related to this field is mapped to `formData` using `formField.id`\n\t\t\t\t// We cannot assume that the data exists, so we need to check if `formField.id` key exists in `formData`\n\t\t\t\tconst selectedCheckboxesArray = formData[formField.id] ?? [];\n\n\t\t\t\tconst isCheckboxChecked = !!selectedCheckboxesArray.find(\n\t\t\t\t\t(ele: string) => ele === option.value,\n\t\t\t\t);\n\n\t\t\t\tconst filterOutCheckboxFromArray = () =>\n\t\t\t\t\tselectedCheckboxesArray.filter(\n\t\t\t\t\t\t(ele: string) => ele !== option.value,\n\t\t\t\t\t);\n\n\t\t\t\tconst addCheckboxToArray = () => [\n\t\t\t\t\t...selectedCheckboxesArray,\n\t\t\t\t\toption.value,\n\t\t\t\t];\n\n\t\t\t\treturn (\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\tchecked={isCheckboxChecked}\n\t\t\t\t\t\terror={validationErrors?.[formField.id] ? true : false}\n\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t[formField.id]: isCheckboxChecked\n\t\t\t\t\t\t\t\t\t? filterOutCheckboxFromArray()\n\t\t\t\t\t\t\t\t\t: addCheckboxToArray(),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</CheckboxGroup>\n\t</>\n);\n","import { css } from '@emotion/react';\nimport { Radio, RadioGroup } from '@guardian/source/react-components';\nimport type { CampaignFieldRadio } from '../../../types/content';\nimport { FieldLabel } from './FieldLabel';\n\ntype FieldProp = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldRadio;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const RadioSelect = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: FieldProp) => (\n\t// work around to enforce `display: flex;` to `RadioGroup`'s fieldset tag\n\t// https://github.com/guardian/source/issues/580\n\t<div\n\t\tcss={css`\n\t\t\tfieldset {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t`}\n\t>\n\t\t<FieldLabel formField={formField} />\n\t\t<RadioGroup\n\t\t\terror={validationErrors?.[formField.id]}\n\t\t\tname={formField.name}\n\t\t\torientation={\n\t\t\t\tformField.options.length > 2 ? 'vertical' : 'horizontal'\n\t\t\t}\n\t\t>\n\t\t\t{formField.options.map((option, index) => {\n\t\t\t\tconst isRadioChecked =\n\t\t\t\t\tformField.id in formData &&\n\t\t\t\t\tformData[formField.id] === option.value;\n\t\t\t\treturn (\n\t\t\t\t\t<Radio\n\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\tname={`${formField.id}`}\n\t\t\t\t\t\tchecked={!!isRadioChecked}\n\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t[formField.id]: option.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</RadioGroup>\n\t</div>\n);\n","import type {\n\tCampaignFieldCheckbox,\n\tCampaignFieldRadio,\n} from '../../../types/content';\nimport { CheckboxSelect } from './CheckboxSelect';\nimport { RadioSelect } from './RadioSelect';\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldCheckbox | CampaignFieldRadio;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n\tmultiple: boolean;\n};\n\nexport const MultiSelect = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n\tmultiple,\n}: Props) => (\n\t<div data-testid={`form-field-${formField.id}`}>\n\t\t{multiple ? (\n\t\t\t<CheckboxSelect\n\t\t\t\tvalidationErrors={validationErrors ?? undefined}\n\t\t\t\tformField={formField as CampaignFieldCheckbox}\n\t\t\t\tformData={formData}\n\t\t\t\tsetFormData={setFormData}\n\t\t\t/>\n\t\t) : (\n\t\t\t<RadioSelect\n\t\t\t\tvalidationErrors={validationErrors ?? undefined}\n\t\t\t\tformField={formField as CampaignFieldRadio}\n\t\t\t\tformData={formData}\n\t\t\t\tsetFormData={setFormData}\n\t\t\t/>\n\t\t)}\n\t</div>\n);\n","import { Select as SourceSelect } from '@guardian/source/react-components';\nimport type { CampaignFieldSelect } from '../../../types/content';\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldSelect;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const Select = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: Props) => (\n\t<SourceSelect\n\t\thideLabel={formField.hideLabel}\n\t\tdata-testid={`form-field-${formField.id}`}\n\t\terror={validationErrors?.[formField.id]}\n\t\tlabel={formField.label}\n\t\tsupporting={formField.description}\n\t\tvalue={formData[formField.id] ?? ''}\n\t\tonChange={(e) =>\n\t\t\tsetFormData({\n\t\t\t\t...formData,\n\t\t\t\t[formField.id]: e.target.value,\n\t\t\t})\n\t\t}\n\t\toptional={!formField.required}\n\t\tchildren={formField.options.map((option, index) => (\n\t\t\t<option key={index} value={option.value}>\n\t\t\t\t{option.value}\n\t\t\t</option>\n\t\t))}\n\t/>\n);\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source/foundations';\nimport { TextArea as SourceTextArea } from '@guardian/source/react-components';\nimport type { CampaignFieldTextArea } from '../../../types/content';\n\nconst textAreaStyles = css`\n\twidth: 100%;\n\tmargin-top: ${space[2]}px;\n`;\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldTextArea;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const TextArea = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: Props) => (\n\t<>\n\t\t<SourceTextArea\n\t\t\thideLabel={formField.hideLabel}\n\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\tlabel={formField.label}\n\t\t\tsupporting={formField.description}\n\t\t\tcssOverrides={textAreaStyles}\n\t\t\toptional={!formField.required}\n\t\t\tvalue={formField.id in formData ? formData[formField.id] : ''}\n\t\t\terror={validationErrors?.[formField.id]}\n\t\t\tonChange={(e) =>\n\t\t\t\tsetFormData({\n\t\t\t\t\t...formData,\n\t\t\t\t\t[formField.id]: e.target.value,\n\t\t\t\t})\n\t\t\t}\n\t\t/>\n\t</>\n);\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source/foundations';\nimport { TextInput as SourceTextInput } from '@guardian/source/react-components';\nimport type { CampaignFieldText } from '../../../types/content';\n\nconst textInputStyles = css`\n\tmargin-top: ${space[2]}px;\n`;\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldText;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const TextInput = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: Props) => (\n\t<SourceTextInput\n\t\thideLabel={formField.hideLabel}\n\t\terror={validationErrors?.[formField.id]}\n\t\tcssOverrides={textInputStyles}\n\t\tdata-testid={`form-field-${formField.id}`}\n\t\ttype={formField.type}\n\t\tlabel={formField.label}\n\t\tsupporting={formField.description}\n\t\toptional={!formField.required}\n\t\tvalue={formField.id in formData ? formData[formField.id] : ''}\n\t\tonChange={(e) =>\n\t\t\tsetFormData({\n\t\t\t\t...formData,\n\t\t\t\t[formField.id]: e.target.value,\n\t\t\t})\n\t\t}\n\t/>\n);\n","import { css } from '@emotion/react';\nimport { text, textSansBold17 } from '@guardian/source/foundations';\nimport { Button, Link } from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport type { CampaignFieldType } from '../../types/content';\nimport { FileUpload } from './FormFields/FileUpload';\nimport { MultiSelect } from './FormFields/MultiSelect';\nimport { Select } from './FormFields/Select';\nimport { TextArea } from './FormFields/TextArea';\nimport { TextInput } from './FormFields/TextInput';\n\nconst formStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n`;\n\nconst footerPaddingStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-bottom: 15px;\n`;\n\nconst errorMessagesStyles = css`\n\tpadding-bottom: 10px;\n\tcolor: ${text.error};\n\t${textSansBold17};\n`;\n\nconst formFieldWrapperStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\ntype FormDataType = { [key in string]: any };\n\ntype FormFieldProp = {\n\tformField: CampaignFieldType;\n\tformData: FormDataType;\n\tsetFormData: React.Dispatch<React.SetStateAction<FormDataType>>;\n};\n\nconst FormField = ({ formField, formData, setFormData }: FormFieldProp) => {\n\tswitch (formField.type) {\n\t\tcase 'textarea':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<TextArea\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 'file':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<FileUpload\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 'select':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 'checkbox':\n\t\tcase 'radio':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t\tmultiple={formField.type === 'checkbox'}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tdefault: {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t}\n};\n\ntype FormProps = {\n\tonSubmit: (formData: FormDataType) => void;\n\tformFields: CampaignFieldType[];\n\terror?: string;\n};\n\nexport const Form = ({ onSubmit, formFields, error }: FormProps) => {\n\tconst [twitterHandle, setTwitterHandle] = useState('');\n\tconst [formData, setFormData] = useState<{ [key in string]: any }>({});\n\n\treturn (\n\t\t<form\n\t\t\taction=\"/formstack-campaign/submit\"\n\t\t\tmethod=\"post\"\n\t\t\tcss={formStyles}\n\t\t\tonSubmit={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tonSubmit(formData);\n\t\t\t}}\n\t\t>\n\t\t\t{formFields.map((formField, index) => (\n\t\t\t\t<div\n\t\t\t\t\tcss={formFieldWrapperStyles}\n\t\t\t\t\t// we use custom-guardian to find 1st field for accessibility\n\t\t\t\t\t// ideally we should useRef but need to wait for Source to\n\t\t\t\t\t// support React references\n\t\t\t\t\tcustom-guardian=\"callout-form-field\"\n\t\t\t\t\tkey={index}\n\t\t\t\t>\n\t\t\t\t\t<FormField\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t))}\n\n\t\t\t{/* this element is a H O N Â£ Y - P 0 T */}\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t`}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tname=\"twitter-handle\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"twitter-handle\"\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\tplaceholder=\"@mytwitterhandle\"\n\t\t\t\t\tvalue={twitterHandle}\n\t\t\t\t\tonChange={(e) => setTwitterHandle(e.target.value)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{!!error && <div css={errorMessagesStyles}>{error}</div>}\n\t\t\t<div css={footerPaddingStyles}>\n\t\t\t\t<Button priority=\"secondary\" size=\"xsmall\" type=\"submit\">\n\t\t\t\t\tShare with the Guardian\n\t\t\t\t</Button>\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\ta,\n\t\t\t\t\t\ta:hover {\n\t\t\t\t\t\t\tborder: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttext-align: right;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\thref=\"https://www.theguardian.com/help/terms-of-service\"\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\tTerms and conditions\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tpalette as srcPalette,\n\ttextSansBold12,\n\ttextSansBold17,\n} from '@guardian/source/foundations';\nimport { Button } from '@guardian/source/react-components';\nimport { useEffect, useState } from 'react';\nimport { palette } from '../palette';\nimport MinusIcon from '../static/icons/minus.svg';\nimport PlusIcon from '../static/icons/plus.svg';\nimport type {\n\tCalloutBlockElement,\n\tCalloutBlockElementV2,\n} from '../types/content';\nimport { Form } from './CalloutEmbed/Form';\n\nconst wrapperStyles = css`\n\tmargin-bottom: 26px;\n\tmargin-top: 16px;\n`;\n\nconst calloutDetailsStyles = css`\n\tborder-top: 1px ${srcPalette.neutral[86]} solid;\n\tborder-bottom: 1px ${srcPalette.neutral[86]} solid;\n\tposition: relative;\n\tpadding-bottom: 10px;\n\n\t/* IE does not support summary HTML elements, so we need to hide children ourself */\n\t:not([open]) > *:not(summary) {\n\t\tdisplay: none;\n\t}\n`;\n\nconst backgroundColorStyle = css`\n\tbackground-color: ${srcPalette.neutral[97]};\n`;\n\nconst speechBubbleWrapperStyles = css`\n\tmargin-right: 10px;\n`;\n\nconst successTextStyles = css`\n\t${textSansBold17}\n`;\n\nconst summaryStyles = css`\n\t/* Removing default styles from summary tag */\n\t::-webkit-details-marker {\n\t\tdisplay: none;\n\t}\n\toutline: none;\n\n\t/* We don't want the summary to open when we click anything but the button, so we pointer-event: none the summary */\n\t/* 176da211-05aa-4280-859b-1e3157b3f19e */\n\tpointer-events: none;\n\n\t/*\n        why hide visibility?\n        because we want to prevent the user for tabbing to the summary HTML element\n        without using tabIndex={-1} which would disable focus on all child DOM elements\n\n        NOTE: requires \"visibility: visible;\" on child elements to display and enable focus\n    */\n\tvisibility: hidden;\n\n\ta {\n\t\t/* but we do want to allow click on links */\n\t\tpointer-events: all;\n\t}\n`;\n\nconst summaryContentWrapper = css`\n\tvisibility: visible;\n\tmin-height: 70px;\n\tdisplay: flex;\n\tflex-direction: row;\n`;\n\nconst speechBubbleStyles = css`\n\t${textSansBold17}\n\tcolor: ${srcPalette.neutral[100]};\n\tbackground-color: ${palette('--speech-bubble-background')};\n\tmin-width: 88px;\n\tpadding-bottom: 6px;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\t::after {\n\t\tcontent: '';\n\t\twidth: 20px;\n\t\theight: 22px;\n\t\tborder-bottom-right-radius: 18px;\n\t\tposition: absolute;\n\t\tbackground-color: ${palette('--speech-bubble-background')};\n\t}\n`;\n\nconst headingTextHeaderStyles = css`\n\t${textSansBold17}\n`;\n\nconst descriptionStyles = css`\n\t${textSansBold12}\n`;\n\nconst headingTextStyles = css`\n\ta {\n\t\tcolor: ${srcPalette.brand[500]};\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst buttonWrapperStyles = css`\n\tposition: absolute;\n\tcursor: pointer;\n\tmargin-top: -5px;\n\n\tvisibility: visible;\n\n\t/* We need to ensure our pointer-events are turned back on on the button */\n\t/* 176da211-05aa-4280-859b-1e3157b3f19e */\n\tpointer-events: all;\n`;\n\n// Normally forms are in Modals, but here they are embedded into the page\n// we therefore need to only focus on expandFormButtonRef if the form has been closed\n// after it was opened\nlet hasFormBeenOpened = true;\n\ntype FormDataType = { [key in string]: unknown };\n\n/**\n * A callout to readers to share their stories.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page,\n * and submitting a form via AJAX.\n *\n * ---\n * [`CalloutEmbedBlockComponent` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-calloutembedblockcomponent)\n */\nexport const CalloutEmbedBlockComponent = ({\n\tcallout,\n}: {\n\tcallout: CalloutBlockElement | CalloutBlockElementV2;\n}) => {\n\tlet expandFormButtonRef: HTMLButtonElement | null = null;\n\tlet firstFieldElementRef: HTMLElement | null = null;\n\tlet lastElementRef: HTMLButtonElement | null = null;\n\n\tconst [isExpanded, setIsExpanded] = useState(false);\n\tconst [error, setError] = useState('');\n\tconst [submissionSuccess, setSubmissionSuccess] = useState(false);\n\n\tconst { title, description, formFields } = callout;\n\n\tconst onSubmit = async (formData: FormDataType) => {\n\t\t// Reset error for new submission attempt\n\t\tsetError('');\n\n\t\tif (formData.twitterHandle) {\n\t\t\tsetError('Sorry we think you are a robot.');\n\t\t\treturn;\n\t\t}\n\t\t// need to add prefix `field_` to all keys in form\n\t\tconst formDataWithFieldPrefix = Object.keys(formData).reduce(\n\t\t\t(acc, cur) => ({\n\t\t\t\t...acc,\n\t\t\t\t[`field_${cur}`]: formData[cur],\n\t\t\t}),\n\t\t\t{},\n\t\t);\n\n\t\treturn fetch(callout.calloutsUrl, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tformId: callout.formId,\n\t\t\t\t// TODO: check if we need to send this\n\t\t\t\t'twitter-handle': '',\n\t\t\t\t...formDataWithFieldPrefix,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t},\n\t\t})\n\t\t\t.then((resp) => {\n\t\t\t\tif (resp.status === 201) {\n\t\t\t\t\tsetSubmissionSuccess(true);\n\t\t\t\t\tsetIsExpanded(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetError(\n\t\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((respError) => {\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\trespError,\n\t\t\t\t\t'callout-embed-submission',\n\t\t\t\t);\n\t\t\t\tsetError(\n\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\t// ***************************\n\t// *     Accessibility       *\n\t// ***************************\n\tuseEffect(() => {\n\t\t// we have to use document.querySelector to find DOM elements\n\t\t// as Source library does not yet support react ref\n\t\t// TODO: use `useRef` once supported in Source\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\texpandFormButtonRef = document.querySelector(\n\t\t\t'button[custom-guardian=\"callout-form-open-button\"]',\n\t\t);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\tfirstFieldElementRef = document.querySelector(`\n            *[custom-guardian=\"callout-form-field\"]:first-of-type input,\n            *[custom-guardian=\"callout-form-field\"]:first-of-type select\n        `);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\tlastElementRef = document.querySelector(\n\t\t\t'button[custom-guardian=\"callout-form-close-button\"]',\n\t\t);\n\n\t\t// lock shift to the form\n\t\tconst keyListener = (e: KeyboardEvent) => {\n\t\t\t// keyCode 9 is tab key\n\t\t\tif (e.keyCode === 9) {\n\t\t\t\t// If firstElement or lastElement are not defined, do not continue\n\t\t\t\tif (!firstFieldElementRef || !lastElementRef) return;\n\n\t\t\t\t// we use `e.shiftKey` internally to determin the direction of the highlighting\n\t\t\t\t// using document.activeElement and e.shiftKey we can check what should be the next element to be highlighted\n\t\t\t\tif (!e.shiftKey && document.activeElement === lastElementRef) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- it may be missing\n\t\t\t\t\tfirstFieldElementRef?.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\te.shiftKey &&\n\t\t\t\t\tdocument.activeElement === firstFieldElementRef\n\t\t\t\t) {\n\t\t\t\t\tlastElementRef.focus(); // The shift key is down so loop focus back to the last item\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener('keydown', keyListener);\n\t\treturn () => document.removeEventListener('keydown', keyListener);\n\t}, [isExpanded]);\n\n\t// on open form, focus on firstFieldElementRef\n\tuseEffect(() => {\n\t\tif (isExpanded && firstFieldElementRef) {\n\t\t\tfirstFieldElementRef.focus();\n\t\t}\n\t}, [isExpanded, firstFieldElementRef]);\n\n\t// on close form, focus on expandFormButtonRef\n\tuseEffect(() => {\n\t\tif (!isExpanded && expandFormButtonRef && !hasFormBeenOpened) {\n\t\t\texpandFormButtonRef.focus();\n\t\t}\n\t}, [isExpanded, expandFormButtonRef]);\n\n\t// Normally forms are in Modals, but here they are embedded into the page\n\t// we therefore need to only focus on expandFormButtonRef if the form has been closed\n\t// after it was opened\n\tuseEffect(() => {\n\t\tif (isExpanded) {\n\t\t\thasFormBeenOpened = false;\n\t\t}\n\t}, [isExpanded]);\n\n\t// be able to close the form using the escape key for accessibility\n\tuseEffect(() => {\n\t\tconst keyListener = (e: KeyboardEvent) => {\n\t\t\t// keyCode 27 is the escape key, we want to be able to close the form using it\n\t\t\tif (e.keyCode === 27) {\n\t\t\t\tsetIsExpanded(false);\n\t\t\t}\n\t\t};\n\t\tif (isExpanded) {\n\t\t\tdocument.addEventListener('keydown', keyListener);\n\t\t}\n\t\treturn () => document.removeEventListener('keydown', keyListener);\n\t}, [isExpanded, setIsExpanded]);\n\n\tif (submissionSuccess) {\n\t\treturn (\n\t\t\t<figure data-print-layout=\"hide\" css={wrapperStyles}>\n\t\t\t\t<details\n\t\t\t\t\tcss={[calloutDetailsStyles, backgroundColorStyle]}\n\t\t\t\t\taria-hidden={true}\n\t\t\t\t\topen={isExpanded}\n\t\t\t\t>\n\t\t\t\t\t<summary css={summaryStyles}>\n\t\t\t\t\t\t<div css={summaryContentWrapper}>\n\t\t\t\t\t\t\t<div css={speechBubbleWrapperStyles}>\n\t\t\t\t\t\t\t\t<div css={speechBubbleStyles}>\n\t\t\t\t\t\t\t\t\t<h4>Share your story</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headingTextStyles}>\n\t\t\t\t\t\t\t\t<p css={successTextStyles}>\n\t\t\t\t\t\t\t\t\tThank you for your contribution\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</summary>\n\t\t\t\t</details>\n\t\t\t</figure>\n\t\t);\n\t}\n\n\treturn (\n\t\t<figure data-print-layout=\"hide\" css={wrapperStyles}>\n\t\t\t<details\n\t\t\t\tcss={[calloutDetailsStyles, isExpanded && backgroundColorStyle]}\n\t\t\t\taria-hidden={true}\n\t\t\t\topen={isExpanded}\n\t\t\t>\n\t\t\t\t<summary css={summaryStyles}>\n\t\t\t\t\t<div css={summaryContentWrapper}>\n\t\t\t\t\t\t<div css={speechBubbleWrapperStyles}>\n\t\t\t\t\t\t\t<div css={speechBubbleStyles}>\n\t\t\t\t\t\t\t\t<h4>Share your story</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headingTextStyles}>\n\t\t\t\t\t\t\t<h4 css={headingTextHeaderStyles}>{title}</h4>\n\t\t\t\t\t\t\t{!!description && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tcss={descriptionStyles}\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: description,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{!isExpanded && (\n\t\t\t\t\t\t<span css={buttonWrapperStyles} aria-hidden=\"true\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\t\t\t/* TODO: need to find an nicer way of dynamically setting svg dimensions */\n\t\t\t\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\t\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\t\t\t\t\t\t\t\twidth: 15px !important;\n\t\t\t\t\t\t\t\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\t\t\t\t\t\t\t\theight: 15px !important;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\ticon={<PlusIcon />}\n\t\t\t\t\t\t\t\tonClick={() => setIsExpanded(true)}\n\t\t\t\t\t\t\t\tcustom-guardian=\"callout-form-open-button\"\n\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tTell us\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</summary>\n\n\t\t\t\t<Form\n\t\t\t\t\tformFields={formFields}\n\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\terror={error}\n\t\t\t\t/>\n\n\t\t\t\t<span css={buttonWrapperStyles} aria-hidden=\"true\">\n\t\t\t\t\t{isExpanded && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\ticon={<MinusIcon />}\n\t\t\t\t\t\t\tonClick={() => setIsExpanded(false)}\n\t\t\t\t\t\t\tcustom-guardian=\"callout-form-close-button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tHide\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</details>\n\t\t</figure>\n\t);\n};\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { linkContents } from './shared.js';\nimport { linkStyles } from './styles.js';\n\nconst Link = ({\n  priority = \"primary\",\n  icon: iconSvg,\n  iconSide = \"left\",\n  cssOverrides,\n  children,\n  theme,\n  ...props\n}) => {\n  return /* @__PURE__ */ jsx(\n    \"a\",\n    {\n      css: linkStyles({\n        priority,\n        iconSvg,\n        iconSide,\n        cssOverrides,\n        theme\n      }),\n      ...props,\n      children: linkContents({ children, iconSvg, iconSide })\n    }\n  );\n};\n\nexport { Link };\n"],"names":["_rect","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","props","viewBox","x","y","width","height","_path","d","fieldLabelStyles","css","textSansBold17","fieldDescription","textSans17","optionalTextStyles","textSansItalic15","sourcePalette","neutral","FieldLabel","formField","hideLabel","label","visuallyHidden","htmlFor","name","hidden","required","span","description","div","fileUploadInputStyles","errorMessagesStyles","space","text","error","textSansBold15","FileUpload","formData","setFormData","setError","useState","input","data-testid","id","type","accept","onChange","async","event","file","target","files","stringifiedFile","Promise","resolve","reject","reader","FileReader","addEventListener","fileAsBase64","result","toString","split","Error","readAsDataURL","p","CheckboxSelect","validationErrors","CheckboxGroup","supporting","options","map","option","index","selectedCheckboxesArray","isCheckboxChecked","find","ele","value","Checkbox","checked","filter","RadioSelect","RadioGroup","orientation","isRadioChecked","Radio","MultiSelect","multiple","undefined","Select","SourceSelect","optional","children","textAreaStyles","TextArea","SourceTextArea","cssOverrides","textInputStyles","TextInput","SourceTextInput","formStyles","footerPaddingStyles","formFieldWrapperStyles","FormField","hr","Form","onSubmit","formFields","twitterHandle","setTwitterHandle","form","action","method","preventDefault","custom-guardian","aria-hidden","tabIndex","placeholder","Button","priority","size","Link","rel","href","wrapperStyles","calloutDetailsStyles","srcPalette","backgroundColorStyle","speechBubbleWrapperStyles","successTextStyles","summaryStyles","summaryContentWrapper","speechBubbleStyles","palette","headingTextHeaderStyles","descriptionStyles","textSansBold12","headingTextStyles","brand","buttonWrapperStyles","hasFormBeenOpened","CalloutEmbedBlockComponent","callout","expandFormButtonRef","firstFieldElementRef","lastElementRef","isExpanded","setIsExpanded","submissionSuccess","setSubmissionSuccess","title","useEffect","document","querySelector","keyListener","keyCode","shiftKey","activeElement","focus","removeEventListener","figure","data-print-layout","details","open","summary","h4","dangerouslySetInnerHTML","__html","iconSide","icon","PlusIcon","onClick","formDataWithFieldPrefix","keys","reduce","acc","cur","fetch","calloutsUrl","body","JSON","stringify","formId","headers","then","resp","status","catch","respError","window","guardian","modules","sentry","reportError","MinusIcon","colour","iconSvg","theme","jsx","linkStyles","linkContents"],"sourceRoot":""}