"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[7018],{68286:(e,t,o)=>{o.r(t),o.d(t,{DiscussionMeta:()=>c});var n=o(50484),i=o(88482),r=o(97656),l=o(6576),a=o(14374),d=o(2634),s=o(11493);const c=e=>{let{discussionApiUrl:t,shortUrlId:o,enableDiscussionSwitch:c}=e;const f=(0,a.w)(),m=(0,d.e_)(t,o),{data:b}=(0,l.g)((0,i.w)(t,"discussion",o),{dedupingInterval:8e3}),{data:p}=(0,l.g)("SignedInWithOkta"===f.kind||"SignedInWithCookies"===f.kind?(0,i.w)(t,"profile/me?strict_sanctions_check=false"):void 0,{},"SignedInWithOkta"===f.kind||"SignedInWithCookies"===f.kind?(0,r.Kv)(f):void 0);return(0,n.jsx)(s.C,{enableDiscussionSwitch:c,user:null==p?void 0:p.userProfile,commentCount:m,isClosedForComments:null==b?void 0:b.discussion.isClosedForComments})}},6576:(e,t,o)=>{o.d(t,{g:()=>l});var n=o(9474),i=o(29273);function r(e){if(!e.ok)throw Error(e.statusText||"useApi | An api call returned HTTP status ".concat(e.status));return e}const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;const{data:l,error:a}=(0,i.Ay)(e,(e=>t=>fetch(t,e).then(r).then((e=>e.json())))(o),t);return{data:l,error:a,loading:!!e&&(0,n.b)(a)&&(0,n.b)(l)}}},14374:(e,t,o)=>{o.d(t,{T:()=>r,w:()=>l});var n=o(67400),i=o(97656);const r=()=>{switch(l().kind){case"Pending":return"Pending";case"SignedInWithCookies":case"SignedInWithOkta":return!0;case"SignedOutWithCookies":case"SignedOutWithOkta":return!1}},l=()=>{const[e,t]=(0,n.useState)({kind:"Pending"});return(0,n.useEffect)((()=>{(0,i.kU)((e=>{t((0,i.dx)(e))}),(()=>t((0,i.Hn)()))).catch((e=>{console.error(e)}))}),[]),e}},2634:(e,t,o)=>{o.d(t,{e_:()=>s,uz:()=>c,z6:()=>a});var n=o(9786),i=o(85770),r=o(67400),l=o(6576);const a="data-discussion-id";let d;const s=(e,t)=>{const[o,s]=(0,r.useState)();(0,r.useEffect)((()=>{null!=d||(d=new Set([...document.querySelectorAll("[".concat(a,"]"))].map((e=>e.getAttribute(a))).filter(n.R))),d.add(t);const o="".concat(e,"/getCommentCounts?").concat(new URLSearchParams({"short-urls":[...d].sort().join(",")}).toString());s(o)}),[e,t]);const{data:c}=(0,l.g)(o),f=(0,i.G)(c)?c[t]:void 0;return"number"==typeof f?f:void 0},c=e=>{if(d)for(const t of e)d.add(t)}},35405:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.SignInScreenReason=void 0,function(e){e[e.accessDiscussion=0]="accessDiscussion",e[e.postComment=1]="postComment",e[e.recommendComment=2]="recommendComment",e[e.replyToComment=3]="replyToComment",e[e.reportComment=4]="reportComment"}(o||(t.SignInScreenReason=o={}))},7902:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.SignInScreenReferrer=void 0,function(e){e[e.accessDiscussion=0]="accessDiscussion",e[e.postComment=1]="postComment",e[e.recommendComment=2]="recommendComment",e[e.replyToComment=3]="replyToComment",e[e.reportComment=4]="reportComment"}(o||(t.SignInScreenReferrer=o={}))},88482:(e,t,o)=>{o.d(t,{w:()=>i});const n=/\b\/{2,}/g,i=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.join("/").replace(n,"/")}},92280:(e,t,o)=>{o.d(t,{f:()=>n});const n={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},99923:(e,t,o)=>{o.d(t,{HT:()=>a,TG:()=>d,Tq:()=>s});var n=o(92280);const i=e=>"@media (min-width: ".concat("".concat(e,"px"),")"),r=e=>"@media (max-width: ".concat("".concat(e-.1,"px"),")"),l=(e,t)=>"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ").concat("".concat(t-.1,"px"),")"),a={mobile:i(n.f.mobile),mobileMedium:i(n.f.mobileMedium),mobileLandscape:i(n.f.mobileLandscape),phablet:i(n.f.phablet),tablet:i(n.f.tablet),desktop:i(n.f.desktop),leftCol:i(n.f.leftCol),wide:i(n.f.wide)},d={mobile:r(n.f.mobile),mobileMedium:r(n.f.mobileMedium),mobileLandscape:r(n.f.mobileLandscape),phablet:r(n.f.phablet),tablet:r(n.f.tablet),desktop:r(n.f.desktop),leftCol:r(n.f.leftCol),wide:r(n.f.wide)},s={mobile:{and:{mobileMedium:l(n.f.mobile,n.f.mobileMedium),mobileLandscape:l(n.f.mobile,n.f.mobileLandscape),phablet:l(n.f.mobile,n.f.phablet),tablet:l(n.f.mobile,n.f.tablet),desktop:l(n.f.mobile,n.f.desktop),leftCol:l(n.f.mobile,n.f.leftCol),wide:l(n.f.mobileMedium,n.f.wide)}},mobileMedium:{and:{mobileLandscape:l(n.f.mobileMedium,n.f.mobileLandscape),phablet:l(n.f.mobileMedium,n.f.phablet),tablet:l(n.f.mobileMedium,n.f.tablet),desktop:l(n.f.mobileMedium,n.f.desktop),leftCol:l(n.f.mobileMedium,n.f.leftCol),wide:l(n.f.mobileMedium,n.f.wide)}},mobileLandscape:{and:{phablet:l(n.f.mobileLandscape,n.f.phablet),tablet:l(n.f.mobileLandscape,n.f.tablet),desktop:l(n.f.mobileLandscape,n.f.desktop),leftCol:l(n.f.mobileLandscape,n.f.leftCol),wide:l(n.f.mobileLandscape,n.f.wide)}},phablet:{and:{tablet:l(n.f.phablet,n.f.tablet),desktop:l(n.f.phablet,n.f.desktop),leftCol:l(n.f.phablet,n.f.leftCol),wide:l(n.f.phablet,n.f.wide)}},tablet:{and:{desktop:l(n.f.tablet,n.f.desktop),leftCol:l(n.f.tablet,n.f.leftCol),wide:l(n.f.tablet,n.f.wide)}},desktop:{and:{leftCol:l(n.f.desktop,n.f.leftCol),wide:l(n.f.desktop,n.f.wide)}},leftCol:{and:{wide:l(n.f.leftCol,n.f.wide)}}}},68163:(e,t,o)=>{o.d(t,{z:()=>a});var n=o(50484),i=o(43438),r=o(3645);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const a=e=>{var t,o,{priority:a,size:d,iconSide:s,icon:c,nudgeIcon:f,hideLabel:m,cssOverrides:b,children:p,theme:u}=e,h=function(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(e,["priority","size","iconSide","icon","nudgeIcon","hideLabel","cssOverrides","children","theme"]);return(0,n.jsx)("a",(t=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){l(e,t,o[t])}))}return e}({css:(0,r.V)({size:d,priority:a,icon:c,hideLabel:m,iconSide:s,nudgeIcon:f,cssOverrides:b,theme:u})},h),o=null!=(o={children:(0,i.b)({hideLabel:m,iconSvg:c,children:p})})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o.push.apply(o,n)}return o}(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})),t))}}}]);
//# sourceMappingURL=DiscussionMeta-importable.client.web.80d524aab3023a24cdda.js.map