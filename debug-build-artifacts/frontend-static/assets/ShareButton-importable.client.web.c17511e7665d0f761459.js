"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[970],{85598:(e,t,n)=>{n.r(t),n.d(t,{CopyNativeShareButton:()=>D,EmailLink:()=>C,ShareButton:()=>z});var r=n(50484),i=n(24017),o=n(77907),a=n(99923),c=n(92280),l=n(27123),s=n(31490),d=n(15e3),u=n(68163),f=n(67400),b=n(16632),p=n(27559),h=n(54465),m=n(53694);function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function v(){const e=g(["\n\ttransition: none;\n\tborder-color: ",";\n\theight: ",";\n"]);return v=function(){return e},e}function w(){const e=g(["\n\tcolor: ",";\n\twidth: ",";\n\tpadding: ",";\n\t:hover {\n\t\tbackground-color: inherit;\n\t}\n\tsvg {\n\t\tfill: ",";\n\t}\n"]);return w=function(){return e},e}function y(){const e=g(["\n\tcolor: ",";\n\twidth: ",";\n\tpadding: ",";\n\tsvg {\n\t\tfill: ",";\n\t\ttransition: inherit;\n\t}\n\t:hover {\n\t\tbackground-color: ",";\n\t\tborder-color: ",";\n\t\tcolor: ",";\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"]);return y=function(){return e},e}function O(){const e=g(["\n\t:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t\tborder-color: ",";\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"]);return O=function(){return e},e}function j(){const e=g(["\n\t"," {\n\t\tcolor: ",";\n\t\tborder-color: ",";\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t}\n\t\t","\n\t}\n"]);return j=function(){return e},e}const S=e=>(0,i.css)(v(),e?(0,m.M)("--share-button-xsmall-border"):(0,m.M)("--share-button-border"),e?"24px":"36px"),L=e=>(0,i.css)(w(),(0,m.M)("--share-button-copied"),e?"101px":"132px",e?"0 4px":"0 10px",o.M.success[400]),x=e=>(0,i.css)(y(),(0,m.M)("--share-button"),e?"79px":"105px",e&&"0 10px",(0,m.M)("--share-button"),(0,m.M)("--share-button"),(0,m.M)("--share-button"),(0,m.M)("--share-button-hover"),(0,m.M)("--share-button-hover")),M=(0,i.css)(O(),(0,m.M)("--share-button-liveblog-mobile-meta"),o.M.neutral[100],o.M.neutral[100],(0,m.M)("--share-button-liveblog-mobile-meta")),P=e=>(0,i.css)(j(),a.TG.desktop,o.M.neutral[100],(0,p.V)(o.M.neutral[100],.4),e?o.M.success[500]:o.M.neutral[100],!e&&M),k=e=>{let{pageId:t,blockId:n}=e;const r=new URLSearchParams({});r.append("CMP","share_btn_url"),n&&r.append("page","with:block-".concat(n));const i=n?"#block-".concat(n):"",o=r.toString();return new URL("".concat(t).concat(o?"?"+o:"").concat(i),"https://www.theguardian.com/").href},D=e=>{let{onShare:t,size:n,isLiveBlogMeta:o,isCopied:a}=e;const c="xsmall"===n;return(0,r.jsx)(l.$,{onClick:t,size:n,type:"button",priority:"tertiary",iconSide:"left",icon:a?(0,r.jsx)(s.Q,{}):(0,r.jsx)(d.Y,{}),cssOverrides:(0,i.css)([...a?[L(c)]:[x(c)],S(c),o&&P(a)]),children:a?"Link copied":"Share"})},C=e=>{let{href:t,size:n,isLiveBlogMeta:o}=e;const a="xsmall"===n;return(0,r.jsx)(u.z,{href:t,size:n,type:"button",priority:"tertiary",iconSide:"left",icon:(0,r.jsx)(d.Y,{}),cssOverrides:(0,i.css)([x(a),S(a),o&&P(!1)]),children:"Share"})},z=e=>{let{size:t="small",pageId:n,blockId:i,webTitle:o,format:a,context:l}=e;const[s,d]=(0,f.useState)(!1),[u,p]=(0,f.useState)("email"),m=a.design===b.vw.LiveBlog&&"ArticleMeta"===l,g=(0,h.N)("(min-width: ".concat(c.f.desktop,"px)"))&&"LiveBlock"===l,v=(0,f.useMemo)((()=>({title:o,text:o,url:k({pageId:n,blockId:i})})),[o,n,i]);switch((0,f.useEffect)((()=>{!g&&"share"in navigator&&navigator.canShare(v)?p("native"):"clipboard"in navigator?p("copy"):p("email")}),[v,g]),(0,f.useEffect)((()=>{if(!s)return;const e=setTimeout((()=>{d(!1)}),3e3);return()=>clearTimeout(e)}),[s]),u){case"native":return(0,r.jsx)(D,{onShare:()=>{navigator.share(v).catch(console.error)},size:t,isLiveBlogMeta:m,isCopied:s});case"copy":return(0,r.jsx)(D,{onShare:()=>{navigator.clipboard.writeText(k({pageId:n,blockId:i})).then((()=>{d(!0)})).catch(console.error)},size:t,isLiveBlogMeta:m,isCopied:s});case"email":return(0,r.jsx)(C,{href:"mailto:?subject=".concat(o,"&body=").concat(k({pageId:n,blockId:i})),size:t,isLiveBlogMeta:m})}}},16632:(e,t,n)=>{n.d(t,{A$:()=>a,B0:()=>o,M2:()=>d,Ns:()=>i,vw:()=>r});var r=function(e){return e[e.Standard=0]="Standard",e[e.Picture=1]="Picture",e[e.Gallery=2]="Gallery",e[e.Audio=3]="Audio",e[e.Video=4]="Video",e[e.Review=5]="Review",e[e.Analysis=6]="Analysis",e[e.Explainer=7]="Explainer",e[e.Comment=8]="Comment",e[e.Letter=9]="Letter",e[e.Feature=10]="Feature",e[e.LiveBlog=11]="LiveBlog",e[e.DeadBlog=12]="DeadBlog",e[e.Recipe=13]="Recipe",e[e.MatchReport=14]="MatchReport",e[e.Interview=15]="Interview",e[e.Editorial=16]="Editorial",e[e.Quiz=17]="Quiz",e[e.Interactive=18]="Interactive",e[e.PhotoEssay=19]="PhotoEssay",e[e.Obituary=20]="Obituary",e[e.Correction=21]="Correction",e[e.FullPageInteractive=22]="FullPageInteractive",e[e.NewsletterSignup=23]="NewsletterSignup",e[e.Timeline=24]="Timeline",e[e.Profile=25]="Profile",e}({}),i=function(e){return e[e.Standard=0]="Standard",e[e.Immersive=1]="Immersive",e[e.Showcase=2]="Showcase",e[e.NumberedList=3]="NumberedList",e}({}),o=function(e){return e[e.News=0]="News",e[e.Opinion=1]="Opinion",e[e.Sport=2]="Sport",e[e.Culture=3]="Culture",e[e.Lifestyle=4]="Lifestyle",e}({}),a=function(e){return e[e.SpecialReport=5]="SpecialReport",e[e.Labs=6]="Labs",e[e.SpecialReportAlt=7]="SpecialReportAlt",e}({});const c=e=>{let{design:t}=e;switch(t){case"ArticleDesign":default:return 0;case"PictureDesign":return 1;case"GalleryDesign":return 2;case"AudioDesign":return 3;case"VideoDesign":return 4;case"ReviewDesign":return 5;case"AnalysisDesign":return 6;case"CommentDesign":return 8;case"LetterDesign":return 9;case"FeatureDesign":return 10;case"LiveBlogDesign":return 11;case"DeadBlogDesign":return 12;case"RecipeDesign":return 13;case"MatchReportDesign":return 14;case"InterviewDesign":return 15;case"EditorialDesign":return 16;case"QuizDesign":return 17;case"InteractiveDesign":return 18;case"PhotoEssayDesign":return 19;case"ObituaryDesign":return 20;case"FullPageInteractiveDesign":return 22;case"NewsletterSignupDesign":return 23;case"ExplainerDesign":return 7;case"TimelineDesign":return 24;case"ProfileDesign":return 25}},l=e=>{let{display:t,design:n}=e;switch(t){case"StandardDisplay":default:return 0;case"ImmersiveDisplay":return"CommentDesign"===n?0:1;case"ShowcaseDisplay":return 2;case"NumberedListDisplay":return 3}},s=e=>{let{theme:t}=e;switch(t){case"NewsPillar":default:return 0;case"OpinionPillar":return 1;case"SportPillar":return 2;case"CulturePillar":return 3;case"LifestylePillar":return 4;case"SpecialReportTheme":return 5;case"SpecialReportAltTheme":return 7;case"Labs":return 6}},d=e=>({design:c(e),display:l(e),theme:s(e)})},27559:(e,t,n)=>{n.d(t,{V:()=>o});const r=e=>{switch(e.length){case 2:return parseInt(e,16);case 1:return parseInt(e+e,16);default:return 127}},i="rgba(127, 127, 127, 0.5)",o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!e.startsWith("#")||![4,7].includes(e.length))return i;const n=7===e.length?2:1,o=r(e.slice(1,1+n)),a=r(e.slice(1+n,1+2*n)),c=r(e.slice(1+2*n,1+3*n));return[o,a,c].some(Number.isNaN)?i:"rgba(".concat(o,", ").concat(a,", ").concat(c,", ").concat(t,")")}},54465:(e,t,n)=>{n.d(t,{$:()=>o,N:()=>a});var r=n(67400);const i=new Map,o=e=>e.replace("@media","").trim(),a=e=>{const[t,n]=(0,r.useState)(i.get(e));return(0,r.useEffect)((()=>{t||(i.set(e,window.matchMedia(e)),n(i.get(e)))}),[t,e]),(0,r.useSyncExternalStore)((e=>(null==t||t.addEventListener("change",e),()=>{null==t||t.removeEventListener("change",e)})),(()=>!!(null==t?void 0:t.matches)),(()=>!1))}},53694:(e,t,n)=>{n.d(t,{M:()=>r});const r=e=>"var(".concat(e,")")},92280:(e,t,n)=>{n.d(t,{f:()=>r});const r={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},99923:(e,t,n)=>{n.d(t,{HT:()=>c,TG:()=>l,Tq:()=>s});var r=n(92280);const i=e=>"@media (min-width: ".concat("".concat(e,"px"),")"),o=e=>"@media (max-width: ".concat("".concat(e-.1,"px"),")"),a=(e,t)=>"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ").concat("".concat(t-.1,"px"),")"),c={mobile:i(r.f.mobile),mobileMedium:i(r.f.mobileMedium),mobileLandscape:i(r.f.mobileLandscape),phablet:i(r.f.phablet),tablet:i(r.f.tablet),desktop:i(r.f.desktop),leftCol:i(r.f.leftCol),wide:i(r.f.wide)},l={mobile:o(r.f.mobile),mobileMedium:o(r.f.mobileMedium),mobileLandscape:o(r.f.mobileLandscape),phablet:o(r.f.phablet),tablet:o(r.f.tablet),desktop:o(r.f.desktop),leftCol:o(r.f.leftCol),wide:o(r.f.wide)},s={mobile:{and:{mobileMedium:a(r.f.mobile,r.f.mobileMedium),mobileLandscape:a(r.f.mobile,r.f.mobileLandscape),phablet:a(r.f.mobile,r.f.phablet),tablet:a(r.f.mobile,r.f.tablet),desktop:a(r.f.mobile,r.f.desktop),leftCol:a(r.f.mobile,r.f.leftCol),wide:a(r.f.mobileMedium,r.f.wide)}},mobileMedium:{and:{mobileLandscape:a(r.f.mobileMedium,r.f.mobileLandscape),phablet:a(r.f.mobileMedium,r.f.phablet),tablet:a(r.f.mobileMedium,r.f.tablet),desktop:a(r.f.mobileMedium,r.f.desktop),leftCol:a(r.f.mobileMedium,r.f.leftCol),wide:a(r.f.mobileMedium,r.f.wide)}},mobileLandscape:{and:{phablet:a(r.f.mobileLandscape,r.f.phablet),tablet:a(r.f.mobileLandscape,r.f.tablet),desktop:a(r.f.mobileLandscape,r.f.desktop),leftCol:a(r.f.mobileLandscape,r.f.leftCol),wide:a(r.f.mobileLandscape,r.f.wide)}},phablet:{and:{tablet:a(r.f.phablet,r.f.tablet),desktop:a(r.f.phablet,r.f.desktop),leftCol:a(r.f.phablet,r.f.leftCol),wide:a(r.f.phablet,r.f.wide)}},tablet:{and:{desktop:a(r.f.tablet,r.f.desktop),leftCol:a(r.f.tablet,r.f.leftCol),wide:a(r.f.tablet,r.f.wide)}},desktop:{and:{leftCol:a(r.f.desktop,r.f.leftCol),wide:a(r.f.desktop,r.f.wide)}},leftCol:{and:{wide:a(r.f.leftCol,r.f.wide)}}}},31490:(e,t,n)=>{n.d(t,{Q:()=>s});var r=n(50484),i=n(24017),o=n(70991),a=n(78055);function c(){const e=(t=["\n\t\t\t\t\t","\n\t\t\t\t"],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));var t,n;return c=function(){return e},e}const l=e=>{let{size:t,theme:n}=e;return(0,r.jsx)("svg",{width:t?a.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.011 11.884 2 12.894l5.057 7.08h.48L22 5.006l-1.011-.986L7.537 16.207z",fill:null==n?void 0:n.fill})})},s=e=>{let{size:t,theme:n,isAnnouncedByScreenReader:a=!1}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{size:t,theme:n}),a?(0,r.jsx)("span",{css:(0,i.css)(c(),o.Q),children:"Checkmark"}):""]})}},15e3:(e,t,n)=>{n.d(t,{Y:()=>s});var r=n(50484),i=n(24017),o=n(70991),a=n(78055);function c(){const e=(t=["\n\t\t\t\t\t","\n\t\t\t\t"],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));var t,n;return c=function(){return e},e}const l=e=>{let{size:t,theme:n}=e;return(0,r.jsx)("svg",{width:t?a.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 16c1.675 0 3 1.35 3 3 0 1.675-1.325 3-3 3a2.97 2.97 0 0 1-2.975-3c0-.125 0-.275.025-.375L7.1 14.15a2.9 2.9 0 0 1-2.075.825C3.325 14.975 2 13.65 2 12a3.004 3.004 0 0 1 3.025-3.025c.775 0 1.5.35 2.075.875l8.95-4.475c-.025-.1-.025-.225-.025-.4A2.966 2.966 0 0 1 19 2c1.675 0 3 1.325 3 2.975C22 6.65 20.675 8 19 8c-.8 0-1.475-.325-2.05-.825l-8.975 4.45C8 11.7 8 11.825 8 12s0 .3-.025.375l8.975 4.45c.575-.5 1.25-.825 2.05-.825m0-12.8c-.975 0-1.8.775-1.8 1.775S18.025 6.8 19 6.8c1 0 1.825-.825 1.825-1.825S20 3.2 19 3.2m0 17.6c1 0 1.825-.825 1.825-1.8 0-1-.825-1.8-1.825-1.8-.975 0-1.8.8-1.8 1.8 0 .975.825 1.8 1.8 1.8",fill:null==n?void 0:n.fill})})},s=e=>{let{size:t,theme:n,isAnnouncedByScreenReader:a=!1}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{size:t,theme:n}),a?(0,r.jsx)("span",{css:(0,i.css)(c(),o.Q),children:"Share"}):""]})}},27123:(e,t,n)=>{n.d(t,{$:()=>c});var r=n(50484),i=n(43438),o=n(3645);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=e=>{var t,n,{priority:c,size:l,icon:s,iconSide:d,hideLabel:u,nudgeIcon:f,type:b="button",isLoading:p=!1,loadingAnnouncement:h="Loading",cssOverrides:m,children:g,theme:v}=e,w=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["priority","size","icon","iconSide","hideLabel","nudgeIcon","type","isLoading","loadingAnnouncement","cssOverrides","children","theme"]);return(0,r.jsx)("button",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({css:(0,o.V)({size:l,priority:c,icon:s,hideLabel:u,iconSide:d,nudgeIcon:f,cssOverrides:m,isLoading:p,theme:v}),type:b,"aria-live":"polite","aria-label":p?h:void 0},w),n=null!=(n={children:(0,i.b)({hideLabel:u,iconSvg:s,isLoading:p,children:g})})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))}},68163:(e,t,n)=>{n.d(t,{z:()=>c});var r=n(50484),i=n(43438),o=n(3645);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=e=>{var t,n,{priority:c,size:l,iconSide:s,icon:d,nudgeIcon:u,hideLabel:f,cssOverrides:b,children:p,theme:h}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["priority","size","iconSide","icon","nudgeIcon","hideLabel","cssOverrides","children","theme"]);return(0,r.jsx)("a",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({css:(0,o.V)({size:l,priority:c,icon:d,hideLabel:f,iconSide:s,nudgeIcon:u,cssOverrides:b,theme:h})},m),n=null!=(n={children:(0,i.b)({hideLabel:f,iconSvg:d,children:p})})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))}}}]);
//# sourceMappingURL=ShareButton-importable.client.web.c17511e7665d0f761459.js.map