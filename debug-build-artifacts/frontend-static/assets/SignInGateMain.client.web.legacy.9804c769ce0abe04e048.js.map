{"version":3,"file":"SignInGateMain.client.web.legacy.9804c769ce0abe04e048.js","mappings":"szBAGA,IAAMA,EAA4B,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOC,EAAgBC,GAAe,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACnEC,EAAAA,EAAS,CAADH,EAAAE,KAAA,eAAAF,EAAAI,OAAA,wBAAAJ,EAAAE,KAAA,GAEQG,EAAAA,EAAAA,IAASN,GAAiB,KAAD,EAAlCC,EAAAM,KACLC,OAAO,CAAET,eAAAA,IAAkB,wBAAAE,EAAAQ,OAAA,GAAAX,EAAA,KACpC,gBALiCY,EAAAC,GAAA,OAAAhB,EAAAiB,MAAA,KAAAC,UAAA,KAMrBC,EAA0B,SAACf,EAAgBC,GAAyBN,EAA4BqB,EAAAA,EAAC,CAAC,EACxGhB,GAAc,IACjBiB,OAAQ,SACThB,EAAiB,EAKPiB,EAAkB,SAACC,GAAE,MAAM,CACpCC,cAAe,eACfD,GAAAA,EACH,EACYE,EAAY,SAACC,EAAaC,EAAOtB,EAAiBuB,IAR9B,SAACxB,EAAgBC,GAAyBN,EAA4BqB,EAAAA,EAAC,CAAC,EAClGhB,GAAc,IACjBiB,OAAQ,UACThB,EAAiB,CAOhBwB,CAAyB,CACrBC,UAFcR,EAAgBI,GAG9BE,OAAAA,EACAD,MAAAA,GACDtB,EACP,C,iJCtBa0B,EAAiB,SAAH/B,GAAwG,IAAlGgC,EAAShC,EAATgC,UAAWC,EAAWjC,EAAXiC,YAAaC,EAAKlC,EAALkC,MAAOC,EAAWnC,EAAXmC,YAAaP,EAAM5B,EAAN4B,OAAQQ,EAAgBpC,EAAhBoC,iBAAgBC,EAAArC,EAAEsC,YAAAA,OAAW,IAAAD,GAAQA,EAC9GhC,GAAoBkC,EAAAA,EAAAA,KAApBlC,gBACR,OAAQmC,EAAAA,EAAAA,MAAM,MAAO,CAAEC,IAAKC,EAAAA,GAAqB,cAAe,oBAAqBC,SAAU,EAACC,EAAAA,EAAAA,KAAK,QAAS,CAAED,SAAUE,EAAAA,MAAoBD,EAAAA,EAAAA,KAAK,MAAO,CAAEH,IAAKK,EAAAA,MAA0BF,EAAAA,EAAAA,KAAK,KAAM,CAAEH,IAAKM,EAAAA,GAAeJ,SAAU,mCAAyCC,EAAAA,EAAAA,KAAK,IAAK,CAAEH,IAAKO,EAAAA,GAAUL,SAAU,qDAAgEH,EAAAA,EAAAA,MAAM,IAAK,CAAEC,IAAKQ,EAAAA,GAAUN,SAAU,CAAC,iRAAiS,KAAKC,EAAAA,EAAAA,KAAK,SAAU,CAAE,cAAe,4BAA6BH,IAAKS,EAAAA,GAAaC,QAAS,WACjwBC,EAAAA,GAAIC,sBACJ5B,EAAAA,EAAAA,IAAUW,EAAkB,UAAW/B,EAAiBuB,EAC5D,EAAGe,SAAU,qBAAuB,QAASH,EAAAA,EAAAA,MAAM,MAAO,CAAEC,IAAKa,EAAAA,GAAeX,SAAU,EAACC,EAAAA,EAAAA,KAAKW,EAAAA,EAAY,CAAE,cAAe,6BAA8B,cAAe,sBAAuBC,aAAcC,EAAAA,EAAgBC,SAAU,UAAWC,KAAM,QAASC,KAAM3B,EAAakB,QAAS,YAC3R1B,EAAAA,EAAAA,IAAUW,EAAkB,gBAAiB/B,EAAiBuB,EAClE,EAAGe,SAAU,uBAAyBL,IAAgBM,EAAAA,EAAAA,KAAKiB,EAAAA,EAAQ,CAAE,cAAe,4BAA6B,cAAe,sBAAuBL,aAAcM,EAAAA,GAAaJ,SAAU,UAAWC,KAAM,QAASR,QAAS,WAC3NhB,KACAV,EAAAA,EAAAA,IAAUW,EAAkB,UAAW/B,EAAiBuB,EAC5D,EAAGe,SAAU,yBAAiCC,EAAAA,EAAAA,KAAK,IAAK,CAAEH,IAAK,CAACsB,EAAAA,GAAef,EAAAA,GAAUgB,EAAAA,IAAerB,SAAU,mEAAoEC,EAAAA,EAAAA,KAAKqB,EAAAA,EAAM,CAAE,cAAe,2BAA4B,cAAe,sBAAuBT,aAAcU,EAAAA,GAAYN,KAAM5B,EAAWmB,QAAS,YAC5U1B,EAAAA,EAAAA,IAAUW,EAAkB,eAAgB/B,EAAiBuB,EACjE,EAAGe,SAAU,aAAcH,EAAAA,EAAAA,MAAM,MAAO,CAAEC,IAAK0B,EAAAA,GAAKxB,SAAU,EAACC,EAAAA,EAAAA,KAAKqB,EAAAA,EAAM,CAAE,cAAe,sBAAuBL,KAAK,GAADQ,OAAKlC,EAAK,sDAAsDiB,QAAS,YACnL1B,EAAAA,EAAAA,IAAUW,EAAkB,WAAY/B,EAAiBuB,EAC7D,EAAGe,SAAU,sCAAuCC,EAAAA,EAAAA,KAAKqB,EAAAA,EAAM,CAAE,cAAe,sBAAuBL,KAAK,GAADQ,OAAKlC,EAAK,2DAA2DiB,QAAS,YACrL1B,EAAAA,EAAAA,IAAUW,EAAkB,WAAY/B,EAAiBuB,EAC7D,EAAGe,SAAU,6CAA8CC,EAAAA,EAAAA,KAAKqB,EAAAA,EAAM,CAAE,cAAe,sBAAuBL,KAAK,GAADQ,OAAKlC,EAAK,sBAAsBiB,QAAS,YACvJ1B,EAAAA,EAAAA,IAAUW,EAAkB,YAAa/B,EAAiBuB,EAC9D,EAAGe,SAAU,iDACrC,C,6NCvBaD,GAAsBD,EAAAA,EAAAA,KAAG,mBAGnC4B,EAAAA,GAAKC,QAAO,uBAIFvB,GAAgBN,EAAAA,EAAAA,KAC1B8B,EAAAA,IAAc,8CAEEC,EAAAA,EAAM,IAAG,MAEzBH,EAAAA,GAAKI,QAAO,wBAEXC,EAAAA,IAAc,MAGLX,GAAgBtB,EAAAA,EAAAA,KAAG,kBACbkC,EAAAA,GAAKC,QAAO,WAElB5B,GAAWP,EAAAA,EAAAA,KACrBoC,EAAAA,IAAc,wBAEdR,EAAAA,GAAKI,QAAO,0BAIFxB,GAAWR,EAAAA,EAAAA,KACrBqC,EAAAA,IAAU,mBACMN,EAAAA,EAAM,GAAE,MAExBH,EAAAA,GAAKI,QAAO,0BAIFT,EAAY,CAAAe,KAAA,UAAAC,OAAA,oBAGZ1B,GAAgBb,EAAAA,EAAAA,KAAG,iGAQd+B,EAAAA,EAAM,GAAE,+CAEtBH,EAAAA,GAAKY,aAAY,iBAEFT,EAAAA,EAAM,GAAE,mBAOdf,GAAiBhB,EAAAA,EAAAA,KAAG,SAEvByC,EAAAA,GAAKC,WAAU,eAEZrB,GAAcrB,EAAAA,EAAAA,KAAG,SAEpB2C,EAAAA,EAAQC,MAAM,KAAI,eAEfnB,GAAazB,EAAAA,EAAAA,KAAG,SAEnByC,EAAAA,GAAKI,cAAa,oCAEFX,EAAAA,GAAKC,QAAO,6CAGzBT,GAAM1B,EAAAA,EAAAA,KAAG,eACN+B,EAAAA,EAAM,GAAE,qCAETA,EAAAA,EAAM,GAAE,gBAGZU,EAAAA,GAAKI,cAAa,gCAEVd,EAAAA,EAAM,GAAE,4BACAG,EAAAA,GAAKC,QAAO,mDAK5BM,EAAAA,GAAKI,cAAa,MAGhBpC,GAAcT,EAAAA,EAAAA,KAAG,SACpByC,EAAAA,GAAKI,cAAa,oDAEFX,EAAAA,GAAKC,QAAO,kIAUzB9B,EAAqB,CAAAiC,KAAA,SAAAC,OAAA,+DAUrBnC,EAAkB,CAC3B,yEAIA,2GAIA,qaAWA,wGAOF0C,KAAK,K","sources":["webpack://@guardian/dotcom-rendering/./src/components/SignInGate/componentEventTracking.tsx","webpack://@guardian/dotcom-rendering/./src/components/SignInGate/gateDesigns/SignInGateMain.tsx","webpack://@guardian/dotcom-rendering/./src/components/SignInGate/gateDesigns/shared.tsx"],"sourcesContent":["import { getOphan } from '../../client/ophan/ophan';\nimport { isServer } from '../../lib/isServer';\n// ophan helper methods\nconst submitComponentEventTracking = async (componentEvent, renderingTarget) => {\n    if (isServer)\n        return;\n    const ophan = await getOphan(renderingTarget);\n    ophan.record({ componentEvent });\n};\nexport const submitViewEventTracking = (componentEvent, renderingTarget) => void submitComponentEventTracking({\n    ...componentEvent,\n    action: 'VIEW',\n}, renderingTarget);\nconst submitClickEventTracking = (componentEvent, renderingTarget) => void submitComponentEventTracking({\n    ...componentEvent,\n    action: 'CLICK',\n}, renderingTarget);\nexport const withComponentId = (id) => ({\n    componentType: 'SIGN_IN_GATE',\n    id,\n});\nexport const trackLink = (componentId, value, renderingTarget, abTest) => {\n    const component = withComponentId(componentId);\n    submitClickEventTracking({\n        component,\n        abTest,\n        value,\n    }, renderingTarget);\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { cmp } from '@guardian/libs';\nimport { Button, Link, LinkButton } from '@guardian/source/react-components';\nimport { useConfig } from '../../ConfigContext';\nimport { trackLink } from '../componentEventTracking';\nimport { actionButtons, bodyBold, bodySeparator, bodyText, faq, firstParagraphOverlay, headingStyles, hideElementsCss, laterButton, privacyLink, registerButton, signInGateContainer, signInHeader, signInLink, } from './shared';\nexport const SignInGateMain = ({ signInUrl, registerUrl, guUrl, dismissGate, abTest, ophanComponentId, isMandatory = false, }) => {\n    const { renderingTarget } = useConfig();\n    return (_jsxs(\"div\", { css: signInGateContainer, \"data-testid\": \"sign-in-gate-main\", children: [_jsx(\"style\", { children: hideElementsCss }), _jsx(\"div\", { css: firstParagraphOverlay }), _jsx(\"h1\", { css: headingStyles, children: \"Register: it\\u2019s quick and easy\" }), _jsx(\"p\", { css: bodyBold, children: \"It\\u2019s still free to read \\u2013 this is not a paywall\" }), _jsxs(\"p\", { css: bodyText, children: [\"We\\u2019re committed to keeping our quality reporting open. By registering and providing us with insight into your preferences, you\\u2019re helping us to engage with you more deeply, and that allows us to keep our journalism free for all. You\\u2019ll always be able to control your own\", ' ', _jsx(\"button\", { \"data-testid\": \"sign-in-gate-main_privacy\", css: privacyLink, onClick: () => {\n                            cmp.showPrivacyManager();\n                            trackLink(ophanComponentId, 'privacy', renderingTarget, abTest);\n                        }, children: \"privacy settings\" }), \".\"] }), _jsxs(\"div\", { css: actionButtons, children: [_jsx(LinkButton, { \"data-testid\": \"sign-in-gate-main_register\", \"data-ignore\": \"global-link-styling\", cssOverrides: registerButton, priority: \"primary\", size: \"small\", href: registerUrl, onClick: () => {\n                            trackLink(ophanComponentId, 'register-link', renderingTarget, abTest);\n                        }, children: \"Register for free\" }), !isMandatory && (_jsx(Button, { \"data-testid\": \"sign-in-gate-main_dismiss\", \"data-ignore\": \"global-link-styling\", cssOverrides: laterButton, priority: \"subdued\", size: \"small\", onClick: () => {\n                            dismissGate();\n                            trackLink(ophanComponentId, 'not-now', renderingTarget, abTest);\n                        }, children: \"I\\u2019ll do it later\" }))] }), _jsx(\"p\", { css: [bodySeparator, bodyBold, signInHeader], children: \"Have a subscription? Made a contribution? Already registered?\" }), _jsx(Link, { \"data-testid\": \"sign-in-gate-main_signin\", \"data-ignore\": \"global-link-styling\", cssOverrides: signInLink, href: signInUrl, onClick: () => {\n                    trackLink(ophanComponentId, 'sign-in-link', renderingTarget, abTest);\n                }, children: \"Sign In\" }), _jsxs(\"div\", { css: faq, children: [_jsx(Link, { \"data-ignore\": \"global-link-styling\", href: `${guUrl}/membership/2019/dec/20/signing-in-to-the-guardian`, onClick: () => {\n                            trackLink(ophanComponentId, 'how-link', renderingTarget, abTest);\n                        }, children: \"Why register & how does it help?\" }), _jsx(Link, { \"data-ignore\": \"global-link-styling\", href: `${guUrl}/info/2014/nov/03/why-your-data-matters-to-us-full-text`, onClick: () => {\n                            trackLink(ophanComponentId, 'why-link', renderingTarget, abTest);\n                        }, children: \"How will my information & data be used?\" }), _jsx(Link, { \"data-ignore\": \"global-link-styling\", href: `${guUrl}/help/identity-faq`, onClick: () => {\n                            trackLink(ophanComponentId, 'help-link', renderingTarget, abTest);\n                        }, children: \"Get help with registering or signing in\" })] })] }));\n};\n","import { css } from '@emotion/react';\nimport { from, headlineBold28, headlineBold34, line, palette, space, text, textSans17, textSansBold17, } from '@guardian/source/foundations';\nexport const signInGateContainer = css `\n\tmax-width: 617px;\n\n\t${from.desktop} {\n\t\tmin-height: 600px;\n\t}\n`;\nexport const headingStyles = css `\n\t${headlineBold28};\n\tborder-top: 2px black solid;\n\tpadding-bottom: ${space[12]}px;\n\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t\t${headlineBold34};\n\t}\n`;\nexport const bodySeparator = css `\n\tborder-top: 1px ${line.primary} solid;\n`;\nexport const bodyBold = css `\n\t${textSansBold17}\n\tpadding-bottom: 20px;\n\t${from.phablet} {\n\t\tpadding-right: 130px;\n\t}\n`;\nexport const bodyText = css `\n\t${textSans17}\n\tpadding-bottom: ${space[6]}px;\n\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t}\n`;\nexport const signInHeader = css `\n\tpadding-bottom: 0;\n`;\nexport const actionButtons = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\tmargin-bottom: 42px;\n\n\t> a {\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\tmargin-right: ${space[4]}px !important;\n\n\t\t${from.mobileMedium} {\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\tmargin-right: ${space[9]}px !important;\n\t\t}\n\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\ttext-decoration: none !important;\n\t}\n`;\nexport const registerButton = css `\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${text.ctaPrimary} !important;\n`;\nexport const laterButton = css `\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${palette.brand[400]} !important;\n`;\nexport const signInLink = css `\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${text.anchorPrimary} !important;\n\t/* stylelint-disable-next-line declaration-no-important */\n\ttext-decoration-color: ${line.primary} !important;\n\ttext-underline-position: under;\n`;\nexport const faq = css `\n\tpadding-top: ${space[3]}px;\n\tpadding-bottom: 18px;\n\tmargin-top: ${space[5]}px;\n\n\t& a {\n\t\tcolor: ${text.anchorPrimary};\n\t\tdisplay: block;\n\t\tmargin-bottom: ${space[4]}px;\n\t\ttext-decoration-color: ${line.primary};\n\t\ttext-underline-position: under;\n\t}\n\n\t& a:hover {\n\t\tcolor: ${text.anchorPrimary};\n\t}\n`;\nexport const privacyLink = css `\n\tcolor: ${text.anchorPrimary};\n\ttext-decoration: underline;\n\ttext-decoration-color: ${line.primary};\n\ttext-underline-position: under;\n\tborder: 0;\n\tbackground: transparent;\n\t/* stylelint-disable-next-line property-disallowed-list */\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tpadding: 0;\n\tcursor: pointer;\n`;\nexport const firstParagraphOverlay = css `\n\tmargin-top: -250px;\n\twidth: 100%;\n\theight: 250px;\n\tposition: absolute;\n`;\n/**\n * This CSS hides everything in an article, except the first two paragraphs and\n * the sign-in gate. The order in which rules are laid out matters.\n */\nexport const hideElementsCss = [\n    // 1. hide all article content\n    `.article-body-commercial-selector > * {\n        display: none;\n    }`,\n    // 2. make the sign in gate and the first 2 paragraphs of the article visible\n    `#sign-in-gate, .article-body-commercial-selector p:nth-of-type(-n + 3) {\n        display: block;\n    }`,\n    // 3. mask the first and second with a gradient overlay\n    `.article-body-commercial-selector > p:nth-of-type(1) {\n        -webkit-mask-image: linear-gradient(black, rgba(0, 0, 0, 0.5));\n        mask-image: linear-gradient(black, rgba(0, 0, 0, 0.5));\n    }\n\t.article-body-commercial-selector > p:nth-of-type(2) {\n        -webkit-mask-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n        mask-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n    }\n\t`,\n    // 4. hide any siblings after the sign in gate in case a paragraph\n    // is still visible because of the CSS in 2\n    `#sign-in-gate ~ * {\n        display: none;\n    }`,\n    `#slot-body-end {\n        display: none;\n    }`,\n].join('\\n');\n"],"names":["submitComponentEventTracking","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","componentEvent","renderingTarget","_context","prev","next","isServer","abrupt","getOphan","sent","record","stop","_x","_x2","apply","arguments","submitViewEventTracking","_objectSpread","action","withComponentId","id","componentType","trackLink","componentId","value","abTest","submitClickEventTracking","component","SignInGateMain","signInUrl","registerUrl","guUrl","dismissGate","ophanComponentId","_ref$isMandatory","isMandatory","useConfig","_jsxs","css","signInGateContainer","children","_jsx","hideElementsCss","firstParagraphOverlay","headingStyles","bodyBold","bodyText","privacyLink","onClick","cmp","showPrivacyManager","actionButtons","LinkButton","cssOverrides","registerButton","priority","size","href","Button","laterButton","bodySeparator","signInHeader","Link","signInLink","faq","concat","from","desktop","headlineBold28","space","phablet","headlineBold34","line","primary","textSansBold17","textSans17","name","styles","mobileMedium","text","ctaPrimary","palette","brand","anchorPrimary","join"],"sourceRoot":""}