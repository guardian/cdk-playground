"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[829],{7888:(t,n,e)=>{e.r(n),e.d(n,{AudioAtomWrapper:()=>G});var r=e(50484),o=e(9092),i=e(67400),c=e(24017),s=e(7351),u=e(22900),d=e(53694);function a(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function l(){const t=a(["\n\twidth: 100%;\n\tborder-image: repeating-linear-gradient(\n\t\t\tto bottom,\n\t\t\t",",\n\t\t\t"," 1px,\n\t\t\ttransparent 1px,\n\t\t\ttransparent 4px\n\t\t)\n\t\t13;\n\tborder-top: 13px solid black;\n\tbackground-color: ",";\n\tposition: relative;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\tpadding-bottom: 1px;\n\tmargin: 16px 0 36px;\n"]);return l=function(){return t},t}function p(){const t=a(["\n\tcolor: ",";\n\t",";\n"]);return p=function(){return t},t}function h(){const t=a(["\n\t",";\n"]);return h=function(){return t},t}function f(){const t=a(["\n\tdisplay: flex;\n\toverflow: hidden;\n"]);return f=function(){return t},t}function x(){const t=a(["\n\theight: 0;\n\tvertical-align: baseline;\n\twidth: 300px;\n"]);return x=function(){return t},t}function g(){const t=a(["\n\tbox-sizing: content-box;\n\tpadding: 5px;\n\twidth: 50px;\n\theight: 50px;\n"]);return g=function(){return t},t}function v(){const t=a(["\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tcursor: pointer;\n\tbackground-color: transparent;\n\t:focus {\n\t\t","\n\t}\n\theight: 50px;\n"]);return v=function(){return t},t}function m(){const t=a(["\n\tfill: currentColor;\n\toverflow: hidden;\n\twidth: 50px;\n\theight: auto;\n"]);return m=function(){return t},t}function b(){const t=a(["\n\tfill: currentColor;\n\toverflow: hidden;\n\twidth: 50px;\n\theight: auto;\n"]);return b=function(){return t},t}function k(){const t=a(["\n\talign-items: center;\n\tdisplay: flex;\n\tflex: 1;\n"]);return k=function(){return t},t}function j(){const t=a(["\n\tmin-width: 75px;\n\tpadding-top: 6px;\n\tdisplay: block;\n"]);return j=function(){return t},t}function w(){const t=a(["\n\tflex: 1;\n\tdisplay: block;\n"]);return w=function(){return t},t}function y(){const t=a(["\n\twidth: 100%;\n\tappearance: none;\n\tbackground-image: linear-gradient(\n\t\tto right,\n\t\t"," 0%,\n\t\t"," 0%\n\t);\n\theight: 6px;\n\toutline: 0;\n\tcursor: pointer;\n\tmargin-left: 0;\n\tmargin-right: 0;\n\t:focus {\n\t\t","\n\t}\n\n\t/* Use the pillar to style the colour of the range thumb */\n\t&::-webkit-slider-thumb {\n\t\tbackground: ",";\n\t\t-webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tborder-radius: 50px;\n\t}\n\t&::-moz-range-thumb {\n\t\tbackground: ",";\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tborder: none;\n\t\tborder-radius: 50px;\n\t}\n\t&::-ms-thumb {\n\t\tbackground: ",";\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tborder: none;\n\t\tborder-radius: 50px;\n\t}\n"]);return y=function(){return t},t}function M(){const t=a(["\n\tmin-width: 65px;\n\tpadding-top: 6px;\n\tpadding-left: 10px;\n\tdisplay: block;\n"]);return M=function(){return t},t}function E(){const t=a(["\n\t","\n"]);return E=function(){return t},t}function S(){const t=a(["\n\t\t\t\t\tpadding-left: 5px;\n\t\t\t\t"]);return S=function(){return t},t}const C=(0,c.css)(l(),(0,d.M)("--audio-atom-border"),(0,d.M)("--audio-atom-border"),(0,d.M)("--audio-atom-background")),z=(0,c.css)(p(),(0,d.M)("--audio-atom-kicker"),s.ccz),_=(0,c.css)(h(),s.cYp),L=(0,c.css)(f()),U=(0,c.css)(x()),A=(0,c.css)(g()),T=(0,c.css)(v(),u.b),O=(0,c.css)(m()),R=(0,c.css)(b()),B=(0,c.css)(k()),P=(0,c.css)(j()),W=(0,c.css)(w()),Y=(0,c.css)(y(),(0,d.M)("--audio-atom-icons"),(0,d.M)("--audio-atom-progress-bar"),u.b,(0,d.M)("--audio-atom-icons"),(0,d.M)("--audio-atom-icons"),(0,d.M)("--audio-atom-icons")),F=(0,c.css)(M()),I=(0,c.css)(E(),s.PSs),N=t=>t.toFixed(0).padStart(2,"0"),V=t=>{const n=Math.floor(t%60),e=Math.floor(t%3600/60),r=Math.floor(t/3600);return"".concat(N(r),":").concat(N(e),":").concat(N(n))},X=()=>(0,r.jsx)("svg",{css:R,width:"30px",height:"30px",viewBox:"0 0 30 30",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("circle",{fill:(0,d.M)("--audio-atom-icons"),cx:"15",cy:"15",r:"15"}),(0,r.jsx)("path",{d:"M9.429 7.286h3.429v15.429h-3.43zm7.286 0h3.429v15.429h-3.43z",fill:(0,d.M)("--audio-atom-background")})]})}),$=()=>(0,r.jsx)("svg",{css:O,width:"30px",height:"30px",viewBox:"0 0 30 30",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("circle",{fill:(0,d.M)("--audio-atom-icons"),cx:"15",cy:"15",r:"15"}),(0,r.jsx)("path",{fill:(0,d.M)("--audio-atom-background"),d:"M10.113 8.571l-.47.366V20.01l.472.347 13.456-5.593v-.598z"})]})}),q=(t,n)=>n?t.replace("https://","https://flex.acast.com/"):t,D=t=>{let{id:n,trackUrl:e,kicker:o,title:s,shouldUseAcast:u,duration:d}=t;const a=(0,i.useRef)(null),[l,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(0),[x,g]=(0,i.useState)(0),[v,m]=(0,i.useState)(q(e,u));(0,i.useEffect)((()=>{var t;const n=a.current,e=()=>{var t,n;const e=null===(t=a.current)||void 0===t?void 0:t.currentTime,r=null===(n=a.current)||void 0===n?void 0:n.duration;g(null!=e&&null!=r?e/r*100:0),f(null!=e?e:0)};return null===(t=a.current)||void 0===t||t.addEventListener("timeupdate",e),()=>n?n.removeEventListener("timeupdate",e):void 0}),[a,f,u]);const[b,k]=(0,i.useState)(d);(0,i.useEffect)((()=>{var t;const n=a.current,e=()=>k(a.current?a.current.duration:d);return null===(t=a.current)||void 0===t||t.addEventListener("loadeddata",e),()=>null==n?void 0:n.removeEventListener("loadeddata",e)}),[a,k,d]);const j=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const t=t=>{39===t.keyCode&&document.activeElement===j.current&&a.current&&(a.current.currentTime+=15),37===t.keyCode&&document.activeElement===j.current&&a.current&&(a.current.currentTime-=15)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[a,j]),(0,i.useEffect)((()=>{m(q(e,u))}),[u,e]),(0,r.jsxs)("div",{css:C,"data-atom-id":n,"data-atom-type":"audio",children:[(0,r.jsxs)("div",{css:(0,c.css)(S()),children:[(0,r.jsx)("span",{css:z,children:o}),(0,r.jsx)("h4",{css:_,children:s})]}),(0,r.jsxs)("div",{css:L,children:[(0,r.jsx)("audio",{css:U,src:v,ref:a,preload:"none","data-component":"inarticle audio","data-duration":b,"data-media-id":null!=n?n:"_no_ids","data-title":_,children:(0,r.jsxs)("p",{children:["Sorry your browser does not support audio - but you can download here and listen $",v]})}),(0,r.jsx)("div",{css:A,children:(0,r.jsx)("button",{type:"button","data-testid":l?"pause-button":"play-button",onClick:()=>{return l?(p(!1),void(null===(t=a.current)||void 0===t||t.pause())):(()=>{var t;p(!0),null===(t=a.current)||void 0===t||t.play()})();var t},css:T,children:l?(0,r.jsx)(X,{}):(0,r.jsx)($,{})})}),(0,r.jsxs)("div",{css:B,children:[(0,r.jsx)("div",{css:P,children:(0,r.jsx)("span",{css:I,children:V(h)})}),(0,r.jsx)("div",{css:W,children:(0,r.jsx)("input",{css:Y,ref:j,type:"range",min:"0",max:"100",step:"1",value:x,onClick:t=>{if(a.current){const n=t.nativeEvent.offsetX/t.currentTarget.offsetWidth*100;a.current.currentTime=a.current.duration/100*n}},readOnly:!0})}),(0,r.jsx)("div",{css:F,children:(0,r.jsx)("span",{css:I,children:V(b)})})]})]})]})},G=t=>{let{id:n,trackUrl:e,kicker:c,title:s,duration:u,contentIsNotSensitive:d,aCastisEnabled:a,readerCanBeShownAds:l}=t;const[p,h]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{(0,o.Ym)((t=>{const n=(0,o.gS)("acast",t);a&&n&&l&&d&&h(!0)}))}),[d,a,l]),(0,r.jsx)(D,{id:n,trackUrl:e,kicker:c,title:s,duration:u,shouldUseAcast:p})}},53694:(t,n,e)=>{e.d(n,{M:()=>r});const r=t=>"var(".concat(t,")")}}]);
//# sourceMappingURL=AudioAtomWrapper-importable.client.web.c2de5ab1352e752cb955.js.map