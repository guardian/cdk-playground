{"version":3,"file":"Accessibility-importable.client.web.535d853c61d83732c1d4.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/lib/hideAge.ts","webpack://@guardian/dotcom-rendering/./src/types/territory.ts","webpack://@guardian/dotcom-rendering/./src/components/FrontPagination.tsx","webpack://@guardian/dotcom-rendering/./src/components/Badge.tsx","webpack://@guardian/dotcom-rendering/./src/components/FrontSectionTitle.tsx","webpack://@guardian/dotcom-rendering/./src/components/FrontSection.tsx","webpack://@guardian/dotcom-rendering/./src/components/Accessibility.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/AustralianTerritorySwitcher.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/assert-unreachable.ts"],"sourcesContent":["export const hideAge = [\n\t'Newsletters',\n\t'Showcase',\n\t'How to listen to Podcasts',\n\t'Get in touch',\n];\n","import { isOneOf } from '@guardian/libs';\n\ntype AmericanTerritories = 'US-East-Coast' | 'US-West-Coast';\n\ntype EuropeanTerritories = 'EU-27';\n\nconst australianTerritories = ['AU-VIC', 'AU-QLD', 'AU-NSW'] as const;\nexport const isAustralianTerritory = isOneOf(australianTerritories);\nexport type AustralianTerritory = (typeof australianTerritories)[number];\n\ntype NewZealandTerritories = 'NZ';\n\ntype UnknownTerritories = 'XX';\n\n/**\n * List of territories that can be targetted against.\n *\n * @see https://github.com/guardian/facia-scala-client/blob/52562dec5e8518b79ba1c8b95a0cbe9502b9e2e5/facia-json/src/main/scala/com/gu/facia/client/models/Config.scala#L123-L187\n */\nexport type Territory =\n\t| AmericanTerritories\n\t| EuropeanTerritories\n\t| AustralianTerritory\n\t| NewZealandTerritories\n\t| UnknownTerritories;\n","import { css } from '@emotion/react';\nimport {\n\tpalette,\n\tspace,\n\ttextSans14,\n\ttextSansBold12,\n} from '@guardian/source/foundations';\nimport {\n\tSvgChevronLeftSingle,\n\tSvgChevronRightSingle,\n} from '@guardian/source/react-components';\nimport { Fragment } from 'react';\nimport { formatCount } from '../lib/formatCount';\nimport { palette as schemedPalette } from '../palette';\n\ntype Props = {\n\tpageId: string;\n\tsectionName: string;\n\ttotalContent: number;\n\tcurrentPage: number;\n\tlastPage: number;\n};\n\nconst paginationWrapperCss = css`\n\tmargin-top: ${space[6]}px;\n\n\tpadding-top: ${space[6]}px;\n\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\n\tborder-top: 1.5px solid ${palette.neutral[86]};\n`;\n\nconst paginationLegendCss = css`\n\t${textSans14}\n`;\n\nconst paginationItemContainerCss = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 2px;\n`;\n\nconst paginationItemCss = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\n\tmin-width: 25px;\n\theight: 25px;\n\tpadding: 3px ${space[1]}px;\n\n\t${textSansBold12}\n\ttext-decoration: none;\n\n\tcolor: ${palette.neutral[46]};\n\tborder-radius: 12.5px;\n\n\tborder: 1px solid transparent;\n\n\t&:hover {\n\t\tborder: 1px solid ${palette.neutral[86]};\n\t}\n`;\n\nconst activePaginationItemCss = css`\n\tcolor: ${palette.neutral[100]};\n\tbackground-color: ${palette.neutral[46]};\n\n\t&:hover {\n\t\tborder: 1px solid transparent;\n\t}\n`;\n\nconst paginationDotsCss = css`\n\t${textSansBold12}\n\tcolor: ${palette.neutral[46]};\n\ttext-align: center;\n`;\n\nconst paginationArrowsCss = css`\n\twidth: 25px;\n\theight: 25px;\n\tborder: 1px solid ${palette.neutral[86]};\n\n\tborder-radius: 20px;\n\tpadding: 2px;\n\n\tsvg {\n\t\tfill: ${schemedPalette('--tag-page-chevron')};\n\t}\n`;\n\nconst getPageRange = (currentPage: number, lastPage: number) => {\n\t// Safety function to check we're within bounds\n\tconst isValid = (item: number) => item > 0 && item <= lastPage;\n\n\tif (currentPage === 1 || currentPage === 2 || currentPage === 3) {\n\t\treturn [1, 2, 3, 4].filter(isValid);\n\t} else if (currentPage + 2 >= lastPage) {\n\t\treturn [1, lastPage - 2, lastPage - 1, lastPage].filter(isValid);\n\t} else {\n\t\treturn [1, currentPage - 1, currentPage, currentPage + 1].filter(\n\t\t\tisValid,\n\t\t);\n\t}\n};\n\nconst getLink = (pageId: string, pageNo: number) => {\n\tif (pageNo === 1) return `/${pageId}`;\n\treturn `/${pageId}?page=${pageNo}`;\n};\n\nexport const FrontPagination = ({\n\tpageId,\n\ttotalContent,\n\tsectionName,\n\tcurrentPage,\n\tlastPage,\n}: Props) => {\n\tconst pageRange = getPageRange(currentPage, lastPage);\n\n\treturn (\n\t\t<div css={paginationWrapperCss}>\n\t\t\t<span css={paginationLegendCss}>\n\t\t\t\tAbout {formatCount(totalContent).long} results for {sectionName}\n\t\t\t</span>\n\t\t\t<div css={paginationItemContainerCss}>\n\t\t\t\t{currentPage > 1 && (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={getLink(pageId, currentPage - 1)}\n\t\t\t\t\t\tcss={paginationArrowsCss}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SvgChevronLeftSingle />\n\t\t\t\t\t</a>\n\t\t\t\t)}\n\t\t\t\t{pageRange.map((page, index) => {\n\t\t\t\t\t// If there is a gap of more than 1 number between this entry and the last one\n\t\t\t\t\tconst shouldPrefixDots =\n\t\t\t\t\t\tpage > 1 && pageRange[index - 1] !== page - 1;\n\n\t\t\t\t\t// If this is the last item and we're not at the last page yet\n\t\t\t\t\tconst shouldSuffixDots =\n\t\t\t\t\t\tindex === pageRange.length - 1 && page !== lastPage;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Fragment key={page}>\n\t\t\t\t\t\t\t{shouldPrefixDots && (\n\t\t\t\t\t\t\t\t<span css={paginationDotsCss}>...</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{page === currentPage ? (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tpaginationItemCss,\n\t\t\t\t\t\t\t\t\t\tactivePaginationItemCss,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tcss={paginationItemCss}\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tpage !== currentPage\n\t\t\t\t\t\t\t\t\t\t\t? getLink(pageId, page)\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{shouldSuffixDots && (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tcss={paginationDotsCss}\n\t\t\t\t\t\t\t\t\tstyle={{ marginRight: `${space[1]}px` }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{currentPage < lastPage && (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={getLink(pageId, currentPage + 1)}\n\t\t\t\t\t\tcss={paginationArrowsCss}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SvgChevronRightSingle />\n\t\t\t\t\t</a>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { between, from } from '@guardian/source/foundations';\n\nconst frontsSectionBadgeSizingStyles = css`\n\theight: auto;\n\twidth: 120px;\n\n\t${from.tablet} {\n\t\twidth: 140px;\n\t}\n\n\t${from.leftCol} {\n\t\twidth: 200px;\n\t}\n`;\n\nconst labsSectionBadgeSizingStyles = css`\n\theight: auto;\n\twidth: 100px;\n\n\t${from.phablet} {\n\t\twidth: 120px;\n\t}\n`;\n\nconst imageAdvertisingPartnerStyles = css`\n\t${between.leftCol.and.wide} {\n\t\tmax-width: 130px;\n\t}\n`;\n\nconst imageStyles = css`\n\tdisplay: block;\n\twidth: auto;\n\tmax-width: 100%;\n\tobject-fit: contain;\n`;\n\nconst badgeLink = css`\n\ttext-decoration: none;\n`;\n\ntype Props = {\n\timageSrc: string;\n\thref: string;\n\tophanComponentLink?: string;\n\tophanComponentName?: string;\n\tisInLabsSection?: boolean;\n\tisAdvertisingPartner?: boolean;\n};\n\nexport const Badge = ({\n\timageSrc,\n\thref,\n\tophanComponentLink,\n\tophanComponentName,\n\tisInLabsSection = false,\n\tisAdvertisingPartner = false,\n}: Props) => {\n\treturn (\n\t\t<a\n\t\t\thref={href}\n\t\t\tdata-link-name={ophanComponentLink}\n\t\t\tdata-component={ophanComponentName}\n\t\t\tcss={badgeLink}\n\t\t>\n\t\t\t<img\n\t\t\t\tcss={[\n\t\t\t\t\timageStyles,\n\t\t\t\t\tisInLabsSection\n\t\t\t\t\t\t? labsSectionBadgeSizingStyles\n\t\t\t\t\t\t: frontsSectionBadgeSizingStyles,\n\t\t\t\t\tisAdvertisingPartner && imageAdvertisingPartnerStyles,\n\t\t\t\t]}\n\t\t\t\tsrc={imageSrc}\n\t\t\t\talt={isInLabsSection ? 'Labs sponsor logo' : ''}\n\t\t\t/>\n\t\t</a>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tfrom,\n\tpalette as sourcePalette,\n\ttextSans12,\n\tuntil,\n} from '@guardian/source/foundations';\nimport { Hide } from '@guardian/source/react-components';\nimport { assertUnreachable } from '../lib/assert-unreachable';\nimport { palette } from '../palette';\nimport type { CollectionBranding } from '../types/branding';\nimport { Badge } from './Badge';\n\ntype Props = {\n\ttitle: React.ReactNode;\n\tcollectionBranding: CollectionBranding | undefined;\n};\n\nconst titleStyle = css`\n\t${until.leftCol} {\n\t\tmax-width: 74%;\n\t}\n`;\n\nconst advertisingPartnerDottedBorder = css`\n\tborder-top: 1px dotted ${sourcePalette.neutral[86]};\n\tborder-bottom: none;\n\tmargin-top: 0.375rem;\n`;\n\nconst brandingAdvertisingPartnerStyle = css`\n\tmargin: 4px 0 20px;\n\tpadding: 4px;\n\tborder: 1px solid ${palette('--branding-border')};\n\twidth: fit-content;\n\n\t${from.desktop} {\n\t\tpadding: 8px;\n\t\twidth: 220px;\n\t}\n\t${from.leftCol} {\n\t\tpadding: 4px;\n\t\twidth: fit-content;\n\t}\n\t${from.wide} {\n\t\tpadding: 8px;\n\t\twidth: auto;\n\t}\n`;\n\nconst labelAdvertisingPartnerStyles = css`\n\tmargin-top: 0;\n\tborder-top: 0;\n`;\n\nconst labelStyles = css`\n\t${textSans12};\n\tline-height: 1rem;\n\tcolor: ${sourcePalette.neutral[46]};\n\tfont-weight: bold;\n\tmargin-top: 0.375rem;\n\tpadding-right: 0.625rem;\n\tpadding-bottom: 0.625rem;\n\ttext-align: left;\n\tborder-top: 1px dotted ${sourcePalette.neutral[86]};\n`;\n\nconst aboutThisLinkStyles = css`\n\t${textSans12};\n\tline-height: 11px;\n\tcolor: ${sourcePalette.neutral[46]};\n\tfont-weight: normal;\n\ttext-decoration: none;\n`;\n\nconst aboutThisLinkAdvertisingPartnerStyles = css`\n\tcolor: ${sourcePalette.news[400]};\n`;\n\nexport const FrontSectionTitle = ({ title, collectionBranding }: Props) => {\n\tswitch (collectionBranding?.kind) {\n\t\tcase 'foundation': {\n\t\t\tconst {\n\t\t\t\tbranding: { logo, aboutThisLink },\n\t\t\t\tisFrontBranding,\n\t\t\t\tisContainerBranding,\n\t\t\t} = collectionBranding;\n\t\t\tif (isFrontBranding || isContainerBranding) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Hide until=\"leftCol\">\n\t\t\t\t\t\t\t<p css={[labelStyles]}>{logo.label}</p>\n\t\t\t\t\t\t\t<Badge imageSrc={logo.src} href={logo.link} />\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t<div css={titleStyle}>\n\t\t\t\t\t\t\t<Hide from=\"leftCol\">\n\t\t\t\t\t\t\t\t<p css={[labelStyles]}>{logo.label}</p>\n\t\t\t\t\t\t\t\t<Badge imageSrc={logo.src} href={logo.link} />\n\t\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t<a href={aboutThisLink} css={[aboutThisLinkStyles]}>\n\t\t\t\t\t\t\t\tAbout this content\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn <div css={titleStyle}>{title}</div>;\n\t\t}\n\t\tcase 'paid-content': {\n\t\t\tconst {\n\t\t\t\tisFrontBranding,\n\t\t\t\tisContainerBranding,\n\t\t\t\tbranding: { logo },\n\t\t\t} = collectionBranding;\n\n\t\t\tif (isFrontBranding || isContainerBranding) {\n\t\t\t\treturn (\n\t\t\t\t\t<div css={titleStyle}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t\t\tborder-top: 1px dotted\n\t\t\t\t\t\t\t\t\t${sourcePalette.neutral[86]};\n\t\t\t\t\t\t\t\t${textSans12}\n\t\t\t\t\t\t\t\tcolor: ${sourcePalette.neutral[46]};\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\n\t\t\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPaid for by\n\t\t\t\t\t\t\t<Badge imageSrc={logo.src} href={logo.link} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Hide until=\"leftCol\">\n\t\t\t\t\t\t<Badge imageSrc={logo.src} href={logo.link} />\n\t\t\t\t\t</Hide>\n\t\t\t\t\t<div css={titleStyle}>\n\t\t\t\t\t\t<Hide from=\"leftCol\">\n\t\t\t\t\t\t\t<Badge imageSrc={logo.src} href={logo.link} />\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\tcase 'sponsored': {\n\t\t\tconst {\n\t\t\t\tbranding: { logo, aboutThisLink },\n\t\t\t\tisContainerBranding,\n\t\t\t\tisFrontBranding,\n\t\t\t} = collectionBranding;\n\t\t\tconst isAdvertisingPartnerOrExclusive =\n\t\t\t\tlogo.label.toLowerCase() === 'advertising partner' ||\n\t\t\t\tlogo.label.toLowerCase() === 'exclusive advertising partner';\n\t\t\tif (isFrontBranding || isContainerBranding) {\n\t\t\t\treturn (\n\t\t\t\t\t<div css={titleStyle}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t\t{isAdvertisingPartnerOrExclusive ? (\n\t\t\t\t\t\t\t<hr css={advertisingPartnerDottedBorder} />\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={\n\t\t\t\t\t\t\t\tisAdvertisingPartnerOrExclusive &&\n\t\t\t\t\t\t\t\tbrandingAdvertisingPartnerStyle\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\tlabelStyles,\n\t\t\t\t\t\t\t\t\tisAdvertisingPartnerOrExclusive &&\n\t\t\t\t\t\t\t\t\t\tlabelAdvertisingPartnerStyles,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{logo.label}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\timageSrc={logo.src}\n\t\t\t\t\t\t\t\thref={logo.link}\n\t\t\t\t\t\t\t\tisAdvertisingPartner={\n\t\t\t\t\t\t\t\t\tisAdvertisingPartnerOrExclusive\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={aboutThisLink}\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\taboutThisLinkStyles,\n\t\t\t\t\t\t\t\t\tisAdvertisingPartnerOrExclusive &&\n\t\t\t\t\t\t\t\t\t\taboutThisLinkAdvertisingPartnerStyles,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAbout this content\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn <div css={titleStyle}>{title}</div>;\n\t\t}\n\t\tcase undefined: {\n\t\t\treturn <div css={titleStyle}>{title}</div>;\n\t\t}\n\t\tdefault: {\n\t\t\tassertUnreachable(collectionBranding);\n\t\t\treturn null;\n\t\t}\n\t}\n};\n","import { css } from '@emotion/react';\nimport { isString } from '@guardian/libs';\nimport { between, from, space, until } from '@guardian/source/foundations';\nimport { pageSkinContainer } from '../layouts/lib/pageSkin';\nimport type { EditionId } from '../lib/edition';\nimport { hideAge } from '../lib/hideAge';\nimport { palette, palette as schemePalette } from '../palette';\nimport type { CollectionBranding } from '../types/branding';\nimport type {\n\tDCRContainerLevel,\n\tDCRContainerPalette,\n\tTreatType,\n} from '../types/front';\nimport type { DCRFrontPagination } from '../types/tagPage';\nimport { isAustralianTerritory, type Territory } from '../types/territory';\nimport { AustralianTerritorySwitcher } from './AustralianTerritorySwitcher.importable';\nimport { ContainerOverrides } from './ContainerOverrides';\nimport { ContainerTitle } from './ContainerTitle';\nimport { FrontPagination } from './FrontPagination';\nimport { FrontSectionTitle } from './FrontSectionTitle';\nimport { Island } from './Island';\nimport { ShowHideButton } from './ShowHideButton';\nimport { ShowMore } from './ShowMore.importable';\nimport { Treats } from './Treats';\n\ntype Props = {\n\t/** This text will be used as the h2 shown in the left column for the section */\n\ttitle?: string;\n\t/** This text shows below the title */\n\tdescription?: string;\n\t/** The title can be made into a link using this property */\n\turl?: string;\n\t/** The html `id` property of the element */\n\tsectionId?: string;\n\tcollectionId?: string;\n\tpageId?: string;\n\t/** Defaults to `true`. If we should render the top border */\n\tshowTopBorder?: boolean;\n\t/** A React component can be passed to be inserted inside the left column */\n\tleftContent?: React.ReactNode;\n\tchildren?: React.ReactNode;\n\t/** The string used to set the `data-component` Ophan attribute */\n\tophanComponentName?: string;\n\t/** The string used to set the `data-link-name` Ophan attribute */\n\tophanComponentLink?: string;\n\t/**\n\t * 🛠️ DEBUG ONLY 🛠️\n\t * Used to highlight the name of a container when DCR debug mode is enabled\n\t *\n\t * @see https://github.com/guardian/dotcom-rendering/blob/main/dotcom-rendering/src/client/debug/README.md\n\t */\n\tcontainerName?: string;\n\t/** Fronts containers can have their styling overridden using a `containerPalette` */\n\tcontainerPalette?: DCRContainerPalette;\n\t/** Fronts containers can have their styling overridden using a `containerLevel`.\n\t * If used, this can be either \"Primary\" or \"Secondary\", both of which have different styles */\n\tcontainerLevel?: DCRContainerLevel;\n\t/** Fronts containers spacing rules vary depending on the size of their container spacing which is derived from if the next container is a primary or secondary. */\n\tcontainerSpacing?: 'large' | 'small';\n\t/** Defaults to `false`. If true a Hide button is show top right allowing this section\n\t * to be collapsed\n\t */\n\ttoggleable?: boolean;\n\t/** Defaults to `false`. If true and `editionId` is also passed, then a date string is\n\t * shown under the title. Typically only used on Headlines containers on fronts\n\t */\n\tshowDateHeader?: boolean;\n\t/** Used in partnership with `showDateHeader` to localise the date string */\n\teditionId: EditionId;\n\t/** A list of related links that appear in the bottom of the left column on fronts */\n\ttreats?: TreatType[];\n\t/** Enable the \"Show More\" button on this container to allow readers to load more cards */\n\tcanShowMore?: boolean;\n\tajaxUrl?: string;\n\t/** Puts pagination at the bottom of the container allowing the user to navigate to other pages,\n\t * usually used on the last container on a page */\n\tpagination?: DCRFrontPagination;\n\t/** Does this front section reside on a \"paid for\" content front */\n\tisOnPaidContentFront?: boolean;\n\t/** Indicates if the container is targetted to a specific territory */\n\ttargetedTerritory?: Territory;\n\t/** Indicates if the page has a page skin advert\n\t * When a page skin advert is active:\n\t * - containers are constrained to a max width of 'desktop'\n\t * - media queries above desktop are not applied\n\t * - if no background colour is specified use the default body background colour to prevent\n\t *   the page skin background showing through the containers\n\t */\n\thasPageSkin?: boolean;\n\tdiscussionApiUrl: string;\n\tcollectionBranding?: CollectionBranding;\n\tisTagPage?: boolean;\n};\n\nconst width = (columns: number, columnWidth: number, columnGap: number) =>\n\t`width: ${columns * columnWidth + (columns - 1) * columnGap}px;`;\n\n/** Not all browsers support CSS grid, so we set explicit width as a fallback */\nconst fallbackStyles = css`\n\t@supports not (display: grid) {\n\t\tpadding: 0 12px;\n\t\tmargin: 0 auto;\n\n\t\t${from.mobileLandscape} {\n\t\t\tpadding: 0 20px;\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\t${width(12, 40, 20)}\n\t\t}\n\n\t\t${from.desktop} {\n\t\t\t${width(12, 60, 20)}\n\t\t}\n\n\t\t${from.leftCol} {\n\t\t\t${width(14, 60, 20)}\n\t\t}\n\n\t\t${from.wide} {\n\t\t\t${width(16, 60, 20)}\n\t\t}\n\t}\n`;\n\nconst containerStylesUntilLeftCol = css`\n\tdisplay: grid;\n\n\tgrid-template-rows:\n\t\t[headline-start show-hide-start] auto\n\t\t[show-hide-end headline-end content-toggleable-start content-start] auto\n\t\t[content-end content-toggleable-end bottom-content-start] auto\n\t\t[bottom-content-end];\n\n\tgrid-template-columns:\n\t\t[decoration-start]\n\t\t0px\n\t\t[content-start title-start]\n\t\trepeat(3, minmax(0, 1fr))\n\t\t[hide-start]\n\t\tminmax(0, 1fr)\n\t\t[content-end title-end hide-end]\n\t\t0px [decoration-end];\n\n\tgrid-auto-flow: dense;\n\tcolumn-gap: 10px;\n\n\t${from.mobileLandscape} {\n\t\tcolumn-gap: 20px;\n\t}\n\n\t${from.tablet} {\n\t\tgrid-template-columns:\n\t\t\tminmax(0, 1fr)\n\t\t\t[decoration-start content-start title-start]\n\t\t\trepeat(11, 40px)\n\t\t\t[hide-start]\n\t\t\t40px\n\t\t\t[decoration-end content-end title-end hide-end]\n\t\t\tminmax(0, 1fr);\n\t}\n\n\t${from.desktop} {\n\t\tgrid-template-columns:\n\t\t\tminmax(0, 1fr)\n\t\t\t[decoration-start content-start title-start]\n\t\t\trepeat(11, 60px)\n\t\t\t[hide-start]\n\t\t\t60px\n\t\t\t[decoration-end content-end title-end hide-end]\n\t\t\tminmax(0, 1fr);\n\t}\n`;\n\nconst containerStylesFromLeftCol = css`\n\t${from.leftCol} {\n\t\tgrid-template-rows:\n\t\t\t[headline-start show-hide-start content-start] auto\n\t\t\t[show-hide-end content-toggleable-start] auto\n\t\t\t[headline-end treats-start] auto\n\t\t\t[content-end content-toggleable-end treats-end bottom-content-start] auto\n\t\t\t[bottom-content-end];\n\n\t\tgrid-template-columns:\n\t\t\tminmax(0, 1fr)\n\t\t\t[decoration-start title-start]\n\t\t\trepeat(2, 60px)\n\t\t\t[title-end content-start]\n\t\t\trepeat(11, 60px)\n\t\t\t[hide-start]\n\t\t\t60px\n\t\t\t[decoration-end hide-end content-end]\n\t\t\tminmax(0, 1fr);\n\t}\n\n\t${from.wide} {\n\t\tgrid-template-rows:\n\t\t\t[headline-start content-start content-toggleable-start show-hide-start] auto\n\t\t\t[show-hide-end] auto\n\t\t\t[headline-end treats-start] auto\n\t\t\t[content-end content-toggleable-end treats-end bottom-content-start] auto\n\t\t\t[bottom-content-end];\n\n\t\tgrid-template-columns:\n\t\t\tminmax(0, 1fr)\n\t\t\t[decoration-start title-start]\n\t\t\trepeat(3, 60px)\n\t\t\t[title-end content-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end hide-start]\n\t\t\t60px\n\t\t\t[decoration-end hide-end]\n\t\t\tminmax(0, 1fr);\n\t}\n`;\n\nconst flexRowStyles = css`\n\tflex-direction: row;\n\tjustify-content: space-between;\n`;\n\nconst sectionHeadlineUntilLeftCol = (isOpinion: boolean) => css`\n\tgrid-row: headline;\n\tgrid-column: title;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t${between.tablet.and.leftCol} {\n\t\t${flexRowStyles}\n\t}\n\n\t${isOpinion && until.mobileLandscape} {\n\t\tflex-direction: column;\n\t}\n\t${isOpinion && between.mobileLandscape.and.tablet} {\n\t\t${flexRowStyles}\n\t}\n`;\n\nconst sectionHeadlineFromLeftCol = (borderColour: string) => css`\n\t${from.leftCol} {\n\t\tposition: relative;\n\t\t::after {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\twidth: 1px;\n\t\t\ttop: 0;\n\t\t\theight: 1.875rem;\n\t\t\tright: -10px;\n\t\t\tposition: absolute;\n\t\t\tbackground-color: ${borderColour};\n\t\t}\n\t}\n`;\n\nconst sectionHeadlineHeight = css`\n\t${until.tablet} {\n\t\tmin-height: 58px;\n\t}\n`;\n\nconst topPadding = css`\n\tpadding-top: ${space[2]}px;\n`;\n\nconst sectionShowHide = css`\n\tgrid-row: show-hide;\n\tgrid-column: hide;\n\tjustify-self: end;\n`;\n\nconst sectionContent = css`\n\tmargin: 0;\n\n\t.hidden > & {\n\t\tdisplay: none;\n\t}\n\n\tgrid-column: content;\n`;\n\nconst sectionContentRow = (toggleable: boolean) => css`\n\tgrid-row: ${toggleable ? 'content-toggleable' : 'content'};\n`;\n\nconst sectionContentPadded = css`\n\t${from.tablet} {\n\t\tmargin-left: -10px;\n\t\tmargin-right: -10px;\n\t}\n`;\n\nconst sectionContentBorderFromLeftCol = css`\n\tposition: relative;\n\t${from.leftCol} {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: ${space[2]}px;\n\t\t\tbottom: 0;\n\t\t\tborder-left: 1px solid ${schemePalette('--section-border')};\n\t\t\ttransform: translateX(-50%);\n\t\t\t/** Keeps the vertical divider ontop of carousel item dividers */\n\t\t\tz-index: 1;\n\t\t}\n\t}\n`;\n\nconst sectionBottomContent = css`\n\tgrid-row: bottom-content;\n\tgrid-column: content;\n\t.hidden > & {\n\t\tdisplay: none;\n\t}\n`;\n\nconst sectionTreats = css`\n\tdisplay: none;\n\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t\talign-self: end;\n\n\t\tgrid-row: treats;\n\t\tgrid-column: title;\n\t}\n\n\t.hidden > & {\n\t\tdisplay: none;\n\t}\n`;\n\nconst decoration = css`\n\t/** element which contains border and inner background colour, if set */\n\tgrid-row: 1 / -1;\n\tgrid-column: decoration;\n\n\tborder-width: 1px;\n\tborder-color: ${schemePalette('--section-border')};\n\tborder-style: none;\n`;\n\n/** only visible once content stops sticking to left and right edges */\nconst sideBorders = css`\n\t${from.tablet} {\n\t\tmargin: 0 -20px;\n\t\tborder-left-style: solid;\n\t\tborder-right-style: solid;\n\t}\n`;\n\nconst topBorder = css`\n\tborder-top-style: solid;\n`;\n\nconst bottomPadding = css`\n\tpadding-bottom: ${space[9]}px;\n`;\n\nconst smallBottomPadding = css`\n\tpadding-bottom: ${space[6]}px;\n`;\n\nconst largeBottomPadding = css`\n\tpadding-bottom: ${space[10]}px;\n`;\n\nconst primaryLevelTopBorder = css`\n\tgrid-row: 1;\n\tgrid-column: 1 / -1;\n\tborder-top: 2px solid ${schemePalette('--section-border-primary')};\n\t/** Ensures the top border sits above the side borders */\n\tz-index: 1;\n`;\n\nconst secondaryLevelTopBorder = css`\n\tgrid-row: 1;\n\tgrid-column: content;\n\tborder-top: 1px solid ${schemePalette('--section-border-secondary')};\n\t${from.tablet} {\n\t\tgrid-column: decoration;\n\t}\n`;\n\n/**\n * # Front Container\n *\n * A container for fronts, which generally contains sets of cards.\n *\n * Provides borders, spacing, colours, a title and features specific to fronts\n * such as show/hide toggle button. Content slotted as `children` is placed\n * in the centre. Extra elements can be passed to `leftContent`, which will\n * automatically fall into the left column on larger breakpoints.\n *\n * Defaults to an HTML `section`, but the specific tag can be set.\n *\n * @example\n *\n * from `mobile` (320) to `phablet` (660)\n *  1 2 3 4\n * ┌───────┐\n * │Title  │\n * ├───────┤\n * │▒▒▒▒▒▒▒│\n * │▒▒▒▒▒▒▒│\n * ├───────┤\n * │Show   │\n * |More   │\n * └───────┘\n *\n * from `tablet` (740) to `desktop` (980)\n *\n *  1 2 3 4 5 6 7 8 9 a b c (12)\n * ┌───────────────────────┐\n * │Title                  │\n * │Date                   │\n * ├───────────────────────┤\n * │▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * ├───────────────────────┤\n * │Show More              │\n * └───────────────────────┘\n *\n * on `leftCol` (1140) if component is toggleable\n *\n *  1 2 3 4 5 6 7 8 9 a b c d e (14)\n * ┌───┬───────────────────┬─┐\n * │Tit│                   │X│\n * │Dat├───────────────────┴─┤\n * ├───┤▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │   │▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │Tre│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │ats│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * ├───┼─────────────────────┤\n * │   │Show More            │\n * └───┴─────────────────────┘\n *\n * on `leftCol` (1140) if component is not toggleable\n *\n *  1 2 3 4 5 6 7 8 9 a b c d e (14)\n * ┌───┬──────────────────────┐\n * │Tit│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │Dat│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * ├───┤▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │   │▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │Tre│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * │ats│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│\n * ├───┼──────────────────────┤\n * │   │Show More             │\n * └───┴──────────────────────┘\n *\n * on `wide` (1300)\n *\n *  1 2 3 4 5 6 7 8 9 a b c d e f g (16)\n * ┌─────┬───────────────────────┬─┐\n * │Title│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│X│\n * │Date │▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒└─┤\n * ├─────┤▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │\n * │     │▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │\n * │     │▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │\n * │Treat│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │\n * ├─────┼─────────────────────────┤\n * │     │Show More                │\n * └─────┴─────────────────────────┘\n *\n */\nexport const FrontSection = ({\n\ttitle,\n\tchildren,\n\tcontainerName,\n\tcontainerPalette,\n\tcontainerLevel,\n\tcontainerSpacing,\n\tdescription,\n\teditionId,\n\tleftContent,\n\tophanComponentLink,\n\tophanComponentName,\n\tsectionId = '',\n\tcollectionId,\n\tpageId,\n\tshowDateHeader = false,\n\tshowTopBorder = true,\n\ttoggleable = false,\n\ttreats,\n\turl,\n\tcanShowMore,\n\tajaxUrl,\n\tpagination,\n\tisOnPaidContentFront,\n\ttargetedTerritory,\n\thasPageSkin = false,\n\tdiscussionApiUrl,\n\tcollectionBranding,\n\tisTagPage = false,\n}: Props) => {\n\tconst isToggleable = toggleable && !!sectionId && !containerLevel;\n\tconst showMore =\n\t\tcanShowMore &&\n\t\t!!title &&\n\t\t!!sectionId &&\n\t\t!!collectionId &&\n\t\t!!pageId &&\n\t\t!!ajaxUrl &&\n\t\t!containerLevel;\n\tconst showVerticalRule = !hasPageSkin;\n\t/**\n\t * id is being used to set the containerId in @see {ShowMore.importable.tsx}\n\t * this id pre-existed showMore so is probably also being used for something else.\n\t */\n\treturn (\n\t\t<ContainerOverrides containerPalette={containerPalette}>\n\t\t\t<section\n\t\t\t\tid={sectionId}\n\t\t\t\tdata-link-name={ophanComponentLink}\n\t\t\t\tdata-component={ophanComponentName}\n\t\t\t\tdata-container-name={containerName}\n\t\t\t\tdata-container-level={containerLevel}\n\t\t\t\tcss={[\n\t\t\t\t\tfallbackStyles,\n\t\t\t\t\tcontainerStylesUntilLeftCol,\n\t\t\t\t\t!hasPageSkin && containerStylesFromLeftCol,\n\t\t\t\t\thasPageSkin && pageSkinContainer,\n\t\t\t\t]}\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: schemePalette(\n\t\t\t\t\t\t'--front-container-background',\n\t\t\t\t\t),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{!!containerLevel && showTopBorder && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tcontainerLevel === 'Secondary'\n\t\t\t\t\t\t\t\t? secondaryLevelTopBorder\n\t\t\t\t\t\t\t\t: primaryLevelTopBorder,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<div\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tdecoration,\n\t\t\t\t\t\tsideBorders,\n\t\t\t\t\t\tshowTopBorder && !containerLevel && topBorder,\n\t\t\t\t\t]}\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tsectionHeadlineUntilLeftCol(\n\t\t\t\t\t\t\t// TODO FIXME:\n\t\t\t\t\t\t\t// This relies on sections called \"opinion\"\n\t\t\t\t\t\t\t// only ever having <CPScott> as the leftContent\n\t\t\t\t\t\t\ttitle?.toLowerCase() === 'opinion',\n\t\t\t\t\t\t),\n\t\t\t\t\t\tshowVerticalRule &&\n\t\t\t\t\t\t\t!containerLevel &&\n\t\t\t\t\t\t\tsectionHeadlineFromLeftCol(\n\t\t\t\t\t\t\t\tschemePalette('--section-border'),\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\ttitle?.toLowerCase() === 'headlines' &&\n\t\t\t\t\t\t\tsectionHeadlineHeight,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<FrontSectionTitle\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t<ContainerTitle\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tlightweightHeader={isTagPage}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\tfontColour={schemePalette(\n\t\t\t\t\t\t\t\t\t'--article-section-title',\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t// On paid fronts the title is not treated as a link\n\t\t\t\t\t\t\t\turl={!isOnPaidContentFront ? url : undefined}\n\t\t\t\t\t\t\t\tshowDateHeader={showDateHeader}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t\tcontainerLevel={containerLevel}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcollectionBranding={collectionBranding}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{leftContent}\n\t\t\t\t</div>\n\n\t\t\t\t{isToggleable && (\n\t\t\t\t\t<div css={sectionShowHide}>\n\t\t\t\t\t\t<ShowHideButton sectionId={sectionId} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tsectionContent,\n\t\t\t\t\t\tsectionContentPadded,\n\t\t\t\t\t\tsectionContentRow(toggleable),\n\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\tshowVerticalRule &&\n\t\t\t\t\t\t\t!!containerLevel &&\n\t\t\t\t\t\t\tsectionContentBorderFromLeftCol,\n\t\t\t\t\t]}\n\t\t\t\t\tid={`container-${sectionId}`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tsectionContentPadded,\n\t\t\t\t\t\tsectionBottomContent,\n\t\t\t\t\t\t!containerLevel && bottomPadding,\n\t\t\t\t\t\tcontainerSpacing === 'small' && smallBottomPadding,\n\t\t\t\t\t\tcontainerSpacing === 'large' && largeBottomPadding,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t{isString(targetedTerritory) &&\n\t\t\t\t\tisAustralianTerritory(targetedTerritory) ? (\n\t\t\t\t\t\t<Island priority=\"feature\" defer={{ until: 'visible' }}>\n\t\t\t\t\t\t\t<AustralianTerritorySwitcher\n\t\t\t\t\t\t\t\ttargetedTerritory={targetedTerritory}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Island>\n\t\t\t\t\t) : showMore ? (\n\t\t\t\t\t\t<Island\n\t\t\t\t\t\t\tpriority=\"feature\"\n\t\t\t\t\t\t\tdefer={{ until: 'interaction' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ShowMore\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tsectionId={sectionId}\n\t\t\t\t\t\t\t\tcollectionId={collectionId}\n\t\t\t\t\t\t\t\tpageId={pageId}\n\t\t\t\t\t\t\t\tajaxUrl={ajaxUrl}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tshowAge={!hideAge.includes(title)}\n\t\t\t\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Island>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{pagination && (\n\t\t\t\t\t\t<FrontPagination\n\t\t\t\t\t\t\tsectionName={pagination.sectionName}\n\t\t\t\t\t\t\ttotalContent={pagination.totalContent}\n\t\t\t\t\t\t\tcurrentPage={pagination.currentPage}\n\t\t\t\t\t\t\tlastPage={pagination.lastPage}\n\t\t\t\t\t\t\tpageId={pagination.pageId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{treats && !hasPageSkin && (\n\t\t\t\t\t<div css={[sectionTreats, topPadding]}>\n\t\t\t\t\t\t<Treats\n\t\t\t\t\t\t\ttreats={treats}\n\t\t\t\t\t\t\tborderColour={palette('--section-border')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</section>\n\t\t</ContainerOverrides>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { isUndefined, removeCookie, setCookie, storage } from '@guardian/libs';\nimport { article17, palette } from '@guardian/source/foundations';\nimport { useEffect, useState } from 'react';\nimport { useConfig } from './ConfigContext';\nimport { FrontSection } from './FrontSection';\n\nconst formStyle = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.5rem;\n\tpadding: 0.5rem 1rem;\n\tborder: 2px groove ${palette.neutral[86]};\n\tmargin-left: 10px;\n\t${article17}\n`;\n\nconst bold = css`\n\tfont-weight: bold;\n`;\n\n// This is hardcoded, and must be changed if the experiment bucket changes\n// https://github.com/guardian/frontend/blob/09f49b80/common/app/experiments/Experiments.scala#L57\nconst darkModeCookieName = 'X-GU-Experiment-0perc-D';\n\n/**\n * Updates the user's accessibility preferences\n *\n * ## Why does this need to be an Island?\n *\n * Allows user to select their accessibility preferences\n */\nexport const Accessibility = () => {\n\tconst { darkModeAvailable } = useConfig();\n\tconst [shouldFlash, setShouldFlash] = useState<boolean | undefined>();\n\tconst [participate, setParticipate] = useState<boolean>(darkModeAvailable);\n\n\tconst checked = shouldFlash ?? true;\n\n\tuseEffect(() => {\n\t\tconst flashingPreference = storage.local.get(\n\t\t\t'gu.prefs.accessibility.flashing-elements',\n\t\t);\n\t\tif (typeof flashingPreference === 'boolean') {\n\t\t\tsetShouldFlash(flashingPreference);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (isUndefined(shouldFlash)) return;\n\t\tstorage.local.set(\n\t\t\t'gu.prefs.accessibility.flashing-elements',\n\t\t\tshouldFlash,\n\t\t);\n\t}, [shouldFlash]);\n\n\tuseEffect(() => {\n\t\tif (participate) {\n\t\t\tsetCookie({\n\t\t\t\tname: darkModeCookieName,\n\t\t\t\tvalue: 'true',\n\t\t\t});\n\t\t} else {\n\t\t\tremoveCookie({ name: darkModeCookieName });\n\t\t}\n\n\t\tconst timeout = setTimeout(() => {\n\t\t\t// we must reload the page for the preference to take effect,\n\t\t\t// as this relies on a server-side test & cookie combination\n\t\t\tif (participate !== darkModeAvailable) window.location.reload();\n\t\t}, 1200);\n\n\t\treturn () => clearTimeout(timeout);\n\t}, [participate, darkModeAvailable]);\n\n\tconst toggleFlash = (): void => {\n\t\tsetShouldFlash((prev) => (isUndefined(prev) ? false : !prev));\n\t};\n\n\treturn (\n\t\t<FrontSection title=\"Preferences\" editionId=\"UK\" discussionApiUrl=\"\">\n\t\t\t<form>\n\t\t\t\t<fieldset css={formStyle}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tWe aim to make this site accessible to a wide audience\n\t\t\t\t\t\tand ensure a great experience for all users by\n\t\t\t\t\t\tconforming to World Wide Web Consortium accessibility\n\t\t\t\t\t\tguidelines (W3C's WCAG).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tHowever, if you are having trouble reading this website,\n\t\t\t\t\t\tyou can change the way it looks or disable some of its\n\t\t\t\t\t\tfunctionalities.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\tonChange={toggleFlash}\n\t\t\t\t\t\t\tdata-link-name=\"flashing-elements\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span css={bold}>Allow flashing elements </span>\n\t\t\t\t\t\t{checked\n\t\t\t\t\t\t\t? 'Untick this to disable flashing and moving elements'\n\t\t\t\t\t\t\t: 'Tick this to enable flashing or moving elements'}\n\t\t\t\t\t</label>\n\t\t\t\t</fieldset>\n\n\t\t\t\t<br />\n\n\t\t\t\t<fieldset css={formStyle}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tWe offer beta support for a dark colour scheme on the\n\t\t\t\t\t\tweb. The colour scheme preference will follow your\n\t\t\t\t\t\tsystem settings.\n\t\t\t\t\t</p>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={participate}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetParticipate(e.target.checked);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdata-link-name=\"prefers-colour-scheme\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span css={bold}>\n\t\t\t\t\t\t\tParticipate in the dark colour scheme beta{' '}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{participate\n\t\t\t\t\t\t\t? 'Untick this to opt out (browser will refresh)'\n\t\t\t\t\t\t\t: 'Tick this to opt in (browser will refresh)'}\n\t\t\t\t\t</label>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t</FrontSection>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { isString, removeCookie, setCookie } from '@guardian/libs';\nimport {\n\tspace,\n\ttextSans17,\n\ttextSansBold17,\n} from '@guardian/source/foundations';\nimport {\n\tButton,\n\tChoiceCard,\n\tChoiceCardGroup,\n\tSvgChevronDownSingle,\n\tSvgChevronUpSingle,\n} from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport type { AustralianTerritory } from '../types/territory';\n\nconst styles = css`\n\tpadding: ${space[2]}px;\n`;\n\nconst territories = {\n\t'AU-NSW': 'New South Wales',\n\t'AU-QLD': 'Queensland',\n\t'AU-VIC': 'Victoria',\n} as const satisfies Record<AustralianTerritory, string>;\n\nconst controls = 'change-territory';\nconst controlsStyles = css`\n\tmax-width: 700px;\n`;\n\nconst labelStyles = css`\n\t${textSans17}\n\tpadding-bottom: ${space[3]}px;\n\tdisplay: block;\n\n\tstrong {\n\t\t${textSansBold17}\n\t}\n`;\n\ntype Props = {\n\ttargetedTerritory: AustralianTerritory;\n};\n\n/**\n * Allows containers targetted to a specific territory to be changed\n * to a different territory. E.g New South Wales to Victoria\n *\n * ## Why does this need to be an Island?\n *\n * We use cookies to set the user’s territory.\n *\n * ---\n *\n * [`AustralianTerritorySwitcher` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-australianterritoryswitcher--victoria&buildNumber=2967)\n */\nexport const AustralianTerritorySwitcher = ({ targetedTerritory }: Props) => {\n\tconst [expanded, setExpanded] = useState(false);\n\n\treturn (\n\t\t<div css={styles}>\n\t\t\t<Button\n\t\t\t\tpriority=\"subdued\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetExpanded(!expanded);\n\t\t\t\t}}\n\t\t\t\ticon={\n\t\t\t\t\texpanded ? <SvgChevronUpSingle /> : <SvgChevronDownSingle />\n\t\t\t\t}\n\t\t\t\ticonSide=\"right\"\n\t\t\t\taria-expanded={expanded}\n\t\t\t\taria-controls={controls}\n\t\t\t>\n\t\t\t\tNot in {territories[targetedTerritory]}? Change region\n\t\t\t</Button>\n\n\t\t\t{expanded && (\n\t\t\t\t<div id={controls} css={controlsStyles}>\n\t\t\t\t\t<label htmlFor=\"territory\" css={labelStyles}>\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\tThe articles above have been curated for you based\n\t\t\t\t\t\t\ton the state you are in.\n\t\t\t\t\t\t</strong>{' '}\n\t\t\t\t\t\tIf we have your location wrong or you want to see\n\t\t\t\t\t\tcoverage of a different state, please select from the\n\t\t\t\t\t\tlinks below. We hope to expand this service to other\n\t\t\t\t\t\tstates in the future.\n\t\t\t\t\t</label>\n\n\t\t\t\t\t<ChoiceCardGroup\n\t\t\t\t\t\tname=\"territory\"\n\t\t\t\t\t\tonChange={({ target }) => {\n\t\t\t\t\t\t\tif ('value' in target && isString(target.value)) {\n\t\t\t\t\t\t\t\tconst value = target.value;\n\n\t\t\t\t\t\t\t\tremoveCookie({ name: 'GU_territory' });\n\t\t\t\t\t\t\t\tsetCookie({\n\t\t\t\t\t\t\t\t\tname: 'GU_territory',\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{Object.entries(territories).map(([id, label]) => (\n\t\t\t\t\t\t\t\t<ChoiceCard\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\tchecked={id === targetedTerritory}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t</ChoiceCardGroup>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","/**\n * A function that asserts it should never be called\n *\n * Useful for checking exhaustiveness of switch cases\n *\n * @see https://tinytip.co/tips/ts-switch-assert-unreachable/\n *\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars -- We don't actually use the value\nexport const assertUnreachable = (value: never): never => {\n\tthrow new Error('This should be unreachable');\n};\n"],"names":["hideAge","isAustralianTerritory","isOneOf","paginationWrapperCss","css","space","palette","neutral","paginationLegendCss","textSans14","paginationItemContainerCss","paginationItemCss","textSansBold12","activePaginationItemCss","paginationDotsCss","paginationArrowsCss","schemedPalette","getLink","pageId","pageNo","FrontPagination","totalContent","sectionName","currentPage","lastPage","pageRange","isValid","item","filter","getPageRange","div","span","formatCount","long","a","href","SvgChevronLeftSingle","map","page","index","shouldPrefixDots","shouldSuffixDots","length","Fragment","undefined","style","marginRight","SvgChevronRightSingle","frontsSectionBadgeSizingStyles","from","tablet","leftCol","labsSectionBadgeSizingStyles","phablet","imageAdvertisingPartnerStyles","between","and","wide","imageStyles","badgeLink","Badge","imageSrc","ophanComponentLink","ophanComponentName","isInLabsSection","isAdvertisingPartner","data-link-name","data-component","img","src","alt","titleStyle","until","advertisingPartnerDottedBorder","sourcePalette","brandingAdvertisingPartnerStyle","desktop","labelAdvertisingPartnerStyles","labelStyles","textSans12","aboutThisLinkStyles","aboutThisLinkAdvertisingPartnerStyles","news","FrontSectionTitle","title","collectionBranding","kind","branding","logo","aboutThisLink","isFrontBranding","isContainerBranding","Hide","p","label","link","isAdvertisingPartnerOrExclusive","toLowerCase","hr","assertUnreachable","width","columns","columnWidth","columnGap","fallbackStyles","mobileLandscape","containerStylesUntilLeftCol","containerStylesFromLeftCol","flexRowStyles","sectionHeadlineHeight","topPadding","sectionShowHide","sectionContent","sectionContentRow","toggleable","sectionContentPadded","sectionContentBorderFromLeftCol","schemePalette","sectionBottomContent","sectionTreats","decoration","sideBorders","topBorder","bottomPadding","smallBottomPadding","largeBottomPadding","primaryLevelTopBorder","secondaryLevelTopBorder","FrontSection","children","containerName","containerPalette","containerLevel","containerSpacing","description","editionId","leftContent","sectionId","collectionId","showDateHeader","showTopBorder","treats","url","canShowMore","ajaxUrl","pagination","isOnPaidContentFront","targetedTerritory","hasPageSkin","discussionApiUrl","isTagPage","isToggleable","showMore","showVerticalRule","ContainerOverrides","section","id","data-container-name","data-container-level","pageSkinContainer","backgroundColor","isOpinion","borderColour","ContainerTitle","lightweightHeader","fontColour","ShowHideButton","isString","Island","priority","defer","AustralianTerritorySwitcher","ShowMore","showAge","includes","Treats","formStyle","article17","bold","darkModeCookieName","Accessibility","darkModeAvailable","useConfig","shouldFlash","setShouldFlash","useState","participate","setParticipate","checked","useEffect","flashingPreference","storage","local","get","isUndefined","set","setCookie","name","value","removeCookie","timeout","setTimeout","window","location","reload","clearTimeout","form","fieldset","input","type","onChange","prev","br","e","target","styles","territories","controls","controlsStyles","textSans17","textSansBold17","expanded","setExpanded","Button","onClick","icon","SvgChevronUpSingle","SvgChevronDownSingle","iconSide","aria-expanded","aria-controls","htmlFor","strong","ChoiceCardGroup","Object","entries","ChoiceCard","Error"],"sourceRoot":""}