(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[2075],{94471:(t,n,e)=>{"use strict";e.r(n),e.d(n,{AuEoy2024:()=>F,AuEoy2024Wrapper:()=>N});var r=e(22820),o=e(18247),c=e(57820),i=e.n(c),a=e(50484),u=e(24017),s=e(90760),l=e(50641),f=e(59648),d=e(81477),p=e(71653),m=e(30108),g=e(17382),v=e(67400),b=e(85918),h=e(28118),y=e(66186),x=e(7693),C=e(59864),T=e(41975),A=e(6283),O={container:(0,u.css)("background:#041d35;color:",l.M.neutral[100],";"),grid:(0,u.css)("display:grid;flex-direction:column;position:relative;padding:0 ",f.x[3],"px ",f.x[4],"px ",f.x[3],"px;",d.HT.tablet,"{display:grid;grid-template-columns:350px 350px;padding:0 ",f.x[5],"px ",f.x[4],"px ",f.x[5],"px;}",d.HT.desktop,"{grid-template-columns:462px 462px;column-gap:",f.x[4],"px;}",d.HT.leftCol,"{grid-template-columns:148px 482px 482px;column-gap:0;}",d.HT.wide,"{grid-template-columns:228px 482px 482px;}"),logo:(0,u.css)("display:none;",d.HT.leftCol,"{display:block;grid-column:1;grid-row:1;margin-top:",f.x[2],"px;}"),heading:(0,u.css)(d.HT.tablet,"{grid-column:1;grid-row:1;}h2{margin:",f.x[2],"px 0 ",f.x[4],"px;color:",l.M.neutral[100],";",p.muz," ",d.HT.tablet,"{",p.mAD,";}",d.HT.leftCol,"{",p.D7o,";}}",d.HT.leftCol,"{grid-column:2;border-left:1px solid rgba(255, 255, 255, 0.2);padding-left:",f.x[2],"px;}"),body:(0,u.css)(p.BTt,";strong{",p._UO,";}"),ticker:(0,u.css)("margin-bottom:",f.x[4],"px;"),choiceCards:(0,u.css)("margin-top:",f.x[6],"px;",d.HT.tablet,"{grid-column:2;grid-row:1;align-self:flex-start;display:flex;justify-content:flex-end;}",d.HT.leftCol,"{grid-column:3;margin-right:",f.x[3],"px;}")},j={currencySymbol:"$",copy:{},tickerStylingSettings:{filledProgressColour:"#FFBAC8",progressBarBackgroundColour:"#1F4153",headlineColour:"#000000",totalColour:"#FEBBC7",goalColour:"#FFFFFF"}},S=function(){var t=(0,o.A)(i().mark((function t(){var n,e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://support.theguardian.com/ticker/AU.json").then((function(t){return t.json()}));case 2:if(n=t.sent,!(0,s.G)(n)){t.next=7;break}if(e=n.total,r=n.goal,"number"!=typeof e||"number"!=typeof r){t.next=7;break}return t.abrupt("return",{total:Math.floor(e),goal:Math.floor(r)});case 7:return t.abrupt("return");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w={testName:"au-eoy-front-amounts",variantName:"CONTROL",defaultContributionType:"MONTHLY",displayContributionType:["ONE_OFF","MONTHLY","ANNUAL"],amountsCardData:{ONE_OFF:{amounts:[75,120],defaultAmount:120,hideChooseYourAmount:!1},MONTHLY:{amounts:[10,20],defaultAmount:20,hideChooseYourAmount:!1},ANNUAL:{amounts:[80,200],defaultAmount:200,hideChooseYourAmount:!1}}},k={buttonColour:"#FFFFFF",buttonTextColour:"#767676",buttonBorderColour:"#999999",buttonSelectColour:"#FFE8EC",buttonSelectTextColour:"#062962",buttonSelectBorderColour:"#FEBBC7"},E="AUEOY24_LAUNCH_UPDATED_THRASHER",I={ctaUrl:'https://support.theguardian.com/au/contribute?acquisitionData={"source":"GUARDIAN_WEB","componentType":"ACQUISITIONS_THRASHER","componentId":"'.concat(E,'","campaignCode":"AUEOY24"}&INTCMP=AUEOY24'),ctaText:"Support us"},F=function(t){var n=t.tickerData,e=t.submitTrackingEvent,r=(0,A.m)(w,"AU",I,I),o=r.choiceCardSelection,c=r.setChoiceCardSelection,i=r.getCtaText,u=r.getCtaUrl,s=r.currencySymbol;return(0,a.jsx)("div",{css:O.container,children:(0,a.jsxs)("div",{css:O.grid,children:[(0,a.jsx)("div",{css:O.logo,children:(0,a.jsx)(m.D,{textColor:"#FFFFFF",width:100})}),(0,a.jsxs)("div",{css:O.heading,children:[(0,a.jsx)("h2",{children:"Can you help us hit our goal?"}),(0,a.jsxs)("div",{css:O.body,children:[(0,a.jsx)("div",{css:O.ticker,children:(0,a.jsx)(g.R,{currencySymbol:j.currencySymbol,copy:{},tickerData:n,tickerStylingSettings:j.tickerStylingSettings,size:"medium"})}),"With no billionaire owner or shareholders pulling our strings, reader support keeps us fiercely independent.",(0,a.jsxs)("strong",{children:[" ","As we prepare for the challenges of 2025, will you support us?"]})]})]}),(0,a.jsx)("div",{css:O.choiceCards,children:(0,a.jsx)(C.T,{setSelectionsCallback:c,selection:o,submitComponentEvent:e,currencySymbol:s,componentId:"thrasher-choice-cards",amountsTest:w,design:k,getCtaText:i,getCtaUrl:u,cssCtaOverides:(0,T.V)({default:{backgroundColour:"#FEBBC7",textColour:"#062962"},hover:{backgroundColour:"#FEBBC7",textColour:"#062962"}}),onCtaClick:function(){e({component:{componentType:"ACQUISITIONS_THRASHER",id:E},action:"CLICK"})}})})]})})},N=function(){var t=(0,v.useState)(),n=(0,r.A)(t,2),e=n[0],o=n[1],c=(0,v.useState)(!1),i=(0,r.A)(c,2),u=i[0],s=i[1],l=(0,y.T)();(0,v.useEffect)((function(){"Pending"!==l&&s(!1===(0,h.h3)(l))}),[l]),(0,v.useEffect)((function(){S().then(o)}),[]);var f=(0,x.U)().renderingTarget;return(0,a.jsx)(a.Fragment,{children:u&&e&&(0,a.jsx)(F,{tickerData:e,submitTrackingEvent:function(t){(0,b.u_)(t,f)}})})}},21128:(t,n,e)=>{"use strict";e.d(n,{Bl:()=>y,Mf:()=>A,Nl:()=>g,Q7:()=>v,QP:()=>p,R9:()=>h,Tv:()=>d,hy:()=>b,m1:()=>f,qU:()=>x,rx:()=>j,t0:()=>O});var r=e(31880),o=e(62335),c=e(22820),i=e(65656),a=e(42702);function u(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?u(Object(e),!0).forEach((function(n){(0,o.A)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var l=function(t,n,e,r,o){var a=function(t,n,e,r,o){var c=[{name:t,variant:n}];return e&&c.push({name:e.testName,variant:e.variantName}),r&&o&&c.push({name:r,variant:o,testType:"AMOUNTS_TEST"}),c}(n.abTestName,n.abTestVariant,n.targetingAbTest,r,o),u=function(t,n){return encodeURIComponent(JSON.stringify({source:t.platformId,componentId:t.campaignCode,componentType:t.componentType,campaignCode:t.campaignCode,abTests:n,referrerPageviewId:t.ophanPageId,referrerUrl:t.referrerUrl,isRemote:!0,labels:t.labels}))}(n,a),s=function(t,n,e){var r={REFPVID:t.ophanPageId||"not_found",INTCMP:t.campaignCode||"",acquisitionData:n,numArticles:e||0};return Object.entries(r).filter((function(t){var n=(0,c.A)(t,2)[1];return!(0,i.b)(n)})).map((function(t){var n=(0,c.A)(t,2),e=n[0],r=n[1];return"".concat(e,"=").concat(r)})).join("&")}(n,u,null!=e?e:0),l=t.includes("?");return"".concat(t).concat(l?"&":"?").concat(s)},f=function(t,n,e){return l(function(t,n){switch(n.product){case"Contribution":case"SupporterPlus":return function(t,n){var e=n.region,r=n.amount,o=n.billingPeriod;return"".concat(t,"/").concat(e,"/contribute/checkout?selected-amount=").concat(r,"&selected-contribution-type=").concat(o)}(t,n);default:return t}}(t,n),e)},d=function(t){return/\bsupport\./.test(t)},p=function(t,n,e,r,o,c){if(!d(t))return t;var i=(0,a.u4)(t,r);return l(i,n,e,o,c)},m=/href="(.*?)"/g,g=function(t,n,e,r){var o=T(n,"body-link");return t.replace(m,(function(t,n){return'href="'.concat(p(n,o,e,r),'"')}))},v=function(t,n,e){var r="selected-contribution-type=".concat(n).concat(void 0!==e?"&selected-amount=".concat(e):""),o=t.includes("?");return"".concat(t).concat(o?"&":"?").concat(r)},b=function(t){var n=t.includes("?");return"".concat(t).concat(n?"&":"?").concat("oneTime")},h=function(t,n,e,r){var o="product=".concat(n,"&ratePlan=").concat(e).concat(void 0!==r?"&contribution=".concat(r):""),c=t.includes("?");return"".concat(t).concat(c?"&":"?").concat(o)},y=function(t){return/\bprofile\./.test(t)},x=function(t,n){return y(t)?function(t,n){var e,r={componentType:n.componentType,componentId:n.campaignCode,abTestName:n.abTestName,abTestVariant:n.abTestVariant,viewId:n.ophanPageId},o={componentEventParams:encodeURIComponent((e=r,Object.keys(e).map((function(t){var n=e[t],r=Array.isArray(n)?n.map((function(t){return encodeURIComponent(t)})).join(","):encodeURIComponent(n);return"".concat(t,"=").concat(r)})).join("&"))),returnUrl:n.referrerUrl},a=Object.entries(o).filter((function(t){var n=(0,c.A)(t,2)[1];return!(0,i.b)(n)})).map((function(t){var n=(0,c.A)(t,2),e=n[0],r=n[1];return"".concat(e,"=").concat(r)})),u=t.includes("?");return"".concat(t).concat(u?"&":"?").concat(a.join("&"))}(t,n):t},C=function(t){return function(n,e){var r=n.abTestName,o=n.abTestVariant,c=n.componentType,i=n.products,a=void 0===i?[]:i,u=n.labels,l=void 0===u?[]:u,f=n.campaignCode,d=r&&o?{name:r,variant:o}:null,p=n.targetingAbTest?{name:n.targetingAbTest.testName,variant:n.targetingAbTest.variantName}:null;return s(s(s({component:{componentType:c,products:a,campaignCode:f,id:e,labels:l}},d?{abTest:d}:{}),p?{targetingAbTest:p}:{}),{},{action:t})}},T=function(t,n){return t.labels?s(s({},t),{},{labels:[].concat((0,r.A)(t.labels),[n])}):s(s({},t),{},{labels:[n]})},A=C("CLICK"),O=C("VIEW"),j=C("INSERT")},28118:(t,n,e)=>{"use strict";e.d(n,{Jj:()=>C,Pp:()=>p,VF:()=>m,Vi:()=>d,Xr:()=>O,_f:()=>S,h3:()=>v,mG:()=>A,mV:()=>x,n8:()=>j,q6:()=>k,tZ:()=>w,yw:()=>T});var r=e(22820),o=e(18247),c=e(57820),i=e.n(c),a=e(64361),u=e(65656),s=e(296),l=e(63854),f=e(67400),d="gu_hide_support_messaging",p="gu_recurring_contributor",m="gu.contributions.contrib-timestamp",g="gu.noRRBanner",v=function(t){var n,e,r=function(t){switch((0,a.R)({name:d})){case"true":return!0;case"false":return!1;default:return!!t&&"Pending"}}(t);return"Pending"===r?"Pending":r||(e=function(){var t=(0,a.R)({name:m});if(t)return(t?parseInt(t,10):0)||void 0}(),!(0,u.b)(e)&&(n=Date.now()-e,Math.floor(n/864e5)<=90))},b=[1,3,7],h=[1,3,5,7],y=function(){return null!==(0,a.R)({name:"gu_article_count_opt_out"})},x=function(){return new Promise((function(t){(0,a.R)({name:"gu-cmp-disabled",shouldMemoize:!0})&&t(!0),(0,l.Ym)((function(n){var e=n.usnat,r=n.tcfv2,o=n.aus;if(null!=e?e:o)t(!0);else if(r){var c=b.every((function(t){return r.consents[t]}));c||s.I.local.remove("gu.history.weeklyArticleCount"),t(c)}}))}))},C=function(){var t=(0,o.A)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:return n=t.sent,t.abrupt("return",!n||y());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=(0,o.A)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:return n=t.sent,t.abrupt("return",!n||y());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=(0,f.useState)("Pending"),n=(0,r.A)(t,2),e=n[0],o=n[1];return(0,f.useEffect)((function(){C().then(o).catch((function(){return o(!0)}))}),[]),e},O=function(){return new Promise((function(t){(0,a.R)({name:"gu-cmp-disabled",shouldMemoize:!0})&&t(!0),(0,l.Ym)((function(n){var e=n.usnat,r=n.tcfv2,o=n.aus;if(null!=e?e:o)t(!0);else if(r){var c=h.every((function(t){return r.consents[t]}));t(c)}}))}))},j=function(){return!!s.I.local.get(g)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return s.I.local.set(g,!0,t+12e5)},w=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return!!t&&n-new Date(t).getTime()<36e5},k=function(){var t=(0,a.R)({name:"GU_CO_COMPLETE",shouldMemoize:!0});if(t){var n;try{n=JSON.parse(decodeURIComponent(t))}catch(t){}return n}}},66186:(t,n,e)=>{"use strict";e.d(n,{T:()=>i,w:()=>a});var r=e(22820),o=e(67400),c=e(17950),i=function(){switch(a().kind){case"Pending":return"Pending";case"SignedInWithCookies":case"SignedInWithOkta":return!0;case"SignedOutWithCookies":case"SignedOutWithOkta":return!1}},a=function(){var t=(0,o.useState)({kind:"Pending"}),n=(0,r.A)(t,2),e=n[0],i=n[1];return(0,o.useEffect)((function(){(0,c.kU)((function(t){i((0,c.dx)(t))}),(function(){return i((0,c.Hn)())})).catch((function(t){console.error(t)}))}),[]),e}},88528:(t,n,e)=>{"use strict";e.d(n,{E:()=>a});var r=e(22820),o=e(44165),c=e.n(o),i=e(67400),a=function(t){var n,e=(0,i.useState)(!1),o=(0,r.A)(e,2),a=o[0],u=o[1],s=(0,i.useState)(null!==(n=t.node)&&void 0!==n?n:null),l=(0,r.A)(s,2),f=l[0],d=l[1],p=(0,i.useRef)(null),m=(0,i.useCallback)((function(n){var e=(0,r.A)(n,1)[0];e&&(e.isIntersecting?u(!0):t.repeat&&u(!1))}),[t.repeat]),g=t.debounce?c()(m,200):m;return(0,i.useEffect)((function(){t.node&&d(t.node)}),[t.node]),(0,i.useEffect)((function(){if(f&&"IntersectionObserver"in window)return p.current=new window.IntersectionObserver(g,t),p.current.observe(f),function(){var t;return null===(t=p.current)||void 0===t?void 0:t.disconnect()}}),[f,t,g]),(0,i.useEffect)((function(){var n;!t.repeat&&a&&(null===(n=p.current)||void 0===n||n.disconnect())}),[a,t.repeat]),[a,d]}},44165:(t,n,e)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g,s="object"==typeof self&&self&&self.Object===Object&&self,l=u||s||Function("return this")(),f=Object.prototype.toString,d=Math.max,p=Math.min,m=function(){return l.Date.now()};function g(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==f.call(t)}(t))return NaN;if(g(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=g(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var e=c.test(t);return e||i.test(t)?a(t.slice(2),e?2:8):o.test(t)?NaN:+t}t.exports=function(t,n,e){var r,o,c,i,a,u,s=0,l=!1,f=!1,b=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(n){var e=r,c=o;return r=o=void 0,s=n,i=t.apply(c,e)}function y(t){var e=t-u;return void 0===u||e>=n||e<0||f&&t-s>=c}function x(){var t=m();if(y(t))return C(t);a=setTimeout(x,function(t){var e=n-(t-u);return f?p(e,c-(t-s)):e}(t))}function C(t){return a=void 0,b&&r?h(t):(r=o=void 0,i)}function T(){var t=m(),e=y(t);if(r=arguments,o=this,u=t,e){if(void 0===a)return function(t){return s=t,a=setTimeout(x,n),l?h(t):i}(u);if(f)return a=setTimeout(x,n),h(u)}return void 0===a&&(a=setTimeout(x,n)),i}return n=v(n)||0,g(e)&&(l=!!e.leading,c=(f="maxWait"in e)?d(v(e.maxWait)||0,n):c,b="trailing"in e?!!e.trailing:b),T.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=u=o=a=void 0},T.flush=function(){return void 0===a?i:C(m())},T}}}]);
//# sourceMappingURL=AuEoy2024Wrapper-importable.client.web.legacy.a8967db3d267e6f6b2e8.js.map