{"version":3,"file":"OnwardsUpper-importable.client.web.10382ea34e9049a5701e.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/Card/components/UL.tsx","webpack://@guardian/dotcom-rendering/./src/components/FetchOnwardsData.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/Flex.tsx","webpack://@guardian/dotcom-rendering/./src/components/BigSixOnwardsContent.tsx","webpack://@guardian/dotcom-rendering/./src/components/OnwardsUpper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/Placeholder.tsx","webpack://@guardian/dotcom-rendering/./src/lib/hiddenStyles.tsx","webpack://@guardian/dotcom-rendering/./src/components/ElementContainer.tsx","webpack://@guardian/dotcom-rendering/./src/components/Section.tsx","webpack://@guardian/dotcom-rendering/./src/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/lib/decideTrail.ts","webpack://@guardian/dotcom-rendering/./src/lib/getDataLinkName.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/joinUrl/joinUrl.js"],"sourcesContent":["import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source/foundations';\nimport { verticalDivider } from '../../../lib/verticalDivider';\nimport { palette } from '../../../palette';\n\ntype Direction = 'row' | 'column' | 'row-reverse';\n\nconst getSpacingPx = (hasLargeSpacing: boolean) =>\n\thasLargeSpacing ? space[6] : space[3];\n\nconst ulStyles = (direction: Direction, spacingPx: number) => css`\n\twidth: 100%;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: ${direction};\n\t${until.tablet} {\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t}\n\n\t& > li {\n\t\tmargin-bottom: ${spacingPx}px;\n\t}\n\n\t@supports (row-gap: 1em) {\n\t\t& > li {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t\t/* Supported in flex layout is lacking: https://developer.mozilla.org/en-US/docs/Web/CSS/row-gap#browser_compatibility */\n\t\trow-gap: ${spacingPx}px;\n\t}\n`;\n\nconst wrapStyles = css`\n\t${from.tablet} {\n\t\tflex-wrap: wrap;\n\t}\n`;\n\nconst marginBottom = (spacingPx: number) => css`\n\tmargin-bottom: ${spacingPx}px;\n`;\n\nconst topBarStyles = (splitTopBar: boolean) => css`\n\t${from.tablet} {\n\t\tpadding-top: 8px;\n\t\t::before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 0px;\n\t\t\tleft: 10px;\n\t\t\twidth: calc(100% - 20px);\n\t\t\theight: 1px;\n\t\t\t${splitTopBar\n\t\t\t\t? `background-image: linear-gradient(\n\t\t\t\tto right,\n\t\t\t\t${palette('--card-border-top')},\n\t\t\t\t${palette('--card-border-top')} calc(50% - 10px),\n\t\t\t\trgba(0, 0, 0, 0) calc(50% - 10px),\n\t\t\t\trgba(0, 0, 0, 0) calc(50% + 10px),\n\t\t\t\t${palette('--card-border-top')} calc(50% + 10px),\n\t\t\t\t${palette('--card-border-top')}\n\t\t\t)`\n\t\t\t\t: `background-color: ${palette('--card-border-top')};`}\n\t\t}\n\t}\n`;\n\ntype Props = {\n\tchildren: React.ReactNode;\n\t/** Passed to flex-direction */\n\tdirection?: Direction;\n\t/** If this UL is a column and not the left most column */\n\tshowDivider?: boolean;\n\t/** If this UL is a row, add spacing below */\n\tpadBottom?: boolean;\n\t/** Used to keep cards aligned in adjacent columns */\n\twrapCards?: boolean;\n\t/** Used to display a full width bar along the top of the container */\n\tshowTopBar?: boolean;\n\t/** Used to add a gap in the center of the top bar */\n\tsplitTopBar?: boolean;\n\t/** Used to give beta containers additional space */\n\thasLargeSpacing?: boolean;\n\t/** Overrides the vertical divider colour */\n\tverticalDividerColour?: string;\n};\n\nexport const UL = ({\n\tchildren,\n\tdirection = 'column',\n\tshowDivider = false,\n\tpadBottom = false,\n\twrapCards = false,\n\tshowTopBar = false,\n\thasLargeSpacing = false,\n\tsplitTopBar = false,\n\tverticalDividerColour = palette('--section-border'),\n}: Props) => {\n\tconst spacingPx = getSpacingPx(hasLargeSpacing);\n\treturn (\n\t\t<ul\n\t\t\tcss={[\n\t\t\t\tulStyles(direction, spacingPx),\n\t\t\t\tshowDivider && verticalDivider(verticalDividerColour),\n\t\t\t\tpadBottom && marginBottom(spacingPx),\n\t\t\t\twrapCards && wrapStyles,\n\t\t\t\tshowTopBar && topBarStyles(splitTopBar),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</ul>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { isNonNullable } from '@guardian/libs';\nimport { ArticleDesign, type ArticleFormat } from '../lib/articleFormat';\nimport { decideTrail } from '../lib/decideTrail';\nimport { useApi } from '../lib/useApi';\nimport { addDiscussionIds } from '../lib/useCommentCount';\nimport { palette } from '../palette';\nimport type { OnwardsSource } from '../types/onwards';\nimport type { FETrailType, TrailType } from '../types/trails';\nimport { Carousel } from './Carousel.importable';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\turl: string;\n\tlimit: number; // Limit the number of items shown (the api often returns more)\n\tonwardsSource: OnwardsSource;\n\tformat: ArticleFormat;\n\tdiscussionApiUrl: string;\n\tabsoluteServerTimes: boolean;\n};\n\ntype OnwardsResponse = {\n\ttrails: FETrailType[];\n\theading: string;\n\tdisplayname: string;\n\tdescription: string;\n};\n\nconst minHeight = css`\n\tmin-height: 300px;\n`;\n\nexport const FetchOnwardsData = ({\n\turl,\n\tlimit,\n\tonwardsSource,\n\tformat,\n\tdiscussionApiUrl,\n\tabsoluteServerTimes,\n}: Props) => {\n\tconst { data, error } = useApi<OnwardsResponse>(url);\n\n\tconst buildTrails = (\n\t\ttrails: FETrailType[],\n\t\ttrailLimit: number,\n\t): TrailType[] => {\n\t\treturn trails.slice(0, trailLimit).map(decideTrail);\n\t};\n\n\tif (error) {\n\t\t// Send the error to Sentry and then prevent the element from rendering\n\t\twindow.guardian.modules.sentry.reportError(error, 'onwards-lower');\n\t\treturn null;\n\t}\n\n\tif (!data?.trails) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\theight={340} // best guess at typical height\n\t\t\t\tshouldShimmer={false}\n\t\t\t\tbackgroundColor={palette('--article-background')}\n\t\t\t/>\n\t\t);\n\t}\n\n\taddDiscussionIds(\n\t\tdata.trails\n\t\t\t.map((trail) => trail.discussion?.discussionId)\n\t\t\t.filter(isNonNullable),\n\t);\n\n\treturn (\n\t\t<div css={minHeight}>\n\t\t\t<Carousel\n\t\t\t\theading={data.heading || data.displayname} // Sometimes the api returns heading as 'displayName'\n\t\t\t\ttrails={buildTrails(data.trails, limit)}\n\t\t\t\tdescription={data.description}\n\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\tformat={format}\n\t\t\t\tleftColSize={\n\t\t\t\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\t\t\t\tformat.design === ArticleDesign.DeadBlog\n\t\t\t\t\t\t? 'wide'\n\t\t\t\t\t\t: 'compact'\n\t\t\t\t}\n\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\tabsoluteServerTimes={absoluteServerTimes}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { CSSProperties } from 'react';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tgap?: CSSProperties['gap'];\n};\n\nconst styles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\t/* Fixes IE 10/11 bug that collapses this container by default: */\n\t/* stylelint-disable-next-line property-no-vendor-prefix */\n\t-ms-flex-positive: 1;\n`;\n\nexport const Flex = ({ children, gap }: Props) => (\n\t<div css={styles} style={{ gap }}>\n\t\t{children}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { from, headlineBold24, space } from '@guardian/source/foundations';\nimport { decideFormat } from '../lib/articleFormat';\nimport { getSourceImageUrl } from '../lib/getSourceImageUrl_temp_fix';\nimport { useApi } from '../lib/useApi';\nimport { palette } from '../palette';\nimport type { DCRFrontCard } from '../types/front';\nimport type { FETrailType } from '../types/trails';\nimport { Card } from './Card/Card';\nimport { LI } from './Card/components/LI';\nimport { UL } from './Card/components/UL';\nimport { LeftColumn } from './LeftColumn';\nimport { Placeholder } from './Placeholder';\n\ntype OnwardsResponse = {\n\ttrails: FETrailType[];\n\theading: string;\n\tdisplayname: string;\n\tdescription: string;\n};\n\nconst containerStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-bottom: ${space[6]}px;\n\n\t${from.leftCol} {\n\t\tflex-direction: row;\n\t}\n\t${from.wide} {\n\t\tpadding-right: 80px;\n\t}\n`;\n\nconst cardsContainer = css`\n\tpadding-top: ${space[2]}px;\n`;\n\nconst headerStyles = css`\n\t${headlineBold24};\n\tcolor: ${palette('--carousel-text')};\n\tpadding-bottom: ${space[2]}px;\n\tpadding-top: ${space[1]}px;\n\tmargin-left: 0;\n`;\nconst mobileHeaderStyles = css`\n\t${headerStyles};\n\t${from.tablet} {\n\t\tpadding-left: 10px;\n\t}\n\t${from.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst convertFETrailToDcrTrail = (\n\ttrails: FETrailType[],\n\tdiscussionApiUrl: string,\n): DCRFrontCard[] =>\n\ttrails.map((trail) => ({\n\t\tdataLinkName: 'onwards-content-card',\n\t\tdiscussionId: trail.discussion?.discussionId,\n\t\tdiscussionApiUrl,\n\t\tformat: decideFormat(trail.format),\n\t\theadline: trail.headline,\n\t\timage: {\n\t\t\tsrc: trail.masterImage\n\t\t\t\t? trail.masterImage\n\t\t\t\t: trail.image\n\t\t\t\t? getSourceImageUrl(trail.image)\n\t\t\t\t: '',\n\t\t\taltText: trail.linkText ?? '',\n\t\t},\n\t\tisExternalLink: false,\n\t\tonwardsSource: 'related-content',\n\t\tshowLivePlayable: false,\n\t\tshowQuotedHeadline: false,\n\t\turl: trail.url,\n\t\twebPublicationDate: trail.webPublicationDate,\n\t}));\n\ntype Props = { url: string; discussionApiUrl: string };\n\n/**\n * Big Six refers to the style of the onwards content container. It displays six article\n * cards in a gallery-style container, as opposed to a carousel.\n */\nexport const BigSixOnwardsContent = ({ url, discussionApiUrl }: Props) => {\n\tconst { data, error } = useApi<OnwardsResponse>(url);\n\n\tif (error) {\n\t\t// Send the error to Sentry and then prevent the element from rendering\n\t\twindow.guardian.modules.sentry.reportError(error, 'onwards-lower');\n\t\treturn null;\n\t}\n\n\tif (!data?.trails) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\theight={580} // best guess at typical height\n\t\t\t\tshouldShimmer={false}\n\t\t\t\tbackgroundColor={palette('--article-background')}\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst trails: DCRFrontCard[] = convertFETrailToDcrTrail(\n\t\tdata.trails,\n\t\tdiscussionApiUrl,\n\t);\n\n\tconst firstSlice75 = trails.slice(0, 1);\n\tconst firstSlice25 = trails.slice(1, 2);\n\tconst secondSlice25 = trails.slice(2, 6);\n\n\tconst heading = data.heading || data.displayname;\n\n\treturn (\n\t\t<div\n\t\t\tdata-component=\"onwards-content-gallery-style\"\n\t\t\tcss={containerStyles}\n\t\t>\n\t\t\t<LeftColumn>\n\t\t\t\t<h2 css={headerStyles}>\n\t\t\t\t\t<span>{heading}</span>\n\t\t\t\t</h2>\n\t\t\t</LeftColumn>\n\t\t\t<h2 css={mobileHeaderStyles}>\n\t\t\t\t<span>{heading}</span>\n\t\t\t</h2>\n\t\t\t<div css={cardsContainer}>\n\t\t\t\t<UL direction=\"row\" padBottom={true}>\n\t\t\t\t\t{firstSlice75.map((trail) => (\n\t\t\t\t\t\t<LI key={trail.url} padSides={true} percentage=\"75%\">\n\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\tabsoluteServerTimes={false}\n\t\t\t\t\t\t\t\timagePositionOnDesktop=\"right\"\n\t\t\t\t\t\t\t\timagePositionOnMobile=\"top\"\n\t\t\t\t\t\t\t\timageSize=\"large\"\n\t\t\t\t\t\t\t\timageLoading=\"eager\"\n\t\t\t\t\t\t\t\tlinkTo={trail.url}\n\t\t\t\t\t\t\t\tformat={trail.format}\n\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\timage={trail.image}\n\t\t\t\t\t\t\t\tdataLinkName={`onwards-content-gallery-style ${trail.dataLinkName}-position-0`}\n\t\t\t\t\t\t\t\tdiscussionId={trail.discussionId}\n\t\t\t\t\t\t\t\tdiscussionApiUrl={trail.discussionApiUrl}\n\t\t\t\t\t\t\t\tisExternalLink={trail.isExternalLink}\n\t\t\t\t\t\t\t\tshowAge={true}\n\t\t\t\t\t\t\t\twebPublicationDate={trail.webPublicationDate}\n\t\t\t\t\t\t\t\tonwardsSource=\"related-content\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LI>\n\t\t\t\t\t))}\n\t\t\t\t\t{firstSlice25.map((trail) => (\n\t\t\t\t\t\t<LI\n\t\t\t\t\t\t\tkey={trail.url}\n\t\t\t\t\t\t\tpadSides={true}\n\t\t\t\t\t\t\tshowDivider={true}\n\t\t\t\t\t\t\tpercentage=\"25%\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\tabsoluteServerTimes={false}\n\t\t\t\t\t\t\t\timagePositionOnDesktop=\"top\"\n\t\t\t\t\t\t\t\timagePositionOnMobile=\"left\"\n\t\t\t\t\t\t\t\timageSize=\"small\"\n\t\t\t\t\t\t\t\timageLoading=\"eager\"\n\t\t\t\t\t\t\t\tlinkTo={trail.url}\n\t\t\t\t\t\t\t\tformat={trail.format}\n\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\timage={trail.image}\n\t\t\t\t\t\t\t\tdataLinkName={`onwards-content-gallery-style ${trail.dataLinkName}-position-1`}\n\t\t\t\t\t\t\t\tdiscussionId={trail.discussionId}\n\t\t\t\t\t\t\t\tdiscussionApiUrl={trail.discussionApiUrl}\n\t\t\t\t\t\t\t\tisExternalLink={trail.isExternalLink}\n\t\t\t\t\t\t\t\tshowAge={true}\n\t\t\t\t\t\t\t\twebPublicationDate={trail.webPublicationDate}\n\t\t\t\t\t\t\t\tonwardsSource=\"related-content\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LI>\n\t\t\t\t\t))}\n\t\t\t\t</UL>\n\t\t\t\t<UL direction=\"row\">\n\t\t\t\t\t{secondSlice25.map((trail, index) => {\n\t\t\t\t\t\tconst dataLinkName = `onwards-content-gallery-style ${\n\t\t\t\t\t\t\ttrail.dataLinkName\n\t\t\t\t\t\t}-position-${index + 2}`;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<LI\n\t\t\t\t\t\t\t\tkey={trail.url}\n\t\t\t\t\t\t\t\tpadSides={true}\n\t\t\t\t\t\t\t\tshowDivider={index > 0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\t\tabsoluteServerTimes={false}\n\t\t\t\t\t\t\t\t\timagePositionOnDesktop=\"top\"\n\t\t\t\t\t\t\t\t\timagePositionOnMobile=\"left\"\n\t\t\t\t\t\t\t\t\timageSize=\"small\"\n\t\t\t\t\t\t\t\t\timageLoading=\"eager\"\n\t\t\t\t\t\t\t\t\tlinkTo={trail.url}\n\t\t\t\t\t\t\t\t\tformat={trail.format}\n\t\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\t\timage={trail.image}\n\t\t\t\t\t\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\t\t\t\t\t\tdiscussionId={trail.discussionId}\n\t\t\t\t\t\t\t\t\tdiscussionApiUrl={trail.discussionApiUrl}\n\t\t\t\t\t\t\t\t\tisExternalLink={trail.isExternalLink}\n\t\t\t\t\t\t\t\t\tshowAge={true}\n\t\t\t\t\t\t\t\t\twebPublicationDate={\n\t\t\t\t\t\t\t\t\t\ttrail.webPublicationDate\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonwardsSource=\"related-content\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LI>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</UL>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { joinUrl } from '@guardian/libs';\nimport {\n\ttype ArticleFormat,\n\ttype ArticleTheme,\n\tPillar,\n} from '../lib/articleFormat';\nimport type { EditionId } from '../lib/edition';\nimport { useAB } from '../lib/useAB';\nimport { useIsAndroid } from '../lib/useIsAndroid';\nimport { palette } from '../palette';\nimport type { OnwardsSource } from '../types/onwards';\nimport type { TagType } from '../types/tag';\nimport { BigSixOnwardsContent } from './BigSixOnwardsContent';\nimport { FetchOnwardsData } from './FetchOnwardsData.importable';\nimport { Section } from './Section';\n\ntype PillarForContainer =\n\t| 'headlines'\n\t| 'sport'\n\t| 'opinion'\n\t| 'culture'\n\t| 'lifestyle';\n\n/**\n * This list is a direct copy from [`frontend`](https://github.com/guardian/frontend/blob/6da0b3d8bfd58e8e20f80fc738b070fb23ed154e/static/src/javascripts/projects/common/modules/onward/related.js#L27).\n * If you change this list then you should also update `frontend`.\n *\n * Order matters here (first match wins).\n */\nconst ALLOWED_TAGS = [\n\t// sport tags\n\t'sport/cricket',\n\t'sport/rugby-union',\n\t'sport/rugbyleague',\n\t'sport/formulaone',\n\t'sport/tennis',\n\t'sport/cycling',\n\t'sport/motorsports',\n\t'sport/golf',\n\t'sport/horse-racing',\n\t'sport/boxing',\n\t'sport/us-sport',\n\t'sport/australia-sport',\n\n\t// football tags\n\t'football/championsleague',\n\t'football/premierleague',\n\t'football/championship',\n\t'football/europeanfootball',\n\t'football/world-cup-2014',\n\n\t// football team tags\n\t'football/manchester-united',\n\t'football/chelsea',\n\t'football/arsenal',\n\t'football/manchestercity',\n\t'football/tottenham-hotspur',\n\t'football/liverpool',\n] as const;\n\n/** This function looks for item in our allowlist that is present in our keywordIds */\nconst firstPopularTag = (keywordIds: string, isPaidContent: boolean) => {\n\tconst tags = keywordIds.split(',');\n\n\t// For paid content we just return the first tag,\n\t// otherwise we find the allowlist tag that matches\n\treturn isPaidContent\n\t\t? tags[0]\n\t\t: ALLOWED_TAGS.find((tag) => tags.includes(tag));\n};\n\nconst onwardsWrapper = css`\n\twidth: 100%;\n\tbackground: ${palette('--article-section-background')};\n`;\n\n// TODO: EUR edition urls are currently pointing to INT edition\n// containers, once the europe edition is live, we may want to change this\nconst containerUrls = {\n\theadlines: {\n\t\tUK: 'uk-alpha/news/regular-stories',\n\t\tUS: 'c5cad9ee-584d-4e85-85cd-bf8ee481b026',\n\t\tAU: '36b9cf13-bf8b-4cf0-b882-5c5d4feac0a2',\n\t\tINT: '10f21d96-18f6-426f-821b-19df55dfb831',\n\t\tEUR: '10f21d96-18f6-426f-821b-19df55dfb831',\n\t},\n\tsport: {\n\t\tUK: '754c-8e8c-fad9-a927',\n\t\tUS: 'f6dd-d7b1-0e85-4650',\n\t\tAU: 'c45d-318f-896c-3a85',\n\t\tINT: 'd1ad8ec3-5ee2-4673-94c8-cc3f8d261e52',\n\t\tEUR: 'd1ad8ec3-5ee2-4673-94c8-cc3f8d261e52',\n\t},\n\topinion: {\n\t\tUK: '3ff78b30-52f5-4d30-ace8-c887113cbe0d',\n\t\tUS: '98df412d-b0e7-4d9a-98c2-062642823e94',\n\t\tAU: 'au-alpha/contributors/feature-stories',\n\t\tINT: 'ee3386bb-9430-4a6d-8bca-b99d65790f3b',\n\t\tEUR: 'ee3386bb-9430-4a6d-8bca-b99d65790f3b',\n\t},\n\tculture: {\n\t\tUK: 'ae511a89-ef38-4ec9-aab1-3a5ebc96d118',\n\t\tUS: 'fb59c1f8-72a7-41d5-8365-a4d574809bed',\n\t\tAU: '22262088-4bce-4290-9810-cb50bbead8db',\n\t\tINT: 'c7154e22-7292-4d93-a14d-22fd4b6b693d',\n\t\tEUR: 'c7154e22-7292-4d93-a14d-22fd4b6b693d',\n\t},\n\tlifestyle: {\n\t\tUK: 'uk-alpha/features/feature-stories',\n\t\tUS: 'us-alpha/features/feature-stories',\n\t\tAU: '13636104-51ce-4264-bb6b-556c80227331',\n\t\tINT: '7b297ef5-a3f9-45e5-b915-b54951d7f6ec',\n\t\tEUR: '7b297ef5-a3f9-45e5-b915-b54951d7f6ec',\n\t},\n};\n\nconst getContainer = (pillar: PillarForContainer, editionId: EditionId) => {\n\treturn containerUrls[pillar][editionId];\n};\n\nconst getContainerDataUrl = (\n\tpillar: ArticleTheme,\n\teditionId: EditionId,\n\tajaxUrl: string,\n) => {\n\tswitch (pillar) {\n\t\tcase Pillar.Sport:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('sport', editionId)}.json`,\n\t\t\t);\n\t\tcase Pillar.News:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('headlines', editionId)}.json`,\n\t\t\t);\n\t\tcase Pillar.Culture:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('culture', editionId)}.json`,\n\t\t\t);\n\t\tcase Pillar.Lifestyle:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('lifestyle', editionId)}.json`,\n\t\t\t);\n\t\tcase Pillar.Opinion:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('opinion', editionId)}.json`,\n\t\t\t);\n\t\tdefault:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('headlines', editionId)}.json`,\n\t\t\t);\n\t}\n};\n\ntype Props = {\n\tajaxUrl: string;\n\thasRelated: boolean;\n\thasStoryPackage: boolean;\n\tisAdFreeUser: boolean;\n\tpageId: string;\n\tisPaidContent: boolean;\n\tshowRelatedContent: boolean;\n\tkeywordIds: string;\n\tcontentType: string;\n\ttags: TagType[];\n\tformat: ArticleFormat;\n\teditionId: EditionId;\n\tpillar: ArticleTheme;\n\tshortUrlId: string;\n\tdiscussionApiUrl: string;\n\tabsoluteServerTimes: boolean;\n};\n\n/**\n * A wrapper around `Carousel` for showing related articles at the bottom\n * of an article. This contains the logic around which articles to show,\n * depending on a series of factors (story package, paid content, series tag, …)\n *\n * ## Why does this need to be an Island?\n *\n * It is a client-side only component, which cannot be rendered on the server,\n * as none of the relevant information comes from the CAPI response.\n *\n * ---\n *\n * [`Carousel` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-carousel)\n *\n */\nexport const OnwardsUpper = ({\n\tajaxUrl,\n\thasRelated,\n\thasStoryPackage,\n\tisAdFreeUser,\n\tpageId,\n\tisPaidContent,\n\tshowRelatedContent,\n\tkeywordIds,\n\tcontentType,\n\ttags,\n\tformat,\n\tpillar,\n\teditionId,\n\tshortUrlId,\n\tdiscussionApiUrl,\n\tabsoluteServerTimes,\n}: Props) => {\n\tconst abTestAPI = useAB()?.api;\n\tconst isInOnwardsAbTestVariant = abTestAPI?.isUserInVariant(\n\t\t'OnwardsContentArticle',\n\t\t'variant',\n\t);\n\n\tconst isAndroid = useIsAndroid();\n\n\tif (isAndroid) return null;\n\n\t// Related content can be a collection of articles based on\n\t// two things, 1: A popular tag, or 2: A generic text match\n\tconst tagToFilterBy = firstPopularTag(keywordIds, isPaidContent);\n\n\t// In this context, Blog tags are treated the same as Series tags\n\tconst seriesTag = tags.find(\n\t\t(tag) => tag.type === 'Series' || tag.type === 'Blog',\n\t);\n\n\tlet url: string | undefined;\n\tlet onwardsSource: OnwardsSource = 'unknown-source';\n\n\tif (!showRelatedContent) {\n\t\t// Then don't show related content\n\t\t// This is the first priority for deciding whether to include related content\n\t} else if (hasStoryPackage) {\n\t\t// We server render story packages so do nothing\n\t} else if (isAdFreeUser && isPaidContent) {\n\t\t// Don't show any related content (other than story packages) for\n\t\t// adfree users when the content is paid for\n\t} else if (seriesTag) {\n\t\t// Use the series tag to get other data in the same series\n\t\t// Example: {\n\t\t//              id: \"cities/series/the-illustrated-city\",\n\t\t//              title: \"The illustrated city\",\n\t\t//              type: \"Series\",\n\t\t//          }\n\t\t//\n\t\turl = joinUrl(\n\t\t\tajaxUrl,\n\t\t\t'series',\n\t\t\t`${seriesTag.id}.json?dcr&shortUrl=${shortUrlId}`,\n\t\t);\n\t\tonwardsSource = 'series';\n\t} else if (!hasRelated) {\n\t\t// There is no related content to show\n\t} else if (tagToFilterBy) {\n\t\t// Use popular in tag endpoint\n\t\tlet popularInTagUrl = `/popular-in-tag/${tagToFilterBy}.json?dcr=true`;\n\n\t\t// --- Tag excludes --- //\n\t\tconst tagsToExclude = [];\n\n\t\t// Exclude ad features from non-ad feature content\n\t\tif (!isPaidContent) {\n\t\t\ttagsToExclude.push('tone/advertisement-features');\n\t\t}\n\n\t\t// We don't want to show professional network content on videos or interactives\n\t\tif (\n\t\t\tcontentType.toLowerCase() === 'video' ||\n\t\t\tcontentType.toLowerCase() === 'interactive'\n\t\t) {\n\t\t\ttagsToExclude.push('guardian-professional/guardian-professional');\n\t\t}\n\n\t\t// Add any exclude tags to the url\n\t\tif (tagsToExclude.length > 0) {\n\t\t\tconst queryParams = tagsToExclude.map(\n\t\t\t\t(tag) => `exclude-tag=${tag}`,\n\t\t\t);\n\t\t\tpopularInTagUrl += `&${queryParams.join('&')}`;\n\t\t}\n\n\t\turl = joinUrl(ajaxUrl, popularInTagUrl);\n\t\tonwardsSource = 'related-content';\n\t} else {\n\t\t// Default to generic related endpoint\n\t\tconst relatedUrl = `/related/${pageId}.json?dcr=true`;\n\n\t\turl = joinUrl(ajaxUrl, relatedUrl);\n\t\tonwardsSource = 'related-stories';\n\t}\n\n\tconst curatedDataUrl = showRelatedContent\n\t\t? getContainerDataUrl(pillar, editionId, ajaxUrl)\n\t\t: undefined;\n\n\treturn (\n\t\t<div css={onwardsWrapper}>\n\t\t\t{!!url && isInOnwardsAbTestVariant && (\n\t\t\t\t<Section\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t\tborderColour={palette('--article-border')}\n\t\t\t\t>\n\t\t\t\t\t<BigSixOnwardsContent\n\t\t\t\t\t\turl={url}\n\t\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t)}\n\t\t\t{!!url && !isInOnwardsAbTestVariant && (\n\t\t\t\t<Section\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t\tborderColour={palette('--article-border')}\n\t\t\t\t>\n\t\t\t\t\t<FetchOnwardsData\n\t\t\t\t\t\turl={url}\n\t\t\t\t\t\tlimit={8}\n\t\t\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\t\tabsoluteServerTimes={absoluteServerTimes}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t)}\n\t\t\t{!!curatedDataUrl && !isPaidContent && (\n\t\t\t\t<Section\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t\tborderColour={palette('--article-border')}\n\t\t\t\t>\n\t\t\t\t\t<FetchOnwardsData\n\t\t\t\t\t\turl={curatedDataUrl}\n\t\t\t\t\t\tlimit={20}\n\t\t\t\t\t\tonwardsSource=\"curated-content\"\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\t\tabsoluteServerTimes={absoluteServerTimes}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport { firstPopularTag };\n","import { css, keyframes } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { palette, space } from '@guardian/source/foundations';\n\nconst BACKGROUND_COLOUR = palette.neutral[93];\n\ntype Props = {\n\theight: number;\n\trootId?: string;\n\twidth?: number;\n\tspaceBelow?: 1 | 2 | 3 | 4 | 5 | 6 | 9;\n\tspaceLeft?: 1 | 2 | 3 | 4 | 5 | 6 | 9;\n\tshouldShimmer?: boolean;\n\tbackgroundColor?: string;\n};\n\nconst shimmer = keyframes`\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\n\nconst shimmerStyles = (backgroundColor: string) => css`\n\tanimation: ${shimmer} 2s infinite linear;\n\tbackground: linear-gradient(\n\t\tto right,\n\t\t${backgroundColor} 4%,\n\t\twhite 25%,\n\t\t${backgroundColor} 36%\n\t);\n\tbackground-size: 1500px 100%;\n`;\n\nexport const Placeholder = ({\n\theight,\n\trootId,\n\twidth,\n\tspaceBelow,\n\tspaceLeft,\n\tshouldShimmer = true,\n\tbackgroundColor = BACKGROUND_COLOUR,\n}: Props) => (\n\t<div\n\t\tid={rootId}\n\t\tcss={css`\n\t\t\tflex-grow: 1;\n\t\t`}\n\t\tdata-name=\"placeholder\"\n\t>\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tmin-height: ${height}px;\n\t\t\t\twidth: ${!isUndefined(width) ? `${width}px` : '100%'};\n\t\t\t\tmargin-bottom: ${spaceBelow && space[spaceBelow]}px;\n\t\t\t\tmargin-left: ${spaceLeft && space[spaceLeft]}px;\n\t\t\t\tbackground-color: ${backgroundColor};\n\n\t\t\t\t${shouldShimmer && shimmerStyles(backgroundColor)}\n\t\t\t`}\n\t\t/>\n\t</div>\n);\n","import { css } from '@emotion/react';\n\nexport const hiddenStyles = css`\n\t&.hidden {\n\t\tdisplay: none;\n\t}\n`;\n","import { css, jsx } from '@emotion/react';\nimport { from, space } from '@guardian/source/foundations';\nimport { pageSkinContainer } from '../layouts/lib/pageSkin';\nimport { center } from '../lib/center';\nimport { palette } from '../palette';\n\nconst sidePadding = css`\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\n\t${from.mobileLandscape} {\n\t\tpadding-left: 20px;\n\t\tpadding-right: 20px;\n\t}\n`;\n\nconst bottomPadding = css`\n\tpadding-bottom: ${space[9]}px;\n`;\n\nconst sideBorderStyles = css`\n\t${from.tablet} {\n\t\tborder-left: 1px solid;\n\t\tborder-right: 1px solid;\n\t\tborder-color: ${palette('--article-border')};\n\t}\n`;\n\nconst topBorderStyles = css`\n\tborder-top: 1px solid;\n\tborder-color: ${palette('--article-border')};\n`;\n\ntype Props = {\n\tsectionId?: string;\n\tshowSideBorders?: boolean;\n\tshowTopBorder?: boolean;\n\tpadSides?: boolean;\n\tpadBottom?: boolean;\n\tbackgroundColour?: string;\n\tinnerBackgroundColour?: string;\n\tborderColour?: string;\n\tchildren?: React.ReactNode;\n\tshouldCenter?: boolean;\n\telement?:\n\t\t| 'div'\n\t\t| 'article'\n\t\t| 'aside'\n\t\t| 'nav'\n\t\t| 'main'\n\t\t| 'header'\n\t\t| 'section'\n\t\t| 'footer'; // ElementContainer is generally a top-level wrapper\n\tclassName?: string;\n\tophanComponentName?: string;\n\tophanComponentLink?: string;\n\tcontainerName?: string;\n\thasPageSkin?: boolean;\n\thasPageSkinContentSelfConstrain?: boolean;\n};\n\n/**\n * Create a react element from the tagName passed in OR\n * default to <div>\n *\n * @deprecated please use Section fullWidth={true}  instead\n */\nexport const ElementContainer = ({\n\tsectionId,\n\tshowSideBorders = true,\n\tshowTopBorder = true,\n\tpadSides = true,\n\tpadBottom = false,\n\tborderColour,\n\tbackgroundColour,\n\tinnerBackgroundColour,\n\tshouldCenter = true,\n\tchildren,\n\telement = 'div',\n\tclassName,\n\tophanComponentName,\n\tophanComponentLink,\n\tcontainerName,\n\thasPageSkin = false,\n\thasPageSkinContentSelfConstrain = false,\n}: Props) =>\n\tjsx(element, {\n\t\tid: ophanComponentName,\n\t\t'data-link-name': ophanComponentLink,\n\t\t'data-component': ophanComponentName,\n\t\t'data-container-name': containerName,\n\t\tstyle: {\n\t\t\tbackgroundColor: backgroundColour,\n\t\t},\n\t\tcss: [\n\t\t\thasPageSkin &&\n\t\t\t\t!hasPageSkinContentSelfConstrain &&\n\t\t\t\tpageSkinContainer,\n\t\t],\n\t\tclassName,\n\t\tchildren: (\n\t\t\t<div\n\t\t\t\t/**\n\t\t\t\t * id is being used to set the containerId in @see {ShowMore.importable.tsx}\n\t\t\t\t * this id pre-existed showMore so is probably also being used for something else.\n\t\t\t\t */\n\t\t\t\tid={sectionId}\n\t\t\t\tstyle={{\n\t\t\t\t\tborderColor: borderColour,\n\t\t\t\t\tbackgroundColor: innerBackgroundColour,\n\t\t\t\t}}\n\t\t\t\tcss={[\n\t\t\t\t\tshouldCenter && center,\n\t\t\t\t\tshowSideBorders && sideBorderStyles,\n\t\t\t\t\tshowTopBorder && topBorderStyles,\n\t\t\t\t\tpadSides && sidePadding,\n\t\t\t\t\tpadBottom && bottomPadding,\n\t\t\t\t\thasPageSkin && pageSkinContainer,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t),\n\t});\n","import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source/foundations';\nimport { ArticleDesign, type ArticleFormat } from '../lib/articleFormat';\nimport type { EditionId } from '../lib/edition';\nimport { hiddenStyles } from '../lib/hiddenStyles';\nimport { palette } from '../palette';\nimport type { TreatType } from '../types/front';\nimport type { LeftColSize } from '../types/layout';\nimport { ContainerTitle } from './ContainerTitle';\nimport { ElementContainer } from './ElementContainer';\nimport { Flex } from './Flex';\nimport { Hide } from './Hide';\nimport { LeftColumn } from './LeftColumn';\nimport { ShowHideButton } from './ShowHideButton';\nimport { Treats } from './Treats';\n\n/**\n * ----- First time here? -----\n * If you're unsure how to use this component, check out `Section.stories.tsx` and\n * try running it in storybook to get an idea of how this component is used!\n */\ntype Props = {\n\t/** This text will be used as the h2 shown in the left column for the section */\n\ttitle?: string;\n\t/** Allows the colour of the title to be changed */\n\tfontColour?: string;\n\t/** This text shows below the title */\n\tdescription?: string;\n\t/** The title can be made into a link using this property */\n\turl?: string;\n\t/** The html `id` property of the element */\n\tsectionId?: string;\n\t/** Defaults to `true`. If we should render the left and right borders */\n\tshowSideBorders?: boolean;\n\tcentralBorder?: 'partial' | 'full';\n\t/** Defaults to `true`. If we should render the top border */\n\tshowTopBorder?: boolean;\n\t/** Defaults to `true`. If we should add padding around the outer left and right edges */\n\tpadSides?: boolean;\n\t/** Defaults to `false`. If we should add padding around the outer left and right edges */\n\tpadBottom?: boolean;\n\t/** Defaults to `true`. If we should add padding to the left and right of `children` */\n\tpadContent?: boolean;\n\t/** The html tag used by Section defaults to `section` but can be overridden here */\n\telement?:\n\t\t| 'div'\n\t\t| 'article'\n\t\t| 'aside'\n\t\t| 'nav'\n\t\t| 'main'\n\t\t| 'header'\n\t\t| 'section'\n\t\t| 'footer';\n\t/** Sets a max width and margin auto to center children */\n\tshouldCenter?: boolean;\n\t/** Defaults to `true`. Adds margins to the top and bottom */\n\tverticalMargins?: boolean;\n\t/** Applies a background colour to the entire width */\n\tbackgroundColour?: string;\n\t/** The colour of borders can be overriden */\n\tborderColour?: string;\n\t/** A React component can be passed to be inserted inside the left column */\n\tleftContent?: React.ReactNode;\n\tchildren?: React.ReactNode;\n\t/** Defaults to `false`. If true, `children` is rendered all the way right */\n\tstretchRight?: boolean;\n\t/** Some page types have a different left column width */\n\tleftColSize?: LeftColSize;\n\tformat?: ArticleFormat;\n\t/** The string used to set the `data-component` Ophan attribute */\n\tophanComponentName?: string;\n\t/** The string used to set the `data-link-name` Ophan attribute */\n\tophanComponentLink?: string;\n\t/**\n\t * 🛠️ DEBUG ONLY 🛠️\n\t * Used to highlight the name of a container when DCR debug mode is enabled\n\t *\n\t * @see https://github.com/guardian/dotcom-rendering/blob/main/dotcom-rendering/src/client/debug/README.md\n\t */\n\tcontainerName?: string;\n\t/** Defaults to `false`. If true a Hide button is show top right allowing this section\n\t * to be collapsed\n\t */\n\ttoggleable?: boolean;\n\t/** Applies a background colour only to the content inside the left and right borders */\n\tinnerBackgroundColour?: string;\n\t/** Defaults to `false`. If true and `editionId` is also passed, then a date string is\n\t * shown under the title. Typically only used on Headlines containers on fronts\n\t */\n\tshowDateHeader?: boolean;\n\t/** Used in parnership with `showDateHeader` to localise the date string */\n\teditionId?: EditionId;\n\t/** A list of related links that appear in the bottom of the left column on fronts */\n\ttreats?: TreatType[];\n\t/** Defaults to `false`. If true, a simplified version of the section is rendered\n\t * without a left column\n\t */\n\tfullWidth?: boolean;\n\t/** Indicates if the page has a page skin advert\n\t * When a page skin advert is active:\n\t * - containers are constrained to a max width of 'desktop'\n\t * - media queries above desktop are not applied\n\t * - if no background colour is specified use the default body background colour to prevent\n\t *   the page skin background showing through the containers\n\t */\n\thasPageSkin?: boolean;\n\t/** When there is a page skin in some special cases we still want the container to take full\n\t * width but the content to constrain itself e.g. Header */\n\thasPageSkinContentSelfConstrain?: boolean;\n\t/**\n\t * @deprecated Do not use\n\t *\n\t * Legacy className prop only used for supporting old interactives\n\t */\n\tclassName?: string;\n};\n\nconst containerStyles = css`\n\tdisplay: flex;\n\tflex-grow: 1;\n\tflex-direction: column;\n\twidth: 100%;\n`;\n\nconst headlineContainerStyles = css`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\n\t${until.leftCol} {\n\t\tjustify-content: space-between;\n\t}\n`;\n\nconst headlineContainerStylesWithPageSkin = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n`;\n\nconst margins = css`\n\tmargin-top: ${space[2]}px;\n\t/*\n\t\tKeep spacing at the bottom of the container consistent at 36px, regardless of\n\t\tbreakpoint, based on chat with Harry Fisher\n\t*/\n\tmargin-bottom: ${space[9]}px;\n`;\n\nconst rightMargin = css`\n\t${from.wide} {\n\t\tmargin-right: 68px;\n\t}\n`;\n\nconst padding = (format?: ArticleFormat) => {\n\tswitch (format?.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn css`\n\t\t\t\tpadding: 0;\n\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tpadding: 0 10px;\n\t\t\t\t}\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\tpadding: 0 10px;\n\t\t\t`;\n\t}\n};\n\nconst Content = ({\n\tchildren,\n\tpadded,\n\tverticalMargins,\n\tstretchRight,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tpadded: boolean;\n\tverticalMargins: boolean;\n\tstretchRight: boolean;\n\tformat?: ArticleFormat;\n}) => (\n\t<div\n\t\tcss={[\n\t\t\tcontainerStyles,\n\t\t\tpadded && padding(format),\n\t\t\tverticalMargins && margins,\n\t\t\t!stretchRight && rightMargin,\n\t\t]}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst MaybeHideAboveLeftCol = ({\n\thasPageSkin = false,\n\tchildren,\n}: {\n\tchildren: React.ReactNode;\n\thasPageSkin?: boolean;\n}) =>\n\thasPageSkin ? (\n\t\tchildren\n\t) : (\n\t\t<Hide when=\"above\" breakpoint=\"leftCol\">\n\t\t\t{children}\n\t\t</Hide>\n\t);\n\n/**\n *\n * A Section component represents a horizontal slice of a page. It defaults to\n * a html section tag but this can be overridden using the `element` prop\n *\n *\n * It provides borders, spacing, colours, a title and also some front specific\n * features like showing a hide button. By default `children` is placed in the center\n * with a leftCol and spacing on the right - this represents a classic Guardian\n * page - but if `fullWidth={true}` is passed then both the leftCol and right spacing\n * are omitted\n */\nexport const Section = ({\n\ttitle,\n\tfontColour,\n\tdescription,\n\turl,\n\tsectionId,\n\tshowSideBorders = true,\n\tcentralBorder,\n\tshowTopBorder = true,\n\tpadSides = true,\n\tpadBottom = false,\n\tpadContent = true,\n\tverticalMargins = true,\n\tborderColour,\n\tbackgroundColour,\n\tchildren,\n\tleftContent,\n\tstretchRight = false,\n\tleftColSize,\n\tformat,\n\tophanComponentLink,\n\tophanComponentName,\n\ttoggleable = false,\n\tinnerBackgroundColour,\n\tshowDateHeader = false,\n\teditionId,\n\tcontainerName,\n\ttreats,\n\tfullWidth = false,\n\telement = 'section',\n\tshouldCenter,\n\thasPageSkin = false,\n\thasPageSkinContentSelfConstrain = false,\n\tclassName,\n}: Props) => {\n\tif (fullWidth) {\n\t\treturn (\n\t\t\t<ElementContainer\n\t\t\t\tsectionId={sectionId}\n\t\t\t\tshowSideBorders={showSideBorders}\n\t\t\t\tshowTopBorder={showTopBorder}\n\t\t\t\tpadSides={padSides}\n\t\t\t\tpadBottom={padBottom}\n\t\t\t\tborderColour={borderColour ?? palette('--article-border')}\n\t\t\t\tbackgroundColour={\n\t\t\t\t\tbackgroundColour ?? palette('--section-background')\n\t\t\t\t}\n\t\t\t\tophanComponentLink={ophanComponentLink}\n\t\t\t\tophanComponentName={ophanComponentName}\n\t\t\t\tcontainerName={containerName}\n\t\t\t\tinnerBackgroundColour={innerBackgroundColour}\n\t\t\t\tclassName={className}\n\t\t\t\telement={element}\n\t\t\t\tshouldCenter={shouldCenter}\n\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\thasPageSkinContentSelfConstrain={\n\t\t\t\t\thasPageSkinContentSelfConstrain\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ElementContainer>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ElementContainer\n\t\t\tsectionId={sectionId}\n\t\t\tshowSideBorders={showSideBorders}\n\t\t\tshowTopBorder={showTopBorder}\n\t\t\tpadSides={padSides}\n\t\t\tborderColour={borderColour ?? palette('--article-border')}\n\t\t\tbackgroundColour={\n\t\t\t\tbackgroundColour ?? palette('--section-background')\n\t\t\t}\n\t\t\telement=\"section\"\n\t\t\tophanComponentLink={ophanComponentLink}\n\t\t\tophanComponentName={ophanComponentName}\n\t\t\tcontainerName={containerName}\n\t\t\tinnerBackgroundColour={innerBackgroundColour}\n\t\t\thasPageSkin={hasPageSkin}\n\t\t\thasPageSkinContentSelfConstrain={hasPageSkinContentSelfConstrain}\n\t\t>\n\t\t\t<Flex>\n\t\t\t\t<LeftColumn\n\t\t\t\t\tborderType={centralBorder}\n\t\t\t\t\tborderColour={borderColour ?? palette('--article-border')}\n\t\t\t\t\tsize={leftColSize}\n\t\t\t\t\tverticalMargins={verticalMargins}\n\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ContainerTitle\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tfontColour={fontColour}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tshowDateHeader={showDateHeader}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{leftContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{treats && (\n\t\t\t\t\t\t\t<Treats\n\t\t\t\t\t\t\t\ttreats={treats}\n\t\t\t\t\t\t\t\tborderColour={\n\t\t\t\t\t\t\t\t\tborderColour ?? palette('--article-border')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</LeftColumn>\n\t\t\t\t<Content\n\t\t\t\t\tpadded={padContent}\n\t\t\t\t\tverticalMargins={verticalMargins}\n\t\t\t\t\tstretchRight={stretchRight}\n\t\t\t\t\tformat={format}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={\n\t\t\t\t\t\t\thasPageSkin\n\t\t\t\t\t\t\t\t? headlineContainerStylesWithPageSkin\n\t\t\t\t\t\t\t\t: headlineContainerStyles\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MaybeHideAboveLeftCol hasPageSkin={hasPageSkin}>\n\t\t\t\t\t\t\t<ContainerTitle\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tfontColour={fontColour}\n\t\t\t\t\t\t\t\tshowDateHeader={showDateHeader}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MaybeHideAboveLeftCol>\n\t\t\t\t\t\t{toggleable && !!sectionId && (\n\t\t\t\t\t\t\t<ShowHideButton sectionId={sectionId} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{toggleable && sectionId ? (\n\t\t\t\t\t\t<div css={hiddenStyles} id={`container-${sectionId}`}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tchildren\n\t\t\t\t\t)}\n\t\t\t\t</Content>\n\t\t\t</Flex>\n\t\t</ElementContainer>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\n\nexport const center = css`\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","import type { DCRFrontImage } from '../types/front';\nimport type { FETrailType, TrailType } from '../types/trails';\nimport { type ArticleFormat, decideFormat } from './articleFormat';\nimport { getDataLinkNameCard } from './getDataLinkName';\n\nexport const decideTrail = (trail: FETrailType, index = 0): TrailType => {\n\tconst format: ArticleFormat = decideFormat(trail.format);\n\tconst image: DCRFrontImage | undefined = trail.image\n\t\t? {\n\t\t\t\tsrc: trail.image,\n\t\t\t\taltText: '', // TODO: Do we get this from frontend?\n\t\t  }\n\t\t: undefined;\n\n\treturn {\n\t\t...trail,\n\t\timage,\n\t\tformat,\n\t\tdataLinkName: getDataLinkNameCard(format, '0', index),\n\t};\n};\n","import type { FEFrontCardStyle } from '../types/front';\nimport type { RichLinkCardType } from '../types/layout';\nimport {\n\tArticleDesign,\n\ttype ArticleFormat,\n\tArticleSpecial,\n} from './articleFormat';\n\n/**\n * TODO: missing \"podcast\"\n */\nconst getLinkType = (\n\t{ theme, design }: ArticleFormat,\n\tcardStyle?: FEFrontCardStyle,\n): RichLinkCardType => {\n\tif (cardStyle === 'ExternalLink') return 'external';\n\tif (cardStyle === 'Feature') return 'feature';\n\n\tswitch (theme) {\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'special-report';\n\t\tdefault:\n\t\t\tswitch (design) {\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn 'analysis';\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\t\treturn 'live';\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\treturn 'dead';\n\t\t\t\tcase ArticleDesign.Feature:\n\t\t\t\t\treturn 'feature';\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\t\treturn 'editorial';\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\t\treturn 'comment';\n\t\t\t\tcase ArticleDesign.Gallery:\n\t\t\t\tcase ArticleDesign.Audio:\n\t\t\t\tcase ArticleDesign.Video:\n\t\t\t\t\treturn 'media';\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\t\treturn 'review';\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn 'letters';\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'news';\n\t\t\t}\n\t}\n};\n\nexport type Group = `${number}` | `${number}+`;\n\n/**\n * Get the `data-link-name` attribute for a card.\n * Used by Ophan for understanding reader journeys. E.g:\n * - `feature | card-2+ | card-@1`\n * - `news | group-0 | card-@5`\n *\n * @see {JSX.IntrinsicAttributes}\n */\nexport const getDataLinkNameCard = (\n\tformat: ArticleFormat,\n\tgroup: Group,\n\tindex: number,\n\tcardStyle?: FEFrontCardStyle,\n): string =>\n\t[\n\t\tgetLinkType(format, cardStyle),\n\t\t`group-${group}`,\n\t\t`card-@${Math.max(index + 1, 1)}`,\n\t].join(' | ');\n","const multipleSlashesInRoute = /\\b\\/{2,}/g;\nconst joinUrl = (...args) => args.join(\"/\").replace(multipleSlashesInRoute, \"/\");\n\nexport { joinUrl };\n"],"names":["ulStyles","direction","spacingPx","css","until","tablet","wrapStyles","from","marginBottom","topBarStyles","splitTopBar","palette","UL","children","showDivider","padBottom","wrapCards","showTopBar","hasLargeSpacing","verticalDividerColour","space","getSpacingPx","ul","verticalDivider","minHeight","FetchOnwardsData","url","limit","onwardsSource","format","discussionApiUrl","absoluteServerTimes","data","error","useApi","window","guardian","modules","sentry","reportError","trails","addDiscussionIds","map","trail","discussion","discussionId","filter","isNonNullable","div","Carousel","heading","displayname","trailLimit","slice","decideTrail","description","leftColSize","design","ArticleDesign","LiveBlog","DeadBlog","Placeholder","height","shouldShimmer","backgroundColor","styles","Flex","gap","style","containerStyles","leftCol","wide","cardsContainer","headerStyles","headlineBold24","mobileHeaderStyles","BigSixOnwardsContent","dataLinkName","decideFormat","headline","image","src","masterImage","getSourceImageUrl","altText","linkText","isExternalLink","showLivePlayable","showQuotedHeadline","webPublicationDate","convertFETrailToDcrTrail","firstSlice75","firstSlice25","secondSlice25","data-component","LeftColumn","h2","span","LI","padSides","percentage","Card","imagePositionOnDesktop","imagePositionOnMobile","imageSize","imageLoading","linkTo","headlineText","showAge","index","ALLOWED_TAGS","firstPopularTag","keywordIds","isPaidContent","tags","split","find","tag","includes","onwardsWrapper","containerUrls","headlines","UK","US","AU","INT","EUR","sport","opinion","culture","lifestyle","getContainer","pillar","editionId","OnwardsUpper","ajaxUrl","hasRelated","hasStoryPackage","isAdFreeUser","pageId","showRelatedContent","contentType","shortUrlId","useAB","abTestAPI","api","isInOnwardsAbTestVariant","isUserInVariant","useIsAndroid","tagToFilterBy","seriesTag","type","joinUrl","id","popularInTagUrl","tagsToExclude","push","toLowerCase","length","queryParams","join","relatedUrl","curatedDataUrl","Pillar","Sport","News","Culture","Lifestyle","Opinion","getContainerDataUrl","undefined","Section","fullWidth","borderColour","BACKGROUND_COLOUR","neutral","shimmer","keyframes","shimmerStyles","rootId","width","spaceBelow","spaceLeft","data-name","isUndefined","hiddenStyles","sidePadding","mobileLandscape","bottomPadding","sideBorderStyles","topBorderStyles","ElementContainer","sectionId","showSideBorders","showTopBorder","backgroundColour","innerBackgroundColour","shouldCenter","element","className","ophanComponentName","ophanComponentLink","containerName","hasPageSkin","hasPageSkinContentSelfConstrain","jsx","pageSkinContainer","borderColor","center","headlineContainerStyles","headlineContainerStylesWithPageSkin","margins","rightMargin","padding","desktop","Content","padded","verticalMargins","stretchRight","MaybeHideAboveLeftCol","Hide","when","breakpoint","title","fontColour","centralBorder","padContent","leftContent","toggleable","showDateHeader","treats","borderType","size","ContainerTitle","Treats","ShowHideButton","getDataLinkNameCard","getLinkType","cardStyle","theme","ArticleSpecial","SpecialReport","Analysis","Feature","Editorial","Comment","Gallery","Audio","Video","Review","Letter","group","Math","max","multipleSlashesInRoute","args","replace"],"sourceRoot":""}