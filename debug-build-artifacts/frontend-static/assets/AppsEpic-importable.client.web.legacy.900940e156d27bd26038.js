(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[4942],{20388:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppsEpic:()=>A});var r=n(62335),o=n(22820),i=n(50484),c=n(24017),u=n(59648),a=n(71653),s=n(81477),l=n(50641),d=n(67400),f=n(55044),v=n(1954),p=n(99354),h=n(13948),g=n(28673),y=n(83254),b=n(73483),w=n(88528);function m(e){var t=e.title,n=e.body,r=e.firstButton,c=e.secondButton,u=(0,w.E)({debounce:!0}),a=(0,o.A)(u,2),s=a[0],l=a[1],v=(0,d.useState)(!1),m=(0,o.A)(v,2),P=m[0],k=m[1];(0,d.useEffect)((function(){s&&!P&&((0,f.OA)().epicSeen(),k(!0))}),[s,P,k]);var A=function(e){var t=e.text;return(0,i.jsx)(g.$,{onClick:function(){(0,f.OA)().launchPurchaseScreen(h.PurchaseScreenReason.epic)},iconSide:"right",icon:(0,i.jsx)(y._,{}),children:t})};return(0,i.jsxs)("div",{ref:l,children:[(0,i.jsx)("h1",{dangerouslySetInnerHTML:{__html:t}}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}),(0,i.jsx)("div",{className:"button-container",children:(0,i.jsxs)(p.a,{theme:b.P6,children:[(0,i.jsx)(A,{text:r}),!!c&&(0,i.jsx)(A,{text:c})]})})]})}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){var e=(0,d.useState)(!0),t=(0,o.A)(e,2),n=t[0],r=t[1],c=(0,d.useState)(void 0),u=(0,o.A)(c,2),a=u[0],s=u[1];if((0,d.useEffect)((function(){(0,f.LE)().isPremium().then(r).catch((function(){}))}),[]),(0,d.useEffect)((function(){(0,f.OA)().getEpics().then((function(e){s(e.epic)})).catch((function(){}))}),[]),!n&&a){var l={title:a.title,body:a.body,firstButton:a.firstButton,secondButton:a.secondButton};return(0,i.jsx)("div",{css:O,children:(0,i.jsx)(m,k({},l))})}return null},O=(0,c.css)("&>div{border-top:1px solid ",(0,v.M)("--apps-epic-border"),";background:",(0,v.M)("--apps-epic-background"),";color:",(0,v.M)("--apps-epic-text"),";padding:",u.L[3],";",a.Ni,";clear:left;",s.HT.wide,"{margin:",u.L[3]," 0;}}h1:first-of-type{margin-top:0;",a.muz,";}button{margin:0 ",u.L[3]," ",u.L[3]," 0;}.button-container{margin-top:",u.L[9],";}mark{background:",l.M.brandAlt[400],";padding:0.1rem 0.125rem;}.button-container svg{margin-right:-4px;flex:0 0 auto;display:block;fill:currentColor;position:relative;width:30px;height:auto;}.src-button-space{width:12px;}button{display:inline-flex;justify-content:space-between;align-items:center;box-sizing:border-box;border:none;background:transparent;cursor:pointer;transition:0.3s ease-in-out;text-decoration:none;white-space:nowrap;",a.NA0," line-height:1.5;font-weight:700;height:44px;min-height:44px;padding:0 20px;border-radius:44px;padding-bottom:2px;background-color:",l.M.brandAlt[400],";color:",l.M.brand[400],";margin:0 ",u.L[3]," ",u.L[3]," 0;}")},55044:(e,t,n)=>{"use strict";n.d(t,{OA:()=>$,IC:()=>Z,GR:()=>R,QF:()=>re,Dq:()=>D,yY:()=>q,_5:()=>ie,ud:()=>te,U:()=>W,yV:()=>U,LE:()=>K,FA:()=>J});var r=n(83551),o=n(555),i=n(16873),c=n(40771),u=n(72910),a=n(46365),s=n(43019),l=(n(53274),n(81449)),d=(n(79907),n(72031)),f=n(69139),v=n(30316),p=n(435),h=n(65656),g=n(73745),y=n(58201),b=n(69584),w=n(56318),m=n(8433),P=n(62335),k=n(13213),A=n(14611);function O(e,t,n,r){var o=(0,A.A)((0,w.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function j(e,t,n){return t=(0,w.A)(t),(0,b.A)(e,B()?Reflect.construct(t,n||[],(0,w.A)(e).constructor):t.apply(e,n))}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}var S=function(e){function t(e,n){var r;return(0,g.A)(this,t),r=j(this,t,[e]),(0,P.A)(r,"serviceName",void 0),r.serviceName=n,r}return(0,m.A)(t,e),(0,y.A)(t,[{key:"writeMessageBegin",value:function(e,n,r){n===k.MessageType.CALL||n===k.MessageType.ONEWAY?O(t,"writeMessageBegin",this,3)([this.serviceName+t.separator+e,n,r]):O(t,"writeMessageBegin",this,3)([e,n,r])}}])}(function(e){function t(e){var n;return(0,g.A)(this,t),n=j(this,t,[e.getTransport()]),(0,P.A)(n,"concreteProtocol",void 0),n.concreteProtocol=e,n}return(0,m.A)(t,e),(0,y.A)(t,[{key:"getTransport",value:function(){return this.concreteProtocol.getTransport()}},{key:"flush",value:function(){return this.concreteProtocol.flush()}},{key:"writeMessageBegin",value:function(e,t,n){return this.concreteProtocol.writeMessageBegin(e,t,n)}},{key:"writeMessageEnd",value:function(){return this.concreteProtocol.writeMessageEnd()}},{key:"writeStructBegin",value:function(e){return this.concreteProtocol.writeStructBegin(e)}},{key:"writeStructEnd",value:function(){return this.concreteProtocol.writeStructEnd()}},{key:"writeFieldBegin",value:function(e,t,n){return this.concreteProtocol.writeFieldBegin(e,t,n)}},{key:"writeFieldEnd",value:function(){return this.concreteProtocol.writeFieldEnd()}},{key:"writeFieldStop",value:function(){return this.concreteProtocol.writeFieldStop()}},{key:"writeMapBegin",value:function(e,t,n){return this.concreteProtocol.writeMapBegin(e,t,n)}},{key:"writeMapEnd",value:function(){return this.concreteProtocol.writeMapEnd()}},{key:"writeListBegin",value:function(e,t){return this.concreteProtocol.writeListBegin(e,t)}},{key:"writeListEnd",value:function(){return this.concreteProtocol.writeListEnd()}},{key:"writeSetBegin",value:function(e,t){return this.concreteProtocol.writeSetBegin(e,t)}},{key:"writeSetEnd",value:function(){return this.concreteProtocol.writeSetEnd()}},{key:"writeBool",value:function(e){return this.concreteProtocol.writeBool(e)}},{key:"writeByte",value:function(e){return this.concreteProtocol.writeByte(e)}},{key:"writeI16",value:function(e){return this.concreteProtocol.writeI16(e)}},{key:"writeI32",value:function(e){return this.concreteProtocol.writeI32(e)}},{key:"writeI64",value:function(e){return this.concreteProtocol.writeI64(e)}},{key:"writeDouble",value:function(e){return this.concreteProtocol.writeDouble(e)}},{key:"writeString",value:function(e){return this.concreteProtocol.writeString(e)}},{key:"writeBinary",value:function(e){return this.concreteProtocol.writeBinary(e)}},{key:"readMessageBegin",value:function(){return this.concreteProtocol.readMessageBegin()}},{key:"readMessageEnd",value:function(){return this.concreteProtocol.readMessageEnd()}},{key:"readStructBegin",value:function(){return this.concreteProtocol.readStructBegin()}},{key:"readStructEnd",value:function(){return this.concreteProtocol.readStructEnd()}},{key:"readFieldBegin",value:function(){return this.concreteProtocol.readFieldBegin()}},{key:"readFieldEnd",value:function(){return this.concreteProtocol.readFieldEnd()}},{key:"readMapBegin",value:function(){return this.concreteProtocol.readMapBegin()}},{key:"readMapEnd",value:function(){return this.concreteProtocol.readMapEnd()}},{key:"readListBegin",value:function(){return this.concreteProtocol.readListBegin()}},{key:"readListEnd",value:function(){return this.concreteProtocol.readListEnd()}},{key:"readSetBegin",value:function(){return this.concreteProtocol.readSetBegin()}},{key:"readSetEnd",value:function(){return this.concreteProtocol.readSetEnd()}},{key:"readBool",value:function(){return this.concreteProtocol.readBool()}},{key:"readByte",value:function(){return this.concreteProtocol.readByte()}},{key:"readI16",value:function(){return this.concreteProtocol.readI16()}},{key:"readI32",value:function(){return this.concreteProtocol.readI32()}},{key:"readI64",value:function(){return this.concreteProtocol.readI64()}},{key:"readDouble",value:function(){return this.concreteProtocol.readDouble()}},{key:"readBinary",value:function(){return this.concreteProtocol.readBinary()}},{key:"readString",value:function(){return this.concreteProtocol.readString()}},{key:"skip",value:function(e){return this.concreteProtocol.skip(e)}}])}(k.TProtocol));function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t=(0,w.A)(t),(0,b.A)(e,M()?Reflect.construct(t,n||[],(0,w.A)(e).constructor):t.apply(e,n))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function I(e){window.android?window.android.postMessage(e.data,e.connectionId):window.webkit?window.webkit.messageHandlers.iOSWebViewMessage.postMessage(e):console.warn("No native APIs available")}(0,P.A)(S,"separator",":");var L=1,C=function(){return"connection-".concat(L++)},T=function(e){function t(e,n){var r,o;return(0,g.A)(this,t),r=E(this,t,[e,n]),(0,P.A)(r,"connectionId",C()),(0,P.A)(r,"promises",[]),(0,P.A)(r,"outBuffer",[]),"undefined"!=typeof window&&(window.nativeConnections=null!==(o=window.nativeConnections)&&void 0!==o?o:{},window.nativeConnections[r.connectionId]=r),r}return(0,m.A)(t,e),(0,y.A)(t,[{key:"reset",value:function(e){if(e===this.connectionId&&window.nativeConnections){console.warn("Reseting connection "+e),delete window.nativeConnections[this.connectionId];var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}(this.promises);try{for(n.s();!(t=n.n()).done;)t.value.reject(new k.TApplicationException(k.TApplicationExceptionType.UNKNOWN,"Timeout error"))}catch(e){n.e(e)}finally{n.f()}this.promises=[],this.connectionId=C(),window.nativeConnections[this.connectionId]=this}}},{key:"receive",value:function(e){var t=this.promises.shift();if(t){clearTimeout(t.timeoutId);var n=Buffer.from(e.data,"base64");t.resolve(n)}this.sendNextMessage()}},{key:"sendNextMessage",value:function(){var e=this.outBuffer.shift();e&&(console.log("Sending next message"),I(e))}},{key:"send",value:function(e){var t=this.connectionId,n=this;return new Promise((function(r,o){n.promises.push({resolve:r,reject:o,timeoutId:setTimeout((function(){n.reset(t)}),3e4)});var i={data:e.toString("base64"),connectionId:t};1===n.promises.length?(console.log("Sending message immediately"),I(i)):(console.log("Queing message because others in flight"),n.outBuffer.push(i))}))}}])}(k.ThriftConnection);function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffered",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact",r=function(t){function r(t){var o;return(0,g.A)(this,r),E(this,r,[new((0,k.getProtocol)(n))(t),null!==(o=e.serviceName)&&void 0!==o?o:""])}return(0,m.A)(r,t),(0,y.A)(r)}(S),o=new T((0,k.getTransport)(t),r);return new e(o)}var _=void 0,D=function(){return(0,h.b)(_)&&(_=N(u.Client,"buffered","compact")),_},F=void 0,R=function(){return(0,h.b)(F)&&(F=N(i.Client,"buffered","compact")),F},z=void 0,$=function(){return z||(z=N(r.Client,"buffered","compact")),z},H=void 0,W=function(){return H||(H=N(d.Client,"buffered","compact")),H},Q=void 0,U=function(){return Q||(Q=N(f.Client,"buffered","compact")),Q},V=void 0,K=function(){return V||(V=N(v.Client,"buffered","compact")),V},Y=void 0,q=function(){return Y||(Y=N(a.Client,"buffered","compact")),Y},G=void 0,J=function(){return G||(G=N(p.Client,"buffered","compact")),G},X=void 0,Z=function(){return X||(X=N(o.Client,"buffered","compact")),X},ee=void 0,te=function(){return ee||(ee=N(l.Client,"buffered","compact")),ee},ne=void 0,re=function(){return ne||(ne=N(c.Client,"buffered","compact")),ne},oe=void 0,ie=function(){return oe||(oe=N(s.Client,"buffered","compact")),oe}},88528:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var r=n(22820),o=n(44165),i=n.n(o),c=n(67400),u=function(e){var t,n=(0,c.useState)(!1),o=(0,r.A)(n,2),u=o[0],a=o[1],s=(0,c.useState)(null!==(t=e.node)&&void 0!==t?t:null),l=(0,r.A)(s,2),d=l[0],f=l[1],v=(0,c.useRef)(null),p=(0,c.useCallback)((function(t){var n=(0,r.A)(t,1)[0];n&&(n.isIntersecting?a(!0):e.repeat&&a(!1))}),[e.repeat]),h=e.debounce?i()(p,200):p;return(0,c.useEffect)((function(){e.node&&f(e.node)}),[e.node]),(0,c.useEffect)((function(){if(d&&"IntersectionObserver"in window)return v.current=new window.IntersectionObserver(h,e),v.current.observe(d),function(){var e;return null===(e=v.current)||void 0===e?void 0:e.disconnect()}}),[d,e,h]),(0,c.useEffect)((function(){var t;!e.repeat&&u&&(null===(t=v.current)||void 0===t||t.disconnect())}),[u,e.repeat]),[u,f]}},1954:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=function(e){return"var(".concat(e,")")}},13948:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseScreenReason=void 0,function(e){e[e.hideAds=0]="hideAds",e[e.epic=1]="epic"}(n||(t.PurchaseScreenReason=n={}))},44165:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")(),d=Object.prototype.toString,f=Math.max,v=Math.min,p=function(){return l.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,c,u,a,s=0,l=!1,d=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=r,i=o;return r=o=void 0,s=t,c=e.apply(i,n)}function w(e){var n=e-a;return void 0===a||n>=t||n<0||d&&e-s>=i}function m(){var e=p();if(w(e))return P(e);u=setTimeout(m,function(e){var n=t-(e-a);return d?v(n,i-(e-s)):n}(e))}function P(e){return u=void 0,y&&r?b(e):(r=o=void 0,c)}function k(){var e=p(),n=w(e);if(r=arguments,o=this,a=e,n){if(void 0===u)return function(e){return s=e,u=setTimeout(m,t),l?b(e):c}(a);if(d)return u=setTimeout(m,t),b(a)}return void 0===u&&(u=setTimeout(m,t)),c}return t=g(t)||0,h(n)&&(l=!!n.leading,i=(d="maxWait"in n)?f(g(n.maxWait)||0,t):i,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=a=o=u=void 0},k.flush=function(){return void 0===u?c:P(p())},k}},50150:()=>{},83254:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(50484),o=n(24017),i=n(72657),c=n(26633),u=function(e){var t=e.size,n=e.theme;return(0,r.jsx)("svg",{width:t?c.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12.956h18.274l-7.167 8.575.932.932L23 12.478v-.956l-9.96-9.985-.932.932 7.166 8.575H1z",fill:null==n?void 0:n.fill})})},a=function(e){var t=e.size,n=e.theme,c=e.isAnnouncedByScreenReader,a=void 0!==c&&c;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{size:t,theme:n}),a?(0,r.jsx)("span",{css:(0,o.css)(i.Q,";"),children:"Arrow right"}):""]})}},28673:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var r=n(62335),o=n(5926),i=n(50484),c=n(48264),u=n(44759),a=["priority","size","icon","iconSide","hideLabel","nudgeIcon","type","isLoading","loadingAnnouncement","cssOverrides","children","theme"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.priority,n=e.size,r=e.icon,s=e.iconSide,d=e.hideLabel,f=e.nudgeIcon,v=e.type,p=void 0===v?"button":v,h=e.isLoading,g=void 0!==h&&h,y=e.loadingAnnouncement,b=void 0===y?"Loading":y,w=e.cssOverrides,m=e.children,P=e.theme,k=(0,o.A)(e,a);return(0,i.jsx)("button",l(l({css:(0,u.V)({size:n,priority:t,icon:r,hideLabel:d,iconSide:s,nudgeIcon:f,cssOverrides:w,isLoading:g,theme:P}),type:p,"aria-live":"polite","aria-label":g?b:void 0},k),{},{children:(0,c.b)({hideLabel:d,iconSvg:r,isLoading:g,children:m})}))}}}]);
//# sourceMappingURL=AppsEpic-importable.client.web.legacy.900940e156d27bd26038.js.map