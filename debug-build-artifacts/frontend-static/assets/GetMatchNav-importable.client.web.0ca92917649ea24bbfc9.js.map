{"version":3,"file":"GetMatchNav-importable.client.web.0ca92917649ea24bbfc9.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/AgeWarning.tsx","webpack://@guardian/dotcom-rendering/./src/components/DesignTag.tsx","webpack://@guardian/dotcom-rendering/./src/components/BylineLink.tsx","webpack://@guardian/dotcom-rendering/./src/components/HeadlineByline.tsx","webpack://@guardian/dotcom-rendering/./src/components/ArticleHeadline.tsx","webpack://@guardian/dotcom-rendering/./src/lib/age-warning.ts","webpack://@guardian/dotcom-rendering/./src/components/numbers/Eight.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Five.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Four.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Nine.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/One.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Seven.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Six.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Ten.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Three.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Two.tsx","webpack://@guardian/dotcom-rendering/./src/components/numbers/Zero.tsx","webpack://@guardian/dotcom-rendering/./src/components/Score.tsx","webpack://@guardian/dotcom-rendering/./src/components/MatchNav.tsx","webpack://@guardian/dotcom-rendering/./src/components/GetMatchNav.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/Island.tsx","webpack://@guardian/dotcom-rendering/./src/layouts/lib/interactiveLegacyStyling.ts","webpack://@guardian/dotcom-rendering/./src/lib/articleFormat.ts","webpack://@guardian/dotcom-rendering/./src/lib/byline.ts","webpack://@guardian/dotcom-rendering/./src/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/lib/useApi.ts"],"sourcesContent":["import { css } from '@emotion/react';\nimport {\n\tfrom,\n\ttextSans12,\n\ttextSans17,\n\tvisuallyHidden,\n} from '@guardian/source/foundations';\nimport { palette } from '../palette';\n\ntype Props = {\n\tage: string;\n\tisScreenReader?: boolean;\n\tsize?: 'small' | 'medium';\n};\n\nconst ageWarningStyles = (isSmall: boolean) => css`\n\t${isSmall ? textSans12 : textSans17};\n\tcolor: ${palette('--age-warning-text')};\n\tbackground-color: ${palette('--age-warning-background')};\n\tdisplay: inline-block;\n\n\t> strong {\n\t\tfont-weight: bold;\n\t}\n\n\tpadding: ${isSmall ? '3px 5px' : '6px 10px'};\n\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${isSmall ? '6px' : '12px'};\n\t}\n\n\t${from.leftCol} {\n\t\tpadding-left: ${isSmall ? '5px' : '10px'};\n\t}\n`;\n\nconst ageWarningScreenReader = css`\n\t${visuallyHidden};\n`;\n\nconst ensureOldText = (age: string) =>\n\tage.endsWith('old') ? age : `${age} old`;\n\nexport const AgeWarning = ({ age, isScreenReader, size = 'medium' }: Props) => {\n\tconst warningPrefix = 'This article is more than ';\n\tconst isSmall = size === 'small';\n\tconst ageOld = ensureOldText(age);\n\n\tif (isScreenReader) {\n\t\treturn <div css={ageWarningScreenReader}>{warningPrefix + age}</div>;\n\t}\n\n\treturn (\n\t\t<div css={ageWarningStyles(isSmall)} aria-hidden=\"true\">\n\t\t\t<svg width=\"11\" height=\"11\" viewBox=\"0 0 11 11\" fill=\"currentColor\">\n\t\t\t\t<path d=\"M5.4 0C2.4 0 0 2.4 0 5.4s2.4 5.4 5.4 5.4 5.4-2.4 5.4-5.4S8.4 0 5.4 0zm3 6.8H4.7V1.7h.7L6 5.4l2.4.6v.8z\"></path>\n\t\t\t</svg>{' '}\n\t\t\t{warningPrefix}\n\t\t\t<strong>{ageOld}</strong>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\theadlineBold17,\n\theadlineBold20,\n\tspace,\n\tuntil,\n} from '@guardian/source/foundations';\nimport { LinkButton } from '@guardian/source/react-components';\nimport { ArticleDesign, type ArticleFormat } from '../lib/articleFormat';\nimport { palette } from '../palette';\n\nconst tagStyles = css`\n\tbackground-color: ${palette('--design-tag-background')};\n\tcolor: ${palette('--design-tag-text')};\n\tdisplay: inline-block;\n\tpadding: 2px 0 4px 0;\n\t${headlineBold20}\n\tline-height: 115%;\n\tbox-shadow:\n\t\t6px 0 0 ${palette('--design-tag-background')},\n\t\t-6px 0 0 ${palette('--design-tag-background')};\n\tbox-decoration-break: clone;\n\t${until.tablet} {\n\t\t${headlineBold17}\n\t}\n`;\n\nconst Margins = ({\n\tchildren,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n}) => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-left: 6px;\n\t\t\t\t\t\tmargin-top: ${space[1]}px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-left: 6px;\n\t\t\t\t\t\tmargin-top: 5px;\n\t\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\t\tmargin-top: ${space[2]}px;\n\t\t\t\t\t\t\tmargin-bottom: ${space[1]}px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t}\n};\n\nconst Tag = ({ children }: { children: React.ReactNode }) => {\n\treturn <div css={tagStyles}>{children}</div>;\n};\n\nconst TagLink = ({\n\tchildren,\n\thref,\n}: {\n\tchildren: React.ReactNode;\n\thref: string;\n}) => {\n\treturn (\n\t\t<LinkButton\n\t\t\tpriority=\"subdued\"\n\t\t\thref={href}\n\t\t\tcssOverrides={css`\n\t\t\t\t/* The following styles turn off those provided by LinkButton */\n\t\t\t\tcolor: inherit;\n\t\t\t\ttext-decoration: none;\n\t\t\t\ttext-underline-offset: inherit;\n\t\t\t\t/* stylelint-disable-next-line property-disallowed-list */\n\t\t\t\tfont-family: inherit;\n\t\t\t\tfont-size: inherit;\n\t\t\t\tline-height: inherit;\n\n\t\t\t\t:hover {\n\t\t\t\t\tcolor: inherit;\n\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t}\n\t\t\t\tmin-height: initial;\n\t\t\t\theight: initial;\n\t\t\t`}\n\t\t>\n\t\t\t{children}\n\t\t</LinkButton>\n\t);\n};\n\nexport const DesignTag = ({ format }: { format: ArticleFormat }) => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/analysis\">Analysis</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Explainer:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/explainers\">Explainer</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/interview\">Interview</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Letter:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/letters\">Letters</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Obituary:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/obituaries\">Obituary</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Review:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/reviews\">Review</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Timeline:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/timelines\">Timeline</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Profile:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag>\n\t\t\t\t\t\t<TagLink href=\"/tone/profiles\">Profile</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n","import { isString } from '@guardian/libs';\nimport { Hide } from '@guardian/source/react-components';\nimport { DottedLines } from '@guardian/source-development-kitchen/react-components';\nimport { ArticleDesign, type ArticleFormat } from '../lib/articleFormat';\nimport {\n\tgetBylineComponentsFromTokens,\n\tgetSoleContributor,\n\tisContributor,\n} from '../lib/byline';\nimport { palette as themePalette } from '../palette';\nimport type { TagType } from '../types/tag';\nimport { useConfig } from './ConfigContext';\nimport { FollowWrapper } from './FollowWrapper.importable';\nimport { Island } from './Island';\n\ntype Props = {\n\tbyline?: string;\n\ttags: TagType[];\n\tsource?: string;\n\tformat: ArticleFormat;\n\tisHeadline: boolean;\n};\n\nconst applyCleverOrderingForMatching = (titles: string[]): string[] => {\n\t/*\n\t\tQ: Why does this function exist ?\n\n\t\tA: We had a case where the byline was \"Sam Levin in Los Angeles and Sam Levine in New York\",\n\t\twhich would lead to the regex: Sam Levin|Sam Levine. Unfortunately the first expression would take priority and we would end up\n\t\twith a bylineAsTokens equal to [\n\t\t\t'',\n\t\t\t'Sam Levin',\n\t\t\t' in Los Angeles and ',\n\t\t\t'Sam Levin',\n\t\t\t'e in New York'\n\t\t]\n\n\t\tThe solution here is simply to order the titles in decreasing length. This ensures that in a case where one name is a substring or another\n\t\tname, then the longest name is tried first, preventing the problem we had. We now have a bylineAsTokens equals to [\n\t\t\t'',\n\t\t\t'Sam Levin',\n\t\t\t' in Los Angeles and ',\n\t\t\t'Sam Levine',\n\t\t\t' in New York'\n\t\t]\n\n\t\tThis function doesn't change any thing for the \"standard\" case, but solves the \"Sam Levin|Sam Levine\" case and similar cases.\n\n\t\tps: If one day another problem comes up whose solution would be incompatible with this correction, then a better solution for the matching\n\t\twill have to be invented from the ground up, but for the moment, this will do :)\n\t*/\n\n\treturn titles\n\t\t.sort((a, b) => {\n\t\t\treturn a.length - b.length;\n\t\t})\n\t\t.reverse();\n};\n\n/**\n * Bylines can contain special characters reserved by RegEx.\n * Since we're concatenating titles together to form a RegEx\n * its important to escape any characters that RegEx might consider\n * special.\n */\nexport const SPECIAL_REGEX_CHARACTERS = new RegExp(/[.+*?^$(){}|[\\]]/g);\n\n/**\n * This crazy function aims to split bylines such as\n * 'Harry Potter in Hogwarts' to ['Harry Potter', 'in Hogwarts']\n * Or\n * 'Jane Doe and John Smith` to ['Jane Doe', ' and ', 'John Smith']\n * It does this so we can have separate links to both contributors\n */\nexport const bylineAsTokens = (\n\tbyline: string | undefined,\n\ttags: TagType[],\n): string[] => {\n\tif (!byline) return [];\n\t// Replace special regex characters with their escaped version.\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_string_as_the_replacement\n\tconst titles = tags\n\t\t.filter(isContributor)\n\t\t.map((c) => c.title.replaceAll(SPECIAL_REGEX_CHARACTERS, `\\\\$&`));\n\t// The contributor tag title should exist inside the byline for the regex\n\t// below to work. If it doesn't, we return the whole byline to prevent the\n\t// regex splitting the string into an array of single charaters\n\tif (titles.length === 0) return [byline];\n\n\tconst regex = new RegExp(\n\t\t`(${applyCleverOrderingForMatching(titles).join('|')})`,\n\t);\n\n\treturn byline.split(regex);\n};\n\nconst ContributorLink = ({\n\tcontributor,\n\tcontributorTagId,\n}: {\n\tcontributor: string;\n\tcontributorTagId: string;\n}) => (\n\t<a\n\t\trel=\"author\"\n\t\tdata-link-name=\"auto tag link\"\n\t\thref={`https://www.theguardian.com/${contributorTagId}`}\n\t>\n\t\t{contributor}\n\t</a>\n);\n\nconst Source = ({ source }: { source: string }) => (\n\t<span>\n\t\t{source === 'guardian.co.uk' ? 'theguardian.com' : `Source: ${source}`}\n\t</span>\n);\n\nfunction removeComma(bylinePart: string) {\n\treturn bylinePart.startsWith(',')\n\t\t? bylinePart.slice(1).trimStart()\n\t\t: bylinePart;\n}\n\nconst getRenderedTokens = (\n\tbylineComponents: ReturnType<typeof getBylineComponentsFromTokens>,\n\thasSoleContributor: boolean,\n\tdesign: ArticleDesign,\n\tsource?: string,\n) => {\n\tconst renderedTokens = bylineComponents.map((bylineComponent) => {\n\t\tif (isString(bylineComponent)) {\n\t\t\tconst displayString =\n\t\t\t\tdesign === ArticleDesign.Analysis && hasSoleContributor\n\t\t\t\t\t? removeComma(bylineComponent)\n\t\t\t\t\t: bylineComponent;\n\t\t\treturn displayString ? (\n\t\t\t\t<span key={bylineComponent}>{displayString}</span>\n\t\t\t) : null;\n\t\t}\n\t\treturn (\n\t\t\t<ContributorLink\n\t\t\t\tcontributor={bylineComponent.token}\n\t\t\t\tcontributorTagId={bylineComponent.tag.id}\n\t\t\t\tkey={bylineComponent.tag.id}\n\t\t\t/>\n\t\t);\n\t});\n\n\tif (\n\t\t(design === ArticleDesign.Video || design === ArticleDesign.Audio) &&\n\t\tisString(source) &&\n\t\tsource !== ''\n\t) {\n\t\treturn renderedTokens.concat(\n\t\t\t<>\n\t\t\t\t{renderedTokens.length > 0 && ', '}\n\t\t\t\t<Source key=\"source\" source={source} />\n\t\t\t</>,\n\t\t);\n\t}\n\n\treturn renderedTokens;\n};\n\nexport const BylineLink = ({\n\tbyline,\n\ttags,\n\tsource,\n\tformat,\n\tisHeadline = false,\n}: Props) => {\n\tconst tokens = bylineAsTokens(byline, tags);\n\tconst soleContributor = getSoleContributor(tags, byline);\n\tconst hasSoleContributor = !!soleContributor;\n\tconst bylineComponents = getBylineComponentsFromTokens(tokens, tags);\n\n\tconst renderedTokens = getRenderedTokens(\n\t\tbylineComponents,\n\t\thasSoleContributor,\n\t\tformat.design,\n\t\tsource,\n\t);\n\n\tconst { renderingTarget } = useConfig();\n\tconst isApps = renderingTarget === 'Apps';\n\n\tconst isLiveBlog = format.design === ArticleDesign.LiveBlog;\n\n\treturn (\n\t\t<>\n\t\t\t{renderedTokens}\n\t\t\t{isApps && !isLiveBlog && !isHeadline && hasSoleContributor ? (\n\t\t\t\t<Hide from=\"leftCol\">\n\t\t\t\t\t<DottedLines\n\t\t\t\t\t\tcount={1}\n\t\t\t\t\t\tcolor={themePalette('--article-meta-lines')}\n\t\t\t\t\t/>\n\t\t\t\t\t<Island priority=\"critical\">\n\t\t\t\t\t\t<FollowWrapper\n\t\t\t\t\t\t\tdisplayName={soleContributor.title}\n\t\t\t\t\t\t\tid={soleContributor.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Island>\n\t\t\t\t</Hide>\n\t\t\t) : null}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineLight28,\n\theadlineLight34,\n\theadlineMedium20,\n\theadlineMedium24,\n\tpalette,\n\tspace,\n\ttextSans20,\n\ttextSans24,\n\ttextSans34,\n\tuntil,\n} from '@guardian/source/foundations';\nimport {\n\tArticleDesign,\n\tArticleDisplay,\n\ttype ArticleFormat,\n\tArticleSpecial,\n} from '../lib/articleFormat';\nimport { getSoleContributor } from '../lib/byline';\nimport { palette as schemedPalette } from '../palette';\nimport type { TagType } from '../types/tag';\nimport { BylineLink } from './BylineLink';\n\nconst wrapperStyles = css`\n\tmargin-left: 6px;\n\tmargin-top: 4px;\n\t/* Without z-index here the byline appears behind the main image for showcase views */\n\tz-index: 1;\n`;\n\nconst interviewBylineBoxStyles = (format: ArticleFormat) => css`\n\t${format.theme === ArticleSpecial.Labs ? textSans20 : headlineMedium20}\n\t${format.theme !== ArticleSpecial.Labs && 'line-height: 1.4;'}\n\tbackground-color: ${schemedPalette('--byline-background')};\n\tbox-shadow:\n\t\t4px 0 0 ${schemedPalette('--byline-background')},\n\t\t-6px 0 0 ${schemedPalette('--byline-background')};\n\tdisplay: inline-block;\n\tbox-decoration-break: clone;\n\tcolor: ${schemedPalette('--headline-byline')};\n\n\ta {\n\t\tcolor: ${schemedPalette('--byline-anchor')};\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst opinionWrapperStyles = css`\n\tdisplay: inline-block;\n`;\n\nconst opinionStyles = (format: ArticleFormat) => css`\n\t${format.theme === ArticleSpecial.Labs ? textSans34 : headlineLight34}\n\tline-height: 38px;\n\t/* Used to prevent the byline stretching full width */\n\tdisplay: inline;\n\tcolor: ${schemedPalette('--byline')};\n\n\t${until.tablet} {\n\t\t${headlineLight28}\n\t}\n\n\ta {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst analysisStyles = css`\n\t${headlineLight34};\n\tline-height: 38px;\n\tcolor: ${schemedPalette('--byline-anchor')};\n\n\t${until.tablet} {\n\t\t${headlineLight28}\n\t}\n\n\ta {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n\tspan {\n\t\tcolor: ${palette.neutral[46]};\n\t}\n`;\n\nconst analysisSingleContributorStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst immersiveStyles = (format: ArticleFormat) => css`\n\t${format.theme === ArticleSpecial.Labs ? textSans20 : headlineMedium20}\n\t${format.theme === ArticleSpecial.Labs && 'line-height: 1.15;'}\n\tmargin-bottom: ${space[6]}px;\n\tcolor: ${schemedPalette('--headline-byline')};\n\t${from.tablet} {\n\t\tmargin-bottom: 0;\n\t\t${format.theme === ArticleSpecial.Labs ? textSans24 : headlineMedium24}\n\t}\n`;\n\nconst immersiveLinkStyles = css`\n\ta {\n\t\tcolor: ${schemedPalette('--byline-anchor')};\n\t\t/* https://caniuse.com/mdn-css_properties_text-decoration-color */\n\t\ttext-decoration-color: ${schemedPalette('--byline-underline')};\n\t\t/* https://caniuse.com/mdn-css_properties_text-decoration-thickness */\n\t\ttext-decoration-thickness: 1px;\n\t\t/* https://caniuse.com/mdn-css_properties_text-underline-offset */\n\t\ttext-underline-offset: 6px;\n\t\t:hover {\n\t\t\tcolor: ${schemedPalette('--byline-hover')};\n\t\t\ttext-decoration-color: inherit;\n\t\t}\n\t}\n`;\n\n// If there is an image reduce the width of the author div\nconst authorBylineWithImage = css`\n\twidth: 68%;\n`;\n\ntype Props = {\n\tformat: ArticleFormat;\n\tbyline: string;\n\ttags: TagType[];\n};\n\nexport const HeadlineByline = ({ format, byline, tags }: Props) => {\n\tif (byline === '') {\n\t\treturn null;\n\t}\n\n\tconst hasSingleContributor = !!getSoleContributor(tags, byline);\n\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn (\n\t\t\t\t<div css={immersiveStyles(format)}>\n\t\t\t\t\tBy{' '}\n\t\t\t\t\t<span css={immersiveLinkStyles}>\n\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\tisHeadline={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard:\n\t\tdefault: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Interview:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div css={wrapperStyles}>\n\t\t\t\t\t\t\t<div css={interviewBylineBoxStyles(format)}>\n\t\t\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tisHeadline={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\topinionWrapperStyles,\n\t\t\t\t\t\t\t\thasSingleContributor && authorBylineWithImage,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div css={opinionStyles(format)}>\n\t\t\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tisHeadline={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div css={opinionWrapperStyles}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\tanalysisStyles,\n\t\t\t\t\t\t\t\t\thasSingleContributor &&\n\t\t\t\t\t\t\t\t\t\tanalysisSingleContributorStyles,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tisHeadline={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n};\n","import { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold28,\n\theadlineBold34,\n\theadlineBold50,\n\theadlineLight28,\n\theadlineLight34,\n\theadlineLight50,\n\theadlineMedium28,\n\theadlineMedium34,\n\theadlineMedium50,\n\tspace,\n\ttextSansBold28,\n\ttextSansBold34,\n\tuntil,\n} from '@guardian/source/foundations';\nimport { interactiveLegacyClasses } from '../layouts/lib/interactiveLegacyStyling';\nimport { getAgeWarning } from '../lib/age-warning';\nimport {\n\tArticleDesign,\n\tArticleDisplay,\n\ttype ArticleFormat,\n\tArticleSpecial,\n\tPillar,\n} from '../lib/articleFormat';\nimport { getZIndex } from '../lib/getZIndex';\nimport { palette as themePalette } from '../palette';\nimport type { TagType } from '../types/tag';\nimport { AgeWarning } from './AgeWarning';\nimport { DesignTag } from './DesignTag';\nimport { HeadlineByline } from './HeadlineByline';\n\ntype Props = {\n\theadlineString: string;\n\tformat: ArticleFormat;\n\tbyline?: string;\n\ttags: TagType[];\n\twebPublicationDateDeprecated: string;\n\thasAvatar?: boolean;\n\tisMatch?: boolean;\n};\n\nconst topPadding = css`\n\t${from.leftCol} {\n\t\tpadding-top: ${space[1]}px;\n\t}\n`;\n\nconst getFontWeightByDesign = (\n\tdesign: ArticleDesign,\n): 'light' | 'medium' | 'bold' => {\n\tswitch (design) {\n\t\tcase ArticleDesign.Obituary:\n\t\tcase ArticleDesign.Comment:\n\t\tcase ArticleDesign.Editorial:\n\t\tcase ArticleDesign.Letter:\n\t\t\treturn 'light';\n\t\tcase ArticleDesign.Feature:\n\t\tcase ArticleDesign.Review:\n\t\tcase ArticleDesign.Recipe:\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn 'bold';\n\t\tdefault:\n\t\t\treturn 'medium';\n\t}\n};\n\nconst isNewsNotCommentOrRecipe = (format: ArticleFormat) =>\n\tformat.theme === Pillar.News &&\n\tformat.design !== ArticleDesign.Comment &&\n\tformat.design !== ArticleDesign.Recipe;\n\nconst decideHeadlineFont = (format: ArticleFormat) => {\n\tconst size = format.display === ArticleDisplay.Immersive ? 50 : 34;\n\tif (isNewsNotCommentOrRecipe(format)) {\n\t\treturn size === 50 ? headlineMedium50 : headlineMedium34;\n\t}\n\n\tconst fontWeight = getFontWeightByDesign(format.design);\n\tswitch (fontWeight) {\n\t\tcase 'light':\n\t\t\treturn size === 50 ? headlineLight50 : headlineLight34;\n\t\tcase 'bold':\n\t\t\treturn size === 50 ? headlineBold50 : headlineBold34;\n\t\tdefault:\n\t\t\treturn size === 50 ? headlineMedium50 : headlineMedium34;\n\t}\n};\n\nconst decideMobileHeadlineFont = (format: ArticleFormat) => {\n\tconst size = format.display === ArticleDisplay.Immersive ? 34 : 28;\n\tif (isNewsNotCommentOrRecipe(format)) {\n\t\treturn size === 34 ? headlineMedium34 : headlineMedium28;\n\t}\n\n\tconst fontWeight = getFontWeightByDesign(format.design);\n\tswitch (fontWeight) {\n\t\tcase 'light':\n\t\t\treturn size === 34 ? headlineLight34 : headlineLight28;\n\t\tcase 'bold':\n\t\t\treturn size === 34 ? headlineBold34 : headlineBold28;\n\t\tdefault:\n\t\t\treturn size === 34 ? headlineMedium34 : headlineMedium28;\n\t}\n};\n\nconst headlineFont = (format: ArticleFormat) => css`\n\t${decideMobileHeadlineFont(format)}\n\n\t${from.tablet} {\n\t\t${decideHeadlineFont(format)}\n\t}\n`;\n\nconst invertedFontLineHeight = css`\n\tline-height: 2.1875rem;\n\t${from.tablet} {\n\t\tline-height: 2.625rem;\n\t}\n`;\n\nconst labsFont = css`\n\t${textSansBold28};\n\tline-height: 2rem;\n\t${from.tablet} {\n\t\t${textSansBold34};\n\t\tline-height: 2.375rem;\n\t}\n`;\n\nconst jumboLabsFont = css`\n\t${textSansBold34};\n\tfont-size: 3.125rem;\n\tline-height: 3.5rem;\n\t${until.desktop} {\n\t\t${textSansBold34};\n\t\tline-height: 2.375rem;\n\t}\n`;\n\nconst displayBlock = css`\n\tdisplay: block;\n`;\n\nconst displayInline = css`\n\tdisplay: inline;\n`;\n\nconst displayFlex = css`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst shiftSlightly = css`\n\tmargin-bottom: 16px;\n`;\n\nconst invertedStyles = css`\n\tposition: relative;\n\twhite-space: pre-wrap;\n\tpadding-right: ${space[1]}px;\n\tpadding-bottom: ${space[1]}px;\n\tbox-shadow: -6px 0 0 ${themePalette('--headline-background')};\n\t/* Box decoration is required to push the box shadow out on Firefox */\n\tbox-decoration-break: clone;\n`;\n\nconst immersiveStyles = css`\n\tmin-height: 112px;\n\tpadding-bottom: ${space[6]}px;\n\tpadding-left: ${space[1]}px;\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${space[3]}px;\n\t}\n\t${from.tablet} {\n\t\tpadding-left: ${space[1]}px;\n\t}\n\tmargin-right: ${space[5]}px;\n`;\n\nconst darkBackground = css`\n\tbackground-color: ${themePalette('--headline-background')};\n`;\n\nconst invertedText = css`\n\twhite-space: pre-wrap;\n\tpadding-bottom: ${space[1]}px;\n\tpadding-right: ${space[1]}px;\n`;\n\nconst maxWidth = css`\n\t${from.desktop} {\n\t\tmax-width: 620px;\n\t}\n`;\n\nconst invertedWrapper = css`\n\t/*\n        Because we use box-shadow (to get clean and even background styles\n        even when lines wrap) we need a margin on this wrapper div to\n        shift everything back to the right\n    */\n\tmargin-left: 6px;\n`;\n\nconst immersiveWrapper = css`\n\t/*\n        Make sure we vertically align the headline font with the body font\n    */\n\tmargin-left: 6px;\n\t${from.tablet} {\n\t\tmargin-left: 16px;\n\t}\n\t${from.leftCol} {\n\t\tmargin-left: 25px;\n\t}\n\t/*\n        We need this grow to ensure the headline fills the main content column\n    */\n\tflex-grow: 1;\n\t/*\n        This z-index is what ensures the headline text shows above the pseudo black\n        box that extends the black background to the right\n    */\n\tz-index: ${getZIndex('articleHeadline')};\n\t${until.mobileLandscape} {\n\t\tmargin-right: 40px;\n\t}\n`;\n\n// Due to MainMedia using position: relative, this seems to effect the rendering order\n// To mitigate we use z-index\n// TODO: find a cleaner solution\nconst zIndex = css`\n\tz-index: 1;\n`;\n\nconst ageWarningMargins = (format: ArticleFormat) =>\n\tformat.display === ArticleDisplay.Immersive\n\t\t? css`\n\t\t\t\tmargin-left: 0px;\n\t\t\t\tmargin-bottom: 0px;\n\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t}\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tmargin-left: 20px;\n\t\t\t\t}\n\t\t  `\n\t\t: css`\n\t\t\t\tmargin-top: 12px;\n\t\t\t\tmargin-left: -10px;\n\t\t\t\tmargin-bottom: 6px;\n\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tmargin-left: -20px;\n\t\t\t\t}\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tmargin-left: -10px;\n\t\t\t\t\tmargin-top: 0;\n\t\t\t\t}\n\t\t  `;\n\nconst backgroundStyles = css`\n\tbackground-color: ${themePalette('--age-warning-wrapper-background')};\n`;\n\nconst WithAgeWarning = ({\n\ttags,\n\twebPublicationDateDeprecated,\n\tformat,\n\tchildren,\n}: {\n\ttags: TagType[];\n\twebPublicationDateDeprecated: string;\n\tformat: ArticleFormat;\n\tchildren: React.ReactNode;\n}) => {\n\tconst age = getAgeWarning(tags, webPublicationDateDeprecated);\n\n\tif (age) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div css={[backgroundStyles, ageWarningMargins(format)]}>\n\t\t\t\t\t<AgeWarning age={age} />\n\t\t\t\t</div>\n\t\t\t\t{children}\n\t\t\t\t<AgeWarning age={age} isScreenReader={true} />\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn <>{children}</>;\n};\n\nconst decideBottomPadding = ({\n\tformat,\n\thasAvatar,\n}: {\n\tformat: ArticleFormat;\n\thasAvatar?: boolean;\n}) => {\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn css`\n\t\t\t\tpadding-bottom: ${space[6]}px;\n\t\t\t`;\n\t\tdefault: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Interview: {\n\t\t\t\t\tif (format.display === ArticleDisplay.Showcase) {\n\t\t\t\t\t\treturn css`\n\t\t\t\t\t\t\tpadding-bottom: ${space[1]}px;\n\t\t\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\t\t\tpadding-bottom: ${space[6]}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`;\n\t\t\t\t\t}\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tpadding-bottom: ${space[2]}px;\n\t\t\t\t\t`;\n\t\t\t\t}\n\t\t\t\tcase ArticleDesign.Review: {\n\t\t\t\t\tif (format.display === ArticleDisplay.Showcase) {\n\t\t\t\t\t\treturn css`\n\t\t\t\t\t\t\tpadding-bottom: 28px;\n\t\t\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\t\t\tpadding-bottom: ${space[6]}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn css`\n\t\t\t\t\t\t\tpadding-bottom: ${space[5]}px;\n\n\t\t\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\t\t\tpadding-bottom: ${space[6]}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn hasAvatar\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: css`\n\t\t\t\t\t\t\t\tpadding-bottom: 28px;\n\t\t\t\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\t\t\t\tpadding-bottom: ${space[9]}px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t  `;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const ArticleHeadline = ({\n\theadlineString,\n\tformat,\n\ttags,\n\tbyline,\n\twebPublicationDateDeprecated,\n\thasAvatar,\n\tisMatch,\n}: Props) => {\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\tinvertedText,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Immersive headlines with main media present, are large and inverted with\n\t\t\t\t\t\t// a black background. They also have no padding and we want to avoid any\n\t\t\t\t\t\t// wrapper div as this affects the z-index stack\n\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\timmersiveWrapper,\n\t\t\t\t\t\t\t\t\tdarkBackground,\n\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? jumboLabsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\t\t\tinvertedStyles,\n\t\t\t\t\t\t\t\t\t\timmersiveStyles,\n\t\t\t\t\t\t\t\t\t\tdisplayBlock,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tcase ArticleDisplay.NumberedList:\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\tformat,\n\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\tcolor: ${themePalette('--headline-colour')};\n\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t</div>\n\t\t\t);\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.Standard:\n\t\tdefault: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\tcase ArticleDesign.Recipe:\n\t\t\t\tcase ArticleDesign.Feature:\n\t\t\t\tcase ArticleDesign.Explainer:\n\t\t\t\tcase ArticleDesign.Timeline:\n\t\t\t\tcase ArticleDesign.Profile:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Interview:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Inverted headlines have a wrapper div for positioning\n\t\t\t\t\t\t// and a black background (only for the text)\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tshiftSlightly,\n\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\tdisplayFlex,\n\t\t\t\t\t\t\t\tdecideBottomPadding({\n\t\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\tinvertedWrapper,\n\t\t\t\t\t\t\t\t\t\tinvertedFontLineHeight,\n\t\t\t\t\t\t\t\t\t\tzIndex,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\t\tdarkBackground,\n\t\t\t\t\t\t\t\t\t\t\tinvertedStyles,\n\t\t\t\t\t\t\t\t\t\t\tdisplayInline,\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${isMatch\n\t\t\t\t\t\t\t\t\t\t\t\t? themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'--headline-match-colour',\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t\t  )};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Interactive:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tdecideBottomPadding({\n\t\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\tinteractiveLegacyClasses.headline\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Picture:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: headlineFont(format),\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${themePalette(\n\t\t\t\t\t\t\t\t\t\t\t\t'--headline-colour',\n\t\t\t\t\t\t\t\t\t\t\t)};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{headlineString}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n};\n","import type { TagType } from '../types/tag';\n\nexport const getAgeWarning = (\n\ttags: TagType[],\n\twebPublicationDate: string,\n): string | undefined => {\n\tconst tagsWithoutAgeWarning = [\n\t\t'tone/help',\n\t\t'info/info',\n\t\t'tone/recipes',\n\t\t'lifeandstyle/series/sudoku',\n\t\t'type/crossword',\n\t\t'lifeandstyle/series/kakuro',\n\t\t'the-scott-trust/the-scott-trust',\n\t\t'type/signup',\n\t\t'info/newsletter-sign-up',\n\t\t'guardian-live-events/guardian-live-events',\n\t\t'news/series/cotton-capital',\n\t\t'tone/advertisement-features',\n\t\t'gnm-archive/gnm-archive',\n\t];\n\tconst showAge = !tags.some(({ id }) => tagsWithoutAgeWarning.includes(id));\n\n\tlet message;\n\n\tif (showAge) {\n\t\tconst warnLimitDays = 30;\n\t\tconst currentDate = new Date();\n\t\tconst dateThreshold = new Date();\n\n\t\tdateThreshold.setDate(currentDate.getDate() - warnLimitDays);\n\n\t\tconst publicationDate = new Date(webPublicationDate);\n\n\t\t// if the publication date is before the date threshold generate message\n\t\tif (publicationDate < dateThreshold) {\n\t\t\t// Unary + coerces dates to numbers for TypeScript\n\t\t\tconst diffMilliseconds = +currentDate - +publicationDate;\n\t\t\tconst diffSeconds = Math.floor(diffMilliseconds / 1000);\n\t\t\tconst diffMinutes = diffSeconds / 60;\n\t\t\tconst diffHours = diffMinutes / 60;\n\t\t\tconst diffDays = diffHours / 24;\n\t\t\tconst diffMonths = diffDays / 31;\n\t\t\tconst diffYears = diffDays / 365;\n\n\t\t\tif (diffYears >= 2) {\n\t\t\t\tmessage = `${Math.floor(diffYears)} years old`;\n\t\t\t} else if (diffYears > 1) {\n\t\t\t\tmessage = '1 year old';\n\t\t\t} else if (diffMonths >= 2) {\n\t\t\t\tmessage = `${Math.floor(diffMonths)} months old`;\n\t\t\t} else if (diffMonths > 1) {\n\t\t\t\tmessage = '1 month old';\n\t\t\t}\n\t\t}\n\t}\n\treturn message;\n};\n","export const Eight = () => (\n\t<svg width=\"29\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M29 29.5C29 35.9 23.7 40 14.1 40 4.5 40 0 36.3 0 30.5c0-5 4.2-8.3 9.1-9.3-5-3-8-6.4-8-11C1.2 3.8 6.2 0 14.8 0c9.2 0 13 3.5 13 8.2 0 5-4.2 7.6-9.2 8.6l1.6.9c5.5 3 8.9 5.8 8.9 11.8zM15 14.7l2.2 1.3c1.6-1.9 2.6-4.3 2.6-7.7 0-4.8-2-7.2-5.3-7.2-3.7 0-5.7 2.3-5.7 6 0 3.8 2.6 5.7 6.1 7.6zM8.1 30.4c0 5.2 2.1 8.5 6.4 8.5 4 0 6.4-2.6 6.4-6.9 0-3.7-2.7-5.5-6.2-7.5l-4-2.4a12.8 12.8 0 0 0-2.6 8.3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Five = () => (\n\t<svg width=\"27\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M11.9 40C21.5 40 27 34.8 27 27c0-8.2-5.3-12-13-12-3.9 0-8.1 1-10.7 4l.6-11.5h20.7l.7-7.5h-22L2 20.8a12 12 0 0 1 5.7-1.3c5.5 0 8.7 2.8 8.7 8.5 0 5.8-3.3 9.1-9.6 9.1A16 16 0 0 1 0 35.5v1.3C2.6 38.6 6.8 40 11.9 40z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Four = () => (\n\t<svg width=\"31\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M12.5 40v-1l4.3-1.3v-9.2H0v-1L18.7 0h8.1v27.4H31v1.1h-4.2v9.2l3.7 1.4v.9h-18zm-11-12.6h15.3v-22h-.3l-15 21.8v.2z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Nine = () => (\n\t<svg width=\"31\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M31 19c0 14.7-7.9 21-18.6 21C8 40 4 38.8 2.2 37.4v-1.1c1.8 1 4 1.3 6.5 1.3 7.8 0 11-5.3 11.6-16.2a14 14 0 0 1-9.6 4C3.7 25.5 0 20.2 0 13.2 0 5.7 5 0 15 0c11 0 16 7.7 16 19zm-20.6-7.3c0 7 1.7 9.5 5.3 9.5 1.5 0 3.4-.3 4.7-1v-2.8C20.4 5.8 18.7 1 15 1c-3.2 0-4.5 3.1-4.5 10.6z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const One = () => (\n\t<svg width=\"21\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M0 40h21v-1l-5.4-1.6V0h-4.3L.1 5.4v1.3l5.5-1.4v32.1L0 39.1z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Seven = () => (\n\t<svg width=\"28\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M3.4 40h11L28 6V0H.6L0 12.3h1.1L3 7.5h23v.3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Six = () => (\n\t<svg width=\"31\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M31 27c0 7.3-5 13-15 13C5 40 0 32.3 0 21 0 6.4 7.9 0 18.6 0a17 17 0 0 1 9.7 2.6v1.1a12 12 0 0 0-6-1.3c-7.8 0-11 5.3-11.6 16.2a14 14 0 0 1 9.6-4c7 0 10.7 5.3 10.7 12.3zm-20-4c0 11.5 1.7 16.3 5.5 16.3 3.2 0 4.5-3.2 4.5-10.7 0-6.8-1.7-9.5-5.3-9.5-1.5 0-3.4.4-4.7 1v3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Ten = () => (\n\t<svg width=\"54\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M0 40h21v-1l-5.4-1.6V0h-4.3L.1 5.4v1.3l5.5-1.4v32.1L0 39.1zm37 0c-9.2 0-17-6.8-17-19.8C20 6.6 28.1 0 37.3 0 46.4 0 54 6.5 54 19.9 54 33.3 46.3 40 37 40zm.1-1c4 0 5.2-6.1 5.2-18.7C42.3 7 41 1.1 37.1 1.1c-4 0-5.4 6-5.4 18.7 0 13 1.4 19.1 5.4 19.1z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Three = () => (\n\t<svg width=\"28\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M9 1.4c4.9 0 7.7 2.4 7.7 8.3 0 5.7-2.6 9-7.8 9H6.1v1.1H9c5.3 0 8.3 3 8.3 8.3 0 5.5-2.9 9.3-9.8 9.3-2.9 0-5.1-.3-7.4-1.5v1C2.7 38.7 7 40 12.5 40 22.2 40 28 35.8 28 28.9c0-6.5-5.1-9.6-15-9.7V19c9.5-.7 13.6-4.4 13.6-9.3 0-6.4-4.4-9.7-13.8-9.7-4 0-8.5.8-11.4 1.7v8.5h1.1l2.4-8.4A21 21 0 0 1 9 1.4z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Two = () => (\n\t<svg width=\"28\" height=\"40\">\n\t\t<path d=\"M9.4 1.5c5.5 0 7.4 3.3 7.4 9s-2.4 11-8.5 16.3l-8.3 7V40h27.3l.7-7H2.8v-.2l8.5-4.3c10.5-5.2 16.4-9.7 16.4-17.3C27.7 3.8 22.5 0 13.4 0 8.6 0 4 .7.9 2v9h1l3-9c1.7-.4 3.2-.5 4.6-.5z\" />\n\t</svg>\n);\n","export const Zero = () => (\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"40\">\n\t\t<path d=\"M17,40C7.8,40,0,33.2,0,20.2C0,6.6,8.1,0,17.3,0C26.4,0,34,6.5,34,19.9S26.3,40,17,40z M17.1,39c4,0,5.2-6.1,5.2-18.7 C22.3,7,21,1.1,17.1,1.1c-4,0-5.4,6-5.4,18.7C11.7,32.8,13.1,38.9,17.1,39L17.1,39z\" />\n\t</svg>\n);\n","import { css } from '@emotion/react';\nimport { text } from '@guardian/source/foundations';\nimport { Eight } from './numbers/Eight';\nimport { Five } from './numbers/Five';\nimport { Four } from './numbers/Four';\nimport { Nine } from './numbers/Nine';\nimport { One } from './numbers/One';\nimport { Seven } from './numbers/Seven';\nimport { Six } from './numbers/Six';\nimport { Ten } from './numbers/Ten';\nimport { Three } from './numbers/Three';\nimport { Two } from './numbers/Two';\nimport { Zero } from './numbers/Zero';\n\ntype Props = {\n\tscore: number;\n};\n\nexport const Score = ({ score }: Props) => {\n\tconst ScoreStyles = ({ children }: { children: React.ReactNode }) => (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 3.75rem;\n\t\t\t\theight: 3.75rem;\n\t\t\t\tborder-radius: 1.875rem;\n\t\t\t\tborder: 0.0625rem solid ${text.primary};\n\n\t\t\t\tsvg {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t}\n\t\t\t`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n\n\tif (Number.isNaN(score)) return <ScoreStyles> </ScoreStyles>;\n\n\tswitch (score) {\n\t\tcase 0:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Zero />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 1:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<One />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 2:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Two />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 3:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Three />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 4:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Four />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 5:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Five />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 6:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Six />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 7:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Seven />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 8:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Eight />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 9:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Nine />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 10:\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Ten />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t}\n};\n","import { css } from '@emotion/react';\nimport {\n\tbackground,\n\theadlineBold20,\n\tspace,\n\ttextSans15,\n\tuntil,\n} from '@guardian/source/foundations';\nimport type { TeamType } from '../types/sport';\nimport { Score } from './Score';\n\ntype Props = {\n\thomeTeam: Pick<TeamType, 'name' | 'score' | 'scorers' | 'crest'>;\n\tawayTeam: Pick<TeamType, 'name' | 'score' | 'scorers' | 'crest'>;\n\tcomments?: string;\n};\n\nconst Row = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst CrestRow = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: flex-end;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst StretchBackground = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: space-between;\n\t\t\tposition: relative;\n\t\t\tpadding: ${space[2]}px;\n\t\t\tbackground-color: var(--match-nav-background);\n\t\t\tmargin-bottom: 10px;\n\t\t\t${until.tablet} {\n\t\t\t\tmargin: 0 -10px 10px;\n\t\t\t}\n\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\twidth: 100vw;\n\t\t\t\tleft: -100vw;\n\t\t\t\tbackground-color: var(--match-nav-background);\n\t\t\t\tz-index: -1;\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst Column = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: space-between;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst TeamName = ({ name }: { name: string }) => (\n\t<h2\n\t\tcss={css`\n\t\t\t${headlineBold20}\n\t\t`}\n\t>\n\t\t{name}\n\t</h2>\n);\n\nconst Scorers = ({ scorers }: { scorers: string[] }) => (\n\t<ul\n\t\tcss={css`\n\t\t\tmargin-top: ${space[1]}px;\n\t\t\tmargin-bottom: ${space[3]}px;\n\t\t`}\n\t>\n\t\t{scorers.map((player) => (\n\t\t\t<li\n\t\t\t\t// This is reasonably unique,\n\t\t\t\t// unless a single player scores twice in the same minute\n\t\t\t\tkey={player}\n\t\t\t\tcss={css`\n\t\t\t\t\t${textSans15}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{player.startsWith('placeholder-') ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\tplayer\n\t\t\t\t)}\n\t\t\t</li>\n\t\t))}\n\t</ul>\n);\n\nconst Crest = ({ crest }: { crest: string }) => (\n\t<div\n\t\tcss={css`\n\t\t\tposition: relative;\n\t\t\twidth: 3.75rem;\n\t\t\theight: 3.75rem;\n\t\t\tborder-radius: 1.875rem;\n\t\t\tbackground-color: ${background.primary};\n\t\t\tz-index: 1;\n\t\t`}\n\t>\n\t\t{crest.trim() === '' ? null : (\n\t\t\t<img\n\t\t\t\tcss={css`\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 0.5rem;\n\t\t\t\t\tright: 0.5rem;\n\t\t\t\t\tbottom: 0.5rem;\n\t\t\t\t\ttop: 0.5rem;\n\t\t\t\t\tmax-width: calc(100% - 1rem);\n\t\t\t\t\tmax-height: calc(100% - 1rem);\n\t\t\t\t\tmargin: auto;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t`}\n\t\t\t\tsrc={crest}\n\t\t\t\talt=\"\"\n\t\t\t/>\n\t\t)}\n\t</div>\n);\n\nconst TeamNav = ({\n\tname,\n\tscore,\n\tcrest,\n\tscorers,\n}: {\n\tname: string;\n\tscore: number;\n\tcrest: string;\n\tscorers: string[];\n}) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-grow: 1;\n\t\t\tflex-basis: 50%;\n\t\t\tcolor: var(--match-nav-text);\n\t\t`}\n\t>\n\t\t<Column>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<TeamName name={name} />\n\t\t\t\t<Scorers\n\t\t\t\t\tscorers={[\n\t\t\t\t\t\t...scorers,\n\t\t\t\t\t\t// this ensures we reserve space for at least three scorers per team\n\t\t\t\t\t\t'placeholder-1',\n\t\t\t\t\t\t'placeholder-2',\n\t\t\t\t\t\t'placeholder-3',\n\t\t\t\t\t].slice(0, Math.max(3, scorers.length))}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<CrestRow>\n\t\t\t\t<Crest crest={crest} />\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-left: -${space[2]}px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<Score score={score} />\n\t\t\t\t</div>\n\t\t\t</CrestRow>\n\t\t</Column>\n\t</div>\n);\n\nconst Comments = ({ comments }: { comments: string }) => (\n\t<div\n\t\tcss={css`\n\t\t\t${textSans15}\n\t\t\tmargin-top: ${space[2]}px;\n\t\t\tpadding-top: ${space[1]}px;\n\t\t\tfont-style: italic;\n\t\t\t/* stylelint-disable-next-line color-no-hex */\n\t\t\tborder-top: 1px solid #d0bb04;\n\t\t`}\n\t>\n\t\t{comments}\n\t</div>\n);\n\nconst YellowBorder = () => (\n\t<div\n\t\tcss={css`\n\t\t\t/* stylelint-disable-next-line color-no-hex */\n\t\t\tborder-left: 1px solid #d0bb04;\n\t\t\tmargin-left: ${space[1]}px;\n\t\t\twidth: ${space[2]}px;\n\t\t`}\n\t/>\n);\n\nexport const MatchNav = ({ homeTeam, awayTeam, comments }: Props) => (\n\t<div>\n\t\t<StretchBackground>\n\t\t\t<Row>\n\t\t\t\t<TeamNav\n\t\t\t\t\tname={homeTeam.name}\n\t\t\t\t\tscore={homeTeam.score}\n\t\t\t\t\tcrest={homeTeam.crest}\n\t\t\t\t\tscorers={homeTeam.scorers}\n\t\t\t\t/>\n\t\t\t\t<YellowBorder />\n\t\t\t\t<TeamNav\n\t\t\t\t\tname={awayTeam.name}\n\t\t\t\t\tscore={awayTeam.score}\n\t\t\t\t\tcrest={awayTeam.crest}\n\t\t\t\t\tscorers={awayTeam.scorers}\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t{!!comments && <Comments comments={comments} />}\n\t\t</StretchBackground>\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { isObject } from '@guardian/libs';\nimport { from } from '@guardian/source/foundations';\nimport type { SWRConfiguration } from 'swr';\nimport { ArticleDesign, type ArticleFormat } from '../lib/articleFormat';\nimport { useApi } from '../lib/useApi';\nimport type { TeamType } from '../types/sport';\nimport type { TagType } from '../types/tag';\nimport { ArticleHeadline } from './ArticleHeadline';\nimport { MatchNav } from './MatchNav';\n\ntype Props = {\n\tmatchUrl: string;\n\theadlineString: string;\n\tformat: ArticleFormat;\n\ttags: TagType[];\n\twebPublicationDateDeprecated: string;\n};\n\ntype MatchData = {\n\thomeTeam: Pick<TeamType, 'name' | 'score' | 'scorers' | 'crest'>;\n\tawayTeam: Pick<TeamType, 'name' | 'score' | 'scorers' | 'crest'>;\n\tcomments?: string;\n\tminByMinUrl?: string;\n\tvenue?: string;\n};\n\nconst fallbackTeam = {\n\tname: '',\n\tscorers: [],\n\tscore: NaN,\n\tcrest: '',\n} satisfies MatchData['homeTeam'];\n\nconst fallbackData = {\n\thomeTeam: fallbackTeam,\n\tawayTeam: fallbackTeam,\n} satisfies MatchData;\n\nconst validateMatchData = (data: unknown): data is MatchData => {\n\tif (!isObject(data)) {\n\t\treturn false;\n\t}\n\n\tconst homeTeam = data.homeTeam;\n\tif (\n\t\t!isObject(homeTeam) ||\n\t\ttypeof homeTeam.name !== 'string' ||\n\t\thomeTeam.name.length === 0 ||\n\t\ttypeof homeTeam.score !== 'number' ||\n\t\tisNaN(homeTeam.score)\n\t) {\n\t\treturn false;\n\t}\n\n\tconst awayTeam = data.awayTeam;\n\tif (\n\t\t!isObject(awayTeam) ||\n\t\ttypeof awayTeam.name !== 'string' ||\n\t\tawayTeam.name.length === 0 ||\n\t\ttypeof awayTeam.score !== 'number' ||\n\t\tisNaN(awayTeam.score)\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n\n/**\n * Wrapper around `MatchNav` with loading and fallback.\n *\n * ## Why does this need to be an Island?\n *\n * We poll the results from the match url on the client-side.\n * e.g. https://api.nextgen.guardianapps.co.uk/football/api/match-nav/2023/02/08/12/28.json?dcr=true\n *\n * ---\n *\n * [`MatchNav` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-matchnav)\n */\nexport const GetMatchNav = ({\n\tmatchUrl,\n\theadlineString,\n\tformat,\n\ttags,\n\twebPublicationDateDeprecated,\n}: Props) => {\n\tconst options = {\n\t\terrorRetryCount: 1,\n\t\tfallbackData,\n\t\trefreshInterval:\n\t\t\t// If this blog is live then poll for new stats\n\t\t\tformat.design === ArticleDesign.LiveBlog ? 16_000 : undefined,\n\t} satisfies SWRConfiguration<MatchData>;\n\n\tconst { data, error } = useApi<MatchData>(matchUrl, options);\n\n\tif (error) {\n\t\t// Send the error to Sentry and then render the headline in its place as a fallback\n\t\twindow.guardian.modules.sentry.reportError(error, 'match-nav');\n\n\t\tif (\n\t\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\t\tformat.design === ArticleDesign.DeadBlog\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${from.desktop} {\n\t\t\t\t\t\t\tmax-width: 700px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<ArticleHeadline\n\t\t\t\t\t\theadlineString={headlineString}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisMatch={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\tif (!data) {\n\t\t// this should never happen because we pass fallback data to SWR\n\t\treturn null;\n\t}\n\n\tconst isDataValid = validateMatchData(data);\n\tif (isDataValid) {\n\t\treturn (\n\t\t\t<MatchNav\n\t\t\t\thomeTeam={data.homeTeam}\n\t\t\t\tawayTeam={data.awayTeam}\n\t\t\t\tcomments={data.comments}\n\t\t\t/>\n\t\t);\n\t}\n\n\t// Invalid data indicates that we do not have the data for this fixture, likely because the match is old.\n\treturn null;\n};\n","import type { ScheduleOptions, SchedulePriority } from '../lib/scheduler';\n\ntype DeferredProps = {\n\tvisible: {\n\t\tuntil: 'visible';\n\t\t/**\n\t\t * @see https://developer.mozilla.org/en-us/docs/web/api/intersectionobserver/rootmargin\n\t\t */\n\t\trootMargin?: string;\n\t};\n\tidle: {\n\t\tuntil: 'idle';\n\t};\n\tinteraction: {\n\t\tuntil: 'interaction';\n\t};\n\thash: {\n\t\tuntil: 'hash';\n\t};\n};\n\ntype PriorityProps = {\n\tcritical: {\n\t\tpriority: SchedulePriority['critical'];\n\t\tdefer?: DeferredProps[keyof DeferredProps];\n\t};\n\tfeature: {\n\t\tpriority: SchedulePriority['feature'];\n\t\tdefer: DeferredProps[keyof DeferredProps];\n\t};\n\tenhancement: {\n\t\tpriority: SchedulePriority['enhancement'];\n\t\tdefer: DeferredProps[keyof DeferredProps];\n\t};\n};\n\ntype IslandProps = {\n\tchildren: JSX.Element;\n\trole?: string;\n} & PriorityProps[keyof PriorityProps];\n\n/**\n * Adds interactivity to the client by either hydrating or inserting content.\n *\n * Note. The component passed as children must follow the [MyComponent].importable.tsx\n * namimg convention\n *\n * @param {IslandProps} props - JSX Props\n * @param {JSX.Element} props.children - The component being inserted. Must be a single JSX Element\n */\nexport const Island = ({ priority, defer, children, role }: IslandProps) => {\n\tconst rootMargin =\n\t\tdefer?.until === 'visible' ? defer.rootMargin : undefined;\n\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access -- Type definitions on children are limited\n\tconst name = String(children.type.name);\n\n\treturn (\n\t\t<gu-island\n\t\t\tname={name}\n\t\t\tpriority={priority}\n\t\t\tdeferUntil={defer?.until}\n\t\t\tprops={JSON.stringify(children.props)}\n\t\t\trootMargin={rootMargin}\n\t\t\tdata-spacefinder-role={role}\n\t\t>\n\t\t\t{children}\n\t\t</gu-island>\n\t);\n};\n\n/**\n * Used for JSX custom element declaration\n * {@link ../../index.d.ts}\n */\nexport type GuIsland = {\n\tname: string;\n\tpriority: ScheduleOptions['priority'];\n\tdeferUntil?: NonNullable<IslandProps['defer']>['until'];\n\trootMargin?: string;\n\tprops: string;\n\tchildren: React.ReactNode;\n};\n","import { css } from '@emotion/react';\nimport { from, until } from '@guardian/source/foundations';\nimport { ArticleDesign } from '../../lib/articleFormat';\nimport { center } from '../../lib/center';\nimport type { RoleType } from '../../types/content';\n\nexport const isInteractive = (design: ArticleDesign): boolean =>\n\tdesign === ArticleDesign.Interactive;\n\nexport const interactiveLegacyFigureClasses = (\n\telementType: string,\n\trole?: RoleType,\n): string => {\n\tconst elementClasses: { [key: string]: string } = {\n\t\t'model.dotcomrendering.pageElements.InteractiveAtomBlockElement':\n\t\t\t'element-atom',\n\t\t'model.dotcomrendering.pageElements.InteractiveBlockElement':\n\t\t\t'element-interactive',\n\t};\n\n\tconst roleClass = role ? ` element-${role}` : '';\n\tconst elementClass = elementClasses[elementType] ?? '';\n\tconst legacyRoleClass = role ? ` element--${role}` : '';\n\treturn `element ${elementClass}${legacyRoleClass}${roleClass}`;\n};\n\n// Classes present in Frontend that we add for legacy interactives.\nexport const interactiveLegacyClasses = {\n\tcontentInteractive: 'content--interactive',\n\tcontentInteractiveGrid: 'content--interactive-grid',\n\tcontentLabels: 'content__labels',\n\tcontentLabelsNotImmersive: 'content__labels--not-immersive',\n\tcontentMainColumn: 'content__main-column--interactive',\n\theadline: 'content__headline',\n\tlabelLink: 'content__label__link',\n\tmetaContainer: 'content__meta-container_dcr',\n\tstandFirst: 'content__standfirst',\n\tbyline: 'byline',\n\tshareIcons: 'meta__social',\n\tshareAndCommentCounts: 'meta__comment',\n\n\t// some legacy interactives do not use the content--interactive container\n\t// to ensure all editorial content has correct font, we need to target this too\n\tinteractiveWrapper: 'interactive-wrapper',\n};\n\n// Styles expected by interactives from the Frontend days. These shouldn't be\n// used for new interactives though.\nexport const interactiveGlobalStyles = css`\n\t/* Scope this as tightly as possible. Otherwise, e.g. box-model will break\n\tfooter. */\n\tbody article {\n\t\t*:before,\n\t\t*:after {\n\t\t\tbox-sizing: content-box;\n\t\t}\n\n\t\t.fc-container__inner,\n\t\t.gs-container {\n\t\t\t${center}\n\t\t}\n\n\t\t/* There is room for better solution where we don't have to load global styles onto the body.\n\t\t\tFor now this works, but we shouldn't support for it for newly made interactives. */\n\t\t.${interactiveLegacyClasses.contentInteractive},\n\t\t\t.${interactiveLegacyClasses.interactiveWrapper} {\n\t\t\tmargin-bottom: 1rem;\n\n\t\t\t/* stylelint-disable */\n\t\t\tfont-family:\n\t\t\t\tGuardianTextEgyptian,\n\t\t\t\tGuardian Text Egyptian Web,\n\t\t\t\tGeorgia,\n\t\t\t\tserif;\n\t\t\t/* stylelint-enable */\n\n\t\t\tfont-size: 1.0625rem;\n\t\t\tline-height: 1.5;\n\t\t\tfont-weight: 400;\n\t\t}\n\n\t\tbutton,\n\t\tinput,\n\t\toptgroup,\n\t\tselect,\n\t\ttextarea {\n\t\t\tcolor: inherit;\n\t\t}\n\n\t\tbutton,\n\t\thtml input[type='button'],\n\t\tinput[type='reset'],\n\t\tinput[type='submit'] {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t/* Start social icon support */\n\t\t.meta__social {\n\t\t\tpadding-top: 0.375rem;\n\t\t}\n\n\t\t.social__item {\n\t\t\tfloat: left;\n\t\t\tmin-width: 2rem;\n\t\t\tpadding: 0 0.1875rem 0.375rem 0;\n\t\t\tcursor: pointer;\n\n\t\t\t.inline-icon__fallback {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.inline-icon {\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tborder: 1px solid #dcdcdc; /* stylelint-disable-line */\n\t\t\t\ttransition:\n\t\t\t\t\tfill 0.3s ease,\n\t\t\t\t\tbackground-color 0.3s ease;\n\t\t\t}\n\n\t\t\t.social-icon {\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tborder: 0;\n\t\t\t\tmin-width: 2rem;\n\t\t\t\tmax-width: 100%;\n\t\t\t\twidth: auto;\n\t\t\t\theight: 2rem;\n\t\t\t\tsvg {\n\t\t\t\t\theight: 88%;\n\t\t\t\t\twidth: 88%;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.rounded-icon {\n\t\t\t\tborder-radius: 62.5rem;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.centered-icon svg {\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tright: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tposition: absolute;\n\t\t\t}\n\t\t}\n\n\t\t.content__dateline {\n\t\t\tfont-size: 0.75rem;\n\t\t\tline-height: 1rem;\n\t\t\tposition: relative;\n\t\t\tbox-sizing: border-box;\n\t\t\tpadding-top: 0.125rem;\n\t\t\tmargin-bottom: 0.375rem;\n\t\t}\n\t\t/* End social icon support */\n\n\t\t/* Typically required for ad display. */\n\t\t${until.tablet} {\n\t\t\t.hide-until-tablet {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\t.mobile-only {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t.interactive-atom {\n\t\t\tposition: relative;\n\t\t}\n\n\t\tol,\n\t\tul {\n\t\t\tpadding: 0;\n\t\t\tmargin-left: 1.5625rem;\n\t\t}\n\t}\n`;\n","import { isString } from '@guardian/libs';\nimport type { FEDesign, FEDisplay, FEFormat, FETheme } from '../types/frontend';\n\nexport enum ArticleDesign {\n\tStandard,\n\tPicture,\n\tGallery,\n\tAudio,\n\tVideo,\n\tReview,\n\tAnalysis,\n\tExplainer,\n\tComment,\n\tLetter,\n\tFeature,\n\tLiveBlog,\n\tDeadBlog,\n\tRecipe,\n\tMatchReport,\n\tInterview,\n\tEditorial,\n\tQuiz,\n\tInteractive,\n\tPhotoEssay,\n\tObituary,\n\tCorrection,\n\tFullPageInteractive,\n\tNewsletterSignup,\n\tTimeline,\n\tProfile,\n}\n\nexport enum ArticleDisplay {\n\tStandard,\n\tImmersive,\n\tShowcase,\n\tNumberedList,\n}\n\nexport enum Pillar {\n\tNews = 0,\n\tOpinion = 1,\n\tSport = 2,\n\tCulture = 3,\n\tLifestyle = 4,\n}\n\nexport enum ArticleSpecial {\n\tSpecialReport = 5,\n\tLabs = 6,\n\tSpecialReportAlt = 7,\n}\n\nexport type ArticleTheme = Pillar | ArticleSpecial;\n\nexport interface ArticleFormat {\n\ttheme: ArticleTheme;\n\tdesign: ArticleDesign;\n\tdisplay: ArticleDisplay;\n}\n\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({ design }: Partial<FEFormat>): ArticleDesign => {\n\tswitch (design) {\n\t\tcase 'ArticleDesign':\n\t\t\treturn ArticleDesign.Standard;\n\t\tcase 'PictureDesign':\n\t\t\treturn ArticleDesign.Picture;\n\t\tcase 'GalleryDesign':\n\t\t\treturn ArticleDesign.Gallery;\n\t\tcase 'AudioDesign':\n\t\t\treturn ArticleDesign.Audio;\n\t\tcase 'VideoDesign':\n\t\t\treturn ArticleDesign.Video;\n\t\tcase 'ReviewDesign':\n\t\t\treturn ArticleDesign.Review;\n\t\tcase 'AnalysisDesign':\n\t\t\treturn ArticleDesign.Analysis;\n\t\tcase 'CommentDesign':\n\t\t\treturn ArticleDesign.Comment;\n\t\tcase 'LetterDesign':\n\t\t\treturn ArticleDesign.Letter;\n\t\tcase 'FeatureDesign':\n\t\t\treturn ArticleDesign.Feature;\n\t\tcase 'LiveBlogDesign':\n\t\t\treturn ArticleDesign.LiveBlog;\n\t\tcase 'DeadBlogDesign':\n\t\t\treturn ArticleDesign.DeadBlog;\n\t\tcase 'RecipeDesign':\n\t\t\treturn ArticleDesign.Recipe;\n\t\tcase 'MatchReportDesign':\n\t\t\treturn ArticleDesign.MatchReport;\n\t\tcase 'InterviewDesign':\n\t\t\treturn ArticleDesign.Interview;\n\t\tcase 'EditorialDesign':\n\t\t\treturn ArticleDesign.Editorial;\n\t\tcase 'QuizDesign':\n\t\t\treturn ArticleDesign.Quiz;\n\t\tcase 'InteractiveDesign':\n\t\t\treturn ArticleDesign.Interactive;\n\t\tcase 'PhotoEssayDesign':\n\t\t\treturn ArticleDesign.PhotoEssay;\n\t\tcase 'ObituaryDesign':\n\t\t\treturn ArticleDesign.Obituary;\n\t\tcase 'FullPageInteractiveDesign':\n\t\t\treturn ArticleDesign.FullPageInteractive;\n\t\tcase 'NewsletterSignupDesign':\n\t\t\treturn ArticleDesign.NewsletterSignup;\n\t\tcase 'ExplainerDesign':\n\t\t\treturn ArticleDesign.Explainer;\n\t\tcase 'TimelineDesign':\n\t\t\treturn ArticleDesign.Timeline;\n\t\tcase 'ProfileDesign':\n\t\t\treturn ArticleDesign.Profile;\n\t\tdefault:\n\t\t\treturn ArticleDesign.Standard;\n\t}\n};\n\nconst decideDisplay = ({\n\tdisplay,\n\tdesign,\n}: Partial<FEFormat>): ArticleDisplay => {\n\tswitch (display) {\n\t\tcase 'StandardDisplay':\n\t\t\treturn ArticleDisplay.Standard;\n\t\tcase 'ImmersiveDisplay':\n\t\t\t// Temporary hack until we can handle Immersive Comment pieces\n\t\t\treturn design === 'CommentDesign'\n\t\t\t\t? ArticleDisplay.Standard\n\t\t\t\t: ArticleDisplay.Immersive;\n\t\tcase 'ShowcaseDisplay':\n\t\t\treturn ArticleDisplay.Showcase;\n\t\tcase 'NumberedListDisplay':\n\t\t\treturn ArticleDisplay.NumberedList;\n\t\tdefault:\n\t\t\treturn ArticleDisplay.Standard;\n\t}\n};\n\nexport const decideTheme = ({ theme }: Partial<FEFormat>): ArticleTheme => {\n\tswitch (theme) {\n\t\tcase 'NewsPillar':\n\t\t\treturn Pillar.News;\n\t\tcase 'OpinionPillar':\n\t\t\treturn Pillar.Opinion;\n\t\tcase 'SportPillar':\n\t\t\treturn Pillar.Sport;\n\t\tcase 'CulturePillar':\n\t\t\treturn Pillar.Culture;\n\t\tcase 'LifestylePillar':\n\t\t\treturn Pillar.Lifestyle;\n\t\tcase 'SpecialReportTheme':\n\t\t\treturn ArticleSpecial.SpecialReport;\n\t\tcase 'SpecialReportAltTheme':\n\t\t\treturn ArticleSpecial.SpecialReportAlt;\n\t\tcase 'Labs':\n\t\t\treturn ArticleSpecial.Labs;\n\t\tdefault:\n\t\t\treturn Pillar.News;\n\t}\n};\n\nexport const decideFormat = (format: Partial<FEFormat>): ArticleFormat => ({\n\tdesign: decideDesign(format),\n\tdisplay: decideDisplay(format),\n\ttheme: decideTheme(format),\n});\n\nexport const getThemeNameAsString = (format: ArticleFormat): string => {\n\tconst themeName = Pillar[format.theme] ?? ArticleSpecial[format.theme];\n\tif (!themeName) throw new Error('Unknown theme');\n\treturn themeName;\n};\n\n/**\n * We need a type guard because TypeScript enums are (confusingly)\n * returning both strings and numbers.\n */\nconst isTheme = (theme: string | ArticleTheme): theme is ArticleTheme =>\n\t!isString(theme);\n\nconst isDesign = (design: string | ArticleDesign): design is ArticleDesign =>\n\t!isString(design);\n\nexport const getAllThemes = ({\n\tdisplay,\n\tdesign,\n}: {\n\tdisplay: ArticleDisplay;\n\tdesign: ArticleDesign;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...Pillar, ...ArticleSpecial })\n\t\t.filter(isTheme)\n\t\t.map((theme) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nexport const getAllDesigns = ({\n\tdisplay,\n\ttheme,\n}: {\n\tdisplay: ArticleDisplay;\n\ttheme: ArticleTheme;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...ArticleDesign })\n\t\t.filter(isDesign)\n\t\t.map((design) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nconst designToFEDesign = (design: ArticleDesign): FEDesign => {\n\tswitch (design) {\n\t\tcase ArticleDesign.Standard:\n\t\t// Correction doesn't exist in `FEFormat`.\n\t\tcase ArticleDesign.Correction:\n\t\t\treturn 'ArticleDesign';\n\t\tcase ArticleDesign.Picture:\n\t\t\treturn 'PictureDesign';\n\t\tcase ArticleDesign.Gallery:\n\t\t\treturn 'GalleryDesign';\n\t\tcase ArticleDesign.Audio:\n\t\t\treturn 'AudioDesign';\n\t\tcase ArticleDesign.Video:\n\t\t\treturn 'VideoDesign';\n\t\tcase ArticleDesign.Review:\n\t\t\treturn 'ReviewDesign';\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn 'AnalysisDesign';\n\t\tcase ArticleDesign.Explainer:\n\t\t\treturn 'ExplainerDesign';\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn 'CommentDesign';\n\t\tcase ArticleDesign.Letter:\n\t\t\treturn 'LetterDesign';\n\t\tcase ArticleDesign.Feature:\n\t\t\treturn 'FeatureDesign';\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn 'LiveBlogDesign';\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn 'DeadBlogDesign';\n\t\tcase ArticleDesign.Recipe:\n\t\t\treturn 'RecipeDesign';\n\t\tcase ArticleDesign.MatchReport:\n\t\t\treturn 'MatchReportDesign';\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn 'InterviewDesign';\n\t\tcase ArticleDesign.Editorial:\n\t\t\treturn 'EditorialDesign';\n\t\tcase ArticleDesign.Quiz:\n\t\t\treturn 'QuizDesign';\n\t\tcase ArticleDesign.Interactive:\n\t\t\treturn 'InteractiveDesign';\n\t\tcase ArticleDesign.PhotoEssay:\n\t\t\treturn 'PhotoEssayDesign';\n\t\tcase ArticleDesign.Obituary:\n\t\t\treturn 'ObituaryDesign';\n\t\tcase ArticleDesign.FullPageInteractive:\n\t\t\treturn 'FullPageInteractiveDesign';\n\t\tcase ArticleDesign.NewsletterSignup:\n\t\t\treturn 'NewsletterSignupDesign';\n\t\tcase ArticleDesign.Timeline:\n\t\t\treturn 'TimelineDesign';\n\t\tcase ArticleDesign.Profile:\n\t\t\treturn 'ProfileDesign';\n\t}\n};\n\nconst displayToFEDisplay = (display: ArticleDisplay): FEDisplay => {\n\tswitch (display) {\n\t\tcase ArticleDisplay.Standard:\n\t\t\treturn 'StandardDisplay';\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn 'ImmersiveDisplay';\n\t\tcase ArticleDisplay.Showcase:\n\t\t\treturn 'ShowcaseDisplay';\n\t\tcase ArticleDisplay.NumberedList:\n\t\t\treturn 'NumberedListDisplay';\n\t}\n};\n\nconst themeToFETheme = (theme: ArticleTheme): FETheme => {\n\tswitch (theme) {\n\t\tcase Pillar.News:\n\t\t\treturn 'NewsPillar';\n\t\tcase Pillar.Opinion:\n\t\t\treturn 'OpinionPillar';\n\t\tcase Pillar.Sport:\n\t\t\treturn 'SportPillar';\n\t\tcase Pillar.Culture:\n\t\t\treturn 'CulturePillar';\n\t\tcase Pillar.Lifestyle:\n\t\t\treturn 'LifestylePillar';\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'SpecialReportTheme';\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn 'Labs';\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn 'SpecialReportAltTheme';\n\t}\n};\n\nexport const formatToFEFormat = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): FEFormat => ({\n\tdesign: designToFEDesign(design),\n\tdisplay: displayToFEDisplay(display),\n\ttheme: themeToFETheme(theme),\n});\n\n/**\n * Creates a string representation of {@linkcode ArticleFormat}. Useful for\n * logging, storybook UI etc.\n *\n * @param format An {@linkcode ArticleFormat}\n * @returns A string representation of `ArticleFormat`\n */\nexport const formatToString = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): string =>\n\t[\n\t\t`${ArticleDesign[design]} Design`,\n\t\t`${ArticleDisplay[display]} Display`,\n\t\t`and ${Pillar[theme] ?? ArticleSpecial[theme]} Theme`,\n\t].join(', ');\n","import type { TagType } from '../types/tag';\n\ninterface ContributorTag extends TagType {\n\ttype: 'Contributor';\n}\n\nexport const isContributor = (tag: TagType): tag is ContributorTag =>\n\ttag.type === 'Contributor';\n\n/**\n * Get the sole contributor on an article.\n *\n * This can be used to display more information about them,\n * such as their picture, bio or social media handle.\n *\n * An article has a sole contributor only if all of the following are true:\n * - there is a byline which is not an empty string\n * - the byline does not include the word and\n * - there is a `Contributor` tag whose title is included in the byline\n *\n * @returns A sole contributor if there is one, `undefined` otherwise.\n */\nexport const getSoleContributor = (\n\ttags: TagType[],\n\tbyline: string | undefined,\n): ContributorTag | undefined => {\n\tif (!byline) return undefined;\n\tif (byline.includes(' and ')) return undefined;\n\n\tconst [firstContributor, otherContributor] = tags\n\t\t.filter(isContributor)\n\t\t.filter(({ title }) => byline.includes(title));\n\n\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- we dont have unchecked indexed access\n\tif (otherContributor) return undefined;\n\n\treturn firstContributor;\n};\n\nexport const getContributorTagsForToken = (\n\ttags: TagType[],\n\ttoken: string,\n): ContributorTag[] => {\n\treturn tags.filter(isContributor).filter((t) => t.title === token);\n};\n\ntype BylineComponent = { token: string; tag: TagType } | string;\n\nexport const getBylineComponentsFromTokens = (\n\ttokens: string[],\n\ttags: TagType[],\n): BylineComponent[] => {\n\tconst [bylineComponents] = tokens.reduce<[BylineComponent[], TagType[]]>(\n\t\t([bylines, remainingTags], token) => {\n\t\t\tconst [firstContributorTag] = getContributorTagsForToken(\n\t\t\t\tremainingTags,\n\t\t\t\ttoken,\n\t\t\t);\n\t\t\tif (!firstContributorTag) {\n\t\t\t\treturn [bylines.concat(token), remainingTags];\n\t\t\t}\n\n\t\t\t// We've used this tag, so remove it from the list of possible tags.\n\t\t\t// This ensures we don't use the same contributor tag when two identical\n\t\t\t// names with different contributor tags are used.\n\t\t\tconst newRemainingTags = remainingTags.filter(\n\t\t\t\t(tag) => !(tag.id === firstContributorTag.id),\n\t\t\t);\n\n\t\t\treturn [\n\t\t\t\tbylines.concat({ tag: firstContributorTag, token }),\n\t\t\t\tnewRemainingTags,\n\t\t\t];\n\t\t},\n\t\t[[], tags],\n\t);\n\n\treturn bylineComponents;\n};\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\n\nexport const center = css`\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n\t// Modals will go here at the top\n\t'lightbox',\n\t'youTubeFullscreen',\n\n\t// Sticky video and button need to be above everything\n\t'sticky-video-button',\n\t'sticky-video',\n\t'banner',\n\t'dropdown',\n\t'burger',\n\t'mastheadVeggieBurgerExpandedMobile',\n\t'expanded-veggie-menu-wrapper',\n\t'expanded-veggie-menu',\n\n\t//header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n\t'fullPageInteractiveHeaderWrapper',\n\n\t// Mobile sticky appears below banners\n\t'mobileSticky',\n\n\t// Headers with sticky ads\n\t'stickyAdWrapperLabsHeader',\n\t'stickyAdWrapper',\n\t'stickyAdWrapperNav',\n\n\t// My Account dropdown in masthead - needs to be below stickyAdWrapper\n\t'mastheadMyAccountDropdown',\n\n\t// Edition selector in masthead - needs to be below stickyAdWrapper\n\t'mastheadEditionDropdown',\n\n\t// Edition selector in nav - needs to be below stickyAdWrapper\n\t'editionDropdown',\n\n\t// The content displayed by the Details component\n\t'summaryDetails',\n\n\t// Liveblog toast\n\t'toast',\n\n\t// Onwards Carousel (Related content etc)\n\t'onwardsCarousel',\n\n\t// Search link should be above The Guardian svg\n\t'myAccountDropdown',\n\t'searchHeaderLink',\n\t'TheGuardian',\n\n\t// The edition switcher banner needs to be below the Edition selector\n\t// and the myAccount dropdown in the nav\n\t'editionSwitcherBanner',\n\n\t// Overlay for expandable marketing card (currently US only)\n\t'expandableMarketingCardOverlay',\n\n\t// Sticky table of contents element\n\t'tableOfContents',\n\n\t// Article headline (should be above main media)\n\t'articleHeadline',\n\t'immersiveBlackBox',\n\n\t// Body\n\t'bodyArea',\n\t'rightColumnArea',\n\n\t// Main media\n\t'mainMedia',\n\n\t// Nested links in cards should sit above the main card link\n\t// See: https://www.sarasoueidan.com/blog/nested-links/\n\t'card-nested-link',\n\t'card-link',\n] as const;\n\n// Implementation code - you don't need to change this to get a new index\nexport type ZIndex = (typeof indices)[number];\n\nexport const getZIndex = (name: ZIndex): number => {\n\tconst index = indices.indexOf(name);\n\tif (index === -1) return -1; // indexOf returns -1 if there is no match\n\treturn indices.length - index; // reverse the indices: last item gets 1\n};\n","import { isUndefined } from '@guardian/libs';\nimport type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\n/** **NOTE:** no parsing is done on the response, the type is merely asserted */\nconst fetcher =\n\t<T>(init?: RequestInit) =>\n\t(url: string): Promise<T> =>\n\t\tfetch(url, init)\n\t\t\t.then(checkForErrors)\n\t\t\t.then((res) => res.json());\n\ntype ApiResponse<T, E> = {\n\tloading: boolean;\n\tdata?: T;\n\terror?: E;\n};\n\n/**\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/).\n *\n * @template T assert the expected response type\n * @template E assert the potential error type\n * @param {string} url - The API endpoint. Falsy values will prevent any network requests\n * @param {SWRConfiguration<Data,Err>} options - The SWR config object - https://swr.vercel.app/docs/api#options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * @returns {ApiResponse<Data, Err>}\n * */\nexport const useApi = <Data = unknown, Err = Error>(\n\turl: string = '',\n\toptions?: SWRConfiguration<Data, Err>,\n\tinit?: RequestInit,\n): ApiResponse<Data, Err> => {\n\tconst { data, error } = useSWR<Data, Err>(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && isUndefined(error) && isUndefined(data),\n\t};\n};\n"],"names":["ageWarningStyles","isSmall","css","textSans12","textSans17","palette","from","mobileLandscape","leftCol","ageWarningScreenReader","visuallyHidden","AgeWarning","age","isScreenReader","size","warningPrefix","ageOld","endsWith","ensureOldText","div","aria-hidden","svg","width","height","viewBox","fill","path","d","strong","tagStyles","headlineBold20","until","tablet","headlineBold17","Margins","children","format","design","ArticleDesign","Interview","space","Tag","TagLink","href","LinkButton","priority","cssOverrides","DesignTag","Analysis","Explainer","Letter","Obituary","Review","Timeline","Profile","SPECIAL_REGEX_CHARACTERS","RegExp","ContributorLink","contributor","contributorTagId","a","rel","data-link-name","Source","source","span","BylineLink","byline","tags","isHeadline","tokens","titles","filter","isContributor","map","c","title","replaceAll","length","regex","sort","b","reverse","applyCleverOrderingForMatching","join","split","bylineAsTokens","soleContributor","getSoleContributor","hasSoleContributor","renderedTokens","bylineComponents","bylineComponent","isString","displayString","bylinePart","startsWith","slice","trimStart","token","tag","id","Video","Audio","concat","getRenderedTokens","getBylineComponentsFromTokens","renderingTarget","useConfig","isApps","isLiveBlog","LiveBlog","Hide","DottedLines","count","color","themePalette","Island","FollowWrapper","displayName","wrapperStyles","interviewBylineBoxStyles","theme","ArticleSpecial","Labs","textSans20","headlineMedium20","schemedPalette","opinionWrapperStyles","opinionStyles","textSans34","headlineLight34","headlineLight28","analysisStyles","neutral","analysisSingleContributorStyles","immersiveStyles","textSans24","headlineMedium24","immersiveLinkStyles","authorBylineWithImage","HeadlineByline","hasSingleContributor","display","ArticleDisplay","Immersive","Showcase","NumberedList","Standard","Editorial","Comment","topPadding","getFontWeightByDesign","Feature","Recipe","isNewsNotCommentOrRecipe","Pillar","News","headlineFont","headlineMedium34","headlineMedium28","headlineBold34","headlineBold28","decideMobileHeadlineFont","headlineMedium50","headlineLight50","headlineBold50","decideHeadlineFont","invertedFontLineHeight","labsFont","textSansBold28","textSansBold34","jumboLabsFont","desktop","displayBlock","displayInline","displayFlex","shiftSlightly","invertedStyles","darkBackground","invertedText","maxWidth","invertedWrapper","immersiveWrapper","getZIndex","zIndex","ageWarningMargins","backgroundStyles","WithAgeWarning","webPublicationDateDeprecated","webPublicationDate","tagsWithoutAgeWarning","message","some","includes","warnLimitDays","currentDate","Date","dateThreshold","setDate","getDate","publicationDate","diffMilliseconds","diffDays","Math","floor","diffMonths","diffYears","getAgeWarning","decideBottomPadding","hasAvatar","ArticleHeadline","headlineString","isMatch","h1","DeadBlog","Interactive","className","interactiveLegacyClasses","headline","Picture","Eight","xmlns","fillRule","Five","Four","Nine","One","Seven","Six","Ten","Three","Two","Zero","Score","score","ScoreStyles","text","primary","Number","isNaN","Row","CrestRow","StretchBackground","Column","TeamName","name","h2","Scorers","scorers","ul","player","li","textSans15","Crest","crest","background","trim","img","src","alt","TeamNav","max","Comments","comments","YellowBorder","MatchNav","homeTeam","awayTeam","fallbackTeam","NaN","fallbackData","GetMatchNav","matchUrl","options","errorRetryCount","refreshInterval","undefined","data","error","useApi","window","guardian","modules","sentry","reportError","isDataValid","isObject","validateMatchData","defer","role","rootMargin","String","type","gu-island","deferUntil","props","JSON","stringify","data-spacefinder-role","interactiveLegacyFigureClasses","elementType","roleClass","elementClasses","elementClass","legacyRoleClass","contentInteractive","contentInteractiveGrid","contentLabels","contentLabelsNotImmersive","contentMainColumn","labelLink","metaContainer","standFirst","shareIcons","shareAndCommentCounts","interactiveWrapper","center","decideDesign","decideDisplay","decideTheme","decideFormat","firstContributor","otherContributor","reduce","bylines","remainingTags","firstContributorTag","t","getContributorTagsForToken","newRemainingTags","wide","indices","index","indexOf","checkForErrors","response","ok","Error","statusText","status","url","init","useSWR","fetch","then","res","json","fetcher","loading","isUndefined"],"sourceRoot":""}