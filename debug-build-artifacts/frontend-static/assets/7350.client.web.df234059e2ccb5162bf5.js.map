{"version":3,"file":"7350.client.web.df234059e2ccb5162bf5.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/marketing/header/HeaderWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/header/SignInPromptHeader.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/lib/tracking.ts","webpack://@guardian/dotcom-rendering/./src/lib/useIsInView.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts"],"sourcesContent":["/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/4925ef1e0ced5d221f1122afe79f93bd7448e0e5/packages/modules/src/modules/headers/HeaderWrapper.tsx\n */\nimport type { OphanAction } from '@guardian/libs';\nimport { headerPropsSchema } from '@guardian/support-dotcom-components';\nimport type {\n\tCta,\n\tHeaderProps,\n} from '@guardian/support-dotcom-components/dist/shared/types';\nimport { useCallback, useEffect } from 'react';\nimport { useIsInView } from '../../../lib/useIsInView';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport {\n\taddRegionIdAndTrackingParamsToSupportUrl,\n\taddTrackingParamsToProfileUrl,\n\tcreateClickEventFromTracking,\n\tisProfileUrl,\n} from '../lib/tracking';\n\nexport interface HeaderEnrichedCta {\n\tctaUrl: string;\n\tctaText: string;\n}\n\nexport interface HeaderRenderedContent {\n\theading: string;\n\tsubheading: string;\n\tprimaryCta: HeaderEnrichedCta | null;\n\tsecondaryCta: HeaderEnrichedCta | null;\n}\n\nexport interface HeaderRenderProps {\n\tcontent: HeaderRenderedContent;\n\tmobileContent?: HeaderRenderedContent;\n\tonCtaClick?: () => void; // only used by sign in prompt header\n}\n\nexport const headerWrapper = (\n\tHeader: ReactComponent<HeaderRenderProps>,\n): ReactComponent<HeaderProps> => {\n\tconst Wrapped: ReactComponent<HeaderProps> = ({\n\t\tcontent,\n\t\tmobileContent,\n\t\ttracking,\n\t\tcountryCode,\n\t\tsubmitComponentEvent,\n\t\tnumArticles,\n\t}) => {\n\t\tconst buildEnrichedCta = (cta: Cta): HeaderEnrichedCta => {\n\t\t\tif (isProfileUrl(cta.baseUrl)) {\n\t\t\t\treturn {\n\t\t\t\t\tctaUrl: addTrackingParamsToProfileUrl(\n\t\t\t\t\t\tcta.baseUrl,\n\t\t\t\t\t\ttracking,\n\t\t\t\t\t),\n\t\t\t\t\tctaText: cta.text,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tctaUrl: addRegionIdAndTrackingParamsToSupportUrl(\n\t\t\t\t\tcta.baseUrl,\n\t\t\t\t\ttracking,\n\t\t\t\t\tnumArticles,\n\t\t\t\t\tcountryCode,\n\t\t\t\t),\n\t\t\t\tctaText: cta.text,\n\t\t\t};\n\t\t};\n\n\t\tconst primaryCta = content.primaryCta\n\t\t\t? buildEnrichedCta(content.primaryCta)\n\t\t\t: null;\n\t\tconst secondaryCta = content.secondaryCta\n\t\t\t? buildEnrichedCta(content.secondaryCta)\n\t\t\t: null;\n\n\t\tconst renderedContent: HeaderRenderedContent = {\n\t\t\theading: content.heading,\n\t\t\tsubheading: content.subheading,\n\t\t\tprimaryCta,\n\t\t\tsecondaryCta,\n\t\t};\n\n\t\tconst mobilePrimaryCta = mobileContent?.primaryCta\n\t\t\t? buildEnrichedCta(mobileContent.primaryCta)\n\t\t\t: primaryCta;\n\n\t\tconst mobileSecondaryCta = mobileContent?.secondaryCta\n\t\t\t? buildEnrichedCta(mobileContent.secondaryCta)\n\t\t\t: secondaryCta;\n\n\t\tconst renderedMobileContent = mobileContent\n\t\t\t? ({\n\t\t\t\t\theading: mobileContent.heading,\n\t\t\t\t\tsubheading: mobileContent.subheading,\n\t\t\t\t\tprimaryCta: mobilePrimaryCta,\n\t\t\t\t\tsecondaryCta: mobileSecondaryCta,\n\t\t\t  } as HeaderRenderedContent)\n\t\t\t: undefined;\n\n\t\tconst { abTestName, abTestVariant, componentType, campaignCode } =\n\t\t\ttracking;\n\n\t\tconst onCtaClick = (componentId: string) => {\n\t\t\treturn (): void => {\n\t\t\t\tconst componentClickEvent = createClickEventFromTracking(\n\t\t\t\t\ttracking,\n\t\t\t\t\t`${componentId} : cta`,\n\t\t\t\t);\n\t\t\t\tif (submitComponentEvent) {\n\t\t\t\t\tsubmitComponentEvent(componentClickEvent);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tconst sendOphanEvent = useCallback(\n\t\t\t(action: OphanAction): void => {\n\t\t\t\tif (submitComponentEvent) {\n\t\t\t\t\tsubmitComponentEvent({\n\t\t\t\t\t\tcomponent: {\n\t\t\t\t\t\t\tcomponentType,\n\t\t\t\t\t\t\tid: campaignCode,\n\t\t\t\t\t\t\tcampaignCode,\n\t\t\t\t\t\t},\n\t\t\t\t\t\taction,\n\t\t\t\t\t\tabTest: {\n\t\t\t\t\t\t\tname: abTestName,\n\t\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t[\n\t\t\t\tabTestName,\n\t\t\t\tabTestVariant,\n\t\t\t\tcampaignCode,\n\t\t\t\tcomponentType,\n\t\t\t\tsubmitComponentEvent,\n\t\t\t],\n\t\t);\n\n\t\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\t\tdebounce: true,\n\t\t\tthreshold: 0,\n\t\t});\n\n\t\tuseEffect(() => {\n\t\t\tif (hasBeenSeen) {\n\t\t\t\tsendOphanEvent('VIEW');\n\t\t\t}\n\t\t}, [hasBeenSeen, sendOphanEvent]);\n\n\t\tuseEffect(() => {\n\t\t\tsendOphanEvent('INSERT');\n\t\t}, [sendOphanEvent]);\n\n\t\treturn (\n\t\t\t<div ref={setNode}>\n\t\t\t\t<Header\n\t\t\t\t\tcontent={renderedContent}\n\t\t\t\t\tmobileContent={renderedMobileContent}\n\t\t\t\t\tonCtaClick={onCtaClick(campaignCode)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\treturn Wrapped;\n};\n\nconst validate = (props: unknown): props is HeaderProps => {\n\tconst result = headerPropsSchema.safeParse(props);\n\treturn result.success;\n};\n\nexport const validatedHeaderWrapper = (\n\tHeader: ReactComponent<HeaderRenderProps>,\n): ReactComponent<HeaderProps> => {\n\treturn (props: HeaderProps) => {\n\t\tif (validate(props)) {\n\t\t\tconst Module = headerWrapper(Header);\n\t\t\treturn <Module {...props} />;\n\t\t}\n\t\treturn <></>;\n\t};\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/4925ef1e0ced5d221f1122afe79f93bd7448e0e5/packages/modules/src/modules/headers/SignInPromptHeader.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold20,\n\theadlineBold24,\n\tspace,\n\ttextSans14,\n} from '@guardian/source/foundations';\nimport {\n\tHide,\n\tLinkButton,\n\tSvgArrowRightStraight,\n\tthemeButtonBrand,\n} from '@guardian/source/react-components';\nimport { palette as themePalette } from '../../../palette';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport type { HeaderRenderProps } from './HeaderWrapper';\nimport { headerWrapper, validatedHeaderWrapper } from './HeaderWrapper';\n\nconst gridStyles = css`\n\tdisplay: grid;\n\n\tgrid-template-rows: auto;\n\tgrid-template-columns: auto;\n\n\tgrid-template-areas:\n\t\t'heading     cta1'\n\t\t'subheading  .   ';\n`;\n\nconst textStyles = css`\n\tmargin-right: ${space[3]}px;\n`;\n\nconst headingStyles = css`\n\tgrid-area: 'heading';\n\n\tcolor: ${themePalette('--masthead-top-bar-text')};\n\t${headlineBold20}\n\n\t${from.desktop} {\n\t\t${headlineBold24}\n\t}\n`;\n\nconst subHeadingStyles = css`\n\tgrid-area: 'subheading';\n\n\tcolor: ${themePalette('--masthead-top-bar-text')};\n\t${textSans14}\n`;\n\nconst buttonStyles = css`\n\tmargin: 0 0 0 ${space[2]}px;\n\n\t${from.tablet} {\n\t\tmargin: ${space[1]}px 0 0 ${space[2]}px;\n\t}\n`;\n\nconst SignInPromptHeader: ReactComponent<HeaderRenderProps> = (props) => {\n\tconst { heading, subheading, primaryCta } = props.content;\n\n\tconst onClick = () => props.onCtaClick?.();\n\n\treturn (\n\t\t<div css={gridStyles}>\n\t\t\t<Hide until=\"tablet\">\n\t\t\t\t<div css={textStyles}>\n\t\t\t\t\t<h2 css={headingStyles}>{heading}</h2>\n\t\t\t\t\t<span css={subHeadingStyles}>{subheading}</span>\n\t\t\t\t</div>\n\t\t\t</Hide>\n\n\t\t\t{primaryCta && (\n\t\t\t\t<>\n\t\t\t\t\t<Hide until=\"tablet\">\n\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\ttheme={themeButtonBrand}\n\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\thref={primaryCta.ctaUrl}\n\t\t\t\t\t\t\ticon={<SvgArrowRightStraight />}\n\t\t\t\t\t\t\ticonSide=\"right\"\n\t\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\t\tnudgeIcon={true}\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\t\tstyle={{ gridArea: 'cta1' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{primaryCta.ctaText}\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</Hide>\n\n\t\t\t\t\t<Hide from=\"tablet\">\n\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\ttheme={themeButtonBrand}\n\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\tprops.mobileContent?.primaryCta?.ctaUrl ??\n\t\t\t\t\t\t\t\tprimaryCta.ctaUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.mobileContent?.primaryCta?.ctaText ??\n\t\t\t\t\t\t\t\tprimaryCta.ctaText}\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</Hide>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst unvalidated = headerWrapper(SignInPromptHeader);\nconst validated = validatedHeaderWrapper(SignInPromptHeader);\nexport {\n\tvalidated as SignInPromptHeader,\n\tunvalidated as SignInPromptHeaderUnvalidated,\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/9c3eae7cb0b159db4a1c40679d6b37710b0bb937/packages/shared/src/lib/tracking.ts\n */\nimport type { OphanAction, OphanComponentEvent } from '@guardian/libs';\nimport { isUndefined } from '@guardian/libs';\nimport { addRegionIdToSupportUrl } from '@guardian/support-dotcom-components';\nimport type {\n\tAbandonedBasket,\n\tBannerTest,\n\tBannerVariant,\n\tContributionFrequency,\n\tEpicTest,\n\tEpicVariant,\n\tTargetingAbTest,\n\tTracking,\n} from '@guardian/support-dotcom-components/dist/shared/types';\n\n// TRACKING VIA support.theguardian.com\ntype LinkParams = {\n\tREFPVID: string;\n\tINTCMP: string;\n\tacquisitionData: string;\n\tnumArticles: number;\n};\n\ntype AbTestObject = {\n\tname: string;\n\tvariant: string;\n\ttestType?: string;\n};\n\nconst generateAbTestArray = (\n\tabTestName: string,\n\tabTestVariant: string,\n\ttargetingAbTest?: TargetingAbTest,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): AbTestObject[] => {\n\tconst abTests: AbTestObject[] = [\n\t\t{\n\t\t\tname: abTestName,\n\t\t\tvariant: abTestVariant,\n\t\t},\n\t];\n\tif (targetingAbTest) {\n\t\tabTests.push({\n\t\t\tname: targetingAbTest.testName,\n\t\t\tvariant: targetingAbTest.variantName,\n\t\t});\n\t}\n\tif (amountsAbTestName && amountsAbTestVariant) {\n\t\tabTests.push({\n\t\t\tname: amountsAbTestName,\n\t\t\tvariant: amountsAbTestVariant,\n\t\t\ttestType: 'AMOUNTS_TEST',\n\t\t});\n\t}\n\treturn abTests;\n};\n\nconst encodeAcquisitionsData = (\n\tparams: Tracking,\n\tabTests: AbTestObject[],\n): string => {\n\treturn encodeURIComponent(\n\t\tJSON.stringify({\n\t\t\tsource: params.platformId,\n\t\t\tcomponentId: params.campaignCode,\n\t\t\tcomponentType: params.componentType,\n\t\t\tcampaignCode: params.campaignCode,\n\t\t\tabTests,\n\t\t\treferrerPageviewId: params.ophanPageId,\n\t\t\treferrerUrl: params.referrerUrl,\n\t\t\tisRemote: true, // Temp param to indicate served by remote service\n\t\t\tlabels: params.labels,\n\t\t}),\n\t);\n};\n\nconst generateQueryString = (\n\tparams: Tracking,\n\tacquisitionData: string,\n\tnumArticles: number,\n): string => {\n\tconst trackingLinkParams: LinkParams = {\n\t\tREFPVID: params.ophanPageId || 'not_found',\n\t\tINTCMP: params.campaignCode || '',\n\t\tacquisitionData,\n\t\tnumArticles: numArticles || 0,\n\t};\n\n\tconst queryString = Object.entries(trackingLinkParams)\n\t\t.filter(([, value]) => !isUndefined(value))\n\t\t.map(([key, value]) => `${key}=${value}`);\n\n\treturn queryString.join('&');\n};\n\nexport const addTrackingParams = (\n\tbaseUrl: string,\n\tparams: Tracking,\n\tnumArticles?: number,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): string => {\n\tconst abTests = generateAbTestArray(\n\t\tparams.abTestName,\n\t\tparams.abTestVariant,\n\t\tparams.targetingAbTest,\n\t\tamountsAbTestName,\n\t\tamountsAbTestVariant,\n\t);\n\tconst acquisitionData = encodeAcquisitionsData(params, abTests);\n\tconst queryString = generateQueryString(\n\t\tparams,\n\t\tacquisitionData,\n\t\tnumArticles ?? 0,\n\t);\n\tconst alreadyHasQueryString = baseUrl.includes('?');\n\treturn `${baseUrl}${alreadyHasQueryString ? '&' : '?'}${queryString}`;\n};\n\nconst addAbandonedBasketContributionParams = (\n\tbaseUrl: string,\n\t{ region, amount, billingPeriod }: AbandonedBasket,\n): string => {\n\treturn `${baseUrl}/${region}/contribute/checkout?selected-amount=${amount}&selected-contribution-type=${billingPeriod}`;\n};\n\nexport const addAbandonedBasketParamsToUrl = (\n\tbaseUrl: string,\n\tabandonedBasket: AbandonedBasket,\n): string => {\n\tswitch (abandonedBasket.product) {\n\t\tcase 'Contribution':\n\t\tcase 'SupporterPlus':\n\t\t\treturn addAbandonedBasketContributionParams(\n\t\t\t\tbaseUrl,\n\t\t\t\tabandonedBasket,\n\t\t\t);\n\t\tdefault:\n\t\t\treturn baseUrl;\n\t}\n};\n\nexport const addAbandonedBasketAndTrackingParamsToUrl = (\n\tbaseUrl: string,\n\tabandonedBasket: AbandonedBasket,\n\ttracking: Tracking,\n): string => {\n\treturn addTrackingParams(\n\t\taddAbandonedBasketParamsToUrl(baseUrl, abandonedBasket),\n\t\ttracking,\n\t);\n};\n\nexport const isSupportUrl = (baseUrl: string): boolean =>\n\t/\\bsupport\\./.test(baseUrl);\n\nexport const addRegionIdAndTrackingParamsToSupportUrl = (\n\tbaseUrl: string,\n\ttracking: Tracking,\n\tnumArticles?: number,\n\tcountryCode?: string,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): string => {\n\tif (!isSupportUrl(baseUrl)) {\n\t\treturn baseUrl;\n\t}\n\tconst urlWithRegion = addRegionIdToSupportUrl(baseUrl, countryCode);\n\n\treturn addTrackingParams(\n\t\turlWithRegion,\n\t\ttracking,\n\t\tnumArticles,\n\t\tamountsAbTestName,\n\t\tamountsAbTestVariant,\n\t);\n};\n\nconst hrefRegex = /href=\"(.*?)\"/g;\nexport const addTrackingParamsToBodyLinks = (\n\ttext: string,\n\ttracking: Tracking,\n\tnumArticles?: number,\n\tcountryCode?: string,\n): string => {\n\tconst trackingWithLabel = addLabelToTracking(tracking, 'body-link');\n\n\tconst replaceHref = (wholeMatch: string, url: string) =>\n\t\t`href=\"${addRegionIdAndTrackingParamsToSupportUrl(\n\t\t\turl,\n\t\t\ttrackingWithLabel,\n\t\t\tnumArticles,\n\t\t\tcountryCode,\n\t\t)}\"`;\n\n\treturn text.replace(hrefRegex, replaceHref);\n};\n\n// TRACKING VIA profile.theguardian.com\ntype ProfileLinkParams = {\n\tcomponentEventParams: string;\n\treturnUrl: string;\n};\n\ntype TrackingParam = keyof Tracking;\n\nexport const addProfileTrackingParams = (\n\tbaseUrl: string,\n\tparams: Tracking,\n): string => {\n\tconst constructQuery = (query: Partial<Tracking>): string =>\n\t\tObject.keys(query)\n\t\t\t.map((param) => {\n\t\t\t\tconst value = query[param as TrackingParam];\n\t\t\t\tconst queryValue = Array.isArray(value)\n\t\t\t\t\t? value.map((v) => encodeURIComponent(v)).join(',')\n\t\t\t\t\t: encodeURIComponent(value as string | number | boolean);\n\t\t\t\treturn `${param}=${queryValue}`;\n\t\t\t})\n\t\t\t.join('&');\n\n\tconst componentEventParamsData = {\n\t\tcomponentType: params.componentType,\n\t\tcomponentId: params.campaignCode,\n\t\tabTestName: params.abTestName,\n\t\tabTestVariant: params.abTestVariant,\n\t\tviewId: params.ophanPageId,\n\t};\n\n\tconst trackingLinkParams: ProfileLinkParams = {\n\t\t// Note: profile subdomain take uri encoded query params NOT json\n\t\tcomponentEventParams: encodeURIComponent(\n\t\t\tconstructQuery(componentEventParamsData),\n\t\t),\n\t\treturnUrl: params.referrerUrl,\n\t};\n\n\tconst queryString = Object.entries(trackingLinkParams)\n\t\t.filter(([, value]) => !isUndefined(value))\n\t\t.map(([key, value]) => `${key}=${value}`);\n\tconst alreadyHasQueryString = baseUrl.includes('?');\n\n\treturn `${baseUrl}${alreadyHasQueryString ? '&' : '?'}${queryString.join(\n\t\t'&',\n\t)}`;\n};\n\nexport const addChoiceCardsParams = (\n\turl: string,\n\tfrequency: ContributionFrequency,\n\tamount?: number | 'other',\n): string => {\n\tconst newParams = `selected-contribution-type=${frequency}${\n\t\tamount !== undefined ? `&selected-amount=${amount}` : ''\n\t}`;\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const addChoiceCardsOneTimeParams = (url: string): string => {\n\tconst newParams = `oneTime`;\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const addChoiceCardsProductParams = (\n\turl: string,\n\tproduct: string,\n\tratePlan: string,\n\tcontribution?: number,\n): string => {\n\tconst newParams = `product=${product}&ratePlan=${ratePlan}${\n\t\tcontribution !== undefined ? `&contribution=${contribution}` : ''\n\t}`;\n\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const isProfileUrl = (baseUrl: string): boolean =>\n\t/\\bprofile\\./.test(baseUrl);\nexport const addTrackingParamsToProfileUrl = (\n\tbaseUrl: string,\n\ttracking: Tracking,\n): string => {\n\treturn isProfileUrl(baseUrl)\n\t\t? addProfileTrackingParams(baseUrl, tracking)\n\t\t: baseUrl;\n};\n\n// SHARED TRACKING\nconst campaignPrefix = 'gdnwb_copts_memco';\n\nexport const buildCampaignCode = (\n\ttest: EpicTest,\n\tvariant: EpicVariant,\n): string =>\n\t`${campaignPrefix}_${test.campaignId ?? test.name}_${variant.name}`;\n\nexport const buildBannerCampaignCode = (\n\ttest: BannerTest,\n\tvariant: BannerVariant,\n): string => `${test.name}_${variant.name}`;\n\nexport const buildAmpEpicCampaignCode = (\n\ttestName: string,\n\tvariantName: string,\n): string => `AMP__${testName}__${variantName}`;\n\nconst createEventFromTracking = (action: OphanAction) => {\n\treturn (tracking: Tracking, componentId: string): OphanComponentEvent => {\n\t\tconst {\n\t\t\tabTestName,\n\t\t\tabTestVariant,\n\t\t\tcomponentType,\n\t\t\tproducts = [],\n\t\t\tlabels = [],\n\t\t\tcampaignCode,\n\t\t} = tracking;\n\t\tconst abTest =\n\t\t\tabTestName && abTestVariant\n\t\t\t\t? {\n\t\t\t\t\t\tname: abTestName,\n\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t  }\n\t\t\t\t: null;\n\n\t\tconst targetingAbTest = tracking.targetingAbTest\n\t\t\t? {\n\t\t\t\t\tname: tracking.targetingAbTest.testName,\n\t\t\t\t\tvariant: tracking.targetingAbTest.variantName,\n\t\t\t  }\n\t\t\t: null;\n\n\t\treturn {\n\t\t\tcomponent: {\n\t\t\t\tcomponentType,\n\t\t\t\tproducts,\n\t\t\t\tcampaignCode,\n\t\t\t\tid: componentId,\n\t\t\t\tlabels,\n\t\t\t},\n\t\t\t...(abTest ? { abTest } : {}),\n\t\t\t...(targetingAbTest ? { targetingAbTest } : {}),\n\t\t\taction,\n\t\t};\n\t};\n};\n\nexport const addLabelToTracking = (\n\ttracking: Tracking,\n\tlabel: string,\n): Tracking => {\n\tif (tracking.labels) {\n\t\treturn {\n\t\t\t...tracking,\n\t\t\tlabels: [...tracking.labels, label],\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\t...tracking,\n\t\t\tlabels: [label],\n\t\t};\n\t}\n};\n\nexport const createClickEventFromTracking = createEventFromTracking('CLICK');\n\nexport const createViewEventFromTracking = createEventFromTracking('VIEW');\n\nexport const createInsertEventFromTracking = createEventFromTracking('INSERT');\n","import libDebounce from 'lodash.debounce';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\n/**\n * This file was copied into the source development kitchen from the following repository:\n * https://github.com/guardian/csnx/blob/main/libs/%40guardian/source-development-kitchen/src/react-components/ticker/useIsInView.ts\n *\n * Note: This version of the file uses `lodash.debounce`, whereas the original version does not.\n * As a result, we now have two versions of the `useIsInView` hookâ€”one with `lodash.debounce` and one without.\n *\n * A discussion is needed to determine the best approach for consolidating these two versions into a single file.\n * Consider whether the use of `lodash.debounce` is necessary, and if so, integrate it into the consolidated version.\n */\n\ntype Options = {\n\t/**\n\t * Defaults to `undefined` (falsy),\n\t * which trigger a change the instantaneously.\n\t *\n\t * If `true`, debounce triggers by 200ms.\n\t * Enabling debouncing ensures the target element intersects\n\t * for at least 200ms before the callback is executed\n\t */\n\tdebounce?: true;\n\t/**\n\t * Defaults to `undefined` (falsy),\n\t * which only trigger on the first intersection.\n\t *\n\t * If `true`, trigger the hook on all intersections.\n\t */\n\trepeat?: true;\n\t/** Set the initial HTML Element, if known. */\n\tnode?: HTMLElement;\n};\n\n/**\n * Custom hook around the `IntersectionObserver`.\n *\n * @returns a tuple containing `[isInView, setNode]`\n */\nconst useIsInView = (\n\toptions: IntersectionObserverInit & Options,\n): [boolean, React.Dispatch<React.SetStateAction<HTMLElement | null>>] => {\n\tconst [isInView, setIsInView] = useState<boolean>(false);\n\tconst [node, setNode] = useState<HTMLElement | null>(options.node ?? null);\n\n\tconst observer = useRef<IntersectionObserver | null>(null);\n\n\tconst intersectionObserverCallback =\n\t\tuseCallback<IntersectionObserverCallback>(\n\t\t\t([entry]) => {\n\t\t\t\tif (!entry) return;\n\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tsetIsInView(true);\n\t\t\t\t} else if (options.repeat) {\n\t\t\t\t\tsetIsInView(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\t[options.repeat],\n\t\t);\n\n\tconst intersectionCallback = options.debounce\n\t\t? libDebounce(intersectionObserverCallback, 200)\n\t\t: intersectionObserverCallback;\n\n\tuseEffect(() => {\n\t\toptions.node && setNode(options.node);\n\t}, [options.node]);\n\n\tuseEffect(() => {\n\t\tif (!node) return;\n\t\t// Check for browser support https://caniuse.com/intersectionobserver\n\t\tif (!('IntersectionObserver' in window)) return;\n\n\t\tobserver.current = new window.IntersectionObserver(\n\t\t\tintersectionCallback,\n\t\t\toptions,\n\t\t);\n\n\t\tobserver.current.observe(node);\n\n\t\treturn () => observer.current?.disconnect();\n\t}, [node, options, intersectionCallback]);\n\n\tuseEffect(() => {\n\t\tif (!options.repeat && isInView) observer.current?.disconnect();\n\t}, [isInView, options.repeat]);\n\n\treturn [isInView, setNode];\n};\n\nexport { useIsInView };\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n"],"names":["headerWrapper","Header","content","mobileContent","tracking","countryCode","submitComponentEvent","numArticles","buildEnrichedCta","cta","isProfileUrl","baseUrl","ctaUrl","addTrackingParamsToProfileUrl","ctaText","text","addRegionIdAndTrackingParamsToSupportUrl","primaryCta","secondaryCta","renderedContent","heading","subheading","mobilePrimaryCta","mobileSecondaryCta","renderedMobileContent","undefined","abTestName","abTestVariant","componentType","campaignCode","sendOphanEvent","useCallback","action","component","id","abTest","name","variant","hasBeenSeen","setNode","useIsInView","debounce","threshold","useEffect","div","ref","onCtaClick","componentId","componentClickEvent","createClickEventFromTracking","validatedHeaderWrapper","props","headerPropsSchema","safeParse","success","validate","Module","gridStyles","css","textStyles","space","headingStyles","themePalette","headlineBold20","from","desktop","headlineBold24","subHeadingStyles","textSans14","buttonStyles","tablet","SignInPromptHeader","Hide","until","h2","span","LinkButton","theme","themeButtonBrand","priority","href","icon","SvgArrowRightStraight","iconSide","onClick","nudgeIcon","size","cssOverrides","style","gridArea","unvalidated","validated","addTrackingParams","params","amountsAbTestName","amountsAbTestVariant","abTests","targetingAbTest","push","testName","variantName","testType","generateAbTestArray","acquisitionData","encodeURIComponent","JSON","stringify","source","platformId","referrerPageviewId","ophanPageId","referrerUrl","isRemote","labels","encodeAcquisitionsData","queryString","trackingLinkParams","REFPVID","INTCMP","Object","entries","filter","value","isUndefined","map","key","join","generateQueryString","alreadyHasQueryString","includes","addAbandonedBasketAndTrackingParamsToUrl","abandonedBasket","product","region","amount","billingPeriod","addAbandonedBasketContributionParams","addAbandonedBasketParamsToUrl","isSupportUrl","test","urlWithRegion","addRegionIdToSupportUrl","hrefRegex","addTrackingParamsToBodyLinks","trackingWithLabel","addLabelToTracking","replace","wholeMatch","url","addChoiceCardsParams","frequency","newParams","addChoiceCardsOneTimeParams","addChoiceCardsProductParams","ratePlan","contribution","componentEventParamsData","viewId","componentEventParams","query","keys","param","queryValue","Array","isArray","v","returnUrl","addProfileTrackingParams","createEventFromTracking","products","label","createViewEventFromTracking","createInsertEventFromTracking","options","isInView","setIsInView","useState","node","observer","useRef","intersectionObserverCallback","entry","isIntersecting","repeat","intersectionCallback","libDebounce","window","current","IntersectionObserver","observe","disconnect","palette","colour"],"sourceRoot":""}