"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[5496],{18644:(e,n,t)=>{t.d(n,{L:()=>a});var r=t(50484),o=t(24017),i=t(81477),a=function(e){var n,t=e.children,a=e.when,s=e.breakpoint,c=e.el;return n="below"===a?(0,o.css)(i.TG[s],"{display:none;}"):(0,o.css)(i.HT[s],"{display:none;}"),"li"===c?(0,r.jsx)("li",{css:n,children:t}):(0,r.jsx)("span",{css:n,children:t})}},50728:(e,n,t)=>{t.d(n,{B:()=>p});var r=t(50484),o=t(24017),i=t(71653),a=t(50641),s=t(56297),c=t(1954),u=function(e){var n=e.href,t=e.children;return(0,r.jsx)(s.N,{"data-ignore":"global-link-styling",href:n,rel:"noreferrer",children:t})},l=(0,o.css)(i.Ikj,";line-height:1.15;a{",i.Ikj,";text-decoration:underline;:hover{text-decoration:underline;}}strong{font-weight:bold;}"),d=function(e){switch(e){case"supporting":return(0,o.css)("color:",(0,c.M)("--privacy-text-supporting-subdued"),";a,strong{color:",(0,c.M)("--privacy-text-supporting"),";:hover{color:inherit;}}");case"regular":return(0,o.css)("color:",a.M.neutral[20],";a,strong{color:",(0,c.M)("--privacy-text-regular"),";:hover{color:inherit;}}")}},p=function(e){var n=e.textColor,t=void 0===n?"supporting":n;return(0,r.jsxs)("span",{css:[l,d(t)],children:[(0,r.jsx)("strong",{children:"Privacy Notice: "}),"Newsletters may contain info about charities, online ads, and content funded by outside parties. For more information see our"," ",(0,r.jsx)(u,{href:"https://www.theguardian.com/help/privacy-policy",children:"Privacy Policy"}),". We use Google reCaptcha to protect our website and the Google"," ",(0,r.jsx)(u,{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," and"," ",(0,r.jsx)(u,{href:"https://policies.google.com/terms",children:"Terms of Service"})," ","apply."]})}},39306:(e,n,t)=>{t.r(n),t.d(n,{SecureSignup:()=>F});var r=t(62335),o=t(22820),i=t(18247),a=t(57820),s=t.n(a),c=t(50484),u=t(24017),l=t(5240),d=t(59648),p=t(81477),m=t(73499),f=t(56297),h=t(60646),b=t(73598),x=t(28673),g=t(67238),v=t(52104),C=t(67400),y=t(37800),S=t(85918),j=t(46845),w=t(1954),O=t(7693);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,r.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function E(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return I(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var A=(0,u.css)("display:grid;align-items:center;grid-template-columns:auto min-content;grid-template-rows:24px 48px;gap:0 ",d.x[3],"px;grid-template-areas:'label label' 'input button';label{grid-area:label;div{color:",(0,w.M)("--article-text"),";}}input{grid-area:input;margin-top:0;color:",(0,w.M)("--article-text"),";background-color:",(0,w.M)("--article-background"),";}button{grid-area:button;background-color:",(0,w.M)("--recaptcha-button"),";color:",(0,w.M)("--recaptcha-button-text"),";:hover{background-color:",(0,w.M)("--recaptcha-button-hover"),";}}"),P={gridTemplateColumns:"auto 1fr",gridTemplateAreas:['"label  label"','"button input"'].join(" ")},_=(0,u.css)("display:flex;align-items:flex-start;",p.TG.tablet,"{flex-wrap:wrap;}button{margin-left:",d.x[1],"px;background-color:",(0,w.M)("--recaptcha-button"),";:hover{background-color:",(0,w.M)("--recaptcha-button-hover"),";}}"),R=function(e){var n=e.text;return(0,c.jsx)(m.W,{children:(0,c.jsxs)("span",{children:[n," Please try again or contact"," ",(0,c.jsx)(f.N,{href:"mailto:customer.help@theguardian.com",target:"_blank",rel:"noreferrer",children:"customer.help@theguardian.com"})]})})},U=function(e){var n=e.text;return(0,c.jsx)(h.H,{children:(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{children:"Subscription Confirmed. "}),(0,c.jsx)("span",{children:n})]})})},M=function(e,n,t){var r,o,i=window.location.origin+window.location.pathname,a=null!==(r=null===(o=window.guardian.ophan)||void 0===o?void 0:o.pageViewId)&&void 0!==r?r:"",s=new FormData;return s.append("email",e),s.append("csrfToken",""),s.append("listName",n),s.append("ref",i),s.append("refViewId",a),s.append("name",""),window.guardian.config.switches.emailSignupRecaptcha&&s.append("g-recaptcha-response",t),s},H=function(){var e=(0,i.A)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.guardian.config.page.idApiUrl){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,j.w)(n)();case 5:if(t=e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.A)(s().mark((function e(n,t){var r,i,a,c,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=E(t.entries());try{for(i.s();!(a=i.n()).done;)c=(0,o.A)(a.value,2),u=c[0],l=c[1],r.push("".concat(encodeURIComponent(u),"=").concat(encodeURIComponent(l.toString())))}catch(e){i.e(e)}finally{i.f()}return e.abrupt("return",fetch(n,{method:"POST",body:r.join("&"),headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=function(e,n,t,r){var o="CLICK";switch(n){case"form-submission":case"captcha-not-passed":case"captcha-passed":o="ANSWER";break;case"submission-confirmed":o="SUBSCRIBE";break;case"captcha-load-error":case"form-submit-error":case"submission-failed":o="CLOSE";break;case"open-captcha":o="EXPAND";break;default:o="CLICK"}var i=JSON.stringify({eventDescription:n,newsletterId:e,timestamp:Date.now()});(0,S.u_)({action:o,value:i,component:{componentType:"NEWSLETTER_SUBSCRIPTION",id:"AR SecureSignup ".concat(e)},abTest:r},t)},D={name:"1ubrepq",styles:".grecaptcha-badge{visibility:hidden;}"},F=function(e){var n=e.newsletterId,t=e.successDescription,r=e.abTest,a=(0,C.useRef)(null),u=(0,C.useState)(),d=(0,o.A)(u,2),p=d[0],m=d[1],f=(0,C.useState)(),h=(0,o.A)(f,2),S=h[0],j=h[1],w=(0,C.useState)(!1),T=(0,o.A)(w,2),E=T[0],I=T[1],F=(0,C.useState)(void 0),K=(0,o.A)(F,2),W=K[0],V=K[1],G=(0,C.useState)(void 0),Q=(0,o.A)(G,2),B=Q[0],z=Q[1];(0,C.useEffect)((function(){m(window.guardian.config.page.googleRecaptchaSiteKey),H().then(j)}),[]);var $=(0,O.U)().renderingTarget,q="boolean"==typeof W,J=function(){var e=(0,i.A)(s().mark((function e(t){var o,i,a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(o=document.querySelector('input[type="email"]'))&&void 0!==o?o:null,c=null!==(i=null==a?void 0:a.value)&&void 0!==i?i:"",L(n,"form-submission",$,r),e.next=5,N(window.guardian.config.page.ajaxUrl+"/email",M(c,n,t));case 5:u=e.sent,I(!1),V(u.ok),L(n,u.ok?"submission-confirmed":"submission-failed",$,r);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=(0,l.K)(S);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),E||(z(void 0),L(n,"open-captcha",$,r),null===(t=a.current)||void 0===t||t.execute())},id:"secure-signup-".concat(n),style:k({display:q||E?"none":void 0},Z?P:void 0),css:A,children:[(0,c.jsx)(b.k,{hidden:Z,hideLabel:Z,name:"email",label:"Enter your email address",type:"email",value:S}),(0,c.jsx)(x.$,{onClick:function(){L(n,"click-button",$,r)},size:"small",type:"submit",children:"Sign up"})]}),E&&(0,c.jsx)("div",{"aria-label":"loading",children:(0,c.jsx)(g.y,{size:"small"})}),!!B&&(0,c.jsx)(R,{text:B}),q&&(W?(0,c.jsx)("div",{children:(0,c.jsx)(U,{text:t})}):(0,c.jsxs)("div",{css:_,children:[(0,c.jsx)(R,{text:"Sign up failed."}),(0,c.jsx)(x.$,{size:"small",icon:(0,c.jsx)(v.k,{}),iconSide:"right",onClick:function(){var e;z(void 0),V(void 0),null===(e=a.current)||void 0===e||e.reset()},children:"Try again"})]})),!!p&&(0,c.jsx)("div",{css:D,children:(0,c.jsx)(y.A,{sitekey:p,ref:a,onChange:function(e){e?(L(n,"captcha-passed",$,r),I(!0),J(e).catch((function(e){console.error(e),L(n,"form-submit-error",$,r),z("Sorry, there was an error signing you up."),I(!1)}))):L(n,"captcha-not-passed",$,r)},onError:function(){var e;L(n,"captcha-load-error",$,r),z("Sorry, the reCAPTCHA failed to load."),null===(e=a.current)||void 0===e||e.reset()},size:"invisible"})})]})}},66007:(e,n,t)=>{t.d(n,{o:()=>u});var r=t(50484),o=t(24017),i=t(59648),a=t(50728),s=t(39306),c=(0,o.css)("margin:",i.x[6],"px ",i.x[2],"px ",i.x[1],"px 0;"),u=function(e){var n=e.newsletterId,t=e.successDescription,o=e.tracking;return(0,r.jsxs)("div",{css:c,children:[(0,r.jsx)(s.SecureSignup,{newsletterId:n,successDescription:t,abTest:{name:o.abTestName,variant:o.abTestVariant}}),(0,r.jsx)(a.B,{})]})}},93183:(e,n,t)=>{t.d(n,{B:()=>He});var r=t(22820),o=t(50484),i=t(67400),a=t(24017),s=t(65656),c=t(50641),u=t(59648),l=t(71653),d=t(81477),p=t(82378),m=t(58486),f=t(57204),h=t(45699),b=t(42702),x=[{supportTier:"Contribution",label:function(e,n){return"Support ".concat(n).concat(e,"/month")},benefitsLabel:"Support",benefits:function(){return["Exclusive newsletter for supporters, sent every week from the Guardian newsroom"]},recommended:!1},{supportTier:"SupporterPlus",label:function(e,n,t){return(0,s.b)(t)?"Support ".concat(n).concat(e,"/month"):(0,o.jsxs)(o.Fragment,{children:["Support"," ",(0,o.jsxs)("s",{children:[n,e]})," ",n,e*t,"/month"," "]})},benefitsLabel:"All-access digital",benefits:function(){return["Unlimited access to the Guardian app","Unlimited access to our new Feast App","Ad-free reading on all your devices","Exclusive newsletter for supporters, sent every week from the Guardian newsroom","Far fewer asks for support"]},recommended:!0},{supportTier:"OneOff",label:function(){return"Support with another amount"},benefitsLabel:void 0,benefits:function(){return["We welcome support of any size, any time"]},recommended:!1}],g=[{supportTier:"Contribution",label:function(e,n){return"Support ".concat(n).concat(e,"/month")},benefitsLabel:"Support",benefits:function(){return["Exclusive newsletter for supporters, sent every week from the Guardian newsroom"]},recommended:!1},{supportTier:"SupporterPlus",label:function(e,n){return"Support ".concat(n).concat(e,"/month")},benefitsLabel:"All-access digital",benefits:function(){return["Unlimited access to the Guardian app","Unlimited access to our new Feast App","Ad-free reading on all your devices","Exclusive newsletter for supporters, sent every week from the Guardian newsroom","Far fewer asks for support"]},recommended:!0},{supportTier:"OneOff",label:function(e,n){return"Support once from just ".concat(n,"1")},benefitsLabel:void 0,benefits:function(e){return["We welcome support of any size, any time - whether you choose to give ".concat(e,"1 or more")]},recommended:!1}],v=[{supportTier:"SupporterPlus",label:function(e,n,t){return(0,s.b)(t)?"Support ".concat(n).concat(e,"/month"):(0,o.jsxs)(o.Fragment,{children:["Support"," ",(0,o.jsxs)("s",{children:[n,e]})," ",n,e*t,"/month"," "]})},benefitsLabel:"All-access digital",benefits:function(){return["Unlimited access to the Guardian app","Ad-free reading on all your devices","Exclusive newsletter for supporters","And much more!"]},recommended:!0},{supportTier:"OneOff",label:function(e,n){return"Support us from just ".concat(n,"1")},benefitsLabel:void 0,benefits:function(e){return["We welcome support of any size, any time - whether you choose to give ".concat(e,"1 or more")]},recommended:!1}],C=t(37258),y=function(e){return(0,a.css)("display:block;border:",e?"2px solid ".concat(c.M.brand[500]):"1px solid ".concat(c.M.neutral[46]),";background-color:",e?c.M.sport[800]:c.M.neutral[100],";border-radius:10px;padding:",e?"6px ".concat(u.x[5],"px 10px ").concat(u.x[5],"px"):"6px ".concat(u.x[5],"px"),";")},S=(0,a.css)(l.PSs,";color:",c.M.neutral[7],";list-style:none;margin:0 0 0 -4px;padding:0;li+li{margin-top:",u.x[2],"px;}li{display:flex;align-items:flex-start;margin-top:",u.x[2],"px;}svg{flex-shrink:0;margin-right:",u.x[2],"px;fill:",c.M.brand[400],";}"),j=(0,a.css)("color:",c.M.neutral[0],";",l.PSs,";strong{",l.yui,";}"),w={name:"ejxpud",styles:"+label div{font-weight:bold;s{font-weight:normal;}}"},O=(0,a.css)("margin-top:",u.x[4],"px;"),T=(0,a.css)("border-radius:4px;padding:",u.x[1],"px ",u.x[2],"px;background-color:",c.M.brand[400],";",l.rS6,";color:",c.M.neutral[100],";position:absolute;top:-",u.x[2],"px;",d.TG.phablet,"{right:",u.x[3],"px;}right:",u.x[5],"px;"),k=(0,a.css)("border-radius:4px;padding:",u.x[1],"px ",u.x[2],"px;background-color:",c.M.error[400],";",l.rS6,";color:",c.M.neutral[100],";position:absolute;top:-",u.x[2],"px;",d.TG.phablet,"{right:",u.x[3],"px;}right:",u.x[5],"px;"),E=function(e){var n=e.benefitsLabel,t=e.benefits,r=!!n;return(0,o.jsxs)("div",{css:O,children:[!!n&&(0,o.jsxs)("span",{css:j,children:["Unlock ",(0,o.jsx)("strong",{children:n})," benefits:"]}),(0,o.jsx)("ul",{css:S,children:t.map((function(e){return(0,o.jsxs)("li",{children:[r&&(0,o.jsx)(p.A,{size:"xsmall"}),e]},e)}))})]})},I=function(){return(0,o.jsx)("div",{css:T,children:"Recommended"})},A=function(e){var n=e.discount;return(0,o.jsxs)("div",{css:k,children:[n,"% off"]})},P={name:"bjn8wh",styles:"position:relative"},_=function(e){var n=e.countryCode,t=e.selectedProduct,r=e.setSelectedProduct,i=e.variantOfChoiceCard,c=e.supporterPlusDiscount,l=(0,b.dC)(n),d=(0,b.B0)(n),p=function(e){switch(e){case"US_THREE_TIER_CHOICE_CARDS":case"US_CHECKOUT_THREE_TIER_CHOICE_CARDS":return g;case"TWO_TIER_CHOICE_CARDS":return v;default:return x}}(i);return(0,o.jsx)(m.z,{cssOverrides:(0,a.css)("margin-top:",u.x[6],"px;"),children:(0,o.jsx)(f.B,{space:3,children:p.map((function(e){var n=e.supportTier,i=e.label,a=e.benefitsLabel,u=e.benefits,p=e.recommended,m=function(e,n,t){return C.n.Monthly[t][e]}(n,0,d),f=t===n,b=!(0,s.b)(c)&&"SupporterPlus"===n,x="choicecard-".concat(n);return(0,o.jsxs)("div",{css:P,children:[b&&(0,o.jsx)(A,{discount:100*c}),p&&!b&&(0,o.jsx)(I,{}),(0,o.jsx)("label",{css:y(f),htmlFor:x,children:(0,o.jsx)(h.s,{label:i(m,l,c),id:x,value:n,cssOverrides:w,supporting:f?(0,o.jsx)(E,{benefitsLabel:a,benefits:u(l)}):void 0,checked:f,onChange:function(){r(n)}})})]},n)}))})})},R=t(88528),U=t(12086),M=t(21128),H=t(6856),N=t(62335),L=t(5926),D=t(99354),F=t(53753),K=t(83254),W=t(28673),V=["onClickAction","submitComponentEvent","children","showArrow","priority","isTertiary","cssOverrides","icon","isColourInTestVariant"];function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,N.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var B={textPrimary:c.M.neutral[7],backgroundPrimary:c.M.brandAlt[400],backgroundPrimaryHover:c.M.brandAlt[300],textSecondary:c.M.neutral[7],backgroundSecondary:c.M.neutral[93],backgroundSecondaryHover:c.M.neutral[86],borderSecondary:c.M.neutral[86]},z={textPrimary:"#FFFFFF",backgroundPrimary:"#051D32",backgroundPrimaryHover:"#072744",textSecondary:c.M.neutral[7],backgroundSecondary:c.M.neutral[93],backgroundSecondaryHover:c.M.neutral[86],borderSecondary:c.M.neutral[86]},$={button:B,link:B},q={button:z,link:z},J=(0,a.css)("border:1px solid ",c.M.neutral[7],"!important;background-color:transparent!important;:hover{background-color:",c.M.neutral[86],"!important;}"),Z=function(e){var n=e.onClickAction,t=e.submitComponentEvent,r=e.children,i=e.showArrow,s=void 0!==i&&i,c=e.priority,u=void 0===c?"primary":c,l=e.isTertiary,d=e.cssOverrides,p=e.icon,m=e.isColourInTestVariant,f=(0,L.A)(e,V);return"string"==typeof n?(0,o.jsx)(D.a,{theme:m?q:$,children:(0,o.jsx)(F.z,Q(Q({href:n,icon:null!=p?p:(0,o.jsx)(K._,{}),iconSide:"right",onClick:function(){t&&t("primary"==u?H._v:H.sk)},target:"_blank",rel:"noopener noreferrer",priority:l?"primary":u,cssOverrides:(0,a.css)(l?[J,d]:d,"")},f),{},{children:r}))}):(0,o.jsx)(D.a,{theme:m?q:$,children:(0,o.jsx)(W.$,Q(Q({iconSide:"right",icon:s?(0,o.jsx)(K._,{}):void 0,onClick:function(){return n()},priority:l?"primary":u,cssOverrides:(0,a.css)(l?[J,d]:d,"")},f),{},{children:r}))})},Y=(0,a.css)("display:inline-block;width:auto;height:25px;margin:",u.x[1],"px 0;"),X=(0,a.css)("margin:",u.x[6],"px ",u.x[2],"px ",u.x[1],"px 0;display:flex;flex-wrap:wrap;align-items:center;&.hidden{display:none;}"),ee=(0,a.css)("margin:",u.x[1],"px ",u.x[2],"px ",u.x[1],"px 0;"),ne=function(e){var n=e.cta,t=e.tracking,r=e.countryCode,i=e.amountsTestName,a=e.amountsVariantName,s=e.numArticles,c=e.submitComponentEvent,u=e.isColourInTestVariant;if(!n)return null;var l=n.text||"Support The Guardian",d=n.baseUrl||"https://support.theguardian.com/contribute",p=(0,M.QP)(d,t,s,r,i,a);return(0,o.jsx)("div",{css:ee,children:(0,o.jsx)(Z,{onClickAction:p,submitComponentEvent:c,showArrow:!0,"data-ignore":"global-link-styling",isColourInTestVariant:u,children:l})})},te=function(e){var n=e.cta,t=e.tracking,r=e.numArticles,i=e.countryCode,a=e.submitComponentEvent,s=(0,M.QP)(n.baseUrl,t,r,i);return(0,o.jsx)("div",{css:ee,children:(0,o.jsx)(Z,{onClickAction:s,submitComponentEvent:a,showArrow:!0,priority:"secondary",children:n.text})})},re=function(e){var n=e.variant,t=e.tracking,a=e.countryCode,s=e.onOpenReminderClick,c=e.submitComponentEvent,u=e.isReminderActive,l=e.isSignedIn,d=e.showChoiceCards,p=e.threeTierChoiceCardSelectedProduct,m=e.amountsTestName,f=e.amountsVariantName,h=e.numArticles,x=e.variantOfChoiceCard,g=e.isColourInTestVariant,v=(0,R.E)({debounce:!0}),y=(0,r.A)(v,2),S=y[0],j=y[1],w=n.secondaryCta,O=n.showReminderFields;if((0,i.useEffect)((function(){S&&c&&(c(H.CO),O&&!(0,U.jW)()&&c((0,H.G0)(l)))}),[S,l,O,c]),!n.cta)return null;var T,k=(0,M.Tv)(n.cta.baseUrl)||(null==w?void 0:w.type)===b.bP.Custom&&(0,M.Tv)(w.cta.baseUrl);return(0,o.jsx)("div",{ref:j,css:X,"data-testid":"epic=buttons",children:!u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ne,{cta:(T=n.cta,d?function(e){if(d&&"US"===a){if("OneOff"===p)return"US_CHECKOUT_THREE_TIER_CHOICE_CARDS"===x?{text:e.text,baseUrl:(0,M.Q7)("https://support.theguardian.com/contribute/checkout","ONE_OFF")}:{text:e.text,baseUrl:(0,M.hy)(e.baseUrl)};var n=(0,b.B0)(a),t="Contribution"===p?C.n.Monthly[n].Contribution:void 0,r="US_CHECKOUT_THREE_TIER_CHOICE_CARDS"===x?"https://support.theguardian.com/checkout":e.baseUrl;return{text:e.text,baseUrl:(0,M.R9)(r,p,"Monthly",t)}}return d&&"THREE_TIER_CHOICE_CARDS"===x?"OneOff"===p?{text:e.text,baseUrl:"https://support.theguardian.com/contribute"}:{text:e.text,baseUrl:(0,M.R9)(e.baseUrl,p,"Monthly")}:e}(T):T),tracking:t,numArticles:h,amountsTestName:m,amountsVariantName:f,countryCode:a,submitComponentEvent:c,isColourInTestVariant:g}),(null==w?void 0:w.type)===b.bP.Custom&&!!w.cta.baseUrl&&!!w.cta.text&&(0,o.jsx)(te,{cta:w.cta,tracking:t,countryCode:a,numArticles:h,submitComponentEvent:c})]}),(null==w?void 0:w.type)===b.bP.ContributionsReminder&&O&&!(0,U.jW)()&&(0,o.jsx)("div",{css:ee,children:(0,o.jsx)(Z,{onClickAction:function(){c&&c(H.I_),s()},isTertiary:!0,children:O.reminderCta})}),k&&(0,o.jsx)("img",{width:422,height:60,src:"https://assets.guim.co.uk/images/acquisitions/2db3a266287f452355b68d4240df8087/payment-methods.png",alt:"Accepted payment methods: Visa, Mastercard, American Express and PayPal",css:Y})]})})},oe=t(59788),ie=t(6569),ae=t(40292),se=t(54091),ce=t(18644),ue=(0,a.css)("position:relative;background-color:",c.M.neutral[97],";*{box-sizing:border-box;}p{margin-top:0;margin-bottom:0;}"),le=(0,a.css)("margin:",u.x[3],"px auto;"),de=(0,a.css)(l.aal,";margin:0 ",u.x[5],"px ",u.x[2],"px 0;"),pe=(0,a.css)("margin:0 auto ",u.x[2],"px;",l.Ni,";"),me=(0,a.css)("color:",c.M.neutral[7],";"),fe=(0,a.css)(l.yui,";color:",c.M.error[400],";font-style:italic;margin-top:",u.x[2],"px!important;margin-bottom:0;"),he=(0,a.css)("display:none;position:absolute;top:20px;right:0;",d.HT.tablet,"{display:block;}"),be=(0,a.css)(l.Ni,";",d.HT.tablet,"{margin-right:",u.x[9],"px;}"),xe=(0,a.css)(l.PSs,";font-style:italic;margin-top:",u.x[2],"px!important;"),ge=(0,a.css)("display:flex;flex-direction:row;align-items:center;margin-top:",u.x[4],"px;&>*+*{margin-left:",u.x[6],"px;}"),ve=function(e){var n=e.reminderLabel,t=e.reminderStatus,r=e.onSetReminderClick,i=e.onCloseReminderClick,a=(0,U.J)(n);return(0,o.jsxs)("div",{css:ue,children:[(0,o.jsx)("div",{css:he,children:(0,o.jsx)(W.$,{onClick:i,icon:(0,o.jsx)(ie.F,{}),priority:"subdued",size:"small",hideLabel:!0,children:"Close"})}),(0,o.jsx)("div",{css:le,children:(0,o.jsx)(se.o,{})}),t===U.l.Completed?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{css:de,children:"Thank you! Your reminder is set."}),(0,o.jsxs)("p",{css:pe,children:["We will be in touch to invite you to contribute. Look out for a message in your inbox"," ",a,". If you have any questions about contributing, please"," ",(0,o.jsx)("a",{href:"mailto:contribution.support@theguardian.com",css:me,children:"contact us"}),"."]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{css:be,children:["Show your support for the Guardian at a later date. To make this easier, set a reminder and we’ll email you"," ",a,"."]}),(0,o.jsxs)("div",{css:ge,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(ce.L,{when:"above",breakpoint:"tablet",children:(0,o.jsx)(W.$,{onClick:r,disabled:t===U.l.Submitting,children:"Set a reminder"})}),(0,o.jsx)(ce.L,{when:"below",breakpoint:"tablet",children:(0,o.jsx)(W.$,{onClick:r,icon:(0,o.jsx)(ae.Q,{}),iconSide:"left",disabled:t===U.l.Submitting,children:"Set a reminder"})})]}),(0,o.jsx)(W.$,{onClick:i,priority:"subdued",children:"Not now"})]}),t===U.l.Error&&(0,o.jsx)("p",{css:fe,children:"Sorry we couldn't set a reminder for you this time. Please try again later."}),(0,o.jsxs)("p",{css:xe,children:["We will send you a maximum of two emails"," ",a,". To find out what personal data we collect and how we use it, view our"," ",(0,o.jsx)("a",{css:me,href:"https://www.theguardian.com/help/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]})]})},Ce=t(73598),ye=t(94768),Se={name:"dbwypk",styles:"position:relative;*{box-sizing:border-box;}"},je={name:"14kfhae",styles:"width:30px;height:30px;cursor:pointer;position:absolute;top:20px;right:0;background:none;border:none;padding:0"},we=(0,a.css)("margin:",u.x[3],"px auto;"),Oe=(0,a.css)("padding:0 ",u.x[1],"px;"),Te=(0,a.css)(l.aal,";margin:0 ",u.x[5],"px ",u.x[2],"px 0;"),ke=(0,a.css)("margin:0 auto ",u.x[2],"px;",l.Ni,";"),Ee=(0,a.css)("color:",c.M.neutral[7],";"),Ie=(0,a.css)("width:100%;display:flex;flex-direction:column;align-items:flex-start;",d.HT.tablet,"{flex-direction:row;align-items:flex-end;justify-content:flex-start;}"),Ae=(0,a.css)("width:100%;margin-bottom:",u.x[2],"px;flex-grow:1;",d.HT.tablet,"{width:auto;margin-right:",u.x[2],"px;margin-bottom:0;}"),Pe=(0,a.css)(l.PSs,";font-style:italic;margin-top:",u.x[1],"px;"),_e=(0,a.css)(l.yui,";color:",c.M.error[400],";font-style:italic;margin-top:",u.x[1],"px;margin-bottom:0;"),Re=function(e){if(e)return(0,a.css)("pointer-events:none;color:",c.M.neutral[60],"!important;background-color:",c.M.neutral[93],"!important;border:1px solid ",c.M.neutral[86],"!important;")},Ue=function(e){var n=e.reminderLabel,t=e.reminderStatus,r=e.onSetReminderClick,i=e.onCloseReminderClick,a=(0,ye.p)(),s=a.email,c=a.updateEmail,u=a.inputError,l=a.handleSubmit,d=(0,U.J)(n);return(0,o.jsxs)("div",{css:Se,children:[(0,o.jsx)("button",{css:je,onClick:function(){return i()},children:(0,o.jsx)(ie.F,{})}),(0,o.jsx)("div",{css:we,children:(0,o.jsx)(se.o,{})}),(0,o.jsxs)("div",{css:Oe,children:[(0,o.jsxs)("form",{onSubmit:l((function(){return r(s)})),children:[t!==U.l.Completed&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h4",{css:Te,children:["Remind me ",d]}),(0,o.jsxs)("div",{css:Ie,children:[(0,o.jsx)("div",{css:Ae,children:(0,o.jsx)(Ce.k,{label:"Email address",error:u,value:s,onChange:c})}),(0,o.jsx)(W.$,{iconSide:"right",icon:(0,o.jsx)(K._,{}),type:"submit",disabled:t===U.l.Submitting,cssOverrides:Re(t===U.l.Submitting),children:"Set a reminder"})]})]}),t===U.l.Error&&(0,o.jsx)("p",{css:_e,children:"Sorry we couldn't set a reminder for you this time. Please try again later."})]}),t!==U.l.Completed&&(0,o.jsxs)("p",{css:Pe,children:["We will send you a maximum of two emails"," ",d,". To find out what personal data we collect and how we use it, view our"," ",(0,o.jsx)("a",{css:Ee,href:"https://www.theguardian.com/help/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}),t===U.l.Completed&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{css:Te,children:"Thank you! Your reminder is set."}),(0,o.jsxs)("p",{css:ke,children:["We will be in touch to invite you to contribute. Look out for a message in your inbox"," ",d,". If you have any questions about contributing, please"," ",(0,o.jsx)("a",{href:"mailto:contribution.support@theguardian.com",css:Ee,children:"contact us"}),"."]})]})]})]})},Me=function(e){var n=e.initialEmailAddress,t=e.reminderFields,r=e.onCloseReminderClick,i=e.submitComponentEvent,a=(0,oe.n)(t.reminderPeriod,"WEB","EPIC","PRE",t.reminderOption),s=a.reminderStatus,c=a.createReminder,u=function(e){i&&i(H._$),c(e)},l=function(){i&&i(H.ad),r()};return n?(0,o.jsx)(ve,{reminderLabel:t.reminderLabel,reminderStatus:s,onSetReminderClick:function(){return u(n)},onCloseReminderClick:l}):(0,o.jsx)(Ue,{reminderLabel:t.reminderLabel,reminderStatus:s,onSetReminderClick:u,onCloseReminderClick:l})},He=function(e){var n,t,a,s=e.variant,c=e.countryCode,u=e.articleCounts,l=e.tracking,d=e.submitComponentEvent,p=e.onReminderOpen,m=e.fetchEmail,f=e.amountsTestName,h=e.amountsVariantName,b=e.isColourInTestVariant,x=(0,i.useState)(void 0),g=(0,r.A)(x,2),v=g[0],C=g[1],y=(0,i.useState)(!1),S=(0,r.A)(y,2),j=S[0],w=S[1],O=s.showReminderFields,T="VAT_COMPLIANCE"===(null===(n=s.choiceCardAmounts)||void 0===n?void 0:n.testName),k=s.showChoiceCards&&!T,E=(0,i.useState)("SupporterPlus"),I=(0,r.A)(E,2),A=I[0],P=I[1],R=k&&s.name.includes("US_CHECKOUT_PAGE"),U=null!==(t=null===(a=s.cta)||void 0===a?void 0:a.baseUrl.includes("BLACK_FRIDAY_DISCOUNT_2024"))&&void 0!==t&&t,M="US"===c&&R?"US_CHECKOUT_THREE_TIER_CHOICE_CARDS":"US"===c?"US_THREE_TIER_CHOICE_CARDS":"THREE_TIER_CHOICE_CARDS";return(0,o.jsxs)(o.Fragment,{children:[k&&(0,o.jsx)(_,{countryCode:c,selectedProduct:A,setSelectedProduct:P,variantOfChoiceCard:M,supporterPlusDiscount:U?.5:void 0}),(0,o.jsx)(re,{variant:s,tracking:l,countryCode:c,onOpenReminderClick:function(){var e=null==O?void 0:O.reminderCta.toLowerCase().replace(/\s/g,"-");p&&p({buttonCopyAsString:e}),m?m().then((function(e){e&&C(e),w(!0)})):w(!0)},submitComponentEvent:d,isReminderActive:j,isSignedIn:Boolean(v),showChoiceCards:k,threeTierChoiceCardSelectedProduct:A,amountsTestName:f,amountsVariantName:h,numArticles:u.for52Weeks,variantOfChoiceCard:M,isColourInTestVariant:b}),j&&O&&(0,o.jsx)(Me,{initialEmailAddress:v,reminderFields:O,onCloseReminderClick:function(){w(!1)},submitComponentEvent:d})]})}},6856:(e,n,t)=>{t.d(n,{CE:()=>h,CO:()=>o,Ek:()=>l,G0:()=>r,H4:()=>f,I_:()=>s,P2:()=>b,WP:()=>p,_$:()=>c,_v:()=>i,ad:()=>u,sk:()=>a,uV:()=>d,zX:()=>m});var r=function(e){return{component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-reminder-view"},action:"VIEW",value:e.toString()}},o={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-ctas-view"},action:"VIEW"},i={component:{componentType:"ACQUISITIONS_EPIC",id:"contributions-epic-primary-cta"},action:"CLICK"},a={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-secondary-cta"},action:"CLICK"},s={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-reminder-open"},action:"CLICK"},c={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-reminder-set"},action:"CLICK"},u={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-reminder-close"},action:"CLICK"},l={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-article-count-open"},action:"CLICK"},d={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-article-count-close"},action:"CLICK"},p={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-article-count-stay-on"},action:"CLICK"},m={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-article-count-opt-out"},action:"CLICK"},f={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-article-count-stay-out"},action:"CLICK"},h={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-article-count-opt-in"},action:"CLICK"},b={component:{componentType:"ACQUISITIONS_OTHER",id:"contributions-epic-sign-in"},action:"CLICK"}},37258:(e,n,t)=>{t.d(n,{n:()=>r});var r={Monthly:{GBPCountries:{Contribution:4,SupporterPlus:12,OneOff:0},UnitedStates:{Contribution:5,SupporterPlus:15,OneOff:0},AUDCountries:{Contribution:10,SupporterPlus:20,OneOff:0},EURCountries:{Contribution:4,SupporterPlus:12,OneOff:0},NZDCountries:{Contribution:10,SupporterPlus:20,OneOff:0},Canada:{Contribution:5,SupporterPlus:15,OneOff:0},International:{Contribution:3,SupporterPlus:15,OneOff:0}},Annual:{GBPCountries:{Contribution:50,SupporterPlus:120,OneOff:0},UnitedStates:{Contribution:60,SupporterPlus:150,OneOff:0},AUDCountries:{Contribution:80,SupporterPlus:200,OneOff:0},EURCountries:{Contribution:50,SupporterPlus:120,OneOff:0},NZDCountries:{Contribution:80,SupporterPlus:200,OneOff:0},Canada:{Contribution:60,SupporterPlus:150,OneOff:0},International:{Contribution:30,SupporterPlus:150,OneOff:0}}}},94768:(e,n,t)=>{t.d(n,{p:()=>a});var r=t(22820),o=t(67400),i=t(12086);function a(){var e,n=(0,o.useState)(!1),t=(0,r.A)(n,2),a=t[0],s=t[1],c=(0,o.useState)(""),u=(0,r.A)(c,2),l=u[0],d=u[1],p=0===l.trim().length,m=(0,i.B9)(l)&&(0,i.as)(l);return a&&p?e="Please enter your email address":a&&!m&&(e="Please enter a valid email address"),{email:l,inputError:e,updateEmail:function(e){d(e.target.value),a&&s(!1)},handleSubmit:function(e){return function(n){n.preventDefault(),m?e():s(!0)}}}}},59788:(e,n,t)=>{t.d(n,{n:()=>s});var r=t(22820),o=t(67400),i=t(12086),a="https://support.theguardian.com/reminders/create/one-off";function s(e,n,t,s,c){var u=(0,o.useState)(i.l.Editing),l=(0,r.A)(u,2),d=l[0],p=l[1];return{reminderStatus:d,createReminder:function(r){var o={email:r,reminderPeriod:e,reminderPlatform:n,reminderComponent:t,reminderStage:s,reminderOption:c};p(i.l.Submitting),fetch(a,{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(n){n.ok?(p(i.l.Completed),(0,i.Wt)(e)):p(i.l.Error)})).catch((function(){return p(i.l.Error)}))}}}},12086:(e,n,t)=>{t.d(n,{B9:()=>l,J:()=>u,Wt:()=>a,as:()=>d,jW:()=>s,l:()=>r});var r,o=t(34013),i=t(64361);!function(e){e.Editing="Editing",e.Submitting="Submitting",e.Error="Error",e.Completed="Completed"}(r||(r={}));var a=function(e){var n,t,r=new Date,i=new Date(Date.parse(e));(0,o.T)({name:"gu_epic_contribution_reminder",value:"1",daysToLive:(n=r,t=i,Math.round((t.valueOf()-n.valueOf())/864e5))})},s=function(){return!!(0,i.R)({name:"gu_epic_contribution_reminder"})},c=/^(on|in)/,u=function(e){return function(e){return c.test(e)}(e)?e:function(e){return"in "+e}(e)},l=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},d=function(e){return e.length<=100}},74180:(e,n,t)=>{t.d(n,{B:()=>a});var r=t(31880),o=t(296),i="gu.contributions.views",a=function(e){var n,t=null!==(n=function(){var e=o.I.local.get(i);if(Array.isArray(e))return e}())&&void 0!==n?n:[],a={date:(new Date).getTime(),testId:e},s=[].concat((0,r.A)(t),[a]).slice(-50);o.I.local.set(i,s)}}}]);
//# sourceMappingURL=5496.client.web.legacy.d7552d907f73e12b4709.js.map