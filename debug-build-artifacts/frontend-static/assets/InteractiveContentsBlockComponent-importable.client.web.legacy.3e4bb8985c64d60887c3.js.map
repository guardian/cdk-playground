{"version":3,"file":"InteractiveContentsBlockComponent-importable.client.web.legacy.3e4bb8985c64d60887c3.js","mappings":"8/BAQA,IAAMA,GAAWC,EAAAA,EAAAA,KAAG,wBACKC,EAAAA,EAAcC,QAAQ,IAAG,iEAG7BD,EAAAA,EAAcC,QAAQ,IAAG,6BAExBC,EAAAA,EAAAA,GAAa,gCAA+B,MAG5DC,GAAoBJ,EAAAA,EAAAA,KACvBK,EAAAA,GAAKC,gBAAe,2BACKL,EAAAA,EAAcC,QAAQ,IAAG,uEAG7BD,EAAAA,EAAcC,QAAQ,IAAG,MAG3CK,GAAaP,EAAAA,EAAAA,KAAG,gBAEnBQ,EAAAA,IAAe,gBAEFC,EAAAA,EAAM,GAAE,qBACLA,EAAAA,EAAM,GAAE,mBACVA,EAAAA,EAAM,GAAE,oBACPA,EAAAA,EAAM,GAAE,6CAMpBC,GAAeV,EAAAA,EAAAA,KAAG,iBACNS,EAAAA,EAAM,GAAE,MACvBE,EAAAA,IAAc,KAEXC,GAAeZ,EAAAA,EAAAA,KAClBa,EAAAA,IAAc,iBACAJ,EAAAA,EAAM,GAAE,qBACNA,EAAAA,EAAM,GAAE,OAErBK,GAAsBd,EAAAA,EAAAA,KAAG,aAE5BK,EAAAA,GAAKU,OAAM,gCAEGN,EAAAA,EAAM,GAAE,wBAEJR,EAAAA,EAAcC,QAAQ,KAAI,qBAC1BD,EAAAA,EAAcC,QAAQ,IAAG,mBAElCc,EAAAA,EAAAA,GAAU,UAAS,KAEzBC,GAAWjB,EAAAA,EAAAA,KAAG,gBAEjBK,EAAAA,GAAKC,gBAAe,oCAIjBY,EAAiB,SAACC,GAAmB,OAAKnB,EAAAA,EAAAA,KAC7Cc,EAAmB,oCAGPL,EAAAA,EAAM,IAAG,mDAIrBU,GAAuB,iBAAgB,MAEpCC,GAAgBpB,EAAAA,EAAAA,KAAG,mBAGtBK,EAAAA,GAAKU,OAAM,+CAIXV,EAAAA,GAAKgB,QAAO,gDAKTC,GAA+BtB,EAAAA,EAAAA,KAAG,UAC7BS,EAAAA,EAAM,IAAG,cACRA,EAAAA,EAAM,GAAE,sCAIjBE,EAAAA,IAAc,IAEdY,EAAAA,GAAMjB,gBAAe,IACpBkB,EAAAA,IAAc,yFAQZC,GAAYzB,EAAAA,EAAAA,KAAG,SACXS,EAAAA,EAAM,GAAE,gCAEDA,EAAAA,EAAM,GAAE,mFAInBiB,EAAmB,CAAAC,KAAA,UAAAC,OAAA,iFAIZC,EAAoC,SAAHC,GAAoD,IAA9CC,EAAeD,EAAfC,gBAAiBC,EAAoBF,EAApBE,qBACjEC,GAAsDC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA9Dd,EAAmBgB,EAAA,GAAEE,EAAsBF,EAAA,GAElDG,GAAsDJ,EAAAA,EAAAA,UAAS,IAAGK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GAA3DE,EAAmBD,EAAA,GAAEE,EAAsBF,EAAA,IAClDG,EAAAA,EAAAA,YAAU,WACND,EAAuBV,EAAgBY,KAAI,SAACC,GAAc,OAAAC,EAAAA,EAAA,GACnDD,GAAc,IACjBE,IAAKC,SAASC,eAAeJ,EAAeK,YAAU,IAE9D,GAAG,CAAClB,EAAiBU,IAGrB,IAAAS,GAA4BhB,EAAAA,EAAAA,YAAUiB,GAAAf,EAAAA,EAAAA,GAAAc,EAAA,GAA/BE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAClBG,GAASC,EAAAA,EAAAA,cAAY,SAACC,GACpBA,GACAH,EAAUG,EAAKC,wBAAwBL,OAC/C,GAAG,IACHM,GAA4DxB,EAAAA,EAAAA,UAAS,MAAKyB,GAAAvB,EAAAA,EAAAA,GAAAsB,EAAA,GAAnEE,EAAsBD,EAAA,GAAEE,EAAyBF,EAAA,GAiExD,OAzDAjB,EAAAA,EAAAA,YAAU,WACN,GAAI,yBAA0BoB,OAAQ,CAClC,IAsCsCC,EAtChCC,EAAyB,SAACC,GAAE,OAAKzB,EAAoB0B,WAAU,SAACC,GAAI,IAAAC,EAAA,OAAa,QAARA,EAAAD,EAAKrB,WAAG,IAAAsB,OAAA,EAARA,EAAUH,MAAOA,CAAE,GAAE,EAkC9FI,EAAW,IAAIC,sBAjCH,SAACC,GAEf,IAAMC,EAAaxC,EACbuC,EAAQE,MAAK,SAACC,GAAK,OAAKA,EAAMC,OAAOV,KAAOjC,CAAoB,SAChE4C,EACN,GAAIJ,SAAAA,EAAYK,eACZ,OAAOhB,EAA0B,MAGrC,IAAMiB,EAAiBP,EAAQE,MAAK,SAACC,GAAK,OAAKA,EAAMC,OAAOV,MAAOL,aAAsB,EAAtBA,EAAwBX,UAAW,IAGtG,GAAI6B,IACCA,EAAeD,gBAChBC,EAAeC,mBAAmBC,EAAI,EAAG,CAAC,IAADC,EACnCC,EAAQlB,EAAuBc,EAAeH,OAAOV,IAE3D,OAAOJ,EAAwD,QAA/BoB,EAACzC,EAAoB0C,EAAQ,UAAE,IAAAD,EAAAA,EAAI,KACvE,CAEA,IACwBE,EADlBC,EAAUb,EAAQE,MAAK,SAACC,GAAK,OAAKA,EAAMG,cAAc,IAC5D,GAAIO,SAAAA,EAAST,OAAOV,GAChB,OAAOJ,EAAwF,QAA/DsB,EAAC3C,EAAoBwB,EAAuBoB,EAAQT,OAAOV,YAAI,IAAAkB,EAAAA,EAAI,MAGvG,IAAAE,EAAsB7C,EAAoB8C,OAAO,GAA1CC,GAA4CnD,EAAAA,EAAAA,GAAAiD,EAAA,GAAjC,GAClB,OAAIb,GACAA,EAAWO,mBAAmBC,EAAI,GADlCR,MAEAe,GAAAA,EAAazC,KACbyC,EAAYzC,IAAIW,wBAAwBuB,EAAI,EACrCnB,EAA0B0B,QAJrC,CAMJ,GACqD,CAEjDC,WAAW,sBACZC,E,64BAAAC,CACgBlD,GAAmB,IAAtC,IAAAiD,EAAAE,MAAA5B,EAAA0B,EAAAG,KAAAC,MAAwC,CAAC,IAA9B1B,EAAIJ,EAAA+B,MACX3B,EAAKrB,KAAOuB,EAAS0B,QAAQ5B,EAAKrB,IACtC,CAAC,OAAAkD,GAAAP,EAAAQ,EAAAD,EAAA,SAAAP,EAAAS,GAAA,CACD,GAAIlE,EAAsB,CACtB,IAAMmE,EAAiBpD,SAASC,eAAehB,GAC3CmE,GACA9B,EAAS0B,QAAQI,EACzB,CAEA,OAAO,kBAAM9B,EAAS+B,YAAa,CACvC,CACJ,GAAG,CACC5D,EACAqB,EACAD,EACA5B,KAEIqE,EAAAA,EAAAA,MAAM,MAAO,CAAEvD,IAAKQ,EAAQtD,IAAKoB,EAAekF,OAAQC,EAAAA,EAAAA,GAAYnD,GAAuB,CAAC,EAAd,CAAEA,OAAAA,GAAeoD,SAAU,EAACC,EAAAA,EAAAA,KAAK,KAAM,CAAEzG,IAAKY,EAAc4F,SAAU,aAAe5C,IAA2ByC,EAAAA,EAAAA,MAAM,SAAU,CAAEK,KAAM,SAAU1G,IAAK,CAACc,EAAqBQ,GAA+BqF,QAAS,WAAF,OAAQtE,GAAwBlB,EAAoB,EAAEqF,SAAU,EAACC,EAAAA,EAAAA,KAAK,OAAQ,CAAEzG,IAAK,CACtWyB,EACAN,GAAuBO,GACxB8E,UAAUC,EAAAA,EAAAA,KAAKG,EAAAA,EAAsB,CAAC,KAAOhD,EAAuBiD,SAAWJ,EAAAA,EAAAA,KAAK,KAAM,CAAE,cAAe,oBAAqBzG,IAAK,CAC5IiB,EAGA2C,GACI1C,EAAeC,IACpBqF,SAAUzE,EAAgBY,KAAI,SAACC,EAAgBsC,GAC9C,OAAQuB,EAAAA,EAAAA,KAAK,KAAM,CAAEzG,IAAK,CAClBD,EACAmF,EAAQ,GAAM,GAAK9E,GACpBoG,UAAUH,EAAAA,EAAAA,MAAM,IAAK,CAAE,cAAe,sBAAuBrG,IAAKO,EAAYuG,KAAK,IAADC,OAAMnE,EAAeK,WAAa,aAAcL,EAAeiE,KAAMF,QAAS,WAAF,OAAQtE,GAAuB,EAAM,EAAEmE,SAAU,EAACC,EAAAA,EAAAA,KAAK,OAAQ,CAAEzG,IAAKU,EAAc8F,SAAUtB,EAAQ,IAAMtC,EAAeiE,SAAYjE,EAAeK,UAC/T,QAChB,C,mCC5LA,IAAM+D,EAAU,CAEZ,WACA,oBAEA,sBACA,eACA,SACA,WACA,SACA,qCACA,+BACA,uBAEA,mCAEA,eAEA,4BACA,kBACA,qBAEA,4BAEA,0BAEA,kBAEA,iBAEA,QAEA,kBAEA,oBACA,mBACA,cAGA,wBAEA,iCAEA,kBAEA,kBACA,oBAEA,WACA,kBAEA,YAGA,mBACA,aAEShG,EAAY,SAACW,GACtB,IAAMuD,EAAQ8B,EAAQC,QAAQtF,GAC9B,OAAe,IAAXuD,GACQ,EACL8B,EAAQE,OAAShC,CAC5B,C,kCCxEA,IAAMiC,EAAU,SAACC,GAAM,aAAAL,OAAYK,EAAM,K,mCCbzC,IAAMC,EAAc,CAChBC,QAAS,IACTjG,QAAS,KACTkG,OAAQ,IACRjH,gBAAiB,IACjBkH,aAAc,IACdC,QAAS,IACT1G,OAAQ,IACR2G,KAAM,K,mCCRV,IAAMC,EAAc,0xB,qECEdC,EAAW,SAACC,GAAK,4BAAAd,OAAA,GAAAA,OAA8Bc,EAAK,YACpDC,EAAW,SAACC,GAAM,4BAAAhB,OAAA,GAAAA,OAA8BgB,EAFtC,GAEsD,YAChEC,EAAmB,SAACH,EAAOE,GAAM,4BAAAhB,OAAA,GAAAA,OAA8Bc,EAAK,8BAAAd,OAA4BgB,EAHtF,GAGsG,YAChH1H,EAAO,CACTkH,OAAQK,EAASP,EAAAA,EAAYE,QAC7BC,aAAcI,EAASP,EAAAA,EAAYG,cACnClH,gBAAiBsH,EAASP,EAAAA,EAAY/G,iBACtCmH,QAASG,EAASP,EAAAA,EAAYI,SAC9B1G,OAAQ6G,EAASP,EAAAA,EAAYtG,QAC7BuG,QAASM,EAASP,EAAAA,EAAYC,SAC9BjG,QAASuG,EAASP,EAAAA,EAAYhG,SAC9BqG,KAAME,EAASP,EAAAA,EAAYK,OAEzBnG,EAAQ,CACVgG,OAAQO,EAAST,EAAAA,EAAYE,QAC7BC,aAAcM,EAAST,EAAAA,EAAYG,cACnClH,gBAAiBwH,EAAST,EAAAA,EAAY/G,iBACtCmH,QAASK,EAAST,EAAAA,EAAYI,SAC9B1G,OAAQ+G,EAAST,EAAAA,EAAYtG,QAC7BuG,QAASQ,EAAST,EAAAA,EAAYC,SAC9BjG,QAASyG,EAAST,EAAAA,EAAYhG,SAC9BqG,KAAMI,EAAST,EAAAA,EAAYK,OAEzBO,EAAU,CACZV,OAAQ,CACJW,IAAK,CACDV,aAAcQ,EAAiBX,EAAAA,EAAYE,OAAQF,EAAAA,EAAYG,cAC/DlH,gBAAiB0H,EAAiBX,EAAAA,EAAYE,OAAQF,EAAAA,EAAY/G,iBAClEmH,QAASO,EAAiBX,EAAAA,EAAYE,OAAQF,EAAAA,EAAYI,SAC1D1G,OAAQiH,EAAiBX,EAAAA,EAAYE,OAAQF,EAAAA,EAAYtG,QACzDuG,QAASU,EAAiBX,EAAAA,EAAYE,OAAQF,EAAAA,EAAYC,SAC1DjG,QAAS2G,EAAiBX,EAAAA,EAAYE,OAAQF,EAAAA,EAAYhG,SAC1DqG,KAAMM,EAAiBX,EAAAA,EAAYG,aAAcH,EAAAA,EAAYK,QAGrEF,aAAc,CACVU,IAAK,CACD5H,gBAAiB0H,EAAiBX,EAAAA,EAAYG,aAAcH,EAAAA,EAAY/G,iBACxEmH,QAASO,EAAiBX,EAAAA,EAAYG,aAAcH,EAAAA,EAAYI,SAChE1G,OAAQiH,EAAiBX,EAAAA,EAAYG,aAAcH,EAAAA,EAAYtG,QAC/DuG,QAASU,EAAiBX,EAAAA,EAAYG,aAAcH,EAAAA,EAAYC,SAChEjG,QAAS2G,EAAiBX,EAAAA,EAAYG,aAAcH,EAAAA,EAAYhG,SAChEqG,KAAMM,EAAiBX,EAAAA,EAAYG,aAAcH,EAAAA,EAAYK,QAGrEpH,gBAAiB,CACb4H,IAAK,CACDT,QAASO,EAAiBX,EAAAA,EAAY/G,gBAAiB+G,EAAAA,EAAYI,SACnE1G,OAAQiH,EAAiBX,EAAAA,EAAY/G,gBAAiB+G,EAAAA,EAAYtG,QAClEuG,QAASU,EAAiBX,EAAAA,EAAY/G,gBAAiB+G,EAAAA,EAAYC,SACnEjG,QAAS2G,EAAiBX,EAAAA,EAAY/G,gBAAiB+G,EAAAA,EAAYhG,SACnEqG,KAAMM,EAAiBX,EAAAA,EAAY/G,gBAAiB+G,EAAAA,EAAYK,QAGxED,QAAS,CACLS,IAAK,CACDnH,OAAQiH,EAAiBX,EAAAA,EAAYI,QAASJ,EAAAA,EAAYtG,QAC1DuG,QAASU,EAAiBX,EAAAA,EAAYI,QAASJ,EAAAA,EAAYC,SAC3DjG,QAAS2G,EAAiBX,EAAAA,EAAYI,QAASJ,EAAAA,EAAYhG,SAC3DqG,KAAMM,EAAiBX,EAAAA,EAAYI,QAASJ,EAAAA,EAAYK,QAGhE3G,OAAQ,CACJmH,IAAK,CACDZ,QAASU,EAAiBX,EAAAA,EAAYtG,OAAQsG,EAAAA,EAAYC,SAC1DjG,QAAS2G,EAAiBX,EAAAA,EAAYtG,OAAQsG,EAAAA,EAAYhG,SAC1DqG,KAAMM,EAAiBX,EAAAA,EAAYtG,OAAQsG,EAAAA,EAAYK,QAG/DJ,QAAS,CACLY,IAAK,CACD7G,QAAS2G,EAAiBX,EAAAA,EAAYC,QAASD,EAAAA,EAAYhG,SAC3DqG,KAAMM,EAAiBX,EAAAA,EAAYC,QAASD,EAAAA,EAAYK,QAGhErG,QAAS,CACL6G,IAAK,CACDR,KAAMM,EAAiBX,EAAAA,EAAYhG,QAASgG,EAAAA,EAAYK,Q,mFC3E9DS,EAAM,SAAHrG,GAAA,IAAMsG,EAAItG,EAAJsG,KAAMC,EAAKvG,EAALuG,MAAK,OAAuBC,EAAAA,EAAAA,KAAI,MAAO,CACxDC,MAAOH,EAAOI,EAAAA,GAASJ,QAAQ,EAC/BhF,YAAQ,EACRqF,QAAS,cACTC,MAAO,6BACPC,WAAW,EACX,eAAe,EACfnC,UAA0B8B,EAAAA,EAAAA,KAAI,OAAQ,CAClCM,SAAU,UACVC,SAAU,UACVC,EAAG,uEACHC,KAAMV,aAAK,EAALA,EAAOU,QAElB,EACGnC,EAAuB,SAAHoC,GAAA,IAAMZ,EAAIY,EAAJZ,KAAMC,EAAKW,EAALX,MAAKY,EAAAD,EAAEE,0BAAAA,OAAyB,IAAAD,GAAQA,EAAA,OAAuBE,EAAAA,EAAAA,MAAKC,EAAAA,SAAU,CAAE5C,SAAU,EACxG8B,EAAAA,EAAAA,KAAIH,EAAK,CAAEC,KAAAA,EAAMC,MAAAA,IACjCa,GAA4CZ,EAAAA,EAAAA,KAAI,OAAQ,CACpDtI,KAAKA,EAAAA,EAAAA,KACV2H,EAAAA,EAAc,KAETnB,SAAU,wBACT,KACJ,C","sources":["webpack://@guardian/dotcom-rendering/./src/components/InteractiveContentsBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/visually-hidden.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgChevronDownSingle.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { from, headlineBold17, headlineBold20, headlineBold34, headlineLight20, palette as sourcePalette, space, until, } from '@guardian/source/foundations';\nimport { SvgChevronDownSingle } from '@guardian/source/react-components';\nimport { useCallback, useEffect, useState } from 'react';\nimport { getZIndex } from '../lib/getZIndex';\nimport { palette as themePalette } from '../palette';\nconst liStyles = css `\n\tborder-top: 1px solid ${sourcePalette.neutral[86]};\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n\tborder-top-color: ${sourcePalette.neutral[86]};\n\t:hover {\n\t\tbackground-color: ${themePalette('--interactive-contents-hover')};\n\t}\n`;\nconst borderRightStyles = css `\n\t${from.mobileLandscape} {\n\t\tborder-right: 1px solid ${sourcePalette.neutral[86]};\n\t\tborder-right-width: 1px;\n\t\tborder-right-style: solid;\n\t\tborder-right-color: ${sourcePalette.neutral[86]};\n\t}\n`;\nconst linkStyles = css `\n\tdisplay: flex;\n\t${headlineLight20}\n\n\tpadding-top: ${space[2]}px;\n\tpadding-bottom: ${space[2]}px;\n\tpadding-left: ${space[3]}px;\n\tpadding-right: ${space[3]}px;\n\n\t/* remove a tag link styling */\n\ttext-decoration: inherit;\n\tcolor: inherit;\n`;\nconst numberStyles = css `\n\tpadding-right: ${space[2]}px;\n\t${headlineBold20}\n`;\nconst headerStyles = css `\n\t${headlineBold34}\n\tpadding-left: ${space[3]}px;\n\tpadding-bottom: ${space[3]}px;\n`;\nconst stickyNavBaseStyles = css `\n\twidth: 90%;\n\t${from.tablet} {\n\t\tmax-width: 650px;\n\t\tmargin-left: ${space[4]}px;\n\t}\n\tbackground-color: ${sourcePalette.neutral[100]};\n\tborder: 1px solid ${sourcePalette.neutral[86]};\n\ttop: 0;\n\tz-index: ${getZIndex('banner')};\n`;\nconst olStyles = css `\n\tdisplay: grid;\n\t${from.mobileLandscape} {\n\t\tgrid-template-columns: 1fr 1fr;\n\t}\n`;\nconst stickyOlStyles = (showStickyNavOption) => css `\n\t${stickyNavBaseStyles}\n\ttop: 0;\n\tposition: fixed;\n\tmargin-top: ${space[12]}px;\n\tmax-height: 90vh;\n\toverflow-y: auto;\n\tdisplay: none;\n\t${showStickyNavOption && 'display: grid;'}\n`;\nconst wrapperStyles = css `\n\tmargin-top: -5px; /* a hack to get tighter margin between interactive element and Divider */\n\n\t${from.tablet} {\n\t\tmargin-left: -20px;\n\t\twidth: calc(100% + 20px);\n\t}\n\t${from.leftCol} {\n\t\tmargin-left: -10px;\n\t\twidth: calc(100% + 10px);\n\t}\n`;\nconst stickyNavCurrentHeaderStyles = css `\n\theight: ${space[12]}px;\n\tpadding: ${space[4]}px;\n\n\tdisplay: flex;\n\talign-items: center;\n\t${headlineBold20}\n\n\t${until.mobileLandscape} {\n\t\t${headlineBold17}\n\t}\n\tposition: fixed;\n\n\tcursor: pointer;\n\tborder-top: 0;\n\tbox-shadow: 0 4px 12px 0 rgb(0 0 0 / 5%);\n`;\nconst SVGStyles = css `\n\twidth: ${space[5]}px;\n\tdisplay: flex;\n\tmargin-right: ${space[2]}px;\n\ttransform: translateY(-3px) rotate(0deg);\n\ttransition: transform 250ms ease-out;\n`;\nconst SVGTransitionStyles = css `\n\ttransform: translateY(-3px) rotate(180deg);\n\ttransition: transform 250ms ease-out;\n`;\nexport const InteractiveContentsBlockComponent = ({ subheadingLinks, endDocumentElementId, }) => {\n    const [showStickyNavOption, setShowStickyNavOption] = useState(false);\n    // Loop through subheadingLinks and add a reference + reverse each object\n    const [enhancedSubheadings, setEnhancedSubheadings] = useState([]);\n    useEffect(() => {\n        setEnhancedSubheadings(subheadingLinks.map((subheadingLink) => ({\n            ...subheadingLink,\n            ref: document.getElementById(subheadingLink.elementId),\n        })));\n    }, [subheadingLinks, setEnhancedSubheadings]);\n    // set the height explicitly of the container as to make sure that when we detach\n    // list elements we do not effect the page height\n    const [height, setHeight] = useState();\n    const divRef = useCallback((node) => {\n        if (node)\n            setHeight(node.getBoundingClientRect().height);\n    }, []);\n    const [stickyNavCurrentHeader, setStickyNavCurrentHeader] = useState(null);\n    // The sticky header needs to be based on the section of the article that is being view\n    // We accomplish this by\n    // -> Watching each of the elements with an intersection observer\n    // -> If we've reached the 'endDocument' element stop displaying\n    // -> If we stop intersecting with the current element, and its in view > show the preview element\n    // -> If we're intersecting with an element set that to the active one\n    // -> If the end element is in view, but the last element is not > show the last element\n    useEffect(() => {\n        if ('IntersectionObserver' in window) {\n            const getSubheadingIndexById = (id) => enhancedSubheadings.findIndex((item) => item.ref?.id === id);\n            const onObserve = (entries) => {\n                // Check if we've reached the end of the document\n                const endElement = endDocumentElementId\n                    ? entries.find((entry) => entry.target.id === endDocumentElementId)\n                    : undefined;\n                if (endElement?.isIntersecting) {\n                    return setStickyNavCurrentHeader(null);\n                }\n                // Check if the current element is in this update\n                const currentElement = entries.find((entry) => entry.target.id === stickyNavCurrentHeader?.elementId);\n                // If we're no longer intersecting with the current element &\n                // it's still on the screen, switch to the preview element\n                if (currentElement &&\n                    !currentElement.isIntersecting &&\n                    currentElement.boundingClientRect.y > 0) {\n                    const index = getSubheadingIndexById(currentElement.target.id);\n                    // If no subheading exists for the index we've probably scrolled past the top of the document\n                    return setStickyNavCurrentHeader(enhancedSubheadings[index - 1] ?? null);\n                }\n                // Check for entry of new element\n                const element = entries.find((entry) => entry.isIntersecting);\n                if (element?.target.id) {\n                    return setStickyNavCurrentHeader(enhancedSubheadings[getSubheadingIndexById(element.target.id)] ?? null);\n                }\n                // Check if we're scrolling up past the end of the document and set sticky nav to the last element\n                const [lastElement] = enhancedSubheadings.slice(-1);\n                if (endElement &&\n                    endElement.boundingClientRect.y > 0 &&\n                    lastElement?.ref &&\n                    lastElement.ref.getBoundingClientRect().y < 0) {\n                    return setStickyNavCurrentHeader(lastElement);\n                }\n            };\n            const observer = new IntersectionObserver(onObserve, {\n                // Move the 'observation area' to the top of the page\n                rootMargin: `0px 0px -100% 0px`,\n            });\n            for (const item of enhancedSubheadings) {\n                item.ref && observer.observe(item.ref);\n            }\n            if (endDocumentElementId) {\n                const endDocumentRef = document.getElementById(endDocumentElementId);\n                if (endDocumentRef)\n                    observer.observe(endDocumentRef);\n            }\n            // Disable the observer\n            return () => observer.disconnect();\n        }\n    }, [\n        enhancedSubheadings,\n        setStickyNavCurrentHeader,\n        stickyNavCurrentHeader,\n        endDocumentElementId,\n    ]);\n    return (_jsxs(\"div\", { ref: divRef, css: wrapperStyles, style: !isUndefined(height) ? { height } : {}, children: [_jsx(\"h2\", { css: headerStyles, children: \"Contents\" }), stickyNavCurrentHeader && (_jsxs(\"button\", { type: \"button\", css: [stickyNavBaseStyles, stickyNavCurrentHeaderStyles], onClick: () => setShowStickyNavOption(!showStickyNavOption), children: [_jsx(\"span\", { css: [\n                            SVGStyles,\n                            showStickyNavOption && SVGTransitionStyles,\n                        ], children: _jsx(SvgChevronDownSingle, {}) }), stickyNavCurrentHeader.html] })), _jsx(\"ol\", { \"data-ignore\": \"global-ol-styling\", css: [\n                    olStyles,\n                    // we detach `ol` from the container when `stickyNavCurrentHeader` is defined\n                    // this allows us to reuse the list without redefining it\n                    stickyNavCurrentHeader &&\n                        stickyOlStyles(showStickyNavOption),\n                ], children: subheadingLinks.map((subheadingLink, index) => {\n                    return (_jsx(\"li\", { css: [\n                            liStyles,\n                            index % 2 === 0 && borderRightStyles,\n                        ], children: _jsxs(\"a\", { \"data-ignore\": \"global-link-styling\", css: linkStyles, href: `#${subheadingLink.elementId}`, \"data-title\": subheadingLink.html, onClick: () => setShowStickyNavOption(false), children: [_jsx(\"span\", { css: numberStyles, children: index + 1 }), subheadingLink.html] }) }, subheadingLink.elementId));\n                }) })] }));\n};\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n    // Modals will go here at the top\n    'lightbox',\n    'youTubeFullscreen',\n    // Sticky video and button need to be above everything\n    'sticky-video-button',\n    'sticky-video',\n    'banner',\n    'dropdown',\n    'burger',\n    'mastheadVeggieBurgerExpandedMobile',\n    'expanded-veggie-menu-wrapper',\n    'expanded-veggie-menu',\n    //header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n    'fullPageInteractiveHeaderWrapper',\n    // Mobile sticky appears below banners\n    'mobileSticky',\n    // Headers with sticky ads\n    'stickyAdWrapperLabsHeader',\n    'stickyAdWrapper',\n    'stickyAdWrapperNav',\n    // My Account dropdown in masthead - needs to be below stickyAdWrapper\n    'mastheadMyAccountDropdown',\n    // Edition selector in masthead - needs to be below stickyAdWrapper\n    'mastheadEditionDropdown',\n    // Edition selector in nav - needs to be below stickyAdWrapper\n    'editionDropdown',\n    // The content displayed by the Details component\n    'summaryDetails',\n    // Liveblog toast\n    'toast',\n    // Onwards Carousel (Related content etc)\n    'onwardsCarousel',\n    // Search link should be above The Guardian svg\n    'myAccountDropdown',\n    'searchHeaderLink',\n    'TheGuardian',\n    // The edition switcher banner needs to be below the Edition selector\n    // and the myAccount dropdown in the nav\n    'editionSwitcherBanner',\n    // Overlay for expandable marketing card (currently US only)\n    'expandableMarketingCardOverlay',\n    // Sticky table of contents element\n    'tableOfContents',\n    // Article headline (should be above main media)\n    'articleHeadline',\n    'immersiveBlackBox',\n    // Body\n    'bodyArea',\n    'rightColumnArea',\n    // Main media\n    'mainMedia',\n    // Nested links in cards should sit above the main card link\n    // See: https://www.sarasoueidan.com/blog/nested-links/\n    'card-nested-link',\n    'card-link',\n];\nexport const getZIndex = (name) => {\n    const index = indices.indexOf(name);\n    if (index === -1)\n        return -1; // indexOf returns -1 if there is no match\n    return indices.length - index; // reverse the indices: last item gets 1\n};\n","/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour) => `var(${colour})`;\n// ----- Exports ----- //\nexport { palette };\n","const breakpoints = {\n    desktop: 980,\n    leftCol: 1140,\n    mobile: 320,\n    mobileLandscape: 480,\n    mobileMedium: 375,\n    phablet: 660,\n    tablet: 740,\n    wide: 1300\n};\nexport { breakpoints };\n","const visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\nexport { visuallyHidden };\n","import { breakpoints } from '../__generated__/breakpoints.js';\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide)\n};\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n        }\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n        }\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n        }\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n        }\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n        }\n    }\n};\nexport { between, from, until };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\"svg\", {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"m1 7.224 10.498 10.498h1.004L23 7.224l-.98-.954L12 14.708 1.98 6.27z\",\n        fill: theme?.fill\n    })\n});\nconst SvgChevronDownSingle = ({ size, theme, isAnnouncedByScreenReader = false }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Svg, { size, theme }),\n        isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\"span\", {\n            css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n            children: \"Expand to show more\"\n        }) : \"\"\n    ] });\nexport { SvgChevronDownSingle };\n"],"names":["liStyles","css","sourcePalette","neutral","themePalette","borderRightStyles","from","mobileLandscape","linkStyles","headlineLight20","space","numberStyles","headlineBold20","headerStyles","headlineBold34","stickyNavBaseStyles","tablet","getZIndex","olStyles","stickyOlStyles","showStickyNavOption","wrapperStyles","leftCol","stickyNavCurrentHeaderStyles","until","headlineBold17","SVGStyles","SVGTransitionStyles","name","styles","InteractiveContentsBlockComponent","_ref","subheadingLinks","endDocumentElementId","_useState","useState","_useState2","_slicedToArray","setShowStickyNavOption","_useState3","_useState4","enhancedSubheadings","setEnhancedSubheadings","useEffect","map","subheadingLink","_objectSpread","ref","document","getElementById","elementId","_useState5","_useState6","height","setHeight","divRef","useCallback","node","getBoundingClientRect","_useState7","_useState8","stickyNavCurrentHeader","setStickyNavCurrentHeader","window","_step","getSubheadingIndexById","id","findIndex","item","_item$ref","observer","IntersectionObserver","entries","endElement","find","entry","target","undefined","isIntersecting","currentElement","boundingClientRect","y","_enhancedSubheadings","index","_enhancedSubheadings$","element","_enhancedSubheadings$2","slice","lastElement","rootMargin","_iterator","_createForOfIteratorHelper","s","n","done","value","observe","err","e","f","endDocumentRef","disconnect","_jsxs","style","isUndefined","children","_jsx","type","onClick","SvgChevronDownSingle","html","href","concat","indices","indexOf","length","palette","colour","breakpoints","desktop","mobile","mobileMedium","phablet","wide","visuallyHidden","minWidth","from2","maxWidth","until2","minWidthMaxWidth","between","and","Svg","size","theme","jsx","width","iconSize","viewBox","xmlns","focusable","fillRule","clipRule","d","fill","_ref2","_ref2$isAnnouncedBySc","isAnnouncedByScreenReader","jsxs","Fragment"],"sourceRoot":""}