{"version":3,"file":"InteractiveBlockComponent-importable.client.web.legacy.9102ab6920532ce5c1a3.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/static/icons/camera.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/video-icon.svg","webpack://@guardian/dotcom-rendering/./src/components/Caption.tsx","webpack://@guardian/dotcom-rendering/./src/components/Figure.tsx","webpack://@guardian/dotcom-rendering/./src/components/InteractiveBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/Placeholder.tsx","webpack://@guardian/dotcom-rendering/./src/layouts/lib/interactiveLegacyStyling.ts","webpack://@guardian/dotcom-rendering/./src/lib/articleFormat.ts","webpack://@guardian/dotcom-rendering/./src/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/lib/useOnce.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/lodash.debounce@4.0.8/node_modules/lodash.debounce/index.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js"],"sourcesContent":["var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgCamera = function SvgCamera(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 13,\n    viewBox: \"0 0 18 13\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z\"\n  })));\n};\nexport default SvgCamera;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgVideoIcon = function SvgVideoIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 36,\n    height: 23,\n    viewBox: \"0 0 36 23\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.2 0l-3.2 3.3v16.4l3.3 3.3h18.7v-23h-18.8m30.4 1l-8.6 8v5l8.6 8h2.4v-21h-2.4\"\n  })));\n};\nexport default SvgVideoIcon;","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { from, space, textSans12, textSans14, until, } from '@guardian/source/foundations';\nimport { ArticleDesign, ArticleDisplay, ArticleSpecial, } from '../lib/articleFormat';\nimport { palette } from '../palette';\nimport CameraSvg from '../static/icons/camera.svg';\nimport VideoSvg from '../static/icons/video-icon.svg';\nconst captionStyle = css `\n\t${textSans14};\n\tline-height: 135%;\n\tpadding-top: 6px;\n\toverflow-wrap: break-word;\n\tcolor: ${palette('--caption-text')};\n`;\nconst bottomMarginStyles = css `\n\tmargin-bottom: 6px;\n`;\nconst overlaidBottomPadding = (format) => {\n    if (format.display === ArticleDisplay.Showcase &&\n        format.design === ArticleDesign.Review) {\n        return css `\n\t\t\tpadding-bottom: 2.5rem;\n\t\t`;\n    }\n    return css `\n\t\tpadding-bottom: 0.375rem;\n\t`;\n};\nconst overlaidStyles = (format) => css `\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(18, 18, 18, 0.8);\n\n\tspan {\n\t\tcolor: ${palette('--caption-overlay-text')};\n\t\tfont-size: 0.75rem;\n\t\tline-height: 1rem;\n\t}\n\n\tsvg {\n\t\tfill: currentcolor;\n\t}\n\tcolor: ${palette('--caption-overlay-text')};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding-top: 0.375rem;\n\tpadding-right: 2.5rem;\n\tpadding-left: 0.75rem;\n\t${overlaidBottomPadding(format)};\n\n\tflex-grow: 1;\n\tmin-height: 2.25rem;\n`;\nconst limitedWidth = css `\n\t${from.leftCol} {\n\t\twidth: 140px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 220px;\n\t}\n`;\nconst veryLimitedWidth = css `\n\t${from.leftCol} {\n\t\twidth: 120px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 184px;\n\t}\n`;\nconst captionPadding = css `\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n`;\nconst tabletCaptionPadding = css `\n\t${until.desktop} {\n\t\t${captionPadding}\n\t}\n`;\nconst bigLeftMargin = css `\n\twidth: inherit;\n\tmargin-left: ${space[9]}px;\n\t${until.wide} {\n\t\tmargin-left: 20px;\n\t\tmargin-right: 20px;\n\t}\n\t${until.mobileLandscape} {\n\t\tmargin-left: 10px;\n\t\tmargin-right: 10px;\n\t}\n`;\nconst hideIconBelowLeftCol = css `\n\t${until.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\nconst pictureRatio = (13 / 18) * 100;\nconst videoRatio = (23 / 36) * 100;\nconst iconStyle = css `\n\tfill: ${palette('--caption-text')};\n\tmargin-right: ${space[1]}px;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 1em;\n\tvertical-align: baseline;\n\t::before {\n\t\tcontent: ' ';\n\t\tdisplay: block;\n\t\tpadding-top: ${pictureRatio}%;\n\t}\n\tsvg {\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\theight: 100%;\n\t}\n`;\nconst videoIconStyle = css `\n\twidth: 1.1em;\n\t::before {\n\t\tpadding-top: ${videoRatio}%;\n\t}\n`;\nconst captionLink = css `\n\ta {\n\t\tcolor: ${palette('--caption-link')};\n\t\ttext-decoration: none;\n\t}\n\ta:hover {\n\t\ttext-decoration: underline;\n\t}\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n`;\nconst CameraIcon = ({ format }) => {\n    return (_jsx(\"span\", { css: [\n            iconStyle,\n            format.display === ArticleDisplay.Immersive &&\n                hideIconBelowLeftCol,\n        ], children: _jsx(CameraSvg, {}) }));\n};\nconst VideoIcon = ({ format }) => {\n    return (_jsx(\"span\", { css: [\n            iconStyle,\n            format.display === ArticleDisplay.Immersive &&\n                hideIconBelowLeftCol,\n            videoIconStyle,\n        ], children: _jsx(VideoSvg, {}) }));\n};\nexport const Caption = ({ captionText, format, padCaption = false, credit, displayCredit = true, shouldLimitWidth = false, isOverlaid, isLeftCol, mediaType = 'Gallery', isMainMedia = false, }) => {\n    // Sometimes captions come thorough as a single blank space, so we trim here to ignore those\n    const noCaption = !captionText?.trim();\n    const noCredit = !credit;\n    const hideCredit = !displayCredit;\n    if (noCaption && (noCredit || hideCredit))\n        return null;\n    const isBlog = format.design === ArticleDesign.LiveBlog ||\n        format.design === ArticleDesign.DeadBlog;\n    const defaultCaption = (_jsxs(\"figcaption\", { css: [\n            captionStyle,\n            shouldLimitWidth && limitedWidth,\n            isOverlaid ? overlaidStyles(format) : bottomMarginStyles,\n            isMainMedia &&\n                (isBlog || mediaType === 'Video') &&\n                tabletCaptionPadding,\n            padCaption && captionPadding,\n        ], \"data-spacefinder-role\": \"inline\", children: [mediaType === 'Video' ? (_jsx(VideoIcon, { format: format })) : (_jsx(CameraIcon, { format: format })), !!captionText && (_jsx(\"span\", { css: captionLink, dangerouslySetInnerHTML: {\n                    __html: captionText || '',\n                } }, \"caption\")), !!credit && displayCredit && ` ${credit}`] }));\n    switch (format.design) {\n        case ArticleDesign.PhotoEssay:\n            if (format.theme === ArticleSpecial.Labs && isLeftCol) {\n                return defaultCaption;\n            }\n            return (_jsxs(\"figcaption\", { css: [\n                    css `\n\t\t\t\t\t\t\t${textSans12};\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * Typography preset styles should not be overridden.\n\t\t\t\t\t\t\t * This has been done because the styles do not directly map to the new presets.\n\t\t\t\t\t\t\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tline-height: 1.15;\n\t\t\t\t\t\t\tcolor: ${isMainMedia\n                        ? palette('--caption-photo-essay-main-media-text')\n                        : palette('--caption-text')};\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\tli:not(:first-child) {\n\t\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tli {\n\t\t\t\t\t\t\t\tpadding-top: ${space[2]}px;\n\t\t\t\t\t\t\t\tborder-top: 1px solid\n\t\t\t\t\t\t\t\t\t${isMainMedia\n                        ? palette('--caption-photo-essay-main-media-text')\n                        : palette('--caption-text')};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`,\n                    bottomMarginStyles,\n                    padCaption && captionPadding,\n                    shouldLimitWidth && veryLimitedWidth,\n                    shouldLimitWidth && bigLeftMargin,\n                ], \"data-spacefinder-role\": \"inline\", children: [!!captionText && (_jsx(\"span\", { css: captionLink, dangerouslySetInnerHTML: {\n                            __html: captionText || '',\n                        } }, \"caption\")), !!credit && displayCredit && ` ${credit}`] }));\n        default:\n            return defaultCaption;\n    }\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source/foundations';\nimport { ArticleDesign } from '../lib/articleFormat';\nconst roleCss = {\n    inline: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t`,\n    supporting: css `\n\t\tclear: left;\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\t${from.tablet} {\n\t\t\tposition: relative;\n\t\t\tfloat: left;\n\t\t\twidth: 300px;\n\t\t\tmargin-right: 20px;\n\t\t\tline-height: 0;\n\t\t\tmargin-top: ${space[2]}px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t}\n\t\t${from.wide} {\n\t\t\twidth: 380px;\n\t\t\tmargin-left: -240px;\n\t\t}\n\t`,\n    immersive: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\t${until.tablet} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -20px;\n\t\t}\n\t\t${until.mobileLandscape} {\n\t\t\tmargin-left: -10px;\n\t\t\tmargin-right: -10px;\n\t\t}\n\t\t${from.tablet} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -100px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -340px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t\tmargin-right: -320px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t\tmargin-right: -400px;\n\t\t}\n\t`,\n    showcase: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\tposition: relative;\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t}\n\t`,\n    thumbnail: css `\n\t\tmargin-top: ${space[2]}px;\n\t\tmargin-bottom: ${space[2]}px;\n\t\tfloat: left;\n\t\tclear: left;\n\t\twidth: 120px;\n\t\tmargin-right: 20px;\n\t\t${from.tablet} {\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tposition: relative;\n\t\t\tmargin-left: -160px;\n\t\t}\n\t`,\n    // This is a special use case where we want RichLinks to appear wider when in the left col\n    richLink: css `\n\t\tmargin-bottom: ${space[1]}px;\n\t\tfloat: left;\n\t\tclear: left;\n\t\twidth: 8.75rem;\n\t\tmargin-right: 20px;\n\n\t\t/*\n\t\t Acts as until.mobileMedium but accounts for font scaling. On small screens and/or\n\t\t at certain font sizes, the RichLink will change to a full width version\n\t\t*/\n\t\t@media (max-width: 23.4rem) {\n\t\t\twidth: 100%;\n\t\t\tbox-sizing: border-box;\n\n\t\t\timg,\n\t\t\t.avatar {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tposition: relative;\n\t\t\tmargin-left: -160px;\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t\twidth: 220px;\n\t\t}\n\t`,\n    halfWidth: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\twidth: 50%;\n\t\tfloat: left;\n\t\tclear: left;\n\t\tmargin-right: 16px;\n\t`,\n};\n// Used for vast majority of layouts.\nexport const defaultRoleStyles = (role, format, isTimeline = false) => {\n    switch (role) {\n        case 'inline':\n            return roleCss.inline;\n        case 'supporting':\n            return roleCss.supporting;\n        case 'immersive':\n            return roleCss.immersive;\n        case 'showcase':\n            if (isTimeline) {\n                return css `\n\t\t\t\t\tmargin: 0 -10px;\n\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t}\n\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\tmargin-left: -160px;\n\t\t\t\t\t}\n\t\t\t\t\t${from.wide} {\n\t\t\t\t\t\tmargin-left: -240px;\n\t\t\t\t\t}\n\t\t\t\t`;\n            }\n            return roleCss.showcase;\n        case 'thumbnail':\n            switch (format.design) {\n                case ArticleDesign.LiveBlog:\n                case ArticleDesign.DeadBlog:\n                    // In blogs we don't want to use negative left margins\n                    return css `\n\t\t\t\t\t\t${roleCss.thumbnail}\n\t\t\t\t\t\t/* It's important we use the media query here to ensure we override the default values */\n\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\tmargin-left: 0px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                default:\n                    return roleCss.thumbnail;\n            }\n        case 'richLink':\n            return roleCss.richLink;\n        case 'halfWidth':\n            return roleCss.halfWidth;\n        default:\n            return roleCss.inline;\n    }\n};\nconst mainMediaFigureStyles = css `\n\theight: 100%;\n`;\nexport const Figure = ({ role = 'inline', format, children, id, isMainMedia, className = '', type, isTimeline = false, }) => {\n    if (isMainMedia && !isTimeline) {\n        // Don't add in-body styles for main media elements\n        // TODO: If we want to support other element types having role position, such\n        // as showcase twitter embeds, then we should remove the role positioning which\n        // currently lives in ImageComponent and hoist it up to here, the same as we're\n        // doing using decidePosition for in-body elements\n        return (_jsx(\"figure\", { id: id, css: mainMediaFigureStyles, children: children }, id));\n    }\n    return (_jsx(\"figure\", { id: id, css: defaultRoleStyles(role, format, isTimeline), \"data-spacefinder-role\": role, \"data-spacefinder-type\": type, className: className, children: children }));\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { article17, from, space, textSans17, } from '@guardian/source/foundations';\nimport libDebounce from 'lodash.debounce';\nimport { useRef, useState } from 'react';\nimport { interactiveLegacyFigureClasses } from '../layouts/lib/interactiveLegacyStyling';\nimport { ArticleSpecial } from '../lib/articleFormat';\nimport { useOnce } from '../lib/useOnce';\nimport { palette as themePalette } from '../palette';\nimport { Caption } from './Caption';\nimport { defaultRoleStyles } from './Figure';\nimport { Placeholder } from './Placeholder';\n/*\nHISTORY\n\nA CAPI response for an interactive elements looks like:\n{\n    \"type\": \"interactive\",\n    \"assets\": [],\n    \"interactiveTypeData\": {\n        \"originalUrl\": \"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\",\n        \"source\": \"Guardian\",\n        \"alt\": \"china 1978 gdp\",\n        \"scriptUrl\": \"https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\",\n        \"html\": \"<a href=\\\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\\\">china 1978 gdp</a>\",\n        \"scriptName\": \"iframe-wrapper\",\n        \"iframeUrl\": \"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\",\n        \"role\": \"supporting\",\n        \"isMandatory\": false\n        }\n}\n\nOn Frontend, the HTML that we send to the browser is:\n<figure class=\"element element-interactive interactive element--supporting\" data-interactive=\"https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\" data-canonical-url=\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\" data-alt=\"china 1978 gdp\">\n    <a href=\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\" data-link-name=\"in body link\" class=\"u-underline\">china 1978 gdp</a>\n</figure>\n\nhttps://github.com/guardian/frontend/blob/e38da96c59eaaef143b9f89b2318eab9dcf2fc5a/common/app/views/fragments/inlineJSNonBlocking.scala.html#L52\nWe use the curl AMD loader to load the boot script from the data-interactive attribute:\n    require([el.getAttribute('data-interactive')], function (interactive) {\n        interactive.boot(el, document, window.guardian.config);\n    }\n\nPulling from Kibana, 99% of articles use the standard iframe-wrapper/1.0/boot.js\nA vast minority of pre interactive atom use a customised boot.js\nhttps://gist.github.com/gtrufitt/c8f08caef0ae810a42fde5a4c0549ad0\n\n\nTHE STANDARD BOOT.js\nboot.js is defined from https://github.com/guardian/interactive-boot-scripts/blob/master/iframe-wrapper/boot.js\nand is sent with all interactive elements in the scriptUrl from CAPI to do a two simple things:\n- Create an iframe using the href of the anchor and set the src\n- Add event listener to the window to listen for 'message' of the following types\n    - set-height\n    - navigate\n    - scroll-to\n    - get-location\n    - get-position\n    - monitor-position\n\nIt has not been updated since 2016.\n\nMIGRATION FROM FRONTEND\n- For the standard boot.js, we have re-written the behavior in modern JS to avoid the requirement of an AMD loader\nand to avoid loading the boot.js file.\n- For all other files that do not load the standard boot.js, we'll add a AMD loader to the page\n\nFor the remaining few we dynamically load and AMD loader and support the contract as defined with curl AMD loader\n\n*/\nconst decideHeight = (role) => {\n    switch (role) {\n        case 'supporting':\n            return 200;\n        default:\n            return 500;\n    }\n};\nconst getMinHeight = (role, loaded) => {\n    if (loaded) {\n        return `auto`;\n    }\n    return `${decideHeight(role)}px`;\n};\nconst wrapperStyle = ({ format, role, loaded, isDatawrapperGraphic, }) => css `\n\t${format.theme === ArticleSpecial.Labs ? textSans17 : article17}\n\tbackground-color: ${themePalette(isDatawrapperGraphic\n    ? '--interactive-block-background-datawrapper'\n    : '--interactive-block-background')};\n\tmin-height: ${getMinHeight(role, loaded)};\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\t${isDatawrapperGraphic\n    ? `\n\tborder-top: 1px solid ${themePalette('--branding-border')};\n\tpadding-top: ${space[2]}px;\n\t`\n    : ''}\n`;\nconst datawrapperRoleStyles = (role) => {\n    switch (role) {\n        case 'inline':\n            return datawrapperRoleCss.inline;\n        case 'supporting':\n            return datawrapperRoleCss.supporting;\n        case 'immersive':\n            return datawrapperRoleCss.immersive;\n        case 'showcase':\n            return datawrapperRoleCss.showcase;\n        case 'thumbnail':\n        case 'halfWidth':\n            return null;\n    }\n};\nconst datawrapperRoleCss = {\n    inline: css `\n\t\tmargin-top: ${space[6]}px;\n\t\tmargin-bottom: ${space[6]}px;\n\t`,\n    supporting: css `\n\t\tclear: left;\n\t\tmargin-top: ${space[6]}px;\n\t\tmargin-bottom: ${space[6]}px;\n\n\t\t${from.leftCol} {\n\t\t\tmargin-bottom: ${space[2]}px;\n\t\t\tpadding-bottom: ${space[4]}px;\n\t\t\tborder-bottom: 1px solid ${themePalette('--branding-border')};\n\t\t}\n\t\t${from.wide} {\n\t\t\twidth: 380px;\n\t\t\tmargin-left: -240px;\n\t\t}\n\t`,\n    immersive: css `\n\t\tmargin-top: ${space[6]}px;\n\t\tmargin-bottom: ${space[6]}px;\n\n\t\t${from.leftCol} {\n\t\t\tmargin-bottom: ${space[4]}px;\n\t\t\tpadding-bottom: ${space[4]}px;\n\t\t\tborder-bottom: 1px solid ${themePalette('--branding-border')};\n\t\t}\n\t`,\n    showcase: css `\n\t\tmargin-top: ${space[6]}px;\n\t\tmargin-bottom: ${space[6]}px;\n\n\t\t${from.leftCol} {\n\t\t\tmargin-bottom: ${space[4]}px;\n\t\t\tpadding-bottom: ${space[4]}px;\n\t\t\tborder-bottom: 1px solid ${themePalette('--branding-border')};\n\t\t}\n\t`,\n};\nconst placeholderLinkStyle = css `\n\tposition: absolute;\n\tbottom: ${space[1]}px;\n\tleft: ${space[1]}px;\n`;\nconst mainMediaFigureStyles = css `\n\theight: 100%;\n`;\n// https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\nconst setupWindowListeners = (iframe) => {\n    // Calls func on trailing edge of the wait period\n    const postMessage = (message) => {\n        if (iframe.contentWindow) {\n            iframe.contentWindow.postMessage(JSON.stringify(message), '*');\n        }\n    };\n    window.addEventListener('message', (event) => {\n        if (event.source !== iframe.contentWindow) {\n            return;\n        }\n        let message;\n        try {\n            message = JSON.parse(event.data);\n        }\n        catch (e) {\n            window.guardian.modules.sentry.reportError(\n            // @ts-expect-error\n            e, 'Json parse Failed on in interactiveBlockComponent');\n        }\n        if (isUndefined(message)) {\n            return;\n        }\n        const postPositionMessage = (subscribe) => {\n            const iframeBox = iframe.getBoundingClientRect();\n            postMessage({\n                id: message?.id || '',\n                type: message?.type || '',\n                subscribe: !!subscribe,\n                iframeTop: iframeBox.top,\n                iframeRight: iframeBox.right,\n                iframeBottom: iframeBox.bottom,\n                iframeLeft: iframeBox.left,\n                innerHeight: window.innerHeight,\n                innerWidth: window.innerWidth,\n                pageYOffset: window.pageYOffset,\n            });\n        };\n        // Actions\n        switch (message.type) {\n            case 'set-height':\n                if (typeof message.value === 'number') {\n                    iframe.height = message.value.toString();\n                }\n                break;\n            case 'navigate':\n                if (typeof message.value === 'string') {\n                    document.location.href = message.value;\n                }\n                break;\n            case 'scroll-to':\n                if (typeof message.x === 'number' &&\n                    typeof message.y === 'number') {\n                    window.scrollTo(message.x, message.y);\n                }\n                break;\n            case 'get-location':\n                postMessage({\n                    id: message.id,\n                    type: message.type,\n                    hash: window.location.hash,\n                    host: window.location.host,\n                    hostname: window.location.hostname,\n                    href: window.location.href,\n                    origin: window.location.origin,\n                    pathname: window.location.pathname,\n                    port: window.location.port,\n                    protocol: window.location.protocol,\n                    search: window.location.search,\n                });\n                break;\n            case 'get-position':\n                postPositionMessage();\n                break;\n            case 'monitor-position':\n                // Send initial position\n                postPositionMessage(true);\n                // Send updated position on scroll or resize\n                window.addEventListener('scroll', libDebounce(() => {\n                    postPositionMessage(true);\n                }, 50));\n                window.addEventListener('resize', libDebounce(() => {\n                    postPositionMessage(true);\n                }, 50));\n                break;\n        }\n    }, false);\n};\nexport const InteractiveBlockComponent = ({ url, scriptUrl, alt, role = 'inline', caption, format, elementId = '', isMainMedia, }) => {\n    const wrapperRef = useRef(null);\n    const placeholderLinkRef = useRef(null);\n    const [loaded, setLoaded] = useState(false);\n    useOnce(() => {\n        // We've brought the behavior from boot.js into this file to avoid loading 2 extra scripts\n        if (scriptUrl ===\n            'https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js' &&\n            url &&\n            placeholderLinkRef.current) {\n            const iframe = document.createElement('iframe');\n            iframe.style.width = '100%';\n            iframe.style.border = 'none';\n            iframe.height = decideHeight(role).toString();\n            iframe.title = caption ?? alt ?? 'Interactive Content';\n            if (url.startsWith('http:')) {\n                iframe.src = url.replace('http:', 'https:');\n            }\n            else {\n                iframe.src = url;\n            }\n            setupWindowListeners(iframe);\n            wrapperRef.current?.prepend(iframe);\n            setLoaded(true);\n        }\n        else if (scriptUrl) {\n            // We're going to use curl AMD loader to load the script that the\n            // interactive has given us.\n            window.require([scriptUrl], (interactive) => {\n                if (wrapperRef.current !== null) {\n                    interactive.boot(wrapperRef.current, document, window.guardian.config);\n                }\n            });\n            setLoaded(true);\n        }\n    }, [loaded]);\n    const isDatawrapperGraphic = url == undefined\n        ? false\n        : /^https?:\\/\\/interactive\\.guim\\.co\\.uk\\/datawrapper(-test)?\\/embed/.test(url);\n    return (_jsx(_Fragment, { children: _jsxs(\"figure\", { id: elementId, ref: wrapperRef, css: [\n                isMainMedia\n                    ? mainMediaFigureStyles\n                    : defaultRoleStyles(role, format),\n                isDatawrapperGraphic ? datawrapperRoleStyles(role) : null,\n                wrapperStyle({\n                    format,\n                    role,\n                    loaded,\n                    isDatawrapperGraphic,\n                }),\n            ], className: interactiveLegacyFigureClasses('model.dotcomrendering.pageElements.InteractiveBlockElement', role), \"data-alt\": alt, \"data-testid\": `interactive-element-${encodeURI(alt ?? '')}`, \"data-spacefinder-role\": role, children: [!loaded && (_jsxs(_Fragment, { children: [_jsx(Placeholder // removed by HydrateInteractiveOnce\n                        , { height: decideHeight(role), shouldShimmer: false }), _jsx(\"a\", { ref: placeholderLinkRef, \"data-name\": \"placeholder\" // removed by HydrateInteractiveOnce\n                            , css: placeholderLinkStyle, href: url, children: alt })] })), !!caption && (_jsx(Caption, { captionText: caption, format: format, isMainMedia: isMainMedia }))] }) }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css, keyframes } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { palette, space } from '@guardian/source/foundations';\nconst BACKGROUND_COLOUR = palette.neutral[93];\nconst shimmer = keyframes `\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\nconst shimmerStyles = (backgroundColor) => css `\n\tanimation: ${shimmer} 2s infinite linear;\n\tbackground: linear-gradient(\n\t\tto right,\n\t\t${backgroundColor} 4%,\n\t\twhite 25%,\n\t\t${backgroundColor} 36%\n\t);\n\tbackground-size: 1500px 100%;\n`;\nexport const Placeholder = ({ height, rootId, width, spaceBelow, spaceLeft, shouldShimmer = true, backgroundColor = BACKGROUND_COLOUR, }) => (_jsx(\"div\", { id: rootId, css: css `\n\t\t\tflex-grow: 1;\n\t\t`, \"data-name\": \"placeholder\", children: _jsx(\"div\", { css: css `\n\t\t\t\tmin-height: ${height}px;\n\t\t\t\twidth: ${!isUndefined(width) ? `${width}px` : '100%'};\n\t\t\t\tmargin-bottom: ${spaceBelow && space[spaceBelow]}px;\n\t\t\t\tmargin-left: ${spaceLeft && space[spaceLeft]}px;\n\t\t\t\tbackground-color: ${backgroundColor};\n\n\t\t\t\t${shouldShimmer && shimmerStyles(backgroundColor)}\n\t\t\t` }) }));\n","import { css } from '@emotion/react';\nimport { from, until } from '@guardian/source/foundations';\nimport { ArticleDesign } from '../../lib/articleFormat';\nimport { center } from '../../lib/center';\nexport const isInteractive = (design) => design === ArticleDesign.Interactive;\nexport const interactiveLegacyFigureClasses = (elementType, role) => {\n    const elementClasses = {\n        'model.dotcomrendering.pageElements.InteractiveAtomBlockElement': 'element-atom',\n        'model.dotcomrendering.pageElements.InteractiveBlockElement': 'element-interactive',\n    };\n    const roleClass = role ? ` element-${role}` : '';\n    const elementClass = elementClasses[elementType] ?? '';\n    const legacyRoleClass = role ? ` element--${role}` : '';\n    return `element ${elementClass}${legacyRoleClass}${roleClass}`;\n};\n// Classes present in Frontend that we add for legacy interactives.\nexport const interactiveLegacyClasses = {\n    contentInteractive: 'content--interactive',\n    contentInteractiveGrid: 'content--interactive-grid',\n    contentLabels: 'content__labels',\n    contentLabelsNotImmersive: 'content__labels--not-immersive',\n    contentMainColumn: 'content__main-column--interactive',\n    headline: 'content__headline',\n    labelLink: 'content__label__link',\n    metaContainer: 'content__meta-container_dcr',\n    standFirst: 'content__standfirst',\n    byline: 'byline',\n    shareIcons: 'meta__social',\n    shareAndCommentCounts: 'meta__comment',\n    // some legacy interactives do not use the content--interactive container\n    // to ensure all editorial content has correct font, we need to target this too\n    interactiveWrapper: 'interactive-wrapper',\n};\n// Styles expected by interactives from the Frontend days. These shouldn't be\n// used for new interactives though.\nexport const interactiveGlobalStyles = css `\n\t/* Scope this as tightly as possible. Otherwise, e.g. box-model will break\n\tfooter. */\n\tbody article {\n\t\t*:before,\n\t\t*:after {\n\t\t\tbox-sizing: content-box;\n\t\t}\n\n\t\t.fc-container__inner,\n\t\t.gs-container {\n\t\t\t${center}\n\t\t}\n\n\t\t/* There is room for better solution where we don't have to load global styles onto the body.\n\t\t\tFor now this works, but we shouldn't support for it for newly made interactives. */\n\t\t.${interactiveLegacyClasses.contentInteractive},\n\t\t\t.${interactiveLegacyClasses.interactiveWrapper} {\n\t\t\tmargin-bottom: 1rem;\n\n\t\t\t/* stylelint-disable */\n\t\t\tfont-family:\n\t\t\t\tGuardianTextEgyptian,\n\t\t\t\tGuardian Text Egyptian Web,\n\t\t\t\tGeorgia,\n\t\t\t\tserif;\n\t\t\t/* stylelint-enable */\n\n\t\t\tfont-size: 1.0625rem;\n\t\t\tline-height: 1.5;\n\t\t\tfont-weight: 400;\n\t\t}\n\n\t\tbutton,\n\t\tinput,\n\t\toptgroup,\n\t\tselect,\n\t\ttextarea {\n\t\t\tcolor: inherit;\n\t\t}\n\n\t\tbutton,\n\t\thtml input[type='button'],\n\t\tinput[type='reset'],\n\t\tinput[type='submit'] {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t/* Start social icon support */\n\t\t.meta__social {\n\t\t\tpadding-top: 0.375rem;\n\t\t}\n\n\t\t.social__item {\n\t\t\tfloat: left;\n\t\t\tmin-width: 2rem;\n\t\t\tpadding: 0 0.1875rem 0.375rem 0;\n\t\t\tcursor: pointer;\n\n\t\t\t.inline-icon__fallback {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.inline-icon {\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tborder: 1px solid #dcdcdc; /* stylelint-disable-line */\n\t\t\t\ttransition:\n\t\t\t\t\tfill 0.3s ease,\n\t\t\t\t\tbackground-color 0.3s ease;\n\t\t\t}\n\n\t\t\t.social-icon {\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tborder: 0;\n\t\t\t\tmin-width: 2rem;\n\t\t\t\tmax-width: 100%;\n\t\t\t\twidth: auto;\n\t\t\t\theight: 2rem;\n\t\t\t\tsvg {\n\t\t\t\t\theight: 88%;\n\t\t\t\t\twidth: 88%;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.rounded-icon {\n\t\t\t\tborder-radius: 62.5rem;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.centered-icon svg {\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tright: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tposition: absolute;\n\t\t\t}\n\t\t}\n\n\t\t.content__dateline {\n\t\t\tfont-size: 0.75rem;\n\t\t\tline-height: 1rem;\n\t\t\tposition: relative;\n\t\t\tbox-sizing: border-box;\n\t\t\tpadding-top: 0.125rem;\n\t\t\tmargin-bottom: 0.375rem;\n\t\t}\n\t\t/* End social icon support */\n\n\t\t/* Typically required for ad display. */\n\t\t${until.tablet} {\n\t\t\t.hide-until-tablet {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\t.mobile-only {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t.interactive-atom {\n\t\t\tposition: relative;\n\t\t}\n\n\t\tol,\n\t\tul {\n\t\t\tpadding: 0;\n\t\t\tmargin-left: 1.5625rem;\n\t\t}\n\t}\n`;\n","import { isString } from '@guardian/libs';\nexport var ArticleDesign;\n(function (ArticleDesign) {\n    ArticleDesign[ArticleDesign[\"Standard\"] = 0] = \"Standard\";\n    ArticleDesign[ArticleDesign[\"Picture\"] = 1] = \"Picture\";\n    ArticleDesign[ArticleDesign[\"Gallery\"] = 2] = \"Gallery\";\n    ArticleDesign[ArticleDesign[\"Audio\"] = 3] = \"Audio\";\n    ArticleDesign[ArticleDesign[\"Video\"] = 4] = \"Video\";\n    ArticleDesign[ArticleDesign[\"Review\"] = 5] = \"Review\";\n    ArticleDesign[ArticleDesign[\"Analysis\"] = 6] = \"Analysis\";\n    ArticleDesign[ArticleDesign[\"Explainer\"] = 7] = \"Explainer\";\n    ArticleDesign[ArticleDesign[\"Comment\"] = 8] = \"Comment\";\n    ArticleDesign[ArticleDesign[\"Letter\"] = 9] = \"Letter\";\n    ArticleDesign[ArticleDesign[\"Feature\"] = 10] = \"Feature\";\n    ArticleDesign[ArticleDesign[\"LiveBlog\"] = 11] = \"LiveBlog\";\n    ArticleDesign[ArticleDesign[\"DeadBlog\"] = 12] = \"DeadBlog\";\n    ArticleDesign[ArticleDesign[\"Recipe\"] = 13] = \"Recipe\";\n    ArticleDesign[ArticleDesign[\"MatchReport\"] = 14] = \"MatchReport\";\n    ArticleDesign[ArticleDesign[\"Interview\"] = 15] = \"Interview\";\n    ArticleDesign[ArticleDesign[\"Editorial\"] = 16] = \"Editorial\";\n    ArticleDesign[ArticleDesign[\"Quiz\"] = 17] = \"Quiz\";\n    ArticleDesign[ArticleDesign[\"Interactive\"] = 18] = \"Interactive\";\n    ArticleDesign[ArticleDesign[\"PhotoEssay\"] = 19] = \"PhotoEssay\";\n    ArticleDesign[ArticleDesign[\"Obituary\"] = 20] = \"Obituary\";\n    ArticleDesign[ArticleDesign[\"Correction\"] = 21] = \"Correction\";\n    ArticleDesign[ArticleDesign[\"FullPageInteractive\"] = 22] = \"FullPageInteractive\";\n    ArticleDesign[ArticleDesign[\"NewsletterSignup\"] = 23] = \"NewsletterSignup\";\n    ArticleDesign[ArticleDesign[\"Timeline\"] = 24] = \"Timeline\";\n    ArticleDesign[ArticleDesign[\"Profile\"] = 25] = \"Profile\";\n})(ArticleDesign || (ArticleDesign = {}));\nexport var ArticleDisplay;\n(function (ArticleDisplay) {\n    ArticleDisplay[ArticleDisplay[\"Standard\"] = 0] = \"Standard\";\n    ArticleDisplay[ArticleDisplay[\"Immersive\"] = 1] = \"Immersive\";\n    ArticleDisplay[ArticleDisplay[\"Showcase\"] = 2] = \"Showcase\";\n    ArticleDisplay[ArticleDisplay[\"NumberedList\"] = 3] = \"NumberedList\";\n})(ArticleDisplay || (ArticleDisplay = {}));\nexport var Pillar;\n(function (Pillar) {\n    Pillar[Pillar[\"News\"] = 0] = \"News\";\n    Pillar[Pillar[\"Opinion\"] = 1] = \"Opinion\";\n    Pillar[Pillar[\"Sport\"] = 2] = \"Sport\";\n    Pillar[Pillar[\"Culture\"] = 3] = \"Culture\";\n    Pillar[Pillar[\"Lifestyle\"] = 4] = \"Lifestyle\";\n})(Pillar || (Pillar = {}));\nexport var ArticleSpecial;\n(function (ArticleSpecial) {\n    ArticleSpecial[ArticleSpecial[\"SpecialReport\"] = 5] = \"SpecialReport\";\n    ArticleSpecial[ArticleSpecial[\"Labs\"] = 6] = \"Labs\";\n    ArticleSpecial[ArticleSpecial[\"SpecialReportAlt\"] = 7] = \"SpecialReportAlt\";\n})(ArticleSpecial || (ArticleSpecial = {}));\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({ design }) => {\n    switch (design) {\n        case 'ArticleDesign':\n            return ArticleDesign.Standard;\n        case 'PictureDesign':\n            return ArticleDesign.Picture;\n        case 'GalleryDesign':\n            return ArticleDesign.Gallery;\n        case 'AudioDesign':\n            return ArticleDesign.Audio;\n        case 'VideoDesign':\n            return ArticleDesign.Video;\n        case 'ReviewDesign':\n            return ArticleDesign.Review;\n        case 'AnalysisDesign':\n            return ArticleDesign.Analysis;\n        case 'CommentDesign':\n            return ArticleDesign.Comment;\n        case 'LetterDesign':\n            return ArticleDesign.Letter;\n        case 'FeatureDesign':\n            return ArticleDesign.Feature;\n        case 'LiveBlogDesign':\n            return ArticleDesign.LiveBlog;\n        case 'DeadBlogDesign':\n            return ArticleDesign.DeadBlog;\n        case 'RecipeDesign':\n            return ArticleDesign.Recipe;\n        case 'MatchReportDesign':\n            return ArticleDesign.MatchReport;\n        case 'InterviewDesign':\n            return ArticleDesign.Interview;\n        case 'EditorialDesign':\n            return ArticleDesign.Editorial;\n        case 'QuizDesign':\n            return ArticleDesign.Quiz;\n        case 'InteractiveDesign':\n            return ArticleDesign.Interactive;\n        case 'PhotoEssayDesign':\n            return ArticleDesign.PhotoEssay;\n        case 'ObituaryDesign':\n            return ArticleDesign.Obituary;\n        case 'FullPageInteractiveDesign':\n            return ArticleDesign.FullPageInteractive;\n        case 'NewsletterSignupDesign':\n            return ArticleDesign.NewsletterSignup;\n        case 'ExplainerDesign':\n            return ArticleDesign.Explainer;\n        case 'TimelineDesign':\n            return ArticleDesign.Timeline;\n        case 'ProfileDesign':\n            return ArticleDesign.Profile;\n        default:\n            return ArticleDesign.Standard;\n    }\n};\nconst decideDisplay = ({ display, design, }) => {\n    switch (display) {\n        case 'StandardDisplay':\n            return ArticleDisplay.Standard;\n        case 'ImmersiveDisplay':\n            // Temporary hack until we can handle Immersive Comment pieces\n            return design === 'CommentDesign'\n                ? ArticleDisplay.Standard\n                : ArticleDisplay.Immersive;\n        case 'ShowcaseDisplay':\n            return ArticleDisplay.Showcase;\n        case 'NumberedListDisplay':\n            return ArticleDisplay.NumberedList;\n        default:\n            return ArticleDisplay.Standard;\n    }\n};\nexport const decideTheme = ({ theme }) => {\n    switch (theme) {\n        case 'NewsPillar':\n            return Pillar.News;\n        case 'OpinionPillar':\n            return Pillar.Opinion;\n        case 'SportPillar':\n            return Pillar.Sport;\n        case 'CulturePillar':\n            return Pillar.Culture;\n        case 'LifestylePillar':\n            return Pillar.Lifestyle;\n        case 'SpecialReportTheme':\n            return ArticleSpecial.SpecialReport;\n        case 'SpecialReportAltTheme':\n            return ArticleSpecial.SpecialReportAlt;\n        case 'Labs':\n            return ArticleSpecial.Labs;\n        default:\n            return Pillar.News;\n    }\n};\nexport const decideFormat = (format) => ({\n    design: decideDesign(format),\n    display: decideDisplay(format),\n    theme: decideTheme(format),\n});\nexport const getThemeNameAsString = (format) => {\n    const themeName = Pillar[format.theme] ?? ArticleSpecial[format.theme];\n    if (!themeName)\n        throw new Error('Unknown theme');\n    return themeName;\n};\n/**\n * We need a type guard because TypeScript enums are (confusingly)\n * returning both strings and numbers.\n */\nconst isTheme = (theme) => !isString(theme);\nconst isDesign = (design) => !isString(design);\nexport const getAllThemes = ({ display, design, }) => Object.values({ ...Pillar, ...ArticleSpecial })\n    .filter(isTheme)\n    .map((theme) => ({\n    theme,\n    display,\n    design,\n}));\nexport const getAllDesigns = ({ display, theme, }) => Object.values({ ...ArticleDesign })\n    .filter(isDesign)\n    .map((design) => ({\n    theme,\n    display,\n    design,\n}));\nconst designToFEDesign = (design) => {\n    switch (design) {\n        case ArticleDesign.Standard:\n        // Correction doesn't exist in `FEFormat`.\n        case ArticleDesign.Correction:\n            return 'ArticleDesign';\n        case ArticleDesign.Picture:\n            return 'PictureDesign';\n        case ArticleDesign.Gallery:\n            return 'GalleryDesign';\n        case ArticleDesign.Audio:\n            return 'AudioDesign';\n        case ArticleDesign.Video:\n            return 'VideoDesign';\n        case ArticleDesign.Review:\n            return 'ReviewDesign';\n        case ArticleDesign.Analysis:\n            return 'AnalysisDesign';\n        case ArticleDesign.Explainer:\n            return 'ExplainerDesign';\n        case ArticleDesign.Comment:\n            return 'CommentDesign';\n        case ArticleDesign.Letter:\n            return 'LetterDesign';\n        case ArticleDesign.Feature:\n            return 'FeatureDesign';\n        case ArticleDesign.LiveBlog:\n            return 'LiveBlogDesign';\n        case ArticleDesign.DeadBlog:\n            return 'DeadBlogDesign';\n        case ArticleDesign.Recipe:\n            return 'RecipeDesign';\n        case ArticleDesign.MatchReport:\n            return 'MatchReportDesign';\n        case ArticleDesign.Interview:\n            return 'InterviewDesign';\n        case ArticleDesign.Editorial:\n            return 'EditorialDesign';\n        case ArticleDesign.Quiz:\n            return 'QuizDesign';\n        case ArticleDesign.Interactive:\n            return 'InteractiveDesign';\n        case ArticleDesign.PhotoEssay:\n            return 'PhotoEssayDesign';\n        case ArticleDesign.Obituary:\n            return 'ObituaryDesign';\n        case ArticleDesign.FullPageInteractive:\n            return 'FullPageInteractiveDesign';\n        case ArticleDesign.NewsletterSignup:\n            return 'NewsletterSignupDesign';\n        case ArticleDesign.Timeline:\n            return 'TimelineDesign';\n        case ArticleDesign.Profile:\n            return 'ProfileDesign';\n    }\n};\nconst displayToFEDisplay = (display) => {\n    switch (display) {\n        case ArticleDisplay.Standard:\n            return 'StandardDisplay';\n        case ArticleDisplay.Immersive:\n            return 'ImmersiveDisplay';\n        case ArticleDisplay.Showcase:\n            return 'ShowcaseDisplay';\n        case ArticleDisplay.NumberedList:\n            return 'NumberedListDisplay';\n    }\n};\nconst themeToFETheme = (theme) => {\n    switch (theme) {\n        case Pillar.News:\n            return 'NewsPillar';\n        case Pillar.Opinion:\n            return 'OpinionPillar';\n        case Pillar.Sport:\n            return 'SportPillar';\n        case Pillar.Culture:\n            return 'CulturePillar';\n        case Pillar.Lifestyle:\n            return 'LifestylePillar';\n        case ArticleSpecial.SpecialReport:\n            return 'SpecialReportTheme';\n        case ArticleSpecial.Labs:\n            return 'Labs';\n        case ArticleSpecial.SpecialReportAlt:\n            return 'SpecialReportAltTheme';\n    }\n};\nexport const formatToFEFormat = ({ design, display, theme, }) => ({\n    design: designToFEDesign(design),\n    display: displayToFEDisplay(display),\n    theme: themeToFETheme(theme),\n});\n/**\n * Creates a string representation of {@linkcode ArticleFormat}. Useful for\n * logging, storybook UI etc.\n *\n * @param format An {@linkcode ArticleFormat}\n * @returns A string representation of `ArticleFormat`\n */\nexport const formatToString = ({ design, display, theme, }) => [\n    `${ArticleDesign[design]} Design`,\n    `${ArticleDisplay[display]} Display`,\n    `and ${Pillar[theme] ?? ArticleSpecial[theme]} Theme`,\n].join(', ');\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\nexport const center = css `\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","import { isUndefined } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\n/**\n * Ensures that the given task is only run once and only after all items in waitFor are defined\n * @param {Function} task - The task to execute once\n * @param {Array} waitFor - An array of variables that must be defined before the task is executed\n * */\nexport const useOnce = (task, waitFor) => {\n    const [alreadyRun, setAlreadyRun] = useState(false);\n    const isReady = waitFor.every((dep) => !isUndefined(dep));\n    useEffect(() => {\n        if (!alreadyRun && isReady) {\n            task();\n            setAlreadyRun(true);\n        }\n    }, [alreadyRun, isReady, task]);\n};\n","/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour) => `var(${colour})`;\n// ----- Exports ----- //\nexport { palette };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","function _taggedTemplateLiteral(e, t) {\n  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {\n    raw: {\n      value: Object.freeze(t)\n    }\n  }));\n}\nexport { _taggedTemplateLiteral as default };","const breakpoints = {\n    desktop: 980,\n    leftCol: 1140,\n    mobile: 320,\n    mobileLandscape: 480,\n    mobileMedium: 375,\n    phablet: 660,\n    tablet: 740,\n    wide: 1300\n};\nexport { breakpoints };\n","import { breakpoints } from '../__generated__/breakpoints.js';\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide)\n};\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n        }\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n        }\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n        }\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n        }\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n        }\n    }\n};\nexport { between, from, until };\n"],"names":["_path","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","props","width","height","viewBox","d","captionStyle","css","textSans14","palette","bottomMarginStyles","name","styles","_ref","_ref2","overlaidStyles","format","display","ArticleDisplay","Showcase","design","ArticleDesign","Review","overlaidBottomPadding","limitedWidth","from","leftCol","wide","veryLimitedWidth","captionPadding","tabletCaptionPadding","until","desktop","bigLeftMargin","space","mobileLandscape","hideIconBelowLeftCol","iconStyle","videoIconStyle","captionLink","CameraIcon","_ref3","_jsx","Immersive","children","CameraSvg","VideoIcon","_ref4","VideoSvg","Caption","_ref5","captionText","_ref5$padCaption","padCaption","credit","_ref5$displayCredit","displayCredit","_ref5$shouldLimitWidt","shouldLimitWidth","isOverlaid","isLeftCol","_ref5$mediaType","mediaType","_ref5$isMainMedia","isMainMedia","trim","isBlog","LiveBlog","DeadBlog","defaultCaption","_jsxs","dangerouslySetInnerHTML","__html","concat","PhotoEssay","theme","ArticleSpecial","Labs","textSans12","roleCss","inline","supporting","tablet","immersive","showcase","thumbnail","richLink","halfWidth","defaultRoleStyles","role","isTimeline","undefined","decideHeight","wrapperStyle","loaded","isDatawrapperGraphic","textSans17","article17","themePalette","getMinHeight","datawrapperRoleStyles","datawrapperRoleCss","placeholderLinkStyle","mainMediaFigureStyles","InteractiveBlockComponent","url","scriptUrl","alt","_ref2$role","caption","_ref2$elementId","elementId","wrapperRef","useRef","placeholderLinkRef","_useState","useState","_useState2","_slicedToArray","setLoaded","useOnce","current","_wrapperRef$current","iframe","document","createElement","style","border","toString","title","startsWith","src","replace","postMessage","message","contentWindow","JSON","stringify","window","addEventListener","event","source","parse","data","guardian","modules","sentry","reportError","isUndefined","postPositionMessage","subscribe","_message","_message2","iframeBox","getBoundingClientRect","id","type","iframeTop","top","iframeRight","right","iframeBottom","bottom","iframeLeft","left","innerHeight","innerWidth","pageYOffset","value","location","href","x","y","scrollTo","hash","host","hostname","origin","pathname","port","protocol","search","libDebounce","setupWindowListeners","prepend","require","interactive","boot","config","test","_Fragment","ref","className","interactiveLegacyFigureClasses","encodeURI","Placeholder","shouldShimmer","BACKGROUND_COLOUR","neutral","shimmer","keyframes","_templateObject","_taggedTemplateLiteral","shimmerStyles","backgroundColor","rootId","spaceBelow","spaceLeft","_ref2$shouldShimmer","_ref2$backgroundColor","elementType","_elementClasses$eleme","roleClass","elementClass","legacyRoleClass","interactiveLegacyClasses","contentInteractive","contentInteractiveGrid","contentLabels","contentLabelsNotImmersive","contentMainColumn","headline","labelLink","metaContainer","standFirst","byline","shareIcons","shareAndCommentCounts","interactiveWrapper","center","Pillar","decideDesign","Standard","Picture","Gallery","Audio","Video","Analysis","Comment","Letter","Feature","Recipe","MatchReport","Interview","Editorial","Quiz","Interactive","Obituary","FullPageInteractive","NewsletterSignup","Explainer","Timeline","Profile","decideDisplay","NumberedList","decideTheme","News","Opinion","Sport","Culture","Lifestyle","SpecialReport","SpecialReportAlt","decideFormat","task","waitFor","alreadyRun","setAlreadyRun","isReady","every","dep","useEffect","colour","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","freeSelf","self","root","Function","objectToString","prototype","nativeMax","Math","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","isSymbol","other","valueOf","isBinary","slice","module","exports","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","remainingWait","debounced","isInvoking","this","leadingEdge","cancel","clearTimeout","flush","freeze","defineProperties","raw","breakpoints","mobile","mobileMedium","phablet","minWidth","from2","maxWidth","until2","minWidthMaxWidth","between","and"],"sourceRoot":""}