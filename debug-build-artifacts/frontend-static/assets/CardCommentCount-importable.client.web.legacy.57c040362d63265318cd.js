"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[5661],{79003:(e,t,n)=>{n.d(t,{A:()=>r});var o,i=n(67400);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(null,arguments)}const r=function(e){return i.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16"},e),o||(o=i.createElement("path",{d:"M13 0l1 1v7l-1 1H7l-2 3H4V9H2L1 8V1l1-1h11z"})))}},5077:(e,t,n)=>{n.r(t),n.d(t,{CardCommentCount:()=>v});var o=n(50484),i=n(24017),a=n(71653),r=n(81477),l=n(72657),d=n(75279),c=n(230),f=n(1954),s=n(79003),u=n(97872),p=function(e){return(0,i.css)("display:flex;flex-direction:row;",a.rDY,";line-height:1.15;margin-top:-4px;color:",e,";")},b=function(e){return(0,i.css)("svg{margin-bottom:-5px;height:14px;width:14px;margin-right:2px;fill:",e,";}")},m=(0,i.css)("display:block;",r.Tq.leftCol.and.wide,"{display:none;}"),h=(0,i.css)("display:none;",r.Tq.leftCol.and.wide,"{display:block;}"),v=function(e){var t=e.containerPalette,n=e.discussionApiUrl,a=e.discussionId,r=e.isDynamo,v=e.colour,w=void 0===v?(0,f.M)("--card-footer-text"):v,g=(0,c.e_)(n,a),x=(0,d.B)(g),y=x.long,C=x.short,k=function(){return r?(0,f.M)("--card-trail-text"):w};return(0,o.jsx)(u.X,{containerPalette:t,children:(0,o.jsxs)("div",{css:p(k()),children:[(0,o.jsx)("div",{css:b(k()),children:(0,o.jsx)(s.A,{})}),(0,o.jsx)("div",{css:m,children:y}),(0,o.jsx)("div",{css:h,"aria-hidden":"true",children:C}),(0,o.jsxs)("span",{css:(0,i.css)(l.Q,";"),children:[" ","comments"]})]})})}},75279:(e,t,n)=>{n.d(t,{B:()=>i});var o=n(65656),i=function(e){if((0,o.b)(e))return{short:"…",long:"…"};if(0===e)return{short:"0",long:"0"};var t=Math.floor(e),n=Intl.NumberFormat("en-GB").format(t);return{short:t>1e4?"".concat(Math.round(t/1e3),"k"):t.toString(),long:n}}},35819:(e,t,n)=>{n.d(t,{V:()=>a});var o=function(e){switch(e.length){case 2:return parseInt(e,16);case 1:return parseInt(e+e,16);default:return 127}},i="rgba(127, 127, 127, 0.5)",a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!e.startsWith("#")||![4,7].includes(e.length))return i;var n=7===e.length?2:1,a=o(e.slice(1,1+n)),r=o(e.slice(1+n,1+2*n)),l=o(e.slice(1+2*n,1+3*n));return[a,r,l].some(Number.isNaN)?i:"rgba(".concat(a,", ").concat(r,", ").concat(l,", ").concat(t,")")}},230:(e,t,n)=>{n.d(t,{e_:()=>u,uz:()=>p,z6:()=>s});var o=n(22820),i=n(31880),a=n(76720),r=n(90760),l=n(67400),d=n(73556);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var f,s="data-discussion-id",u=function(e,t){var n=(0,l.useState)(),c=(0,o.A)(n,2),u=c[0],p=c[1];(0,l.useEffect)((function(){var n;null!==(n=f)&&void 0!==n||(f=new Set((0,i.A)(document.querySelectorAll("[".concat(s,"]"))).map((function(e){return e.getAttribute(s)})).filter(a.R))),f.add(t);var o="".concat(e,"/getCommentCounts?").concat(new URLSearchParams({"short-urls":(0,i.A)(f).sort().join(",")}).toString());p(o)}),[e,t]);var b=(0,d.g)(u).data,m=(0,r.G)(b)?b[t]:void 0;return"number"==typeof m?m:void 0},p=function(e){if(f){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;f.add(o)}}catch(e){n.e(e)}finally{n.f()}}}},1954:(e,t,n)=>{n.d(t,{M:()=>o});var o=function(e){return"var(".concat(e,")")}},84782:(e,t,n)=>{n.d(t,{f:()=>o});var o={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},72657:(e,t,n)=>{n.d(t,{Q:()=>o});var o="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},81477:(e,t,n)=>{n.d(t,{HT:()=>l,TG:()=>d,Tq:()=>c});var o=n(84782),i=function(e){return"@media (min-width: ".concat("".concat(e,"px"),")")},a=function(e){return"@media (max-width: ".concat("".concat(e-.1,"px"),")")},r=function(e,t){return"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ","".concat(t-.1,"px"),")")},l={mobile:i(o.f.mobile),mobileMedium:i(o.f.mobileMedium),mobileLandscape:i(o.f.mobileLandscape),phablet:i(o.f.phablet),tablet:i(o.f.tablet),desktop:i(o.f.desktop),leftCol:i(o.f.leftCol),wide:i(o.f.wide)},d={mobile:a(o.f.mobile),mobileMedium:a(o.f.mobileMedium),mobileLandscape:a(o.f.mobileLandscape),phablet:a(o.f.phablet),tablet:a(o.f.tablet),desktop:a(o.f.desktop),leftCol:a(o.f.leftCol),wide:a(o.f.wide)},c={mobile:{and:{mobileMedium:r(o.f.mobile,o.f.mobileMedium),mobileLandscape:r(o.f.mobile,o.f.mobileLandscape),phablet:r(o.f.mobile,o.f.phablet),tablet:r(o.f.mobile,o.f.tablet),desktop:r(o.f.mobile,o.f.desktop),leftCol:r(o.f.mobile,o.f.leftCol),wide:r(o.f.mobileMedium,o.f.wide)}},mobileMedium:{and:{mobileLandscape:r(o.f.mobileMedium,o.f.mobileLandscape),phablet:r(o.f.mobileMedium,o.f.phablet),tablet:r(o.f.mobileMedium,o.f.tablet),desktop:r(o.f.mobileMedium,o.f.desktop),leftCol:r(o.f.mobileMedium,o.f.leftCol),wide:r(o.f.mobileMedium,o.f.wide)}},mobileLandscape:{and:{phablet:r(o.f.mobileLandscape,o.f.phablet),tablet:r(o.f.mobileLandscape,o.f.tablet),desktop:r(o.f.mobileLandscape,o.f.desktop),leftCol:r(o.f.mobileLandscape,o.f.leftCol),wide:r(o.f.mobileLandscape,o.f.wide)}},phablet:{and:{tablet:r(o.f.phablet,o.f.tablet),desktop:r(o.f.phablet,o.f.desktop),leftCol:r(o.f.phablet,o.f.leftCol),wide:r(o.f.phablet,o.f.wide)}},tablet:{and:{desktop:r(o.f.tablet,o.f.desktop),leftCol:r(o.f.tablet,o.f.leftCol),wide:r(o.f.tablet,o.f.wide)}},desktop:{and:{leftCol:r(o.f.desktop,o.f.leftCol),wide:r(o.f.desktop,o.f.wide)}},leftCol:{and:{wide:r(o.f.leftCol,o.f.wide)}}}}}]);
//# sourceMappingURL=CardCommentCount-importable.client.web.legacy.57c040362d63265318cd.js.map