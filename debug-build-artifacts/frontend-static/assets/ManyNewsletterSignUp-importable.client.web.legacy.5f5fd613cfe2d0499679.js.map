{"version":3,"file":"ManyNewsletterSignUp-importable.client.web.legacy.5f5fd613cfe2d0499679.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/CardPicture.tsx","webpack://@guardian/dotcom-rendering/./src/components/Hide.tsx","webpack://@guardian/dotcom-rendering/./src/components/LeftColumn.tsx","webpack://@guardian/dotcom-rendering/./src/lib/newsletter-sign-up-requests.ts","webpack://@guardian/dotcom-rendering/./src/components/InlineSkipToWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/components/ManyNewslettersForm.tsx","webpack://@guardian/dotcom-rendering/./src/components/ManyNewsletterSignUp.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/NewsletterDetail.tsx","webpack://@guardian/dotcom-rendering/./src/components/NewsletterCard.tsx","webpack://@guardian/dotcom-rendering/./src/components/NewsletterPrivacyMessage.tsx","webpack://@guardian/dotcom-rendering/./src/lib/edition.ts","webpack://@guardian/dotcom-rendering/./src/lib/useIsInView.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source-development-kitchen@12.0.0_@emotion+react@11.11.3_@guardian+libs@19.2.1_@gua_u2skz76xfmcpz6vecn5wtd5lna/node_modules/@guardian/source-development-kitchen/dist/react-components/expanding-wrapper/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source-development-kitchen@12.0.0_@emotion+react@11.11.3_@guardian+libs@19.2.1_@gua_u2skz76xfmcpz6vecn5wtd5lna/node_modules/@guardian/source-development-kitchen/dist/react-components/tabs/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgCross.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { breakpoints, space } from '@guardian/source/foundations';\nimport React from 'react';\nimport { generateSources, getFallbackSource } from './Picture';\n/**\n * **WIP – Some size may be unaccounted for**\n *\n * Currently, this only handles the five (5) image sizes of `ImageSizeType`.\n *\n * This method should cover all use cases with a lot more precision once\n * implemented thoroughly\n */\nconst decideImageWidths = (imageSize) => {\n    switch (imageSize) {\n        // @TODO missing image size option\n        // case 'tiny':\n        // \treturn [\n        // \t\t{ breakpoint: breakpoints.mobile, width: 120 },\n        // \t\t{ breakpoint: breakpoints.tablet, width: 130 },\n        // \t\t{ breakpoint: breakpoints.desktop, width: 140 },\n        // \t];\n        case 'carousel':\n            return [{ breakpoint: breakpoints.mobile, width: 220 }];\n        case 'small':\n            return [\n                { breakpoint: breakpoints.mobile, width: 120 },\n                { breakpoint: breakpoints.tablet, width: 160 },\n                { breakpoint: breakpoints.desktop, width: 220 },\n            ];\n        case 'medium':\n            return [\n                { breakpoint: breakpoints.mobile, width: 240 },\n                { breakpoint: breakpoints.tablet, width: 330 },\n                { breakpoint: breakpoints.desktop, width: 460 },\n            ];\n        case 'large':\n            return [\n                { breakpoint: breakpoints.mobile, width: 360 },\n                { breakpoint: breakpoints.mobileLandscape, width: 480 },\n                { breakpoint: breakpoints.tablet, width: 500 },\n                { breakpoint: breakpoints.desktop, width: 700 },\n            ];\n        case 'jumbo':\n            return [\n                { breakpoint: breakpoints.mobile, width: 360 },\n                { breakpoint: breakpoints.mobileLandscape, width: 480 },\n                { breakpoint: breakpoints.tablet, width: 680 },\n                { breakpoint: breakpoints.desktop, width: 940 },\n            ];\n        case 'feature':\n            return [\n                { breakpoint: breakpoints.mobile, width: 325 },\n                { breakpoint: breakpoints.tablet, width: 220 },\n                { breakpoint: breakpoints.desktop, width: 300 },\n            ];\n        case 'feature-large':\n            return [\n                { breakpoint: breakpoints.mobile, width: 325 },\n                { breakpoint: breakpoints.tablet, width: 337 },\n                { breakpoint: breakpoints.desktop, width: 460 },\n            ];\n    }\n};\n/**\n * Used on `picture` and `img` to prevent having a line-height,\n * as these elements are which are `inline` by default.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#styling_with_css\n *\n */\nconst block = css `\n\tdisplay: block;\n`;\nconst getAspectRatioPadding = (aspectRatio) => {\n    switch (aspectRatio) {\n        case '5:4':\n            return '80%';\n        case '4:5':\n            return '125%';\n        case '1:1':\n            return '100%';\n        case '5:3':\n        default:\n            return '60%';\n    }\n};\n/**\n * On fronts, Fairground cards have an image ration of 5:4.\n * This is due to replace the existing card ratio of 5:3\n * For now, we are keeping both ratios.\n */\nconst decideAspectRatioStyles = (aspectRatio) => {\n    const paddingRatio = getAspectRatioPadding(aspectRatio);\n    return css `\n\t\tpadding-top: ${paddingRatio};\n\t\tposition: relative;\n\t\t& > * {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t`;\n};\nconst borderRadius = css `\n\t& > * {\n\t\tborder-radius: ${space[2]}px;\n\t}\n`;\nconst circularStyles = css `\n\tborder-radius: 100%;\n\tobject-fit: cover;\n\theight: 100%;\n\twidth: 100%;\n`;\nexport const CardPicture = ({ mainImage, alt, imageSize, loading, roundedCorners, isCircular, aspectRatio, }) => {\n    const sources = generateSources(mainImage, decideImageWidths(imageSize), aspectRatio);\n    const fallbackSource = getFallbackSource(sources);\n    return (_jsxs(\"picture\", { \"data-size\": imageSize, css: [\n            block,\n            decideAspectRatioStyles(aspectRatio),\n            roundedCorners && borderRadius,\n            isCircular && circularStyles,\n        ], children: [sources.map((source) => {\n                return (_jsxs(React.Fragment, { children: [_jsx(\"source\", { srcSet: source.hiResUrl, media: `(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)` }), _jsx(\"source\", { srcSet: source.lowResUrl, media: `(min-width: ${source.breakpoint}px)` })] }, source.breakpoint));\n            }), _jsx(\"img\", { alt: alt ?? '', src: fallbackSource.lowResUrl, css: [block, isCircular && circularStyles], loading: loading, \"data-chromatic\": \"ignore\" })] }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { from, until } from '@guardian/source/foundations';\nexport const Hide = ({ children, when, breakpoint, el, }) => {\n    let whenToHide;\n    if (when === 'below') {\n        whenToHide = css `\n\t\t\t${until[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    else {\n        whenToHide = css `\n\t\t\t${from[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    return el === 'li' ? (_jsx(\"li\", { css: whenToHide, children: children })) : (_jsx(\"span\", { css: whenToHide, children: children }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { between, from, palette as sourcePalette, space, until, } from '@guardian/source/foundations';\nconst leftWidth = (size, hasPageSkin) => {\n    if (hasPageSkin) {\n        return css `\n\t\t\tpadding-right: 10px;\n\t\t\tdisplay: none;\n\t\t`;\n    }\n    switch (size) {\n        case 'wide': {\n            return css `\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t${until.leftCol} {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\t/* above 1140 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t`;\n        }\n        case 'compact':\n        default: {\n            return css `\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t${until.leftCol} {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t${between.leftCol.and.wide} {\n\t\t\t\t\t/* above 1140, below 1300 */\n\t\t\t\t\tflex-basis: 151px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t${from.wide} {\n\t\t\t\t\t/* above 1300 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t`;\n        }\n    }\n};\nconst positionRelative = css `\n\tposition: relative;\n`;\nconst partialRightBorder = (colour) => css `\n\t:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\theight: 30px;\n\t\twidth: 1px;\n\t\tbackground: ${colour};\n\t}\n`;\nconst fullRightBorder = (colour) => css `\n\tborder-right: 1px solid ${colour};\n`;\nexport const LeftColumn = ({ children, borderType, borderColour = sourcePalette.neutral[86], size = 'compact', verticalMargins = true, hasPageSkin = false, }) => {\n    return (_jsx(\"section\", { css: [\n            positionRelative,\n            leftWidth(size, hasPageSkin),\n            borderType === 'full' && fullRightBorder(borderColour),\n            verticalMargins &&\n                css `\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tKeep spacing at the bottom of the container consistent at 36px, regardless of\n\t\t\t\t\t\t\tbreakpoint, based on chat with Harry Fisher\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tpadding-bottom: ${space[9]}px;\n\t\t\t\t\t`,\n        ], children: _jsx(\"div\", { css: [\n                borderType === 'partial' &&\n                    partialRightBorder(borderColour),\n                css `\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t`,\n            ], children: children }) }));\n};\n","import { submitComponentEvent } from '../client/ophan/ophan';\nconst buildNewsletterSignUpFormData = (emailAddress, newsletterIdOrList, recaptchaToken) => {\n    const pageRef = window.location.origin + window.location.pathname;\n    const refViewId = window.guardian.ophan?.pageViewId ?? '';\n    const formData = new FormData();\n    formData.append('email', emailAddress);\n    formData.append('csrfToken', ''); // TO DO - PR on form handlers in frontend/identity to see how/if this is needed\n    if (Array.isArray(newsletterIdOrList)) {\n        for (const [index, newsletterId] of newsletterIdOrList.entries()) {\n            formData.append(`listNames[${index}]`, newsletterId);\n        }\n    }\n    else {\n        formData.append('listName', newsletterIdOrList);\n    }\n    formData.append('ref', pageRef);\n    formData.append('refViewId', refViewId);\n    formData.append('name', '');\n    if (window.guardian.config.switches.emailSignupRecaptcha) {\n        formData.append('g-recaptcha-response', recaptchaToken);\n    }\n    return formData;\n};\nconst postFormData = async (endpoint, formData) => {\n    const requestBodyStrings = [];\n    for (const [key, value] of formData.entries()) {\n        requestBodyStrings.push(`${encodeURIComponent(key)}=${encodeURIComponent(\n        // eslint-disable-next-line @typescript-eslint/no-base-to-string -- people can still sign up (apparently)\n        value.toString())}`);\n    }\n    return fetch(endpoint, {\n        method: 'POST',\n        body: requestBodyStrings.join('&'),\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded',\n        },\n    });\n};\nexport const requestMultipleSignUps = async (emailAddress, newsletterIds, recaptchaToken) => {\n    const data = buildNewsletterSignUpFormData(emailAddress, newsletterIds, recaptchaToken);\n    return await postFormData(window.guardian.config.page.ajaxUrl + '/email/many', data);\n};\nexport const requestSingleSignUp = async (emailAddress, newsletterId, recaptchaToken) => {\n    const data = buildNewsletterSignUpFormData(emailAddress, newsletterId, recaptchaToken);\n    return await postFormData(window.guardian.config.page.ajaxUrl + '/email', data);\n};\nconst trackingEventDescriptionToOphanAction = (description) => {\n    switch (description) {\n        case 'captcha-success':\n        case 'captcha-failure':\n            return 'ANSWER';\n        case 'captcha-error':\n            return 'CLOSE';\n        case 'captcha-execute':\n            return 'EXPAND';\n        case 'captcha-not-loaded-when-needed':\n            return 'CLOSE';\n        case 'form-submit':\n            return 'CLICK';\n        case 'failure-response':\n            return 'RETURN';\n        case 'success-response':\n            return 'SUBSCRIBE';\n    }\n};\nexport const reportTrackingEvent = (componentName, eventDescription, renderingTarget, extraDetails) => {\n    const payload = {\n        ...extraDetails,\n        message: eventDescription,\n        timestamp: Date.now(),\n    };\n    void submitComponentEvent({\n        component: {\n            componentType: 'NEWSLETTER_SUBSCRIPTION',\n            id: componentName,\n        },\n        action: trackingEventDescriptionToOphanAction(eventDescription),\n        value: JSON.stringify(payload),\n    }, renderingTarget);\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { palette, textSans17 } from '@guardian/source/foundations';\nconst skipLinkCss = css `\n\t${textSans17}\n\theight: 40px;\n\tleft: -200vw;\n\tline-height: 30px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\tbackground: ${palette.neutral[100]};\n\tdisplay: block;\n\ttext-align: center;\n\tmargin: 0;\n\ttext-decoration: none;\n\tcolor: ${palette.neutral[0]};\n\t&:focus,\n\t&:active {\n\t\tborder: 5px solid ${palette.focus[400]};\n\t\tposition: static;\n\t}\n\t&:visited,\n\t&:active {\n\t\tcolor: ${palette.neutral[0]};\n\t}\n`;\n// Using single template literals for the labels instead of\n// `after {blockDescription}` to prevent JSX rendering\n// an empty comment in the HTML between the static text\n// and the variable. That comment can make screen readers\n// announce the text oddly.\n// https://github.com/guardian/dotcom-rendering/pull/6950#pullrequestreview-1279406318\nexport const InlineSkipToWrapper = ({ id, blockDescription, children, }) => {\n    return (_jsxs(_Fragment, { children: [_jsx(\"a\", { \"data-ignore\": \"global-link-styling\", href: `#${id}`, css: skipLinkCss, children: `skip past ${blockDescription}` }), children, _jsx(\"p\", { id: id, tabIndex: 0, css: skipLinkCss, \"aria-label\": `after ${blockDescription}`, role: 'note', children: `after ${blockDescription}` })] }));\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { from, headlineBold24, palette, space, } from '@guardian/source/foundations';\nimport { Button, TextInput } from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport { InlineSkipToWrapper } from './InlineSkipToWrapper';\nimport { NewsletterPrivacyMessage } from './NewsletterPrivacyMessage';\n// The design brief requires the layout of the form to align with the\n// CarouselForNewsletters placed above it on desktop.\nconst CARD_CONTAINER_WIDTH = 240;\nconst CARD_CONTAINER_PADDING = 10;\nconst formFrameStyle = css `\n\tborder: ${palette.brand[400]} 2px dashed;\n\tborder-radius: 12px;\n\tpadding: ${space[2]}px;\n\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\n\t${from.desktop} {\n\t\tflex-basis: ${4 * CARD_CONTAINER_WIDTH - CARD_CONTAINER_PADDING}px;\n\t\tflex-direction: row-reverse;\n\t\talign-items: flex-start;\n\t\tjustify-content: space-between;\n\t}\n`;\nconst formFieldsStyle = css `\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tpadding-bottom: ${space[1]}px;\n\n\t${from.desktop} {\n\t\tflex-basis: ${2 * CARD_CONTAINER_WIDTH - CARD_CONTAINER_PADDING * 2}px;\n\t\tflex-direction: row;\n\t\tflex-shrink: 0;\n\t\talign-items: flex-end;\n\t}\n`;\nconst inputWrapperStyle = css `\n\tmargin-bottom: ${space[2]}px;\n\t${from.desktop} {\n\t\tmargin-bottom: 0;\n\t\tmargin-right: ${space[2]}px;\n\t\tflex-basis: 296px;\n\t}\n`;\nconst formAsideStyle = (hideOnMobile) => css `\n\toverflow: hidden;\n\ttransition: max-height 1.5s linear;\n\tmax-height: 300px;\n\n\t${hideOnMobile &&\n    css `\n\t\tmax-height: 0;\n\t`}\n\n\t${from.desktop} {\n\t\tflex: 1;\n\t\tpadding-left: ${CARD_CONTAINER_PADDING}px;\n\t\tmax-height: unset;\n\t\ttransition: none;\n\t}\n`;\nconst signUpButtonStyle = css `\n\tjustify-content: center;\n\tbackground-color: ${palette.neutral[0]};\n\tborder-color: ${palette.neutral[0]};\n\n\t${from.desktop} {\n\t\tflex-basis: 110px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: ${palette.neutral[46]};\n\t\tborder-color: ${palette.neutral[46]};\n\t}\n`;\nconst successMessageStyle = css `\n\t${headlineBold24};\n\n\tpadding-bottom: ${space[12]}px;\n\tmax-width: 340px;\n\n\t${from.desktop} {\n\t\tpadding-bottom: 0;\n\t\tmax-width: unset;\n\t\tflex-basis: 340px;\n\t}\n`;\nexport const ManyNewslettersForm = ({ status, email, handleTextInput, handleSubmitButton, newsletterCount, }) => {\n    const [formHasFocus, setFormHasFocus] = useState(false);\n    const hidePrivacyOnMobile = !formHasFocus && email.length === 0;\n    const ariaLabel = newsletterCount === 1\n        ? 'Sign up for the newsletter you selected'\n        : `Sign up for the ${newsletterCount} newsletters you selected`;\n    const errorMessage = status === 'Failed'\n        ? 'Sign up failed. Please try again'\n        : status === 'InvalidEmail'\n            ? 'Please enter a valid email address'\n            : undefined;\n    return (_jsxs(\"form\", { \"aria-label\": \"sign-up confirmation form\", \"aria-live\": \"polite\", css: formFrameStyle, onSubmit: (submitEvent) => {\n            submitEvent.preventDefault();\n        }, onFocus: () => {\n            setFormHasFocus(true);\n        }, onBlur: () => {\n            setFormHasFocus(false);\n        }, children: [_jsx(\"aside\", { css: formAsideStyle(hidePrivacyOnMobile), children: _jsx(InlineSkipToWrapper, { id: 'man-newsletter-form-inline-skip-to-wrapper', blockDescription: \"Privacy Notice\", children: _jsx(NewsletterPrivacyMessage, { textColor: \"regular\" }) }) }), _jsx(\"div\", { css: formFieldsStyle, children: status !== 'Success' ? (_jsxs(_Fragment, { children: [_jsx(\"span\", { css: inputWrapperStyle, children: _jsx(TextInput, { label: \"Enter your email\", value: email, onChange: handleTextInput, error: errorMessage, disabled: status === 'Loading' }) }), _jsx(Button, { \"aria-label\": ariaLabel, isLoading: status === 'Loading', iconSide: \"right\", onClick: () => {\n                                void handleSubmitButton();\n                            }, cssOverrides: signUpButtonStyle, children: \"Sign up\" })] })) : (_jsx(\"p\", { css: successMessageStyle, children: \"Please check your email to confirm your subscription\" })) })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { from, headlineBold17, headlineMedium24, palette, space, } from '@guardian/source/foundations';\nimport { Button, SvgCross } from '@guardian/source/react-components';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n// Note - the package also exports a component as a named export \"ReCAPTCHA\",\n// that version will compile and render but is non-functional.\n// Use the default export instead.\nimport ReactGoogleRecaptcha from 'react-google-recaptcha';\nimport { reportTrackingEvent, requestMultipleSignUps, } from '../lib/newsletter-sign-up-requests';\nimport { useConfig } from './ConfigContext';\nimport { Flex } from './Flex';\nimport { ManyNewslettersForm } from './ManyNewslettersForm';\nimport { BUTTON_ROLE, BUTTON_SELECTED_CLASS } from './NewsletterCard';\nimport { Section } from './Section';\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n// To align the heading content with the carousel below\n// from desktop\nconst contentWrapperStyle = css `\n\t${from.leftCol} {\n\t\tpadding-left: 10px;\n\t}\n`;\nconst sectionWrapperStyle = (hide) => css `\n\tdisplay: ${hide ? 'none' : 'block'};\n\tposition: fixed;\n\t/* stylelint-disable-next-line value-no-vendor-prefix -- required safari before v13 https://developer.mozilla.org/en-US/docs/Web/CSS/position */\n\tposition: -webkit-sticky;\n\tposition: sticky;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 100%;\n\tz-index: 100;\n`;\nconst desktopClearButtonWrapperStyle = css `\n\tdisplay: none;\n\tpadding-left: ${space[1]}px;\n\tmargin-right: -10px;\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t}\n`;\nconst mobileCaptionAndClearButtonWrapperStyle = css `\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: flex-end;\n\tpadding-bottom: ${space[2]}px;\n\t${from.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\nconst ClearButton = ({ removeAll }) => (_jsx(Button, { size: \"small\", color: palette.neutral[0], onClick: removeAll, hideLabel: true, priority: \"tertiary\", icon: _jsx(SvgCross, {}), children: \"remove all newsletters from sign up list\" }));\nconst Caption = ({ count, forDesktop = false }) => {\n    const typography = forDesktop ? headlineMedium24 : headlineBold17;\n    return (_jsxs(\"div\", { css: css `\n\t\t\t\tpadding-top: ${space[2]}px;\n\t\t\t\t${typography}\n\t\t\t`, children: [_jsx(\"span\", { css: css `\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t`, children: count }), ' ', count === 1 ? 'newsletter' : 'newsletters', \" selected\"] }));\n};\nconst attributeToNumber = (element, attributeName) => {\n    const value = element.getAttribute(attributeName);\n    if (!value)\n        return undefined;\n    const numericValue = Number(value);\n    if (isNaN(numericValue))\n        return undefined;\n    return numericValue;\n};\nexport const ManyNewsletterSignUp = ({ useReCaptcha, captchaSiteKey, }) => {\n    const [newslettersToSignUpFor, setNewslettersToSignUpFor] = useState([]);\n    const [status, setStatus] = useState('NotSent');\n    const [email, setEmail] = useState('');\n    const reCaptchaRef = useRef(null);\n    const userCanInteract = status !== 'Success' && status !== 'Loading';\n    const { renderingTarget } = useConfig();\n    const toggleNewsletter = useCallback((event) => {\n        if (status === 'Loading') {\n            return;\n        }\n        const { target: button } = event;\n        if (!(button instanceof HTMLElement)) {\n            return;\n        }\n        const { identityName } = button.dataset;\n        const listId = attributeToNumber(button, 'data-list-id');\n        if (!identityName || typeof listId === 'undefined') {\n            return;\n        }\n        const index = newslettersToSignUpFor.findIndex((newsletter) => newsletter.identityName === identityName);\n        if (index === -1) {\n            setNewslettersToSignUpFor([\n                ...newslettersToSignUpFor,\n                { identityName, listId },\n            ]);\n            button.classList.add(BUTTON_SELECTED_CLASS);\n            button.setAttribute('aria-label', button.dataset.ariaLabelWhenChecked ?? 'remove from list');\n        }\n        else {\n            setNewslettersToSignUpFor([\n                ...newslettersToSignUpFor.slice(0, index),\n                ...newslettersToSignUpFor.slice(index + 1),\n            ]);\n            button.classList.remove(BUTTON_SELECTED_CLASS);\n            button.setAttribute('aria-label', button.dataset.ariaLabelWhenUnchecked ?? 'add to list');\n        }\n        setStatus('NotSent');\n    }, [newslettersToSignUpFor, status]);\n    const removeAll = useCallback(() => {\n        if (status === 'Loading') {\n            return;\n        }\n        const signUpButtons = [\n            ...document.querySelectorAll(`[data-role=${BUTTON_ROLE}]`),\n        ];\n        for (const button of signUpButtons) {\n            button.classList.remove(BUTTON_SELECTED_CLASS);\n            const ariaLabelText = button instanceof HTMLElement\n                ? button.dataset.ariaLabelWhenUnchecked ?? 'add to list'\n                : 'add to list';\n            button.setAttribute('aria-label', ariaLabelText);\n        }\n        setNewslettersToSignUpFor([]);\n        setStatus('NotSent');\n    }, [status]);\n    useEffect(() => {\n        const signUpButtons = [\n            ...document.querySelectorAll(`[data-role=${BUTTON_ROLE}]`),\n        ];\n        for (const button of signUpButtons) {\n            button.addEventListener('click', toggleNewsletter);\n        }\n        return () => {\n            for (const button of signUpButtons) {\n                button.removeEventListener('click', toggleNewsletter);\n            }\n        };\n    }, [toggleNewsletter, newslettersToSignUpFor]);\n    const sendRequest = async (reCaptchaToken) => {\n        const identityNames = newslettersToSignUpFor.map((newsletter) => newsletter.identityName);\n        const listIds = newslettersToSignUpFor.map((newsletter) => newsletter.listId);\n        void reportTrackingEvent('ManyNewsletterSignUp', 'form-submit', renderingTarget, {\n            listIds,\n        });\n        const response = await requestMultipleSignUps(email, identityNames, reCaptchaToken).catch(() => {\n            return undefined;\n        });\n        if (!response?.ok) {\n            const responseText = response\n                ? await response.text()\n                : '[fetch failure - no response]';\n            void reportTrackingEvent('ManyNewsletterSignUp', 'failure-response', renderingTarget, {\n                listIds,\n                // If the backend handles the failure and responds with an informative\n                // error message (E.G. \"Service unavailable\", \"Invalid email\" etc) this\n                // should be included in the event data.\n                // If not, the response text will be the HTML for the default error page\n                // which would not be helpful to include it in the tracking data.\n                responseText: responseText.substring(0, 100),\n            });\n            return setStatus('Failed');\n        }\n        void reportTrackingEvent('ManyNewsletterSignUp', 'success-response', renderingTarget, {\n            listIds,\n        });\n        setStatus('Success');\n    };\n    const handleSubmitButton = async () => {\n        if (!userCanInteract) {\n            return;\n        }\n        if (!emailRegex.test(email)) {\n            setStatus('InvalidEmail');\n            return;\n        }\n        if (!useReCaptcha) {\n            setStatus('Loading');\n            void sendRequest('');\n            return;\n        }\n        if (!reCaptchaRef.current) {\n            void reportTrackingEvent('ManyNewsletterSignUp', 'captcha-not-loaded-when-needed', renderingTarget);\n            return;\n        }\n        setStatus('Loading');\n        // successful execution triggers a call to sendRequest\n        // with the onChange prop on the captcha Component\n        void reportTrackingEvent('ManyNewsletterSignUp', 'captcha-execute', renderingTarget);\n        const result = await reCaptchaRef.current.executeAsync();\n        if (typeof result !== 'string') {\n            void reportTrackingEvent('ManyNewsletterSignUp', 'captcha-failure', renderingTarget);\n            setStatus('Failed');\n            return;\n        }\n        void reportTrackingEvent('ManyNewsletterSignUp', 'captcha-success', renderingTarget);\n        return sendRequest(result);\n    };\n    const handleCaptchaError = (event) => {\n        void reportTrackingEvent('ManyNewsletterSignUp', 'captcha-error', renderingTarget, {\n            eventType: event.type,\n            status,\n        });\n        reCaptchaRef.current?.reset();\n    };\n    const handleTextInput = (ev) => {\n        if (!userCanInteract) {\n            return;\n        }\n        if (status === 'InvalidEmail' && emailRegex.test(email)) {\n            setStatus('NotSent');\n        }\n        setEmail(ev.target.value);\n    };\n    return (_jsx(\"div\", { css: sectionWrapperStyle(newslettersToSignUpFor.length === 0), children: _jsxs(Section, { backgroundColour: palette.brand[800], showSideBorders: false, stretchRight: true, leftColSize: \"wide\", padContent: false, leftContent: _jsx(Caption, { count: newslettersToSignUpFor.length, forDesktop: true }), children: [_jsxs(\"div\", { css: mobileCaptionAndClearButtonWrapperStyle, children: [_jsx(Caption, { count: newslettersToSignUpFor.length }), _jsx(ClearButton, { removeAll: removeAll })] }), _jsx(\"div\", { css: contentWrapperStyle, children: _jsxs(Flex, { children: [_jsx(ManyNewslettersForm, { email,\n                                handleSubmitButton,\n                                handleTextInput,\n                                status, newsletterCount: newslettersToSignUpFor.length }), _jsx(\"div\", { css: desktopClearButtonWrapperStyle, children: _jsx(ClearButton, { removeAll: removeAll }) }), useReCaptcha && !!captchaSiteKey && (_jsx(\"div\", { \n                                // The Google documentation specifies that if the 'recaptcha-badge' is hidden,\n                                // their T+C's must be displayed instead. While this component hides the\n                                // badge, the T+C's are inluded in the ManyNewslettersForm component.\n                                // https://developers.google.com/recaptcha/docs/faq#id-like-to-hide-the-recaptcha-badge.-what-is-allowed\n                                css: css `\n\t\t\t\t\t\t\t\t\t.grecaptcha-badge {\n\t\t\t\t\t\t\t\t\t\tvisibility: hidden;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`, children: _jsx(ReactGoogleRecaptcha, { sitekey: captchaSiteKey, ref: reCaptchaRef, onError: handleCaptchaError, size: \"invisible\" }) }))] }) })] }) }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { brandAltBackground, space, textSansBold14, } from '@guardian/source/foundations';\nimport { SvgNewsletter } from '@guardian/source/react-components';\nconst containerStyle = css `\n\tdisplay: flex;\n\talign-items: center;\n`;\nconst svgStyle = (iconSize) => css `\n\theight: ${iconSize === 'small' ? '20px' : '28px'};\n\n\tsvg {\n\t\tbackground: ${brandAltBackground.primary};\n\t\tborder-radius: 50%;\n\t\theight: 100%;\n\t\tpadding: 2px;\n\t\tmargin-right: ${space[1]}px;\n\t}\n`;\nconst spanStyle = css `\n\t${textSansBold14};\n\t/**\n\t * Typography preset styles should not be overridden.\n\t * This has been done because the styles do not directly map to the new presets.\n\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t */\n\tline-height: 1.15;\n`;\nexport const NewsletterDetail = ({ text, iconSize = 'normal' }) => (_jsxs(\"div\", { css: containerStyle, children: [_jsx(\"div\", { css: svgStyle(iconSize), children: _jsx(SvgNewsletter, {}) }), _jsx(\"span\", { css: spanStyle, children: text })] }));\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { headlineBold20, palette, space, textEgyptian14, } from '@guardian/source/foundations';\nimport { Button, SvgCheckmark, SvgPlus, } from '@guardian/source/react-components';\nimport { useCallback, useEffect, useState } from 'react';\nimport { submitComponentEvent } from '../client/ophan/ophan';\nimport { useIsInView } from '../lib/useIsInView';\nimport { CardPicture } from './CardPicture';\nimport { useConfig } from './ConfigContext';\nimport { NewsletterDetail } from './NewsletterDetail';\nexport const BUTTON_ROLE = 'GroupedNewslettersList-sign-up-button';\nexport const BUTTON_SELECTED_CLASS = 'js-GroupedNewslettersList-sign-up-button--selected';\nexport const ICON_PLUS_CLASS = 'js-GroupedNewslettersList-sign-up-button__plus-icon';\nexport const ICON_TICK_CLASS = 'js-GroupedNewslettersList-sign-up-button__tick-icon';\nconst groupItemStyle = css `\n\tposition: relative;\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 215px;\n\tbackground-color: ${palette.neutral[97]};\n`;\nconst contentWrapperStyle = css `\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: ${space[1]}px;\n\tpadding-bottom: ${space[2]}px;\n\n\th3 {\n\t\t${headlineBold20};\n\t\tmargin-bottom: ${space[3]}px;\n\t}\n\n\tp {\n\t\t${textEgyptian14};\n\t\tline-height: 1.4;\n\t}\n`;\nconst buttonHolderStyle = css `\n\tmargin-top: auto;\n\tpadding-top: ${space[6]}px;\n`;\nconst buttonStyle = css `\n\tcolor: ${palette.neutral[7]};\n\tborder-color: ${palette.neutral[7]};\n\t.${ICON_TICK_CLASS} {\n\t\tdisplay: none;\n\t}\n\n\t&.${BUTTON_SELECTED_CLASS} {\n\t\tbackground-color: ${palette.neutral[7]};\n\t\tcolor: ${palette.neutral[100]};\n\n\t\t.${ICON_PLUS_CLASS} {\n\t\t\tdisplay: none;\n\t\t}\n\t\t.${ICON_TICK_CLASS} {\n\t\t\tdisplay: inline;\n\t\t}\n\t}\n\n\t&:hover {\n\t\tbackground-color: ${palette.neutral[86]};\n\t}\n\n\t&${'.'}${BUTTON_SELECTED_CLASS}:hover {\n\t\tbackground-color: ${palette.neutral[46]};\n\t\tborder-color: ${palette.neutral[46]};\n\t}\n`;\nconst illustrationStyle = css `\n\twidth: 100%;\n\tmargin-bottom: ${space[1]}px;\n`;\nconst getButtonInitialAriaAttribute = (newsletterName) => ({\n    'aria-label': `add ${newsletterName} to subscribe list`,\n    'data-aria-label-when-unchecked': `add ${newsletterName} to subscribe list`,\n    'data-aria-label-when-checked': `remove ${newsletterName} from subscribe list`,\n});\nconst IllustrationPlaceholder = (props) => {\n    const getBackground = (theme) => {\n        switch (theme) {\n            case 'culture':\n            case 'news':\n            case 'sport':\n            case 'lifestyle':\n            case 'opinion':\n                return palette[theme][400];\n            default:\n                return palette.brand[400];\n        }\n    };\n    return (_jsx(\"figure\", { role: \"img\", css: [\n            illustrationStyle,\n            css `\n\t\t\t\t\tposition: relative;\n\t\t\t\t`,\n        ], children: _jsx(\"img\", { css: css `\n\t\t\t\t\tbackground-color: ${getBackground(props.theme)};\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: auto;\n\t\t\t\t`, width: props.aspectWidth, height: props.aspectHeight, alt: props.altText ?? '' }) }));\n};\nexport const NewsletterCard = ({ newsletter, groupTitle, cardPosition, carouselPosition, }) => {\n    const [hasBeenSeen, setIsInViewRef] = useIsInView({ threshold: 0.9 });\n    const [haveReportedBeingSeen, setHaveReportedBeingSeen] = useState(false);\n    const { renderingTarget } = useConfig();\n    const reportSeen = useCallback(() => {\n        const valueData = {\n            eventDescription: 'card-viewed',\n            newsletterId: newsletter.identityName,\n            carousel: groupTitle,\n            cardPosition,\n            carouselPosition,\n            timestamp: Date.now(),\n        };\n        void submitComponentEvent({\n            component: {\n                componentType: 'CARD',\n                id: `DCR NewsletterCard ${newsletter.identityName}`,\n            },\n            action: 'VIEW',\n            value: JSON.stringify(valueData),\n        }, renderingTarget);\n    }, [\n        cardPosition,\n        carouselPosition,\n        groupTitle,\n        newsletter.identityName,\n        renderingTarget,\n    ]);\n    useEffect(() => {\n        if (hasBeenSeen && !haveReportedBeingSeen) {\n            reportSeen();\n            setHaveReportedBeingSeen(true);\n        }\n    }, [\n        hasBeenSeen,\n        haveReportedBeingSeen,\n        setHaveReportedBeingSeen,\n        reportSeen,\n    ]);\n    return (_jsxs(\"article\", { ref: setIsInViewRef, css: groupItemStyle, \"aria-label\": newsletter.name, children: [newsletter.illustrationCard ? (_jsx(\"div\", { css: illustrationStyle, children: _jsx(CardPicture, { imageSize: \"carousel\", alt: \"\", mainImage: newsletter.illustrationCard, loading: \"lazy\" }) })) : (_jsx(IllustrationPlaceholder, { theme: newsletter.theme, aspectHeight: 300, aspectWidth: 500 })), _jsxs(\"div\", { css: contentWrapperStyle, children: [_jsx(NewsletterDetail, { text: newsletter.frequency, iconSize: \"small\" }), _jsx(\"h3\", { children: newsletter.name }), _jsx(\"p\", { children: newsletter.description }), _jsx(\"div\", { css: buttonHolderStyle, children: _jsx(Button, { ...getButtonInitialAriaAttribute(newsletter.name), priority: \"tertiary\", size: \"xsmall\", iconSide: \"left\", icon: _jsxs(_Fragment, { children: [_jsx(\"span\", { className: ICON_PLUS_CLASS, children: _jsx(SvgPlus, {}) }), _jsx(\"span\", { className: ICON_TICK_CLASS, children: _jsx(SvgCheckmark, {}) })] }), cssOverrides: buttonStyle, \"data-identity-name\": newsletter.identityName, \"data-list-id\": newsletter.listId, \"data-role\": BUTTON_ROLE, children: \"Sign up\" }) })] })] }, newsletter.name));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { palette as sourcePalette, textSans12, } from '@guardian/source/foundations';\nimport { Link } from '@guardian/source/react-components';\nimport { palette as themePalette } from '../palette';\nconst GUARDIAN_PRIVACY_POLICY = 'https://www.theguardian.com/help/privacy-policy';\nconst GOOGLE_PRIVACY_POLICY = 'https://policies.google.com/privacy';\nconst GOOGLE_TERMS_OF_SERVICE = 'https://policies.google.com/terms';\n/** Link component fixed with data-ignore and rel attributes for consistency in this file only */\nconst LegalLink = ({ href, children }) => (_jsx(Link, { \"data-ignore\": \"global-link-styling\", href: href, rel: \"noreferrer\", children: children }));\nconst termsStyle = css `\n\t${textSans12};\n\t/**\n\t * Typography preset styles should not be overridden.\n\t * This has been done because the styles do not directly map to the new presets.\n\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t */\n\tline-height: 1.15;\n\ta {\n\t\t${textSans12};\n\t\ttext-decoration: underline;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n`;\nconst textStyles = (textColor) => {\n    switch (textColor) {\n        case 'supporting':\n            return css `\n\t\t\t\tcolor: ${themePalette('--privacy-text-supporting-subdued')};\n\t\t\t\ta,\n\t\t\t\tstrong {\n\t\t\t\t\tcolor: ${themePalette('--privacy-text-supporting')};\n\t\t\t\t\t:hover {\n\t\t\t\t\t\tcolor: inherit;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`;\n        case 'regular':\n            return css `\n\t\t\t\tcolor: ${sourcePalette.neutral[20]};\n\t\t\t\ta,\n\t\t\t\tstrong {\n\t\t\t\t\tcolor: ${themePalette('--privacy-text-regular')};\n\t\t\t\t\t:hover {\n\t\t\t\t\t\tcolor: inherit;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`;\n    }\n};\nexport const NewsletterPrivacyMessage = ({ textColor = 'supporting', }) => (_jsxs(\"span\", { css: [termsStyle, textStyles(textColor)], children: [_jsx(\"strong\", { children: \"Privacy Notice: \" }), \"Newsletters may contain info about charities, online ads, and content funded by outside parties. For more information see our\", ' ', _jsx(LegalLink, { href: GUARDIAN_PRIVACY_POLICY, children: \"Privacy Policy\" }), \". We use Google reCaptcha to protect our website and the Google\", ' ', _jsx(LegalLink, { href: GOOGLE_PRIVACY_POLICY, children: \"Privacy Policy\" }), \" and\", ' ', _jsx(LegalLink, { href: GOOGLE_TERMS_OF_SERVICE, children: \"Terms of Service\" }), ' ', \"apply.\"] }));\n","import { isOneOf } from '@guardian/libs';\nimport { isTuple } from './tuple';\nconst editionList = [\n    {\n        url: '/preference/edition/uk',\n        editionId: 'UK',\n        pageId: 'uk',\n        longTitle: 'UK edition',\n        title: 'UK edition',\n        dateLocale: 'en-gb',\n        timeZone: 'Europe/London',\n        langLocale: 'en-GB',\n        hasEditionalisedPages: true,\n        shortTitle: 'UK',\n    },\n    {\n        url: '/preference/edition/us',\n        editionId: 'US',\n        pageId: 'us',\n        longTitle: 'US edition',\n        title: 'US edition',\n        dateLocale: 'en-us',\n        timeZone: 'America/New_York',\n        langLocale: 'en-US',\n        hasEditionalisedPages: true,\n        shortTitle: 'US',\n    },\n    {\n        url: '/preference/edition/au',\n        editionId: 'AU',\n        pageId: 'au',\n        longTitle: 'Australia edition',\n        title: 'AU edition',\n        dateLocale: 'en-au',\n        timeZone: 'Australia/Sydney',\n        langLocale: 'en-AU',\n        hasEditionalisedPages: true,\n        shortTitle: 'Aus',\n    },\n    {\n        url: '/preference/edition/eur',\n        editionId: 'EUR',\n        pageId: 'europe',\n        longTitle: 'Europe edition',\n        title: 'Europe edition',\n        dateLocale: 'en-gb',\n        timeZone: 'Europe/Paris',\n        langLocale: 'en-EU',\n        hasEditionalisedPages: false,\n        shortTitle: 'Eur',\n    },\n    {\n        url: '/preference/edition/int',\n        editionId: 'INT',\n        pageId: 'international',\n        longTitle: 'International edition',\n        title: 'International edition',\n        dateLocale: 'en-gb',\n        timeZone: 'Europe/London',\n        langLocale: 'en',\n        hasEditionalisedPages: false,\n        shortTitle: 'Int',\n    },\n];\nconst [ukEdition] = editionList;\n/**\n * The list of editionalised pages was copied from Frontend:\n * https://github.com/guardian/frontend/blob/60c6b55944d52d87039a2a844665cf39dc7fe437/common/app/common/Edition.scala#L20-L35\n */\nconst editionalisedPages = [\n    'business',\n    'business-to-business',\n    'commentisfree',\n    'culture',\n    'money',\n    'sport',\n    'technology',\n    'media',\n    'environment',\n    'film',\n    'lifeandstyle',\n    'travel',\n    'tv-and-radio',\n];\nconst getEditionFromId = (editionId) => {\n    return (editionList.find((edition) => edition.editionId === editionId) ??\n        ukEdition);\n};\nconst getEditionFromPageId = (pageId) => editionList.find((edition) => edition.pageId === pageId);\nconst getRemainingEditions = (editionId) => {\n    return editionList.filter((edition) => edition.editionId !== editionId);\n};\n/**\n * Determine if a string is one of the permitted edition strings\n *\n * @param s The string to test\n */\nconst isEditionId = isOneOf(editionList.map(({ editionId }) => editionId));\nconst isNetworkFront = (pageId) => editionList.some((edition) => edition.pageId === pageId);\n/**\n * Given an editionalised pageId such as 'uk/travel' split into ['uk', 'travel']\n * Checks:\n * a) the first section is a network front\n * b) the second section is an editionalised page\n */\nconst splitEditionalisedPage = (pageId) => {\n    const pageIdSplit = pageId.split('/');\n    if (!isTuple(pageIdSplit, 2)) {\n        return undefined;\n    }\n    const [networkId, pageIdSuffix] = pageIdSplit;\n    if (!isNetworkFront(networkId)) {\n        return undefined;\n    }\n    const hasMatch = editionalisedPages.some((editionalisedPage) => editionalisedPage === pageIdSuffix);\n    return hasMatch ? [networkId, pageIdSuffix] : undefined;\n};\nconst isEditionalisedPage = (pageId) => !!splitEditionalisedPage(pageId);\nexport { editionList, editionalisedPages, getEditionFromId, getEditionFromPageId, getRemainingEditions, isEditionId, isEditionalisedPage, isNetworkFront, splitEditionalisedPage, };\n","import libDebounce from 'lodash.debounce';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n/**\n * Custom hook around the `IntersectionObserver`.\n *\n * @returns a tuple containing `[isInView, setNode]`\n */\nconst useIsInView = (options) => {\n    const [isInView, setIsInView] = useState(false);\n    const [node, setNode] = useState(options.node ?? null);\n    const observer = useRef(null);\n    const intersectionObserverCallback = useCallback(([entry]) => {\n        if (!entry)\n            return;\n        if (entry.isIntersecting) {\n            setIsInView(true);\n        }\n        else if (options.repeat) {\n            setIsInView(false);\n        }\n    }, [options.repeat]);\n    const intersectionCallback = options.debounce\n        ? libDebounce(intersectionObserverCallback, 200)\n        : intersectionObserverCallback;\n    useEffect(() => {\n        options.node && setNode(options.node);\n    }, [options.node]);\n    useEffect(() => {\n        if (!node)\n            return;\n        // Check for browser support https://caniuse.com/intersectionobserver\n        if (!('IntersectionObserver' in window))\n            return;\n        observer.current = new window.IntersectionObserver(intersectionCallback, options);\n        observer.current.observe(node);\n        return () => observer.current?.disconnect();\n    }, [node, options, intersectionCallback]);\n    useEffect(() => {\n        if (!options.repeat && isInView)\n            observer.current?.disconnect();\n    }, [isInView, options.repeat]);\n    return [isInView, setNode];\n};\nexport { useIsInView };\n","import { palette } from '@guardian/source/foundations';\nconst expandingWrapperThemeDefault = {\n    [\"--text\"]: palette.neutral[7],\n    [\"--background\"]: palette.neutral[97],\n    [\"--horizontalRules\"]: palette.neutral[86],\n    [\"--border\"]: palette.neutral[7],\n    [\"--expandBackground\"]: palette.neutral[7],\n    [\"--expandBackgroundHover\"]: \"#454545\",\n    // One-off colour  to match the primary button hover\n    [\"--expandText\"]: palette.neutral[100],\n    [\"--collapseBackground\"]: palette.neutral[100],\n    [\"--collapseBackgroundHover\"]: \"#E5E5E5\",\n    // One-off colour variant to match tertiary button hover\n    [\"--collapseText\"]: palette.neutral[7],\n    [\"--collapseTextHover\"]: palette.neutral[7]\n};\nconst expandingWrapperDarkTheme = {\n    [\"--text\"]: palette.neutral[86],\n    [\"--background\"]: palette.neutral[20],\n    [\"--horizontalRules\"]: palette.neutral[60],\n    [\"--border\"]: palette.neutral[60],\n    [\"--expandBackground\"]: palette.neutral[86],\n    [\"--expandBackgroundHover\"]: palette.neutral[100],\n    [\"--expandText\"]: palette.neutral[7],\n    [\"--collapseBackground\"]: palette.neutral[10],\n    [\"--collapseText\"]: palette.neutral[86],\n    [\"--collapseBackgroundHover\"]: palette.neutral[86],\n    [\"--collapseTextHover\"]: palette.neutral[7]\n};\nconst themeColour = (key) => `var(${key})`;\nexport { expandingWrapperDarkTheme, expandingWrapperThemeDefault, themeColour };\n","import { palette } from '@guardian/source/foundations';\nconst tabsThemeDefault = {\n    [\"--background\"]: palette.neutral[97],\n    [\"--text\"]: palette.neutral[7],\n    [\"--border\"]: palette.neutral[60],\n    [\"--inactiveBackground\"]: palette.neutral[86]\n};\nconst tabsDarkTheme = {\n    [\"--background\"]: palette.neutral[20],\n    [\"--text\"]: palette.neutral[97],\n    [\"--border\"]: palette.neutral[60],\n    [\"--inactiveBackground\"]: palette.neutral[7]\n};\nconst tabThemeColour = (key) => `var(${key})`;\nexport { tabThemeColour, tabsDarkTheme, tabsThemeDefault };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\"svg\", {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M12.015 14.042 20.707 22 22 20.709 14.06 12 22 3.291 20.707 2l-8.692 7.958L3.293 2.03 2 3.321 9.97 12 2 20.679l1.293 1.291z\",\n        fill: theme?.fill\n    })\n});\nconst SvgCross = ({ size, theme, isAnnouncedByScreenReader = false }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Svg, { size, theme }),\n        isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\"span\", {\n            css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n            children: \"Close\"\n        }) : \"\"\n    ] });\nexport { SvgCross };\n"],"names":["block","name","styles","decideAspectRatioStyles","aspectRatio","paddingRatio","getAspectRatioPadding","css","borderRadius","space","circularStyles","CardPicture","_ref","mainImage","alt","imageSize","loading","roundedCorners","isCircular","sources","generateSources","breakpoint","breakpoints","mobile","width","tablet","desktop","mobileLandscape","decideImageWidths","fallbackSource","getFallbackSource","_jsxs","children","map","source","React","_jsx","srcSet","hiResUrl","media","concat","lowResUrl","src","Hide","whenToHide","when","el","until","from","_ref2","leftWidth","size","hasPageSkin","leftCol","between","and","wide","positionRelative","partialRightBorder","colour","LeftColumn","_ref3","borderType","_ref3$borderColour","borderColour","sourcePalette","neutral","_ref3$size","_ref3$verticalMargins","verticalMargins","_ref3$hasPageSkin","buildNewsletterSignUpFormData","emailAddress","newsletterIdOrList","recaptchaToken","_window$guardian$opha","_window$guardian$opha2","pageRef","window","location","origin","pathname","refViewId","guardian","ophan","pageViewId","formData","FormData","append","Array","isArray","_step","_iterator","_createForOfIteratorHelper","entries","s","n","done","_step$value","_slicedToArray","value","index","newsletterId","err","e","f","config","switches","emailSignupRecaptcha","postFormData","_asyncToGenerator","_regeneratorRuntime","_callee","endpoint","requestBodyStrings","_iterator2","_step2","_step2$value","key","_context","prev","next","push","encodeURIComponent","toString","abrupt","fetch","method","body","join","headers","Accept","stop","_x","_x2","apply","arguments","requestMultipleSignUps","_callee2","newsletterIds","data","_context2","page","ajaxUrl","sent","_x3","_x4","_x5","trackingEventDescriptionToOphanAction","description","reportTrackingEvent","componentName","eventDescription","renderingTarget","extraDetails","payload","_objectSpread","message","timestamp","Date","now","submitComponentEvent","component","componentType","id","action","JSON","stringify","skipLinkCss","textSans17","palette","focus","InlineSkipToWrapper","blockDescription","_Fragment","href","tabIndex","role","formFrameStyle","brand","formFieldsStyle","inputWrapperStyle","signUpButtonStyle","successMessageStyle","headlineBold24","ManyNewslettersForm","hideOnMobile","status","email","handleTextInput","handleSubmitButton","newsletterCount","_useState","useState","_useState2","formHasFocus","setFormHasFocus","hidePrivacyOnMobile","length","ariaLabel","errorMessage","undefined","onSubmit","submitEvent","preventDefault","onFocus","onBlur","NewsletterPrivacyMessage","textColor","TextInput","label","onChange","error","disabled","Button","isLoading","iconSide","onClick","cssOverrides","emailRegex","contentWrapperStyle","desktopClearButtonWrapperStyle","mobileCaptionAndClearButtonWrapperStyle","ClearButton","removeAll","color","hideLabel","priority","icon","SvgCross","Caption","_ref4","count","_ref4$forDesktop","forDesktop","typography","headlineMedium24","headlineBold17","ManyNewsletterSignUp","_ref5","useReCaptcha","captchaSiteKey","newslettersToSignUpFor","setNewslettersToSignUpFor","_useState3","_useState4","setStatus","_useState5","_useState6","setEmail","reCaptchaRef","useRef","userCanInteract","useConfig","toggleNewsletter","useCallback","event","button","target","HTMLElement","identityName","dataset","listId","element","attributeName","getAttribute","numericValue","Number","isNaN","attributeToNumber","_button$dataset$ariaL","_button$dataset$ariaL2","findIndex","newsletter","_toConsumableArray","classList","add","BUTTON_SELECTED_CLASS","setAttribute","ariaLabelWhenChecked","slice","remove","ariaLabelWhenUnchecked","document","querySelectorAll","BUTTON_ROLE","_button$dataset$ariaL3","ariaLabelText","useEffect","signUpButtons","addEventListener","_step3","_iterator3","removeEventListener","hide","sendRequest","_ref6","reCaptchaToken","identityNames","listIds","response","responseText","catch","ok","text","t0","substring","_ref7","result","test","current","executeAsync","Section","backgroundColour","showSideBorders","stretchRight","leftColSize","padContent","leftContent","Flex","ev","ReactGoogleRecaptcha","sitekey","ref","onError","_reCaptchaRef$current","eventType","type","reset","containerStyle","svgStyle","iconSize","brandAltBackground","primary","spanStyle","textSansBold14","NewsletterDetail","_ref$iconSize","SvgNewsletter","ICON_PLUS_CLASS","ICON_TICK_CLASS","groupItemStyle","headlineBold20","textEgyptian14","buttonHolderStyle","buttonStyle","illustrationStyle","IllustrationPlaceholder","props","_props$altText","theme","getBackground","aspectWidth","height","aspectHeight","altText","NewsletterCard","newsletterName","groupTitle","cardPosition","carouselPosition","_useIsInView","useIsInView","threshold","_useIsInView2","hasBeenSeen","setIsInViewRef","haveReportedBeingSeen","setHaveReportedBeingSeen","reportSeen","valueData","carousel","illustrationCard","frequency","className","SvgPlus","SvgCheckmark","LegalLink","Link","rel","termsStyle","textSans12","textStyles","themePalette","_ref2$textColor","editionList","url","editionId","pageId","longTitle","title","dateLocale","timeZone","langLocale","hasEditionalisedPages","shortTitle","ukEdition","getEditionFromId","_editionList$find","find","edition","getEditionFromPageId","isNetworkFront","isOneOf","some","options","_options$node","isInView","setIsInView","node","setNode","observer","intersectionObserverCallback","entry","isIntersecting","repeat","intersectionCallback","debounce","libDebounce","IntersectionObserver","observe","_observer$current","disconnect","_observer$current2","expandingWrapperThemeDefault","_expandingWrapperThem","_defineProperty","expandingWrapperDarkTheme","_expandingWrapperDark","themeColour","tabsThemeDefault","tabsDarkTheme","tabThemeColour","Svg","jsx","viewBox","xmlns","focusable","fillRule","clipRule","d","fill","_ref2$isAnnouncedBySc","isAnnouncedByScreenReader","jsxs","Fragment","visuallyHidden"],"sourceRoot":""}