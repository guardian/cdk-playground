{"version":3,"file":"342.client.web.add9c4b47458aad8d643.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/marketing/header/Header.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/header/HeaderWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/lib/tracking.ts","webpack://@guardian/dotcom-rendering/./src/lib/useIsInView.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__deprecated__/colour/palette.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/button/theme-reader-revenue.js"],"sourcesContent":["/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/4925ef1e0ced5d221f1122afe79f93bd7448e0e5/packages/modules/src/modules/headers/Header.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold20,\n\theadlineBold24,\n\tspace,\n\ttextSans14,\n} from '@guardian/source/foundations';\nimport {\n\tHide,\n\tLinkButton,\n\tSvgArrowRightStraight,\n\tthemeButtonReaderRevenueBrand,\n} from '@guardian/source/react-components';\nimport { palette as themePalette } from '../../../palette';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport type { HeaderRenderProps } from './HeaderWrapper';\nimport { headerWrapper, validatedHeaderWrapper } from './HeaderWrapper';\n\nconst gridStyles = css`\n\tdisplay: grid;\n\n\tgrid-template-rows: auto;\n\tgrid-template-columns: auto;\n\n\tgrid-template-areas:\n\t\t'heading     cta1  cta2'\n\t\t'subheading  .     .   ';\n`;\n\nconst textStyles = css`\n\tmargin-right: ${space[3]}px;\n`;\n\nconst headingStyles = css`\n\tgrid-area: 'heading';\n\n\tcolor: ${themePalette('--masthead-top-bar-text')};\n\t${headlineBold20}\n\n\t${from.desktop} {\n\t\t${headlineBold24}\n\t}\n`;\n\nconst subHeadingStyles = css`\n\tgrid-area: 'subheading';\n\n\tcolor: ${themePalette('--masthead-top-bar-text')};\n\t${textSans14}\n`;\n\nconst buttonStyles = css`\n\tmargin: 0 0 0 ${space[2]}px;\n\n\t${from.tablet} {\n\t\tmargin: ${space[1]}px 0 0 ${space[2]}px;\n\t}\n`;\n\nconst Header: ReactComponent<HeaderRenderProps> = (\n\tprops: HeaderRenderProps,\n) => {\n\tconst { heading, subheading, primaryCta, secondaryCta } = props.content;\n\n\tconst onClick = () => props.onCtaClick?.();\n\n\treturn (\n\t\t<div css={gridStyles}>\n\t\t\t<Hide until=\"tablet\">\n\t\t\t\t<div css={textStyles}>\n\t\t\t\t\t<h2 css={headingStyles}>{heading}</h2>\n\t\t\t\t\t<span css={subHeadingStyles}>{subheading}</span>\n\t\t\t\t</div>\n\t\t\t</Hide>\n\n\t\t\t{primaryCta && (\n\t\t\t\t<>\n\t\t\t\t\t<Hide until=\"tablet\">\n\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\ttheme={themeButtonReaderRevenueBrand}\n\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\thref={primaryCta.ctaUrl}\n\t\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\t\ticon={<SvgArrowRightStraight />}\n\t\t\t\t\t\t\ticonSide=\"right\"\n\t\t\t\t\t\t\tnudgeIcon={true}\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\t\tstyle={{ gridArea: 'cta1' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{primaryCta.ctaText}\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</Hide>\n\n\t\t\t\t\t<Hide from=\"tablet\">\n\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\ttheme={themeButtonReaderRevenueBrand}\n\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\tprops.mobileContent?.primaryCta?.ctaUrl ??\n\t\t\t\t\t\t\t\tprimaryCta.ctaUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.mobileContent?.primaryCta?.ctaText ??\n\t\t\t\t\t\t\t\tprimaryCta.ctaText}\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</Hide>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{secondaryCta && (\n\t\t\t\t<Hide until=\"tablet\">\n\t\t\t\t\t<LinkButton\n\t\t\t\t\t\ttheme={themeButtonReaderRevenueBrand}\n\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\thref={secondaryCta.ctaUrl}\n\t\t\t\t\t\ticon={<SvgArrowRightStraight />}\n\t\t\t\t\t\ticonSide=\"right\"\n\t\t\t\t\t\tnudgeIcon={true}\n\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\tstyle={{ gridArea: 'cta2' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{secondaryCta.ctaText}\n\t\t\t\t\t</LinkButton>\n\t\t\t\t</Hide>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst unvalidated = headerWrapper(Header);\nconst validated = validatedHeaderWrapper(Header);\nexport { validated as Header, unvalidated as HeaderUnvalidated };\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/4925ef1e0ced5d221f1122afe79f93bd7448e0e5/packages/modules/src/modules/headers/HeaderWrapper.tsx\n */\nimport type { OphanAction } from '@guardian/libs';\nimport { headerPropsSchema } from '@guardian/support-dotcom-components';\nimport type {\n\tCta,\n\tHeaderProps,\n} from '@guardian/support-dotcom-components/dist/shared/types';\nimport { useCallback, useEffect } from 'react';\nimport { useIsInView } from '../../../lib/useIsInView';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport {\n\taddRegionIdAndTrackingParamsToSupportUrl,\n\taddTrackingParamsToProfileUrl,\n\tcreateClickEventFromTracking,\n\tisProfileUrl,\n} from '../lib/tracking';\n\nexport interface HeaderEnrichedCta {\n\tctaUrl: string;\n\tctaText: string;\n}\n\nexport interface HeaderRenderedContent {\n\theading: string;\n\tsubheading: string;\n\tprimaryCta: HeaderEnrichedCta | null;\n\tsecondaryCta: HeaderEnrichedCta | null;\n}\n\nexport interface HeaderRenderProps {\n\tcontent: HeaderRenderedContent;\n\tmobileContent?: HeaderRenderedContent;\n\tonCtaClick?: () => void; // only used by sign in prompt header\n}\n\nexport const headerWrapper = (\n\tHeader: ReactComponent<HeaderRenderProps>,\n): ReactComponent<HeaderProps> => {\n\tconst Wrapped: ReactComponent<HeaderProps> = ({\n\t\tcontent,\n\t\tmobileContent,\n\t\ttracking,\n\t\tcountryCode,\n\t\tsubmitComponentEvent,\n\t\tnumArticles,\n\t}) => {\n\t\tconst buildEnrichedCta = (cta: Cta): HeaderEnrichedCta => {\n\t\t\tif (isProfileUrl(cta.baseUrl)) {\n\t\t\t\treturn {\n\t\t\t\t\tctaUrl: addTrackingParamsToProfileUrl(\n\t\t\t\t\t\tcta.baseUrl,\n\t\t\t\t\t\ttracking,\n\t\t\t\t\t),\n\t\t\t\t\tctaText: cta.text,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tctaUrl: addRegionIdAndTrackingParamsToSupportUrl(\n\t\t\t\t\tcta.baseUrl,\n\t\t\t\t\ttracking,\n\t\t\t\t\tnumArticles,\n\t\t\t\t\tcountryCode,\n\t\t\t\t),\n\t\t\t\tctaText: cta.text,\n\t\t\t};\n\t\t};\n\n\t\tconst primaryCta = content.primaryCta\n\t\t\t? buildEnrichedCta(content.primaryCta)\n\t\t\t: null;\n\t\tconst secondaryCta = content.secondaryCta\n\t\t\t? buildEnrichedCta(content.secondaryCta)\n\t\t\t: null;\n\n\t\tconst renderedContent: HeaderRenderedContent = {\n\t\t\theading: content.heading,\n\t\t\tsubheading: content.subheading,\n\t\t\tprimaryCta,\n\t\t\tsecondaryCta,\n\t\t};\n\n\t\tconst mobilePrimaryCta = mobileContent?.primaryCta\n\t\t\t? buildEnrichedCta(mobileContent.primaryCta)\n\t\t\t: primaryCta;\n\n\t\tconst mobileSecondaryCta = mobileContent?.secondaryCta\n\t\t\t? buildEnrichedCta(mobileContent.secondaryCta)\n\t\t\t: secondaryCta;\n\n\t\tconst renderedMobileContent = mobileContent\n\t\t\t? ({\n\t\t\t\t\theading: mobileContent.heading,\n\t\t\t\t\tsubheading: mobileContent.subheading,\n\t\t\t\t\tprimaryCta: mobilePrimaryCta,\n\t\t\t\t\tsecondaryCta: mobileSecondaryCta,\n\t\t\t  } as HeaderRenderedContent)\n\t\t\t: undefined;\n\n\t\tconst { abTestName, abTestVariant, componentType, campaignCode } =\n\t\t\ttracking;\n\n\t\tconst onCtaClick = (componentId: string) => {\n\t\t\treturn (): void => {\n\t\t\t\tconst componentClickEvent = createClickEventFromTracking(\n\t\t\t\t\ttracking,\n\t\t\t\t\t`${componentId} : cta`,\n\t\t\t\t);\n\t\t\t\tif (submitComponentEvent) {\n\t\t\t\t\tsubmitComponentEvent(componentClickEvent);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tconst sendOphanEvent = useCallback(\n\t\t\t(action: OphanAction): void => {\n\t\t\t\tif (submitComponentEvent) {\n\t\t\t\t\tsubmitComponentEvent({\n\t\t\t\t\t\tcomponent: {\n\t\t\t\t\t\t\tcomponentType,\n\t\t\t\t\t\t\tid: campaignCode,\n\t\t\t\t\t\t\tcampaignCode,\n\t\t\t\t\t\t},\n\t\t\t\t\t\taction,\n\t\t\t\t\t\tabTest: {\n\t\t\t\t\t\t\tname: abTestName,\n\t\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t[\n\t\t\t\tabTestName,\n\t\t\t\tabTestVariant,\n\t\t\t\tcampaignCode,\n\t\t\t\tcomponentType,\n\t\t\t\tsubmitComponentEvent,\n\t\t\t],\n\t\t);\n\n\t\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\t\tdebounce: true,\n\t\t\tthreshold: 0,\n\t\t});\n\n\t\tuseEffect(() => {\n\t\t\tif (hasBeenSeen) {\n\t\t\t\tsendOphanEvent('VIEW');\n\t\t\t}\n\t\t}, [hasBeenSeen, sendOphanEvent]);\n\n\t\tuseEffect(() => {\n\t\t\tsendOphanEvent('INSERT');\n\t\t}, [sendOphanEvent]);\n\n\t\treturn (\n\t\t\t<div ref={setNode}>\n\t\t\t\t<Header\n\t\t\t\t\tcontent={renderedContent}\n\t\t\t\t\tmobileContent={renderedMobileContent}\n\t\t\t\t\tonCtaClick={onCtaClick(campaignCode)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\treturn Wrapped;\n};\n\nconst validate = (props: unknown): props is HeaderProps => {\n\tconst result = headerPropsSchema.safeParse(props);\n\treturn result.success;\n};\n\nexport const validatedHeaderWrapper = (\n\tHeader: ReactComponent<HeaderRenderProps>,\n): ReactComponent<HeaderProps> => {\n\treturn (props: HeaderProps) => {\n\t\tif (validate(props)) {\n\t\t\tconst Module = headerWrapper(Header);\n\t\t\treturn <Module {...props} />;\n\t\t}\n\t\treturn <></>;\n\t};\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/9c3eae7cb0b159db4a1c40679d6b37710b0bb937/packages/shared/src/lib/tracking.ts\n */\nimport type { OphanAction, OphanComponentEvent } from '@guardian/libs';\nimport { isUndefined } from '@guardian/libs';\nimport { addRegionIdToSupportUrl } from '@guardian/support-dotcom-components';\nimport type {\n\tAbandonedBasket,\n\tBannerTest,\n\tBannerVariant,\n\tContributionFrequency,\n\tEpicTest,\n\tEpicVariant,\n\tTargetingAbTest,\n\tTracking,\n} from '@guardian/support-dotcom-components/dist/shared/types';\n\n// TRACKING VIA support.theguardian.com\ntype LinkParams = {\n\tREFPVID: string;\n\tINTCMP: string;\n\tacquisitionData: string;\n\tnumArticles: number;\n};\n\ntype AbTestObject = {\n\tname: string;\n\tvariant: string;\n\ttestType?: string;\n};\n\nconst generateAbTestArray = (\n\tabTestName: string,\n\tabTestVariant: string,\n\ttargetingAbTest?: TargetingAbTest,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): AbTestObject[] => {\n\tconst abTests: AbTestObject[] = [\n\t\t{\n\t\t\tname: abTestName,\n\t\t\tvariant: abTestVariant,\n\t\t},\n\t];\n\tif (targetingAbTest) {\n\t\tabTests.push({\n\t\t\tname: targetingAbTest.testName,\n\t\t\tvariant: targetingAbTest.variantName,\n\t\t});\n\t}\n\tif (amountsAbTestName && amountsAbTestVariant) {\n\t\tabTests.push({\n\t\t\tname: amountsAbTestName,\n\t\t\tvariant: amountsAbTestVariant,\n\t\t\ttestType: 'AMOUNTS_TEST',\n\t\t});\n\t}\n\treturn abTests;\n};\n\nconst encodeAcquisitionsData = (\n\tparams: Tracking,\n\tabTests: AbTestObject[],\n): string => {\n\treturn encodeURIComponent(\n\t\tJSON.stringify({\n\t\t\tsource: params.platformId,\n\t\t\tcomponentId: params.campaignCode,\n\t\t\tcomponentType: params.componentType,\n\t\t\tcampaignCode: params.campaignCode,\n\t\t\tabTests,\n\t\t\treferrerPageviewId: params.ophanPageId,\n\t\t\treferrerUrl: params.referrerUrl,\n\t\t\tisRemote: true, // Temp param to indicate served by remote service\n\t\t\tlabels: params.labels,\n\t\t}),\n\t);\n};\n\nconst generateQueryString = (\n\tparams: Tracking,\n\tacquisitionData: string,\n\tnumArticles: number,\n): string => {\n\tconst trackingLinkParams: LinkParams = {\n\t\tREFPVID: params.ophanPageId || 'not_found',\n\t\tINTCMP: params.campaignCode || '',\n\t\tacquisitionData,\n\t\tnumArticles: numArticles || 0,\n\t};\n\n\tconst queryString = Object.entries(trackingLinkParams)\n\t\t.filter(([, value]) => !isUndefined(value))\n\t\t.map(([key, value]) => `${key}=${value}`);\n\n\treturn queryString.join('&');\n};\n\nexport const addTrackingParams = (\n\tbaseUrl: string,\n\tparams: Tracking,\n\tnumArticles?: number,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): string => {\n\tconst abTests = generateAbTestArray(\n\t\tparams.abTestName,\n\t\tparams.abTestVariant,\n\t\tparams.targetingAbTest,\n\t\tamountsAbTestName,\n\t\tamountsAbTestVariant,\n\t);\n\tconst acquisitionData = encodeAcquisitionsData(params, abTests);\n\tconst queryString = generateQueryString(\n\t\tparams,\n\t\tacquisitionData,\n\t\tnumArticles ?? 0,\n\t);\n\tconst alreadyHasQueryString = baseUrl.includes('?');\n\treturn `${baseUrl}${alreadyHasQueryString ? '&' : '?'}${queryString}`;\n};\n\nconst addAbandonedBasketContributionParams = (\n\tbaseUrl: string,\n\t{ region, amount, billingPeriod }: AbandonedBasket,\n): string => {\n\treturn `${baseUrl}/${region}/contribute/checkout?selected-amount=${amount}&selected-contribution-type=${billingPeriod}`;\n};\n\nexport const addAbandonedBasketParamsToUrl = (\n\tbaseUrl: string,\n\tabandonedBasket: AbandonedBasket,\n): string => {\n\tswitch (abandonedBasket.product) {\n\t\tcase 'Contribution':\n\t\tcase 'SupporterPlus':\n\t\t\treturn addAbandonedBasketContributionParams(\n\t\t\t\tbaseUrl,\n\t\t\t\tabandonedBasket,\n\t\t\t);\n\t\tdefault:\n\t\t\treturn baseUrl;\n\t}\n};\n\nexport const addAbandonedBasketAndTrackingParamsToUrl = (\n\tbaseUrl: string,\n\tabandonedBasket: AbandonedBasket,\n\ttracking: Tracking,\n): string => {\n\treturn addTrackingParams(\n\t\taddAbandonedBasketParamsToUrl(baseUrl, abandonedBasket),\n\t\ttracking,\n\t);\n};\n\nexport const isSupportUrl = (baseUrl: string): boolean =>\n\t/\\bsupport\\./.test(baseUrl);\n\nexport const addRegionIdAndTrackingParamsToSupportUrl = (\n\tbaseUrl: string,\n\ttracking: Tracking,\n\tnumArticles?: number,\n\tcountryCode?: string,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): string => {\n\tif (!isSupportUrl(baseUrl)) {\n\t\treturn baseUrl;\n\t}\n\tconst urlWithRegion = addRegionIdToSupportUrl(baseUrl, countryCode);\n\n\treturn addTrackingParams(\n\t\turlWithRegion,\n\t\ttracking,\n\t\tnumArticles,\n\t\tamountsAbTestName,\n\t\tamountsAbTestVariant,\n\t);\n};\n\nconst hrefRegex = /href=\"(.*?)\"/g;\nexport const addTrackingParamsToBodyLinks = (\n\ttext: string,\n\ttracking: Tracking,\n\tnumArticles?: number,\n\tcountryCode?: string,\n): string => {\n\tconst trackingWithLabel = addLabelToTracking(tracking, 'body-link');\n\n\tconst replaceHref = (wholeMatch: string, url: string) =>\n\t\t`href=\"${addRegionIdAndTrackingParamsToSupportUrl(\n\t\t\turl,\n\t\t\ttrackingWithLabel,\n\t\t\tnumArticles,\n\t\t\tcountryCode,\n\t\t)}\"`;\n\n\treturn text.replace(hrefRegex, replaceHref);\n};\n\n// TRACKING VIA profile.theguardian.com\ntype ProfileLinkParams = {\n\tcomponentEventParams: string;\n\treturnUrl: string;\n};\n\ntype TrackingParam = keyof Tracking;\n\nexport const addProfileTrackingParams = (\n\tbaseUrl: string,\n\tparams: Tracking,\n): string => {\n\tconst constructQuery = (query: Partial<Tracking>): string =>\n\t\tObject.keys(query)\n\t\t\t.map((param) => {\n\t\t\t\tconst value = query[param as TrackingParam];\n\t\t\t\tconst queryValue = Array.isArray(value)\n\t\t\t\t\t? value.map((v) => encodeURIComponent(v)).join(',')\n\t\t\t\t\t: encodeURIComponent(value as string | number | boolean);\n\t\t\t\treturn `${param}=${queryValue}`;\n\t\t\t})\n\t\t\t.join('&');\n\n\tconst componentEventParamsData = {\n\t\tcomponentType: params.componentType,\n\t\tcomponentId: params.campaignCode,\n\t\tabTestName: params.abTestName,\n\t\tabTestVariant: params.abTestVariant,\n\t\tviewId: params.ophanPageId,\n\t};\n\n\tconst trackingLinkParams: ProfileLinkParams = {\n\t\t// Note: profile subdomain take uri encoded query params NOT json\n\t\tcomponentEventParams: encodeURIComponent(\n\t\t\tconstructQuery(componentEventParamsData),\n\t\t),\n\t\treturnUrl: params.referrerUrl,\n\t};\n\n\tconst queryString = Object.entries(trackingLinkParams)\n\t\t.filter(([, value]) => !isUndefined(value))\n\t\t.map(([key, value]) => `${key}=${value}`);\n\tconst alreadyHasQueryString = baseUrl.includes('?');\n\n\treturn `${baseUrl}${alreadyHasQueryString ? '&' : '?'}${queryString.join(\n\t\t'&',\n\t)}`;\n};\n\nexport const addChoiceCardsParams = (\n\turl: string,\n\tfrequency: ContributionFrequency,\n\tamount?: number | 'other',\n): string => {\n\tconst newParams = `selected-contribution-type=${frequency}${\n\t\tamount !== undefined ? `&selected-amount=${amount}` : ''\n\t}`;\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const addChoiceCardsOneTimeParams = (url: string): string => {\n\tconst newParams = `oneTime`;\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const addChoiceCardsProductParams = (\n\turl: string,\n\tproduct: string,\n\tratePlan: string,\n\tcontribution?: number,\n): string => {\n\tconst newParams = `product=${product}&ratePlan=${ratePlan}${\n\t\tcontribution !== undefined ? `&contribution=${contribution}` : ''\n\t}`;\n\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const isProfileUrl = (baseUrl: string): boolean =>\n\t/\\bprofile\\./.test(baseUrl);\nexport const addTrackingParamsToProfileUrl = (\n\tbaseUrl: string,\n\ttracking: Tracking,\n): string => {\n\treturn isProfileUrl(baseUrl)\n\t\t? addProfileTrackingParams(baseUrl, tracking)\n\t\t: baseUrl;\n};\n\n// SHARED TRACKING\nconst campaignPrefix = 'gdnwb_copts_memco';\n\nexport const buildCampaignCode = (\n\ttest: EpicTest,\n\tvariant: EpicVariant,\n): string =>\n\t`${campaignPrefix}_${test.campaignId ?? test.name}_${variant.name}`;\n\nexport const buildBannerCampaignCode = (\n\ttest: BannerTest,\n\tvariant: BannerVariant,\n): string => `${test.name}_${variant.name}`;\n\nexport const buildAmpEpicCampaignCode = (\n\ttestName: string,\n\tvariantName: string,\n): string => `AMP__${testName}__${variantName}`;\n\nconst createEventFromTracking = (action: OphanAction) => {\n\treturn (tracking: Tracking, componentId: string): OphanComponentEvent => {\n\t\tconst {\n\t\t\tabTestName,\n\t\t\tabTestVariant,\n\t\t\tcomponentType,\n\t\t\tproducts = [],\n\t\t\tlabels = [],\n\t\t\tcampaignCode,\n\t\t} = tracking;\n\t\tconst abTest =\n\t\t\tabTestName && abTestVariant\n\t\t\t\t? {\n\t\t\t\t\t\tname: abTestName,\n\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t  }\n\t\t\t\t: null;\n\n\t\tconst targetingAbTest = tracking.targetingAbTest\n\t\t\t? {\n\t\t\t\t\tname: tracking.targetingAbTest.testName,\n\t\t\t\t\tvariant: tracking.targetingAbTest.variantName,\n\t\t\t  }\n\t\t\t: null;\n\n\t\treturn {\n\t\t\tcomponent: {\n\t\t\t\tcomponentType,\n\t\t\t\tproducts,\n\t\t\t\tcampaignCode,\n\t\t\t\tid: componentId,\n\t\t\t\tlabels,\n\t\t\t},\n\t\t\t...(abTest ? { abTest } : {}),\n\t\t\t...(targetingAbTest ? { targetingAbTest } : {}),\n\t\t\taction,\n\t\t};\n\t};\n};\n\nexport const addLabelToTracking = (\n\ttracking: Tracking,\n\tlabel: string,\n): Tracking => {\n\tif (tracking.labels) {\n\t\treturn {\n\t\t\t...tracking,\n\t\t\tlabels: [...tracking.labels, label],\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\t...tracking,\n\t\t\tlabels: [label],\n\t\t};\n\t}\n};\n\nexport const createClickEventFromTracking = createEventFromTracking('CLICK');\n\nexport const createViewEventFromTracking = createEventFromTracking('VIEW');\n\nexport const createInsertEventFromTracking = createEventFromTracking('INSERT');\n","import libDebounce from 'lodash.debounce';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\n/**\n * This file was copied into the source development kitchen from the following repository:\n * https://github.com/guardian/csnx/blob/main/libs/%40guardian/source-development-kitchen/src/react-components/ticker/useIsInView.ts\n *\n * Note: This version of the file uses `lodash.debounce`, whereas the original version does not.\n * As a result, we now have two versions of the `useIsInView` hook—one with `lodash.debounce` and one without.\n *\n * A discussion is needed to determine the best approach for consolidating these two versions into a single file.\n * Consider whether the use of `lodash.debounce` is necessary, and if so, integrate it into the consolidated version.\n */\n\ntype Options = {\n\t/**\n\t * Defaults to `undefined` (falsy),\n\t * which trigger a change the instantaneously.\n\t *\n\t * If `true`, debounce triggers by 200ms.\n\t * Enabling debouncing ensures the target element intersects\n\t * for at least 200ms before the callback is executed\n\t */\n\tdebounce?: true;\n\t/**\n\t * Defaults to `undefined` (falsy),\n\t * which only trigger on the first intersection.\n\t *\n\t * If `true`, trigger the hook on all intersections.\n\t */\n\trepeat?: true;\n\t/** Set the initial HTML Element, if known. */\n\tnode?: HTMLElement;\n};\n\n/**\n * Custom hook around the `IntersectionObserver`.\n *\n * @returns a tuple containing `[isInView, setNode]`\n */\nconst useIsInView = (\n\toptions: IntersectionObserverInit & Options,\n): [boolean, React.Dispatch<React.SetStateAction<HTMLElement | null>>] => {\n\tconst [isInView, setIsInView] = useState<boolean>(false);\n\tconst [node, setNode] = useState<HTMLElement | null>(options.node ?? null);\n\n\tconst observer = useRef<IntersectionObserver | null>(null);\n\n\tconst intersectionObserverCallback =\n\t\tuseCallback<IntersectionObserverCallback>(\n\t\t\t([entry]) => {\n\t\t\t\tif (!entry) return;\n\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tsetIsInView(true);\n\t\t\t\t} else if (options.repeat) {\n\t\t\t\t\tsetIsInView(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\t[options.repeat],\n\t\t);\n\n\tconst intersectionCallback = options.debounce\n\t\t? libDebounce(intersectionObserverCallback, 200)\n\t\t: intersectionObserverCallback;\n\n\tuseEffect(() => {\n\t\toptions.node && setNode(options.node);\n\t}, [options.node]);\n\n\tuseEffect(() => {\n\t\tif (!node) return;\n\t\t// Check for browser support https://caniuse.com/intersectionobserver\n\t\tif (!('IntersectionObserver' in window)) return;\n\n\t\tobserver.current = new window.IntersectionObserver(\n\t\t\tintersectionCallback,\n\t\t\toptions,\n\t\t);\n\n\t\tobserver.current.observe(node);\n\n\t\treturn () => observer.current?.disconnect();\n\t}, [node, options, intersectionCallback]);\n\n\tuseEffect(() => {\n\t\tif (!options.repeat && isInView) observer.current?.disconnect();\n\t}, [isInView, options.repeat]);\n\n\treturn [isInView, setNode];\n};\n\nexport { useIsInView };\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n","import { palette } from '../../__generated__/palette.js';\n\nconst {\n  brand,\n  brandAlt,\n  neutral,\n  error,\n  success,\n  news,\n  opinion,\n  sport,\n  culture,\n  lifestyle,\n  labs,\n  specialReport,\n  focus\n} = palette;\nconst background = {\n  primary: palette.neutral[100],\n  secondary: palette.neutral[97],\n  inverse: palette.neutral[10],\n  ctaPrimary: palette.brand[400],\n  ctaPrimaryHover: \"#234B8A\",\n  ctaSecondary: palette.brand[800],\n  ctaSecondaryHover: \"#ACC9F7\",\n  ctaTertiaryHover: \"#E5E5E5\",\n  input: palette.neutral[100],\n  inputChecked: palette.brand[500]\n};\nconst brandBackground = {\n  primary: palette.brand[400],\n  inputChecked: palette.neutral[100],\n  ctaPrimary: palette.neutral[100],\n  ctaPrimaryHover: \"#E0E0E0\",\n  ctaSecondary: palette.brand[600],\n  ctaSecondaryHover: \"#234B8A\",\n  ctaTertiaryHover: palette.brand[300]\n};\nconst brandAltBackground = {\n  primary: palette.brandAlt[400],\n  ctaPrimary: palette.neutral[7],\n  ctaPrimaryHover: \"#454545\",\n  ctaSecondary: palette.brandAlt[200],\n  ctaSecondaryHover: \"#F2AE00\",\n  ctaTertiaryHover: \"#FFD213\"\n};\nconst border = {\n  primary: palette.neutral[60],\n  secondary: palette.neutral[86],\n  success: palette.success[400],\n  error: palette.error[400],\n  ctaTertiary: palette.brand[400],\n  input: palette.neutral[60],\n  inputChecked: palette.brand[500],\n  inputHover: palette.brand[500],\n  inputActive: palette.brand[500],\n  focusHalo: palette.focus[400]\n};\nconst brandBorder = {\n  primary: palette.brand[600],\n  secondary: palette.brand[600],\n  success: palette.success[500],\n  error: palette.error[500],\n  ctaTertiary: palette.neutral[100],\n  input: palette.brand[800],\n  inputChecked: palette.neutral[100],\n  inputHover: palette.neutral[100]\n};\nconst brandAltBorder = {\n  ctaTertiary: palette.neutral[7]\n};\nconst line = {\n  primary: palette.neutral[86]\n};\nconst brandLine = {\n  primary: palette.brand[600]\n};\nconst brandAltLine = {\n  primary: palette.neutral[7]\n};\nconst text = {\n  primary: palette.neutral[7],\n  supporting: palette.neutral[46],\n  success: palette.success[400],\n  error: palette.error[400],\n  ctaPrimary: palette.neutral[100],\n  ctaSecondary: palette.brand[400],\n  ctaTertiary: palette.brand[400],\n  anchorPrimary: palette.brand[500],\n  anchorSecondary: palette.neutral[7],\n  userInput: palette.neutral[7],\n  inputLabel: palette.neutral[7],\n  inputError: palette.neutral[7],\n  inputLabelSupporting: palette.neutral[46],\n  inputChecked: palette.brand[400],\n  //choice card only\n  inputHover: palette.brand[400],\n  //choice card only\n  groupLabel: palette.neutral[7],\n  groupLabelSupporting: palette.neutral[46],\n  newsInverse: palette.news[550]\n};\nconst brandText = {\n  primary: palette.neutral[100],\n  supporting: palette.brand[800],\n  success: palette.success[500],\n  error: palette.error[500],\n  ctaPrimary: palette.brand[400],\n  ctaSecondary: palette.neutral[100],\n  ctaTertiary: palette.neutral[100],\n  anchorPrimary: palette.neutral[100],\n  anchorPrimaryHover: palette.brandAlt[400],\n  userInput: palette.neutral[100],\n  inputLabel: palette.neutral[100],\n  inputLabelSupporting: palette.brand[800]\n};\nconst brandAltText = {\n  primary: palette.neutral[7],\n  supporting: palette.neutral[60],\n  ctaPrimary: palette.neutral[100],\n  ctaSecondary: palette.neutral[7],\n  ctaTertiary: palette.neutral[7],\n  anchorPrimary: palette.neutral[7]\n};\n\nexport { background, border, brand, brandAlt, brandAltBackground, brandAltBorder, brandAltLine, brandAltText, brandBackground, brandBorder, brandLine, brandText, culture, error, focus, labs, lifestyle, line, neutral, news, opinion, specialReport, sport, success, text };\n","import { brand, brandAlt, neutral } from '../../foundations/__deprecated__/colour/palette.js';\n\nconst text = {\n  readerRevenue: {\n    ctaPrimary: brand[400],\n    ctaTertiary: brand[400]\n  },\n  readerRevenueBrand: {\n    ctaPrimary: brand[400],\n    ctaTertiary: brandAlt[400]\n  },\n  readerRevenueBrandAlt: {\n    ctaPrimary: neutral[100],\n    ctaTertiary: neutral[7]\n  }\n};\nconst background = {\n  readerRevenue: {\n    ctaPrimary: brandAlt[400],\n    ctaPrimaryHover: \"#FFD213\",\n    ctaTertiaryHover: \"#E5E5E5\"\n  },\n  readerRevenueBrand: {\n    ctaPrimary: brandAlt[400],\n    ctaPrimaryHover: \"#FFD213\",\n    ctaTertiaryHover: brand[300]\n  },\n  readerRevenueBrandAlt: {\n    ctaPrimary: neutral[7],\n    ctaPrimaryHover: \"#454545\",\n    ctaTertiaryHover: \"#FFD213\"\n  }\n};\nconst border = {\n  readerRevenue: {\n    ctaTertiary: brand[400]\n  },\n  readerRevenueBrand: {\n    ctaTertiary: brandAlt[400]\n  },\n  readerRevenueBrandAlt: {\n    ctaTertiary: neutral[7]\n  }\n};\nconst themeButtonReaderRevenue = {\n  textPrimary: text.readerRevenue.ctaPrimary,\n  backgroundPrimary: background.readerRevenue.ctaPrimary,\n  backgroundPrimaryHover: background.readerRevenue.ctaPrimaryHover,\n  textTertiary: text.readerRevenue.ctaTertiary,\n  backgroundTertiaryHover: background.readerRevenue.ctaTertiaryHover,\n  borderTertiary: border.readerRevenue.ctaTertiary\n};\nconst themeButtonReaderRevenueBrand = {\n  textPrimary: text.readerRevenueBrand.ctaPrimary,\n  backgroundPrimary: background.readerRevenueBrand.ctaPrimary,\n  backgroundPrimaryHover: background.readerRevenueBrand.ctaPrimaryHover,\n  textTertiary: text.readerRevenueBrand.ctaTertiary,\n  backgroundTertiaryHover: background.readerRevenueBrand.ctaTertiaryHover,\n  borderTertiary: border.readerRevenueBrand.ctaTertiary\n};\nconst themeButtonReaderRevenueBrandAlt = {\n  textPrimary: text.readerRevenueBrandAlt.ctaPrimary,\n  backgroundPrimary: background.readerRevenueBrandAlt.ctaPrimary,\n  backgroundPrimaryHover: background.readerRevenueBrandAlt.ctaPrimaryHover,\n  textTertiary: text.readerRevenueBrandAlt.ctaTertiary,\n  backgroundTertiaryHover: background.readerRevenueBrandAlt.ctaTertiaryHover,\n  borderTertiary: border.readerRevenueBrandAlt.ctaTertiary\n};\nconst buttonThemeReaderRevenue = {\n  button: themeButtonReaderRevenue\n};\nconst buttonThemeReaderRevenueBrand = {\n  button: themeButtonReaderRevenueBrand\n};\nconst buttonThemeReaderRevenueBrandAlt = {\n  button: themeButtonReaderRevenueBrandAlt\n};\n\nexport { buttonThemeReaderRevenue, buttonThemeReaderRevenueBrand, buttonThemeReaderRevenueBrandAlt, themeButtonReaderRevenue, themeButtonReaderRevenueBrand, themeButtonReaderRevenueBrandAlt };\n"],"names":["gridStyles","css","textStyles","space","headingStyles","themePalette","headlineBold20","from","desktop","headlineBold24","subHeadingStyles","textSans14","buttonStyles","tablet","Header","props","heading","subheading","primaryCta","secondaryCta","content","div","Hide","until","h2","span","LinkButton","theme","themeButtonReaderRevenueBrand","priority","href","ctaUrl","onClick","onCtaClick","icon","SvgArrowRightStraight","iconSide","nudgeIcon","size","cssOverrides","style","gridArea","ctaText","mobileContent","unvalidated","headerWrapper","validated","validatedHeaderWrapper","tracking","countryCode","submitComponentEvent","numArticles","buildEnrichedCta","cta","isProfileUrl","baseUrl","addTrackingParamsToProfileUrl","text","addRegionIdAndTrackingParamsToSupportUrl","renderedContent","mobilePrimaryCta","mobileSecondaryCta","renderedMobileContent","undefined","abTestName","abTestVariant","componentType","campaignCode","sendOphanEvent","useCallback","action","component","id","abTest","name","variant","hasBeenSeen","setNode","useIsInView","debounce","threshold","useEffect","ref","componentId","componentClickEvent","createClickEventFromTracking","headerPropsSchema","safeParse","success","validate","Module","addTrackingParams","params","amountsAbTestName","amountsAbTestVariant","abTests","targetingAbTest","push","testName","variantName","testType","generateAbTestArray","acquisitionData","encodeURIComponent","JSON","stringify","source","platformId","referrerPageviewId","ophanPageId","referrerUrl","isRemote","labels","encodeAcquisitionsData","queryString","trackingLinkParams","REFPVID","INTCMP","Object","entries","filter","value","isUndefined","map","key","join","generateQueryString","alreadyHasQueryString","includes","addAbandonedBasketAndTrackingParamsToUrl","abandonedBasket","product","region","amount","billingPeriod","addAbandonedBasketContributionParams","addAbandonedBasketParamsToUrl","isSupportUrl","test","urlWithRegion","addRegionIdToSupportUrl","hrefRegex","addTrackingParamsToBodyLinks","trackingWithLabel","addLabelToTracking","replace","wholeMatch","url","addChoiceCardsParams","frequency","newParams","addChoiceCardsOneTimeParams","addChoiceCardsProductParams","ratePlan","contribution","componentEventParamsData","viewId","componentEventParams","query","keys","param","queryValue","Array","isArray","v","returnUrl","addProfileTrackingParams","createEventFromTracking","products","label","createViewEventFromTracking","createInsertEventFromTracking","options","isInView","setIsInView","useState","node","observer","useRef","intersectionObserverCallback","entry","isIntersecting","repeat","intersectionCallback","libDebounce","window","current","IntersectionObserver","observe","disconnect","palette","colour","brand","brandAlt","neutral","error","news","opinion","sport","culture","lifestyle","labs","specialReport","focus","background","primary","secondary","inverse","ctaPrimary","ctaPrimaryHover","ctaSecondary","ctaSecondaryHover","ctaTertiaryHover","input","inputChecked","brandAltBackground","line","brandAltLine","supporting","ctaTertiary","anchorPrimary","anchorSecondary","userInput","inputLabel","inputError","inputLabelSupporting","inputHover","groupLabel","groupLabelSupporting","newsInverse","brandText","anchorPrimaryHover","brandAltText","readerRevenue","readerRevenueBrand","readerRevenueBrandAlt","border","themeButtonReaderRevenue","textPrimary","backgroundPrimary","backgroundPrimaryHover","textTertiary","backgroundTertiaryHover","borderTertiary","themeButtonReaderRevenueBrandAlt","buttonThemeReaderRevenue","button"],"sourceRoot":""}