{"version":3,"file":"MostViewedRightWithAd-importable.client.web.e51c8a23a62f0de70ab5.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/AdPlaceholder.apps.tsx","webpack://@guardian/dotcom-rendering/./src/components/Avatar.tsx","webpack://@guardian/dotcom-rendering/./src/components/MostViewedRightItem.tsx","webpack://@guardian/dotcom-rendering/./src/lib/useHover.tsx","webpack://@guardian/dotcom-rendering/./src/components/MostViewedRight.tsx","webpack://@guardian/dotcom-rendering/./src/components/MostViewedRightWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/components/MostViewedRightWithAd.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/decideTrail.ts","webpack://@guardian/dotcom-rendering/./src/lib/getDataLinkName.ts","webpack://@guardian/dotcom-rendering/./src/lib/getSourceImageUrl_temp_fix.ts","webpack://@guardian/dotcom-rendering/./src/lib/useAdBlockInUse.ts","webpack://@guardian/dotcom-rendering/./src/lib/useApi.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source-development-kitchen@12.0.0_@emotion+react@11.11.3_@guardian+libs@19.2.1_@gua_u2skz76xfmcpz6vecn5wtd5lna/node_modules/@guardian/source-development-kitchen/dist/react-components/lines/StraightLines.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__deprecated__/colour/palette.js"],"sourcesContent":["import { css } from '@emotion/react';\n\nconst rightAdsPlaceholderClass = 'right-ad-portal-placeholder';\nconst adPlaceholderClass = 'ad-portal-placeholder';\n\nconst rightAdsStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\theight: 100%;\n`;\n\n/**\n * A server-side ad placeholder for apps, into which ads are inserted\n * client-side. See `AdPortals.importable.tsx` for more details.\n */\nconst RightAdsPlaceholder = () => (\n\t<div className={rightAdsPlaceholderClass} css={rightAdsStyles}></div>\n);\n\n/**\n * A server-side ad placeholder for apps, into which ads are inserted\n * client-side. See `AdPortals.importable.tsx` for more details.\n */\nconst AdPlaceholder = () => <div className={adPlaceholderClass} />;\n\nexport {\n\tAdPlaceholder,\n\tadPlaceholderClass,\n\trightAdsPlaceholderClass,\n\tRightAdsPlaceholder,\n};\n","import { css } from '@emotion/react';\nimport { Fragment } from 'react';\nimport { getSourceImageUrl } from '../lib/getSourceImageUrl_temp_fix';\nimport { palette } from '../palette';\nimport { generateSources, getFallbackSource } from './Picture';\n\nconst picture = css`\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n\tmin-width: 60px;\n`;\n\nconst round = css`\n\tborder-radius: 100%;\n\tbackground-color: ${palette('--avatar-background')};\n`;\n\nconst img = css`\n\tobject-fit: cover;\n\theight: 100%;\n\twidth: 100%;\n`;\n\n/**\n * Used on `picture` and `img` to prevent having a line-height,\n * as these elements are which are `inline` by default.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#styling_with_css\n */\nconst block = css`\n\tdisplay: block;\n`;\n\n/**\n * Defines the possible shapes for the Avatar component.\n * - 'cutout': The avatar has a flat bottom and no background fill.\n * - 'round': The avatar is a round cutout with a filled background.\n */\ntype AvatarShape = 'cutout' | 'round';\n\n/**\n * Props for the Avatar component.\n *\n * @property {string} src - The source URL of the avatar image.\n * @property {string} alt - The alternative text for the avatar image.\n * @property {AvatarShape} [shape='round'] - Determines the avatar design shape.  The default is 'round'.\n */\ntype Props = {\n\tsrc: string;\n\talt: string;\n\tshape?: AvatarShape;\n};\n\nexport const Avatar = ({ src, alt, shape = 'round' }: Props) => {\n\tconst sources = generateSources(getSourceImageUrl(src), [\n\t\t{ breakpoint: 320, width: 75 },\n\t\t{ breakpoint: 740, width: 140 },\n\t]);\n\n\t/**\n\t * The assumption here is readers on devices that do not support srcset\n\t * are likely to be on poor network connections so we're going\n\t * to fallback to the smallest image at low resolution.\n\t *\n\t * Sources are ordered in `descendingByBreakpoint` order,\n\t * so the last one is the smallest.\n\t */\n\tconst fallbackSource = getFallbackSource(sources);\n\n\treturn (\n\t\t<picture\n\t\t\t// data-size={imageSize}\n\t\t\tcss={[block, picture, shape === 'round' && round]}\n\t\t>\n\t\t\t{sources.map((source) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment key={source.breakpoint}>\n\t\t\t\t\t\t{/* High resolution (HDPI) sources*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.hiResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Low resolution (MDPI) source*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.lowResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<img alt={alt} src={fallbackSource.lowResUrl} css={[block, img]} />\n\t\t</picture>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\theadlineMedium17,\n\tpalette as sourcePalette,\n} from '@guardian/source/foundations';\nimport { ArticleDesign, ArticleSpecial } from '../lib/articleFormat';\nimport { useHover } from '../lib/useHover';\nimport { palette as themePalette } from '../palette';\nimport type { TrailType } from '../types/trails';\nimport { AgeWarning } from './AgeWarning';\nimport { Avatar } from './Avatar';\nimport { FormatBoundary } from './FormatBoundary';\nimport { LinkHeadline } from './LinkHeadline';\n\nconst listItemStyles = css`\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\t&::before {\n\t\tcontent: '\\\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n\tpadding-top: 4px;\n\tmargin-bottom: 12px;\n\tborder-top: 1px solid ${themePalette('--article-border')};\n\n\t&:first-of-type {\n\t\tpadding-top: 0;\n\t\tborder-top: none;\n\t}\n`;\n\nconst linkTagStyles = css`\n\ttext-decoration: none;\n\tfont-weight: 500;\n\t${headlineMedium17};\n\n\t&:link,\n\t&:active {\n\t\tcolor: ${themePalette('--article-text')};\n\t}\n\n\t&:visited h4 {\n\t\tcolor: ${sourcePalette.neutral[46]};\n\t}\n\n\t&:hover h4 {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst lineWrapperStyles = css`\n\tdisplay: flex;\n`;\n\nconst headlineWrapperStyles = css`\n\twidth: calc(100% - 82px);\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst imageWrapperStyles = css`\n\twidth: 72px;\n\theight: 72px;\n\tmargin-top: 3px;\n\tmargin-right: 10px;\n`;\n\nconst marginTopStyles = css`\n\tmargin-top: 4px;\n`;\n\ntype Props = {\n\ttrail: TrailType;\n\tmostViewedItemIndex: number;\n};\n\nexport const MostViewedRightItem = ({ trail, mostViewedItemIndex }: Props) => {\n\tconst [hoverRef, isHovered] = useHover<HTMLAnchorElement>();\n\n\treturn (\n\t\t<li\n\t\t\tcss={listItemStyles}\n\t\t\tdata-link-name={`trail | ${mostViewedItemIndex + 1}`}\n\t\t>\n\t\t\t<FormatBoundary format={trail.format}>\n\t\t\t\t<a css={linkTagStyles} href={trail.url} ref={hoverRef}>\n\t\t\t\t\t<div css={lineWrapperStyles}>\n\t\t\t\t\t\t{!!trail.image && (\n\t\t\t\t\t\t\t<div css={imageWrapperStyles}>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tsrc={trail.image.src}\n\t\t\t\t\t\t\t\t\talt={trail.image.altText}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div css={headlineWrapperStyles}>\n\t\t\t\t\t\t\t{trail.format.design === ArticleDesign.LiveBlog ? (\n\t\t\t\t\t\t\t\t<LinkHeadline\n\t\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\t\tisLabs={\n\t\t\t\t\t\t\t\t\t\ttrail.format.theme ===\n\t\t\t\t\t\t\t\t\t\tArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tshowUnderline={isHovered}\n\t\t\t\t\t\t\t\t\tkickerText=\"Live\"\n\t\t\t\t\t\t\t\t\tshowPulsingDot={true}\n\t\t\t\t\t\t\t\t\thasInlineKicker={false}\n\t\t\t\t\t\t\t\t\tbyline={\n\t\t\t\t\t\t\t\t\t\ttrail.showByline\n\t\t\t\t\t\t\t\t\t\t\t? trail.byline\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<LinkHeadline\n\t\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\t\tisLabs={\n\t\t\t\t\t\t\t\t\t\ttrail.format.theme ===\n\t\t\t\t\t\t\t\t\t\tArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tshowUnderline={isHovered}\n\t\t\t\t\t\t\t\t\tbyline={\n\t\t\t\t\t\t\t\t\t\ttrail.showByline\n\t\t\t\t\t\t\t\t\t\t\t? trail.byline\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div css={marginTopStyles}>\n\t\t\t\t\t\t\t\t{!!trail.ageWarning && (\n\t\t\t\t\t\t\t\t\t<AgeWarning\n\t\t\t\t\t\t\t\t\t\tage={trail.ageWarning}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</FormatBoundary>\n\t\t</li>\n\t);\n};\n","import type { MutableRefObject } from 'react';\nimport { useEffect, useRef, useState } from 'react';\n\nexport function useHover<T>(): [MutableRefObject<T>, boolean] {\n\tconst [value, setValue] = useState(false);\n\n\tconst ref = useRef<any>(null);\n\n\tconst handleMouseOver = () => setValue(true);\n\tconst handleMouseOut = () => setValue(false);\n\n\tuseEffect(() => {\n\t\tconst node: HTMLElement | undefined = ref.current;\n\t\tif (node) {\n\t\t\tnode.addEventListener('mouseover', handleMouseOver);\n\t\t\tnode.addEventListener('mouseout', handleMouseOut);\n\n\t\t\treturn () => {\n\t\t\t\tnode.removeEventListener('mouseover', handleMouseOver);\n\t\t\t\tnode.removeEventListener('mouseout', handleMouseOut);\n\t\t\t};\n\t\t}\n\t\treturn () => {};\n\t}, []);\n\n\treturn [ref, value];\n}\n","import { css } from '@emotion/react';\nimport { headlineBold17 } from '@guardian/source/foundations';\nimport { StraightLines } from '@guardian/source-development-kitchen/react-components';\nimport { decideTrail } from '../lib/decideTrail';\nimport { useApi } from '../lib/useApi';\nimport { palette as themePalette } from '../palette';\nimport type { FETrailTabType } from '../types/trails';\nimport { MostViewedRightItem } from './MostViewedRightItem';\n\nconst wrapperStyles = css`\n\tmargin-top: 24px;\n\tpadding-bottom: 48px;\n`;\n\n// We only stick most viewed when ads are not showing. We do this\n// to maximise right column space\nconst stickyStyles = css`\n\tposition: sticky;\n\ttop: 0;\n`;\n\nconst headingStyles = css`\n\t${headlineBold17}\n\tmargin-bottom: 8px;\n`;\n\ninterface Props {\n\tlimitItems?: number;\n\tstickToTop?: boolean;\n}\n\ninterface MostViewedRightPayloadType {\n\ttabs: FETrailTabType[];\n}\n\nexport const MostViewedRight = ({\n\tlimitItems = 5,\n\tstickToTop = false,\n}: Props) => {\n\tconst endpointUrl =\n\t\t'https://api.nextgen.guardianapps.co.uk/most-read-with-deeply-read.json';\n\tconst { data, error } = useApi<MostViewedRightPayloadType>(endpointUrl);\n\n\tif (error) {\n\t\twindow.guardian.modules.sentry.reportError(\n\t\t\terror,\n\t\t\t'most-viewed-deeply-read-right',\n\t\t);\n\t\treturn null;\n\t}\n\n\tif (data) {\n\t\tconst mostReadTrails = data.tabs[0]?.trails\n\t\t\t?.slice(0, limitItems)\n\t\t\t?.map(decideTrail);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tcss={[wrapperStyles, stickToTop && stickyStyles]}\n\t\t\t\tdata-component=\"geo-most-popular\"\n\t\t\t>\n\t\t\t\t<>\n\t\t\t\t\t<StraightLines\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tcount={4}\n\t\t\t\t\t\tcolor={themePalette('--straight-lines')}\n\t\t\t\t\t/>\n\t\t\t\t\t<h3 css={headingStyles}>Most viewed</h3>\n\t\t\t\t\t<ul data-link-name=\"Right hand most popular geo GB\">\n\t\t\t\t\t\t{mostReadTrails?.map((trail, index) => (\n\t\t\t\t\t\t\t<MostViewedRightItem\n\t\t\t\t\t\t\t\tkey={trail.url}\n\t\t\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\t\t\tmostViewedItemIndex={index}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport { useAdBlockInUse } from '../lib/useAdBlockInUse';\nimport { MostViewedRight } from './MostViewedRight';\n\ntype Props = {\n\tcomponentDataAttribute: string;\n\tmaxHeightPx: number;\n\tlimitItems?: number;\n\trenderAds: boolean;\n};\n\nexport const MostViewedRightWrapper = ({\n\tcomponentDataAttribute,\n\tmaxHeightPx,\n\tlimitItems,\n\trenderAds,\n}: Props) => {\n\tconst adBlockerDetected = useAdBlockInUse();\n\tconst [heightIsAvailable, setHeightIsAvailable] = useState<boolean>(false);\n\n\t// We don't always show the most viewed component - it depends on the length of the article\n\t// This effect determines whether to show the most viewed, depending on the computed height of the container\n\tuseEffect(() => {\n\t\tconst containingElement = document.querySelector<HTMLDivElement>(\n\t\t\t`[data-container=\"${componentDataAttribute}\"]`,\n\t\t);\n\t\tconst height = containingElement?.getBoundingClientRect().height;\n\t\tsetHeightIsAvailable(!isUndefined(height) && height >= maxHeightPx);\n\t}, [componentDataAttribute, maxHeightPx]);\n\n\tif (!heightIsAvailable) {\n\t\treturn null;\n\t}\n\n\tconst stickToTop = !!adBlockerDetected || !renderAds;\n\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\theight: auto;\n\t\t\t`}\n\t\t>\n\t\t\t<MostViewedRight limitItems={limitItems} stickToTop={stickToTop} />\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tArticleDesign,\n\ttype ArticleFormat,\n\tArticleSpecial,\n} from '../lib/articleFormat';\nimport { RightAdsPlaceholder } from './AdPlaceholder.apps';\nimport { AdSlot } from './AdSlot.web';\nimport { useConfig } from './ConfigContext';\nimport { MostViewedRightWrapper } from './MostViewedRightWrapper';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tisPaidContent: boolean;\n\trenderAds: boolean;\n\tshouldHideReaderRevenue: boolean;\n\tshouldHideMostViewed?: boolean;\n};\n\n/**\n * The maximum height of the container that may contain\n * a right ad slot and a most viewed component\n */\nconst MAX_HEIGHT_PX = 1600;\n\n/**\n * Wrapping `MostViewedRight` so we can determine whether or not\n * there's enough vertical space in the container to render it.\n *\n * ## Why does this need to be an Island?\n *\n * We may show the most viewed component depending on the length of the article,\n * based on the computed height of the container and the height of this component is\n * changed dynamically.\n *\n * ---\n *\n * (No visual story exists)\n */\nexport const MostViewedRightWithAd = ({\n\tformat,\n\tisPaidContent,\n\trenderAds,\n\tshouldHideReaderRevenue,\n\tshouldHideMostViewed = false,\n}: Props) => {\n\tconst componentDataAttribute = 'most-viewed-right-container';\n\tconst { renderingTarget } = useConfig();\n\tconst isApps = renderingTarget === 'Apps';\n\tconst useDarkColourScheme =\n\t\t(format.design === ArticleDesign.Video ||\n\t\t\tformat.design === ArticleDesign.Audio) &&\n\t\tformat.theme !== ArticleSpecial.Labs;\n\n\treturn (\n\t\t<div\n\t\t\t// This attribute is necessary so that most viewed wrapper\n\t\t\t// can measure the height of this component\n\t\t\tdata-container={componentDataAttribute}\n\t\t\tcss={css`\n\t\t\t\t/* On Apps - we don't restrict the height, so the ads can be spaced along the entire article height\n\t\t\t\t * On Web - we restrict the height to the maximum height, so that the top right ad can be sticky until the\n\t\t\t\t *          most viewed component is in view at MAX_HEIGHT_PX, or 100% of the article height if it is a short article\n\t\t\t\t*/\n\t\t\t\theight: ${isApps ? '100%' : `min(100%, ${MAX_HEIGHT_PX}px)`};\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t`}\n\t\t>\n\t\t\t{renderAds ? (\n\t\t\t\t<AdSlot\n\t\t\t\t\tposition=\"right\"\n\t\t\t\t\tdisplay={format.display}\n\t\t\t\t\tisPaidContent={isPaidContent}\n\t\t\t\t\tshouldHideReaderRevenue={shouldHideReaderRevenue}\n\t\t\t\t\tcolourScheme={useDarkColourScheme ? 'dark' : 'light'}\n\t\t\t\t/>\n\t\t\t) : null}\n\n\t\t\t{!isPaidContent && !shouldHideMostViewed ? (\n\t\t\t\t<MostViewedRightWrapper\n\t\t\t\t\tmaxHeightPx={MAX_HEIGHT_PX}\n\t\t\t\t\tcomponentDataAttribute={componentDataAttribute}\n\t\t\t\t\trenderAds={renderAds}\n\t\t\t\t/>\n\t\t\t) : null}\n\n\t\t\t{isApps && <RightAdsPlaceholder />}\n\t\t</div>\n\t);\n};\n","import type { DCRFrontImage } from '../types/front';\nimport type { FETrailType, TrailType } from '../types/trails';\nimport { type ArticleFormat, decideFormat } from './articleFormat';\nimport { getDataLinkNameCard } from './getDataLinkName';\n\nexport const decideTrail = (trail: FETrailType, index = 0): TrailType => {\n\tconst format: ArticleFormat = decideFormat(trail.format);\n\tconst image: DCRFrontImage | undefined = trail.image\n\t\t? {\n\t\t\t\tsrc: trail.image,\n\t\t\t\taltText: '', // TODO: Do we get this from frontend?\n\t\t  }\n\t\t: undefined;\n\n\treturn {\n\t\t...trail,\n\t\timage,\n\t\tformat,\n\t\tdataLinkName: getDataLinkNameCard(format, '0', index),\n\t};\n};\n","import type { FEFrontCardStyle } from '../types/front';\nimport type { RichLinkCardType } from '../types/layout';\nimport {\n\tArticleDesign,\n\ttype ArticleFormat,\n\tArticleSpecial,\n} from './articleFormat';\n\n/**\n * TODO: missing \"podcast\"\n */\nconst getLinkType = (\n\t{ theme, design }: ArticleFormat,\n\tcardStyle?: FEFrontCardStyle,\n): RichLinkCardType => {\n\tif (cardStyle === 'ExternalLink') return 'external';\n\tif (cardStyle === 'Feature') return 'feature';\n\n\tswitch (theme) {\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'special-report';\n\t\tdefault:\n\t\t\tswitch (design) {\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn 'analysis';\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\t\treturn 'live';\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\treturn 'dead';\n\t\t\t\tcase ArticleDesign.Feature:\n\t\t\t\t\treturn 'feature';\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\t\treturn 'editorial';\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\t\treturn 'comment';\n\t\t\t\tcase ArticleDesign.Gallery:\n\t\t\t\tcase ArticleDesign.Audio:\n\t\t\t\tcase ArticleDesign.Video:\n\t\t\t\t\treturn 'media';\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\t\treturn 'review';\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn 'letters';\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'news';\n\t\t\t}\n\t}\n};\n\nexport type Group = `${number}` | `${number}+`;\n\n/**\n * Get the `data-link-name` attribute for a card.\n * Used by Ophan for understanding reader journeys. E.g:\n * - `feature | card-2+ | card-@1`\n * - `news | group-0 | card-@5`\n *\n * @see {JSX.IntrinsicAttributes}\n */\nexport const getDataLinkNameCard = (\n\tformat: ArticleFormat,\n\tgroup: Group,\n\tindex: number,\n\tcardStyle?: FEFrontCardStyle,\n): string =>\n\t[\n\t\tgetLinkType(format, cardStyle),\n\t\t`group-${group}`,\n\t\t`card-@${Math.max(index + 1, 1)}`,\n\t].join(' | ');\n","/**\n * Temporary fix\n * =============\n *\n * Find the master URL for an image if has already been signed upstream.\n *\n * DCR can handle generating a signed image URL with `generateImageURL`,\n * so this method extracts source URLS from fully signed ones. _e.g.:_\n *\n * - from\n *   `https://i.guim.co.uk/img/media/c56c6217f8fa306d89320cc7915161203b5017b1/0_166_5000_3002/master/5000.jpg?width=300&quality=85&auto=format&fit=max&s=0d205d08639b4ad6e1b86758ab451abb`\n * \t to\n *   `https://media.guim.co.uk/img/media/c56c6217f8fa306d89320cc7915161203b5017b1/0_166_5000_3002/master/5000.jpg`\n *\n * - from\n *   `https://i.guim.co.uk/img/uploads/2017/10/06/George-Monbiot,-L.png?width=173&quality=85&auto=format&fit=max&s=be5b0d3f3aa55682e4930057fc3929a3`\n *   to\n *   `https://uploads.guim.co.uk/2017/10/06/George-Monbiot,-L.png`\n *\n * @deprecated Favour updating image paths sent from frontend to sources\n */\nexport const getSourceImageUrl = (source: string): string => {\n\tconst url = new URL(source);\n\n\tconst buckets = ['/img/media/', '/img/static/', '/img/uploads/'] as const;\n\tconst prefix = buckets.find((bucket) => url.pathname.startsWith(bucket));\n\n\tif (url.hostname === 'i.guim.co.uk' && prefix) {\n\t\tconst path = url.pathname.replace(prefix, '');\n\t\tswitch (prefix) {\n\t\t\tcase '/img/media/':\n\t\t\t\treturn `https://media.guim.co.uk/${path}`;\n\t\t\tcase '/img/static/':\n\t\t\t\treturn `https://static.guim.co.uk/${path}`;\n\t\t\tcase '/img/uploads/':\n\t\t\t\treturn `https://uploads.guim.co.uk/${path}`;\n\t\t}\n\t}\n\n\treturn source;\n};\n","import { isAdBlockInUse } from '@guardian/commercial';\nimport { useEffect, useState } from 'react';\n\n/**\n * @description\n * useAdBlockInUse provides a custom hook to integrate the isAdBlockInUse\n * promise into a react component\n * */\nexport const useAdBlockInUse = (): boolean | undefined => {\n\tconst [isInUse, setIsInUse] = useState<boolean | undefined>();\n\tuseEffect(() => {\n\t\t// eslint-disable-next-line @typescript-eslint/no-floating-promises\n\t\tisAdBlockInUse().then((blockerDetected) => {\n\t\t\tsetIsInUse(blockerDetected);\n\t\t});\n\t}, []);\n\n\treturn isInUse;\n};\n","import { isUndefined } from '@guardian/libs';\nimport type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\n/** **NOTE:** no parsing is done on the response, the type is merely asserted */\nconst fetcher =\n\t<T>(init?: RequestInit) =>\n\t(url: string): Promise<T> =>\n\t\tfetch(url, init)\n\t\t\t.then(checkForErrors)\n\t\t\t.then((res) => res.json());\n\ntype ApiResponse<T, E> = {\n\tloading: boolean;\n\tdata?: T;\n\terror?: E;\n};\n\n/**\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/).\n *\n * @template T assert the expected response type\n * @template E assert the potential error type\n * @param {string} url - The API endpoint. Falsy values will prevent any network requests\n * @param {SWRConfiguration<Data,Err>} options - The SWR config object - https://swr.vercel.app/docs/api#options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * @returns {ApiResponse<Data, Err>}\n * */\nexport const useApi = <Data = unknown, Err = Error>(\n\turl: string = '',\n\toptions?: SWRConfiguration<Data, Err>,\n\tinit?: RequestInit,\n): ApiResponse<Data, Err> => {\n\tconst { data, error } = useSWR<Data, Err>(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && isUndefined(error) && isUndefined(data),\n\t};\n};\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { space, breakpoints, neutral } from '@guardian/source/foundations';\n\nconst thickness = 1;\nconst gapVertical = space[1];\nconst maxWidth = breakpoints.wide;\nconst getHeight = (count) => gapVertical * (count - 1) + thickness;\nconst StraightLines = ({\n  count = 4,\n  color = neutral[86],\n  cssOverrides\n}) => {\n  const height = getHeight(count);\n  const viewBox = `0 0 ${maxWidth} ${height}`;\n  const lines = [];\n  for (let index = 0; index < count; index++) {\n    lines.push(\n      /* @__PURE__ */ jsx(\n        \"line\",\n        {\n          x1: 0,\n          x2: maxWidth,\n          y1: index * gapVertical + 0.5,\n          y2: index * gapVertical + 0.5\n        },\n        index\n      )\n    );\n  }\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"100%\",\n      height,\n      viewBox,\n      preserveAspectRatio: \"none\",\n      stroke: color,\n      strokeWidth: thickness,\n      css: cssOverrides,\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      children: lines\n    }\n  );\n};\n\nexport { StraightLines };\n","import { palette } from '../../__generated__/palette.js';\n\nconst {\n  brand,\n  brandAlt,\n  neutral,\n  error,\n  success,\n  news,\n  opinion,\n  sport,\n  culture,\n  lifestyle,\n  labs,\n  specialReport,\n  focus\n} = palette;\nconst background = {\n  primary: palette.neutral[100],\n  secondary: palette.neutral[97],\n  inverse: palette.neutral[10],\n  ctaPrimary: palette.brand[400],\n  ctaPrimaryHover: \"#234B8A\",\n  ctaSecondary: palette.brand[800],\n  ctaSecondaryHover: \"#ACC9F7\",\n  ctaTertiaryHover: \"#E5E5E5\",\n  input: palette.neutral[100],\n  inputChecked: palette.brand[500]\n};\nconst brandBackground = {\n  primary: palette.brand[400],\n  inputChecked: palette.neutral[100],\n  ctaPrimary: palette.neutral[100],\n  ctaPrimaryHover: \"#E0E0E0\",\n  ctaSecondary: palette.brand[600],\n  ctaSecondaryHover: \"#234B8A\",\n  ctaTertiaryHover: palette.brand[300]\n};\nconst brandAltBackground = {\n  primary: palette.brandAlt[400],\n  ctaPrimary: palette.neutral[7],\n  ctaPrimaryHover: \"#454545\",\n  ctaSecondary: palette.brandAlt[200],\n  ctaSecondaryHover: \"#F2AE00\",\n  ctaTertiaryHover: \"#FFD213\"\n};\nconst border = {\n  primary: palette.neutral[60],\n  secondary: palette.neutral[86],\n  success: palette.success[400],\n  error: palette.error[400],\n  ctaTertiary: palette.brand[400],\n  input: palette.neutral[60],\n  inputChecked: palette.brand[500],\n  inputHover: palette.brand[500],\n  inputActive: palette.brand[500],\n  focusHalo: palette.focus[400]\n};\nconst brandBorder = {\n  primary: palette.brand[600],\n  secondary: palette.brand[600],\n  success: palette.success[500],\n  error: palette.error[500],\n  ctaTertiary: palette.neutral[100],\n  input: palette.brand[800],\n  inputChecked: palette.neutral[100],\n  inputHover: palette.neutral[100]\n};\nconst brandAltBorder = {\n  ctaTertiary: palette.neutral[7]\n};\nconst line = {\n  primary: palette.neutral[86]\n};\nconst brandLine = {\n  primary: palette.brand[600]\n};\nconst brandAltLine = {\n  primary: palette.neutral[7]\n};\nconst text = {\n  primary: palette.neutral[7],\n  supporting: palette.neutral[46],\n  success: palette.success[400],\n  error: palette.error[400],\n  ctaPrimary: palette.neutral[100],\n  ctaSecondary: palette.brand[400],\n  ctaTertiary: palette.brand[400],\n  anchorPrimary: palette.brand[500],\n  anchorSecondary: palette.neutral[7],\n  userInput: palette.neutral[7],\n  inputLabel: palette.neutral[7],\n  inputError: palette.neutral[7],\n  inputLabelSupporting: palette.neutral[46],\n  inputChecked: palette.brand[400],\n  //choice card only\n  inputHover: palette.brand[400],\n  //choice card only\n  groupLabel: palette.neutral[7],\n  groupLabelSupporting: palette.neutral[46],\n  newsInverse: palette.news[550]\n};\nconst brandText = {\n  primary: palette.neutral[100],\n  supporting: palette.brand[800],\n  success: palette.success[500],\n  error: palette.error[500],\n  ctaPrimary: palette.brand[400],\n  ctaSecondary: palette.neutral[100],\n  ctaTertiary: palette.neutral[100],\n  anchorPrimary: palette.neutral[100],\n  anchorPrimaryHover: palette.brandAlt[400],\n  userInput: palette.neutral[100],\n  inputLabel: palette.neutral[100],\n  inputLabelSupporting: palette.brand[800]\n};\nconst brandAltText = {\n  primary: palette.neutral[7],\n  supporting: palette.neutral[60],\n  ctaPrimary: palette.neutral[100],\n  ctaSecondary: palette.neutral[7],\n  ctaTertiary: palette.neutral[7],\n  anchorPrimary: palette.neutral[7]\n};\n\nexport { background, border, brand, brandAlt, brandAltBackground, brandAltBorder, brandAltLine, brandAltText, brandBackground, brandBorder, brandLine, brandText, culture, error, focus, labs, lifestyle, line, neutral, news, opinion, specialReport, sport, success, text };\n"],"names":["rightAdsPlaceholderClass","adPlaceholderClass","rightAdsStyles","css","RightAdsPlaceholder","div","className","picture","round","palette","img","block","Avatar","src","alt","shape","sources","generateSources","getSourceImageUrl","breakpoint","width","fallbackSource","getFallbackSource","map","source","Fragment","srcSet","hiResUrl","media","lowResUrl","listItemStyles","themePalette","linkTagStyles","headlineMedium17","sourcePalette","neutral","lineWrapperStyles","headlineWrapperStyles","imageWrapperStyles","marginTopStyles","MostViewedRightItem","trail","mostViewedItemIndex","hoverRef","isHovered","value","setValue","useState","ref","useRef","handleMouseOver","handleMouseOut","useEffect","node","current","addEventListener","removeEventListener","useHover","li","data-link-name","FormatBoundary","format","a","href","url","image","altText","design","ArticleDesign","LiveBlog","LinkHeadline","headlineText","headline","isLabs","theme","ArticleSpecial","Labs","size","showUnderline","kickerText","showPulsingDot","hasInlineKicker","byline","showByline","undefined","ageWarning","AgeWarning","age","wrapperStyles","stickyStyles","headingStyles","headlineBold17","MostViewedRight","limitItems","stickToTop","data","error","useApi","window","guardian","modules","sentry","reportError","mostReadTrails","tabs","trails","slice","decideTrail","data-component","StraightLines","cssOverrides","count","color","h3","ul","index","MostViewedRightWrapper","componentDataAttribute","maxHeightPx","renderAds","adBlockerDetected","useAdBlockInUse","heightIsAvailable","setHeightIsAvailable","containingElement","document","querySelector","height","getBoundingClientRect","isUndefined","MostViewedRightWithAd","isPaidContent","shouldHideReaderRevenue","shouldHideMostViewed","renderingTarget","useConfig","isApps","useDarkColourScheme","Video","Audio","data-container","AdSlot","position","display","colourScheme","decideFormat","dataLinkName","getDataLinkNameCard","getLinkType","cardStyle","SpecialReport","Analysis","DeadBlog","Feature","Editorial","Comment","Gallery","Review","Letter","group","Math","max","join","URL","prefix","find","bucket","pathname","startsWith","hostname","path","replace","isInUse","setIsInUse","isAdBlockInUse","then","blockerDetected","checkForErrors","response","ok","Error","statusText","status","options","init","useSWR","fetch","res","json","fetcher","loading","gapVertical","space","maxWidth","breakpoints","wide","getHeight","viewBox","lines","push","jsx","x1","x2","y1","y2","xmlns","preserveAspectRatio","stroke","strokeWidth","focusable","children","brand","brandAlt","success","news","opinion","sport","culture","lifestyle","labs","specialReport","focus","background","primary","secondary","inverse","ctaPrimary","ctaPrimaryHover","ctaSecondary","ctaSecondaryHover","ctaTertiaryHover","input","inputChecked","brandAltBackground","line","brandAltLine","text","supporting","ctaTertiary","anchorPrimary","anchorSecondary","userInput","inputLabel","inputError","inputLabelSupporting","inputHover","groupLabel","groupLabelSupporting","newsInverse","brandText","anchorPrimaryHover","brandAltText"],"sourceRoot":""}