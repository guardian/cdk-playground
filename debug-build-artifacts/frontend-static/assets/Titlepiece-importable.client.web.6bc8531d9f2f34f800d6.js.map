{"version":3,"file":"Titlepiece-importable.client.web.6bc8531d9f2f34f800d6.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/Grid.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/constants.ts","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/EditionDropdown.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/commonStyles.ts","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/ExpandedNav/MoreSection.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/ExpandedNav/CollapseSectionButton.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/ExpandedNav/Pillar.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/ExpandedNav/ReaderRevenueLinks.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/ExpandedNav/SearchBar.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/ExpandedNav/Sections.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/ExpandedNav/ExpandedNav.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/Logo.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/Pillars.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/SubNav.tsx","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/VeggieBurger.tsx","webpack://@guardian/dotcom-rendering/./src/components/Titlepiece.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/acquisitions.ts","webpack://@guardian/dotcom-rendering/./src/lib/articleFormat.ts","webpack://@guardian/dotcom-rendering/./src/lib/edition.ts","webpack://@guardian/dotcom-rendering/./src/lib/ophan-helpers.ts","webpack://@guardian/dotcom-rendering/./src/lib/querystring.ts","webpack://@guardian/dotcom-rendering/./src/lib/useEditionSwitcherBanner.ts","webpack://@guardian/dotcom-rendering/./src/lib/usePageViewId.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts"],"sourcesContent":["import type { SerializedStyles } from '@emotion/react';\nimport { css, jsx } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\nimport type { CSSProperties, PropsWithChildren } from 'react';\n\nconst grid = css`\n\tdisplay: grid;\n\tgrid-auto-rows: auto;\n\n\tgrid-template-columns:\n\t\t[viewport-start]\n\t\t0\n\t\t[content-start main-column-start]\n\t\trepeat(4, minmax(0, 1fr))\n\t\t[content-end main-column-end]\n\t\t0\n\t\t[viewport-end];\n\n\tcolumn-gap: 10px;\n\n\t${from.mobileLandscape} {\n\t\tcolumn-gap: 20px;\n\t}\n\n\t${from.tablet} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 40px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t${from.desktop} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n`;\n\nconst gridBeyondDesktop = css`\n\t${from.leftCol} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(2, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t${from.wide} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(3, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[main-column-end]\n\t\t\trepeat(1, 60px)\n\t\t\t[content-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n`;\n\n/**\n * Create a CSS grid container.\n * Use jointly with Content, LeftCol & RightCol.\n *\n * @see https://theguardian.design/2a1e5182b/p/41be19-grids\n */\nexport const Grid = ({\n\ttype = 'div',\n\tstyle,\n\thasPageSkin,\n\tchildren,\n}: PropsWithChildren<{\n\ttype: keyof JSX.IntrinsicElements;\n\thasPageSkin?: boolean;\n\tstyle?: CSSProperties;\n}>) =>\n\tjsx(\n\t\ttype,\n\t\t{ css: [grid, !hasPageSkin && gridBeyondDesktop], style },\n\t\tchildren,\n\t);\n\n/** Spans the entire width of the grid */\nexport const Content = ({\n\tchildren,\n\tstyles,\n}: PropsWithChildren<{ styles?: SerializedStyles }>) => (\n\t<section style={{ gridColumn: 'content' }} css={styles}>\n\t\t{children}\n\t</section>\n);\n\nexport const MainColumn = ({\n\tchildren,\n\tstyles,\n}: PropsWithChildren<{ styles?: SerializedStyles }>) => (\n\t<section\n\t\tstyle={{ gridColumn: 'main-column', gridRowStart: 1 }}\n\t\tcss={styles}\n\t>\n\t\t{children}\n\t</section>\n);\n\nconst hideUntilLeftCol = css`\n\tdisplay: none;\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t}\n`;\n/** Only visible from leftCol / 1140px */\nexport const LeftColumn = ({ children }: PropsWithChildren) => (\n\t<section\n\t\tstyle={{ gridColumn: 'left-column', gridRowStart: 1 }}\n\t\tcss={hideUntilLeftCol}\n\t>\n\t\t{children}\n\t</section>\n);\n\nconst hideUntilDesktop = css`\n\tdisplay: none;\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t}\n`;\n/** Only visible from desktop / 980px */\nexport const RightColumn = ({ children }: PropsWithChildren) => (\n\t<section style={{ gridColumn: 'right-column' }} css={hideUntilDesktop}>\n\t\t{children}\n\t</section>\n);\n","import { space } from '@guardian/source/foundations';\n\nexport const navInputCheckboxId = 'header-nav-input-checkbox';\nexport const veggieBurgerId = 'header-veggie-burger';\nexport const expandedMenuRootId = 'header-expanded-menu-root';\nexport const expandedMenuId = 'header-expanded-menu';\n\nexport const pillarLeftMarginPx = 6;\n\nexport const pillarWidthsPx = {\n\ttablet: 108,\n\tleftCol: 125,\n\twide: 136,\n};\n\nexport const smallMobilePageMargin = '10px';\nexport const pageMargin = `${space[5]}px`;\n\nexport const minHeaderHeightPx = 126;\n","import { css } from '@emotion/react';\nimport {\n\tfrom,\n\tspace,\n\ttextSans14,\n\ttextSans17,\n\tuntil,\n} from '@guardian/source/foundations';\nimport type { EditionId } from '../../../lib/edition';\nimport { editionList, getEditionFromId } from '../../../lib/edition';\nimport { getZIndex } from '../../../lib/getZIndex';\nimport { nestedOphanComponents } from '../../../lib/ophan-helpers';\nimport type { EditionLinkType } from '../../../model/extract-nav';\nimport { palette as themePalette } from '../../../palette';\nimport type { DropdownLinkType } from '../../Dropdown.importable';\nimport { Dropdown } from '../../Dropdown.importable';\n\ninterface EditionDropdownProps {\n\teditionId: EditionId;\n\tdataLinkName: string;\n\tshowCurrentEdition?: boolean;\n\tshowSlimNav?: boolean;\n}\n\nconst editionDropdownStyles = css`\n\tz-index: ${getZIndex('mastheadEditionDropdown')};\n\tdisplay: flex;\n\t/** Required to absolutely position the dropdown menu */\n\tposition: relative;\n\tcolor: ${themePalette('--masthead-nav-link-text')};\n\t${textSans17}\n\tmargin-top: ${space[1]}px;\n\n\tul {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: unset;\n\t\tmax-height: unset;\n\t\tmin-width: 200px;\n\n\t\t${from.mobileMedium} {\n\t\t\tleft: unset;\n\t\t\tright: 0;\n\t\t}\n\t}\n`;\n\nconst slimNavEditionDropdownOverrides = css`\n\t${until.tablet} {\n\t\tul {\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\tright: unset;\n\t\t\ttop: ${space[6]}px;\n\t\t\tmax-height: unset;\n\t\t\tmin-width: 200px;\n\t\t}\n\t}\n`;\n\nconst dropDownOverrides = (showSlimNav: boolean) => css`\n\t${textSans14}\n\t${from.leftCol} {\n\t\t${textSans17}\n\t}\n\tcolor: ${themePalette('--masthead-nav-link-text')};\n\tpadding: 6px 0 0 0;\n\tmargin-top: ${space[1]}px;\n\n\t&:not(ul):hover {\n\t\tcolor: ${themePalette('--masthead-nav-link-text')};\n\t\ttext-decoration: underline;\n\t}\n\n\t${showSlimNav &&\n\tcss`\n\t\tpadding: 0;\n\t\tmargin-top: 0;\n\t`}\n`;\n\nexport const EditionDropdown = ({\n\teditionId,\n\tdataLinkName,\n\tshowCurrentEdition = true,\n\tshowSlimNav = false,\n}: EditionDropdownProps) => {\n\tconst editionToDropdownLink = (edition: EditionLinkType) => ({\n\t\tid: edition.editionId,\n\t\turl: edition.url,\n\t\ttitle: edition.longTitle,\n\t\tshortTitle: edition.shortTitle,\n\t\tdataLinkName: nestedOphanComponents(\n\t\t\t'header',\n\t\t\t'titlepiece',\n\t\t\t`edition-picker: ${edition.editionId}`,\n\t\t),\n\t\tisActive: editionId === edition.editionId,\n\t});\n\n\tconst activeEdition: DropdownLinkType = editionToDropdownLink(\n\t\tgetEditionFromId(editionId),\n\t);\n\n\tconst dropdownItems: DropdownLinkType[] = editionList.map(\n\t\teditionToDropdownLink,\n\t);\n\n\t// Remove the active link and add it back to the top of the list\n\tconst linksToDisplay = [\n\t\tactiveEdition,\n\t\t...dropdownItems.filter(({ isActive }) => !isActive),\n\t];\n\n\tconst label = showCurrentEdition\n\t\t? activeEdition.shortTitle ?? activeEdition.id\n\t\t: 'Edition';\n\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\teditionDropdownStyles,\n\t\t\t\tshowSlimNav && slimNavEditionDropdownOverrides,\n\t\t\t]}\n\t\t>\n\t\t\t<Dropdown\n\t\t\t\tlabel={label}\n\t\t\t\tlinks={linksToDisplay}\n\t\t\t\tid=\"masthead-edition\"\n\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\tcssOverrides={dropDownOverrides(showSlimNav)}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, space } from '@guardian/source/foundations';\nimport { palette } from '../../../palette';\n\n/**\n * Removes bullet points from unordered list elements\n * and adds zero width space for screen readers\n */\nexport const listAccessibility = css`\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\t&::before {\n\t\tcontent: '\\\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n`;\n\n/** Hides element from view from desktop breakpoint */\nexport const hideFromDesktop = css`\n\t${from.desktop} {\n\t\tdisplay: none;\n\t}\n`;\n\nexport const expandedNavLinkStyles = css`\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: left;\n\tbox-sizing: border-box;\n\tborder: 0;\n\toutline: none;\n\tcursor: pointer;\n\twidth: 100%;\n\tcolor: ${palette('--masthead-nav-link-text')};\n\ttext-decoration: none;\n\tpadding: ${space[2]}px ${space[8]}px ${space[2]}px ${space[12]}px;\n\n\t> * {\n\t\tpointer-events: none;\n\t}\n\n\t${from.tablet} {\n\t\tpadding-left: 60px;\n\t}\n\n\t${from.desktop} {\n\t\tpadding: 6px 0;\n\t}\n\n\t:hover,\n\t:focus {\n\t\tcolor: ${palette('--masthead-nav-link-text-hover')};\n\t}\n`;\n","/**\n * @file\n * This file was largely copied from src/components/Nav/ExpandedMenu/MoreColumn.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\tspace,\n\ttextSans15,\n\ttextSans17,\n} from '@guardian/source/foundations';\nimport { nestedOphanComponents } from '../../../../lib/ophan-helpers';\nimport type { LinkType } from '../../../../model/extract-nav';\nimport { palette as themePalette } from '../../../../palette';\nimport { expandedNavLinkStyles, listAccessibility } from '../commonStyles';\nimport { pillarWidthsPx } from '../constants';\n\nconst hideDesktop = css`\n\t${from.desktop} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst columnStyle = css`\n\t${textSans17};\n\t${listAccessibility};\n\tmargin: 0;\n\tpadding-bottom: 10px;\n\tposition: relative;\n\n\t/* Remove the border from the top item on mobile */\n\t:first-of-type:after {\n\t\tcontent: none;\n\t}\n\n\t${from.desktop} {\n\t\twidth: ${pillarWidthsPx.tablet}px;\n\t\tfloat: left;\n\t\tposition: relative;\n\n\t\t:after {\n\t\t\tcontent: none;\n\t\t}\n\t}\n`;\n\nconst columnStyleFromLeftCol = css`\n\t${from.leftCol} {\n\t\twidth: ${pillarWidthsPx.leftCol}px;\n\t}\n\t${from.wide} {\n\t\twidth: ${pillarWidthsPx.wide}px;\n\t}\n`;\n\nconst pillarDivider = css`\n\t${from.desktop} {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tright: 0;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\twidth: 1px;\n\t\t\theight: auto;\n\t\t\tbackground-color: ${themePalette('--masthead-nav-lines')};\n\t\t}\n\t}\n`;\n\nconst pillarDividerExtended = css`\n\t${from.desktop} {\n\t\t:after {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tright: 0;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 1px;\n\t\t\theight: auto;\n\t\t\tbackground-color: ${themePalette('--masthead-nav-lines')};\n\t\t}\n\t}\n`;\n\nconst columnLinks = css`\n\t${textSans17};\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\t${listAccessibility};\n\tmargin: 0;\n\tpadding: 0 0 ${space[3]}px;\n\tposition: relative;\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex-wrap: nowrap;\n\t\torder: 1;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tpadding: 0 ${space[2]}px;\n\t}\n`;\n\nconst columnLinkTitle = css`\n\t${expandedNavLinkStyles};\n\t${textSans15};\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst mainMenuLinkStyle = css`\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tposition: relative;\n\twidth: 100%;\n\t${from.desktop} {\n\t\tdisplay: list-item;\n\t}\n`;\n\ntype Props = {\n\totherLinks: LinkType[];\n\tbrandExtensions: LinkType[];\n\thasPageSkin?: boolean;\n};\n\n/**\n * This is a list of links related to Guardian journalism and products.\n * This can include things like \"The Guardian app, Video, Podcasts etc\"\n * Does not contain any reader revenue type links.\n */\nexport const MoreSection = ({\n\totherLinks,\n\tbrandExtensions,\n\thasPageSkin,\n}: Props) => {\n\tconst moreSectionId = 'moreLinks';\n\n\tconst links = [\n\t\t...brandExtensions.map((brandExtension) => ({\n\t\t\t...brandExtension,\n\t\t\tmobileOnly: true,\n\t\t})),\n\t\t...otherLinks,\n\t];\n\n\treturn (\n\t\t<li\n\t\t\tcss={[\n\t\t\t\tcolumnStyle,\n\t\t\t\t!hasPageSkin && columnStyleFromLeftCol,\n\t\t\t\tpillarDivider,\n\t\t\t\tpillarDividerExtended,\n\t\t\t]}\n\t\t\trole=\"none\"\n\t\t>\n\t\t\t<ul css={columnLinks} role=\"menu\" id={moreSectionId}>\n\t\t\t\t{links.map((link) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={link.title.toLowerCase()}\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tmainMenuLinkStyle,\n\t\t\t\t\t\t\t!!link.mobileOnly && hideDesktop,\n\t\t\t\t\t\t]}\n\t\t\t\t\t\trole=\"none\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"selectableMenuItem\"\n\t\t\t\t\t\t\tcss={columnLinkTitle}\n\t\t\t\t\t\t\thref={link.url}\n\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\tdata-link-name={nestedOphanComponents(\n\t\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t\t'secondary',\n\t\t\t\t\t\t\t\tlink.longTitle,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tdata-testid={`column-collapse-sublink-${link.title}`}\n\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{link.longTitle}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</li>\n\t);\n};\n","/**\n * @file\n * This file was largely copied from src/components/Nav/ExpandedMenu/CollapseColumButton.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\theadlineBold24,\n\tspace,\n\ttextSans17,\n} from '@guardian/source/foundations';\nimport { nestedOphanComponents } from '../../../../lib/ophan-helpers';\nimport { expandedNavLinkStyles, hideFromDesktop } from '../commonStyles';\n\ntype Props = {\n\ttitle: string;\n\tcolumnInputId: string;\n\tcollapseColumnInputId: string;\n\tariaControls: string;\n};\n\nconst showColumnLinksStyle = (columnInputId: string) => css`\n\t/*\n        IMPORTANT NOTE:\n        we need to specify the adjacent path to the a (current) tag\n        to apply styles to the nested tabs due to the fact we use ~\n        to support NoJS\n    */\n\t/* stylelint-disable-next-line selector-type-no-unknown */\n\t${`#${columnInputId}`}:checked ~ & {\n\t\t:before {\n\t\t\tmargin-top: ${space[2]}px;\n\t\t\ttransform: rotate(-135deg);\n\t\t}\n\t}\n`;\n\nconst collapseColumnButton = css`\n\t${headlineBold24};\n\n\t${expandedNavLinkStyles};\n\tpadding: ${space[2]}px ${space[8]}px ${space[2]}px ${space[12]}px;\n\n\tdisplay: block;\n\n\tuser-select: none;\n\ttext-transform: capitalize;\n\n\t:before {\n\t\tmargin-top: ${space[1]}px;\n\t\tleft: ${space[6]}px;\n\t\tposition: absolute;\n\t\tborder: 2px solid currentColor;\n\t\tborder-top: 0;\n\t\tborder-left: 0;\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\ttransform: rotate(45deg);\n\t\theight: 10px;\n\t\twidth: 10px;\n\t}\n`;\n\nconst editionStyle = css`\n\ttext-transform: none;\n\t${textSans17};\n`;\n\n/**\n * Mobile only button to collapse a pillar section\n */\nexport const CollapseSectionButton = ({\n\ttitle,\n\tcolumnInputId,\n\tcollapseColumnInputId,\n\tariaControls,\n}: Props) => (\n\t<label\n\t\tid={collapseColumnInputId}\n\t\tclassName=\"selectableMenuItem\"\n\t\tcss={[\n\t\t\tcollapseColumnButton,\n\t\t\ttitle.includes('edition') && editionStyle,\n\t\t\tshowColumnLinksStyle(columnInputId),\n\t\t\thideFromDesktop,\n\t\t]}\n\t\taria-label={`Toggle ${title}`}\n\t\thtmlFor={columnInputId}\n\t\taria-haspopup=\"true\"\n\t\taria-controls={ariaControls}\n\t\ttabIndex={-1}\n\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role -- weâ€™re using this label for a CSS-only toggle\n\t\trole=\"menuitem\"\n\t\tdata-testid={`column-collapse-${title}`}\n\t\tdata-link-name={nestedOphanComponents('header', 'secondary', title)}\n\t>\n\t\t{title}\n\t</label>\n);\n","/**\n * @file\n * This file was largely copied from src/components/Nav/ExpandedMenu/Column.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\tspace,\n\ttextSans15,\n\tuntil,\n\tvisuallyHidden,\n} from '@guardian/source/foundations';\nimport { nestedOphanComponents } from '../../../../lib/ophan-helpers';\nimport type {\n\tEditionLinkType,\n\tPillarLinkType,\n} from '../../../../model/extract-nav';\nimport { palette as themePalette } from '../../../../palette';\nimport {\n\texpandedNavLinkStyles,\n\thideFromDesktop,\n\tlistAccessibility,\n} from '../commonStyles';\nimport { pillarWidthsPx } from '../constants';\nimport { CollapseSectionButton } from './CollapseSectionButton';\n\nconst pillarDivider = css`\n\t${from.desktop} {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tright: 0;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\twidth: 1px;\n\t\t\tbackground-color: ${themePalette('--masthead-nav-lines')};\n\t\t}\n\t}\n`;\n\nconst columnLinkTitle = css`\n\t${textSans15};\n\n\t${expandedNavLinkStyles};\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nexport const mainMenuLinkStyle = css`\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tposition: relative;\n\twidth: 100%;\n\t${from.desktop} {\n\t\tdisplay: list-item;\n\t}\n`;\n\nexport const columnLinks = css`\n\t${textSans15};\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\t${listAccessibility};\n\n\tmargin: 0;\n\tpadding: 0 0 ${space[3]}px;\n\tposition: relative;\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex-wrap: nowrap;\n\t\torder: 1;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tpadding: 0 ${space[2]}px;\n\t}\n`;\n\nconst firstColumnLinks = css`\n\t${from.desktop} {\n\t\tpadding-left: 0;\n\t}\n\t${until.tablet} {\n\t\tbackground: ${themePalette('--masthead-nav-background')};\n\t}\n`;\n\nconst pillarColumnLinks = css`\n\t${until.tablet} {\n\t\tbackground: ${themePalette('--masthead-nav-background')};\n\t}\n`;\n\nconst hideWhenChecked = (columnInputId: string) => css`\n\t${until.desktop} {\n\t\t${`#${columnInputId}`}:checked ~ & {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n`;\n\nconst hideWhenNotChecked = (columnInputId: string) => css`\n\t${until.desktop} {\n\t\t${`#${columnInputId}`}:not(:checked) ~ & {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n`;\n\nexport const lineStyle = css`\n\t${from.desktop} {\n\t\tdisplay: none;\n\t}\n\tbackground-color: ${themePalette('--masthead-nav-border')};\n\tcontent: '';\n\tdisplay: block;\n\theight: 1px;\n\tmargin-left: 50px;\n\tright: 0;\n`;\n\nconst columnStyle = css`\n\t${textSans15};\n\n\t${listAccessibility};\n\n\tmargin: 0;\n\tpadding-bottom: 10px;\n\tposition: relative;\n\n\t${from.desktop} {\n\t\twidth: ${pillarWidthsPx.tablet}px;\n\t\tfloat: left;\n\t\tposition: relative;\n\t\tborder-left: 1px solid ${themePalette('--masthead-nav-lines')};\n\n\t\t:first-of-type {\n\t\t\tborder-left: none;\n\t\t\twidth: calc(${pillarWidthsPx.tablet}px - 2px);\n\t\t}\n\t}\n`;\n\nconst columnStyleFromLeftCol = css`\n\t${from.leftCol} {\n\t\twidth: ${pillarWidthsPx.leftCol}px;\n\t\t:first-of-type {\n\t\t\twidth: calc(${pillarWidthsPx.leftCol}px - 2px);\n\t\t}\n\t}\n\t${from.wide} {\n\t\twidth: ${pillarWidthsPx.wide}px;\n\t\t:first-of-type {\n\t\t\twidth: calc(${pillarWidthsPx.wide}px - 2px);\n\t\t}\n\t}\n`;\n\n/**\n * Contains secondary navigation links relating to pillars\n * E.g. \"Business\" under the News pillar, \"Food\" under the Lifestyle pillar\n */\nexport const Pillar = ({\n\tcolumn,\n\tindex,\n\tshowLineBelow,\n\thasPageSkin,\n}: {\n\tcolumn: PillarLinkType | EditionLinkType;\n\tindex: number;\n\tshowLineBelow: boolean;\n\thasPageSkin?: boolean;\n}) => {\n\t// As the elements are dynamic we need to specify the IDs here\n\t//Replace whitespace with hyphen https://stackoverflow.com/questions/3794919/replace-all-spaces-in-a-string-with/3795147#3795147\n\tconst columnId = column.title.split(' ').join('-');\n\tconst columnInputId = `${columnId}-checkbox-input`;\n\tconst collapseColumnInputId = `${columnId}-button`;\n\tconst ariaControls = `${columnId.toLowerCase()}Links`;\n\n\treturn (\n\t\t<li\n\t\t\tcss={[\n\t\t\t\tcolumnStyle,\n\t\t\t\t!hasPageSkin && columnStyleFromLeftCol,\n\t\t\t\tpillarDivider,\n\t\t\t]}\n\t\t\trole=\"none\"\n\t\t>\n\t\t\t{/*\n                IMPORTANT NOTE: Supporting NoJS and accessibility is hard.\n\n                We therefore use JS to make the Nav elements more accessible. We add a\n                keydown `addEventListener` to toggle the column drop down.\n                This is not a perfect solution as not all screen readers support JS\n                https://webaim.org/projects/screenreadersurvey8/#javascript\n            */}\n\t\t\t<script\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: `document.addEventListener('DOMContentLoaded', function(){\n                        var columnInput = document.getElementById('${collapseColumnInputId}');\n\n\t\t\t\t\t\tif (!columnInput) return; // Sticky nav replaces the nav so element no longer exists for users in test.\n\n\t\t\t\t\t\tcolumnInput.addEventListener('keydown', function(e){\n                            // keyCode: 13 => Enter key | keyCode: 32 => Space key\n                            if (e.keyCode === 13 || e.keyCode === 32) {\n                                e.preventDefault()\n                                document.getElementById('${columnInputId}').click();\n                            }\n                        })\n                    })`,\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t{/*\n                IMPORTANT NOTE:\n                It is important to have the input as the 1st sibling for NoJS to work\n                as we use ~ to apply certain styles on checkbox checked and ~ can only\n                apply to styles with elements that are preceded\n            */}\n\t\t\t<input\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden};\n\t\t\t\t`}\n\t\t\t\tid={columnInputId}\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey=\"OpenExpandedMenuCheckbox\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t/>\n\t\t\t<CollapseSectionButton\n\t\t\t\tcollapseColumnInputId={collapseColumnInputId}\n\t\t\t\ttitle={column.title}\n\t\t\t\tcolumnInputId={columnInputId}\n\t\t\t\tariaControls={ariaControls}\n\t\t\t/>\n\n\t\t\t{/* ColumnLinks */}\n\t\t\t<ul\n\t\t\t\tcss={[\n\t\t\t\t\tcolumnLinks,\n\t\t\t\t\tindex === 0 && firstColumnLinks,\n\t\t\t\t\t!!column.children && pillarColumnLinks,\n\t\t\t\t\thideWhenNotChecked(columnInputId),\n\t\t\t\t]}\n\t\t\t\trole=\"menu\"\n\t\t\t\tid={ariaControls}\n\t\t\t\tdata-testid={ariaControls}\n\t\t\t>\n\t\t\t\t{(column.children ?? []).map((link) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={link.title.toLowerCase()}\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tmainMenuLinkStyle,\n\t\t\t\t\t\t\t!!link.mobileOnly && hideFromDesktop,\n\t\t\t\t\t\t]}\n\t\t\t\t\t\trole=\"none\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"selectableMenuItem\"\n\t\t\t\t\t\t\tcss={columnLinkTitle}\n\t\t\t\t\t\t\thref={link.url}\n\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\tdata-link-name={nestedOphanComponents(\n\t\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t\t'secondary',\n\t\t\t\t\t\t\t\tlink.longTitle,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tdata-testid={`column-collapse-sublink-${link.title}`}\n\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{link.longTitle}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t{showLineBelow && (\n\t\t\t\t<div css={[hideWhenChecked(columnInputId), lineStyle]}></div>\n\t\t\t)}\n\t\t</li>\n\t);\n};\n","/**\n * @file\n * This file was largely copied from src/components/Nav/ExpandedMenu/ReaderRevenueLinks.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, textSans17, textSansBold20 } from '@guardian/source/foundations';\nimport { useEffect, useState } from 'react';\nimport { addTrackingCodesToUrl } from '../../../../lib/acquisitions';\nimport type { EditionId } from '../../../../lib/edition';\nimport { nestedOphanComponents } from '../../../../lib/ophan-helpers';\nimport { usePageViewId } from '../../../../lib/usePageViewId';\nimport type { LinkType } from '../../../../model/extract-nav';\nimport { palette as themePalette } from '../../../../palette';\nimport type { ReaderRevenuePositions } from '../../../../types/commercial';\nimport { useConfig } from '../../../ConfigContext';\nimport { expandedNavLinkStyles, hideFromDesktop } from '../commonStyles';\n\nconst columnLinkTitle = css`\n\t${expandedNavLinkStyles}\n\tcolor: ${themePalette('--nav-reader-revenue-link-text')};\n\t${textSansBold20}\n\n\t${from.desktop} {\n\t\t${textSans17}\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst mainMenuLinkStyle = css`\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tposition: relative;\n\twidth: 100%;\n\t${from.desktop} {\n\t\tdisplay: list-item;\n\t}\n`;\n\ntype Props = {\n\treaderRevenueLinks: ReaderRevenuePositions;\n\teditionId: EditionId;\n};\n\n/**\n * Mobile only links for support asks and subscriptions\n */\nexport const ReaderRevenueLinks = ({\n\treaderRevenueLinks,\n\teditionId,\n}: Props) => {\n\tconst { renderingTarget } = useConfig();\n\tconst pageViewId = usePageViewId(renderingTarget);\n\n\tconst [referrerUrl, setReferrerUrl] = useState('');\n\tuseEffect(() => {\n\t\tsetReferrerUrl(window.location.origin + window.location.pathname);\n\t}, []);\n\n\tconst printSubUrl = addTrackingCodesToUrl({\n\t\tbase: `https://support.theguardian.com/subscribe${\n\t\t\teditionId === 'UK' ? '' : '/weekly'\n\t\t}`,\n\t\tcomponentType: 'ACQUISITIONS_HEADER',\n\t\tcomponentId: 'PrintSubscriptionsHeaderLink',\n\t\tpageViewId,\n\t\treferrerUrl,\n\t});\n\n\t/** Additional links configured to only appear on the US edition */\n\tconst usEditionLinks = [\n\t\t{\n\t\t\tlongTitle: 'Newsletters',\n\t\t\ttitle: 'Newsletters',\n\t\t\tmobileOnly: true,\n\t\t\turl: '/email-newsletters',\n\t\t},\n\t\t{\n\t\t\tlongTitle: 'Download the app',\n\t\t\ttitle: 'Download the app',\n\t\t\tmobileOnly: true,\n\t\t\turl: 'https://app.adjust.com/1hskf6nd?adgroup=USHeader',\n\t\t},\n\t];\n\n\tconst links: LinkType[] = [\n\t\t{\n\t\t\tlongTitle: 'Support us',\n\t\t\ttitle: 'Support us',\n\t\t\tmobileOnly: true,\n\t\t\turl: readerRevenueLinks.sideMenu.support,\n\t\t},\n\t\t{\n\t\t\tlongTitle: 'Print subscriptions',\n\t\t\ttitle: 'Print subscriptions',\n\t\t\tmobileOnly: true,\n\t\t\turl: printSubUrl,\n\t\t},\n\t\t...(editionId === 'US' ? usEditionLinks : []),\n\t];\n\n\treturn (\n\t\t<ul css={hideFromDesktop} role=\"menu\">\n\t\t\t{links.map((link) => (\n\t\t\t\t<li\n\t\t\t\t\tkey={link.title.toLowerCase()}\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tmainMenuLinkStyle,\n\t\t\t\t\t\t!!link.mobileOnly && hideFromDesktop,\n\t\t\t\t\t]}\n\t\t\t\t\trole=\"none\"\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName=\"selectableMenuItem\"\n\t\t\t\t\t\tcss={columnLinkTitle}\n\t\t\t\t\t\thref={link.url}\n\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\tdata-link-name={nestedOphanComponents(\n\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t'secondary',\n\t\t\t\t\t\t\tlink.longTitle,\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tdata-testid={`column-collapse-sublink-${link.title}`}\n\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t>\n\t\t\t\t\t\t{link.longTitle}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, space, textSans15 } from '@guardian/source/foundations';\nimport {\n\tButton,\n\tLabel,\n\tSvgArrowRightStraight,\n\tSvgMagnifyingGlass,\n\tTextInput,\n} from '@guardian/source/react-components';\nimport { nestedOphanComponents } from '../../../../lib/ophan-helpers';\nimport { palette as themePalette } from '../../../../palette';\n\nconst searchBar = css`\n\tbox-sizing: border-box;\n\tdisplay: block;\n\tmargin-left: ${space[4]}px;\n\tmax-width: 380px;\n\tposition: relative;\n\tmargin-bottom: 24px;\n\tmargin-right: 41px;\n\tpadding-bottom: 15px;\n\t${from.desktop} {\n\t\tmargin: 0;\n\t}\n`;\n\nconst searchInput = css`\n\t${textSans15}\n\tbackground-color: ${themePalette('--nav-search-bar-background')};\n\tborder: 0;\n\tborder-radius: 1000px;\n\tbox-sizing: border-box;\n\tcolor: ${themePalette('--nav-search-bar-text')};\n\theight: 36px;\n\tpadding-left: 38px;\n\tvertical-align: middle;\n\twidth: 100%;\n\t&::placeholder {\n\t\tcolor: ${themePalette('--nav-search-bar-text')};\n\t}\n\t&:focus {\n\t\tpadding-right: 40px;\n\t\t&::placeholder {\n\t\t\topacity: 0;\n\t\t}\n\t}\n\t&:focus ~ button {\n\t\tbackground-color: transparent;\n\t\topacity: 1;\n\t\tpointer-events: all;\n\t}\n`;\n\nconst searchGlass = css`\n\tposition: absolute;\n\tleft: 7px;\n\ttop: 7px;\n\tfill: ${themePalette('--nav-search-bar-icon')};\n`;\n\nconst searchSubmit = css`\n\tbackground: transparent;\n\tborder: 0;\n\tbottom: 0;\n\tcursor: pointer;\n\tdisplay: block;\n\topacity: 0;\n\tpointer-events: none;\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\twidth: 50px;\n\tfill: ${themePalette('--nav-search-bar-icon')};\n\t&:focus,\n\t&:active {\n\t\topacity: 0;\n\t\tpointer-events: all;\n\t}\n\t&:before {\n\t\theight: 12px;\n\t\ttop: ${space[3]}px;\n\t\twidth: 12px;\n\t}\n\t&:after {\n\t\tborder-right: 0;\n\t\ttop: 17px;\n\t\twidth: 20px;\n\t}\n`;\n\nexport const SearchBar = () => {\n\tconst searchId = 'gu-search';\n\treturn (\n\t\t<form css={searchBar} action=\"https://www.google.co.uk/search\">\n\t\t\t<TextInput\n\t\t\t\thideLabel={true}\n\t\t\t\tlabel=\"Search input\"\n\t\t\t\tcssOverrides={searchInput}\n\t\t\t\tname=\"q\" // query param sent to google\n\t\t\t\tplaceholder=\"Search the Guardian\"\n\t\t\t\tdata-link-name={nestedOphanComponents('header', 'search')}\n\t\t\t\tclassName=\"selectableMenuItem\"\n\t\t\t\ttabIndex={-1}\n\t\t\t\tid={searchId}\n\t\t\t/>\n\n\t\t\t<Label hideLabel={true} text=\"google-search\" htmlFor={searchId}>\n\t\t\t\t<div css={searchGlass}>\n\t\t\t\t\t<SvgMagnifyingGlass\n\t\t\t\t\t\tisAnnouncedByScreenReader={true}\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Label>\n\t\t\t<Button\n\t\t\t\ticon={\n\t\t\t\t\t<SvgArrowRightStraight\n\t\t\t\t\t\tisAnnouncedByScreenReader={false}\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\taria-label=\"Search with Google\"\n\t\t\t\tcssOverrides={searchSubmit}\n\t\t\t\tdata-link-name={nestedOphanComponents(\n\t\t\t\t\t'header',\n\t\t\t\t\t'search',\n\t\t\t\t\t'submit',\n\t\t\t\t)}\n\t\t\t\ttype=\"submit\"\n\t\t\t\ttabIndex={-1}\n\t\t\t></Button>\n\t\t\t<input\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tname=\"as_sitesearch\"\n\t\t\t\tvalue=\"www.theguardian.com\"\n\t\t\t/>\n\t\t</form>\n\t);\n};\n","/**\n * @file\n * This file was largely copied from src/components/Nav/ExpandedMenu/Columns.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold20,\n\theadlineBold24,\n\tspace,\n\ttextSans17,\n} from '@guardian/source/foundations';\nimport { Hide } from '@guardian/source/react-components';\nimport type { EditionId } from '../../../../lib/edition';\nimport { nestedOphanComponents } from '../../../../lib/ophan-helpers';\nimport type { LinkType, NavType } from '../../../../model/extract-nav';\nimport { palette as themePalette } from '../../../../palette';\nimport { expandedNavLinkStyles, listAccessibility } from '../commonStyles';\nimport { MoreSection } from './MoreSection';\nimport { lineStyle, Pillar } from './Pillar';\nimport { ReaderRevenueLinks } from './ReaderRevenueLinks';\nimport { SearchBar } from './SearchBar';\n\nconst columnsStyle = css`\n\tbox-sizing: border-box;\n\tmax-width: none;\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t\tpadding: 0 ${space[5]}px;\n\t\tposition: relative;\n\t\tmargin: 0 auto;\n\t\tdisplay: flex;\n\t\tborder-right: 1px solid ${themePalette('--masthead-nav-lines')};\n\t\tborder-top: 1px solid ${themePalette('--masthead-nav-lines')};\n\n\t\t&:first-of-type {\n\t\t\tborder-left: 1px solid ${themePalette('--masthead-nav-lines')};\n\t\t}\n\t}\n`;\n\nconst columnsStyleFromLeftCol = css`\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n\nconst desktopBrandExtensionColumn = css`\n\tdisplay: none;\n\t${from.desktop} {\n\t\tdisplay: block;\n\t}\n\tpadding: ${space[2]}px;\n`;\n\nconst brandExtensionList = css`\n\t${textSans17};\n\t${listAccessibility}\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-wrap: wrap;\n\tmargin: 0;\n\tpadding-bottom: 0;\n`;\n\nconst brandExtensionListFromLeftCol = css`\n\t${from.leftCol} {\n\t\twidth: 140px;\n\t}\n\t${from.wide} {\n\t\twidth: 300px;\n\t}\n`;\n\nconst brandExtensionListItem = css`\n\tmargin-right: 0;\n\tmargin-top: -6px;\n\tpadding-bottom: 0;\n`;\n\nconst brandExtensionLink = css`\n\t${expandedNavLinkStyles}\n\t${headlineBold20};\n\ttext-decoration: none;\n\n\t${from.tablet} {\n\t\tpadding-left: 60px;\n\t}\n\t${from.desktop} {\n\t\tpadding: 6px 0;\n\t}\n`;\n\nconst brandExtensionLinkFromWide = css`\n\t${from.wide} {\n\t\t${headlineBold24};\n\t}\n`;\n\ntype Props = {\n\teditionId: EditionId;\n\tnav: NavType;\n\thasPageSkin?: boolean;\n};\n\nexport const Sections = ({ nav, editionId, hasPageSkin }: Props) => {\n\treturn (\n\t\t<ul\n\t\t\tcss={[columnsStyle, !hasPageSkin && columnsStyleFromLeftCol]}\n\t\t\trole=\"menubar\"\n\t\t\tdata-testid=\"nav-menu-columns\"\n\t\t>\n\t\t\t{nav.pillars.map((column, i) => {\n\t\t\t\tconst viewAllLink = {\n\t\t\t\t\ttitle: column.title,\n\t\t\t\t\tlongTitle: `View all ${column.title}`,\n\t\t\t\t\turl: column.url,\n\t\t\t\t\tchildren: [],\n\t\t\t\t\tmobileOnly: true,\n\t\t\t\t} satisfies LinkType;\n\n\t\t\t\tconst children = column.children && [\n\t\t\t\t\tviewAllLink,\n\t\t\t\t\t...column.children,\n\t\t\t\t];\n\n\t\t\t\treturn (\n\t\t\t\t\t<Pillar\n\t\t\t\t\t\tcolumn={{\n\t\t\t\t\t\t\t...column,\n\t\t\t\t\t\t\tchildren,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkey={column.title.toLowerCase()}\n\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\tshowLineBelow={i !== nav.pillars.length - 1}\n\t\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<Hide from=\"desktop\">\n\t\t\t\t<li role=\"none\">\n\t\t\t\t\t<SearchBar />\n\t\t\t\t</li>\n\t\t\t</Hide>\n\t\t\t<div css={lineStyle}></div>\n\n\t\t\t<ReaderRevenueLinks\n\t\t\t\treaderRevenueLinks={nav.readerRevenueLinks}\n\t\t\t\teditionId={editionId}\n\t\t\t/>\n\n\t\t\t{/* Mobile only Brand Extensions list */}\n\t\t\t<MoreSection\n\t\t\t\totherLinks={nav.otherLinks}\n\t\t\t\tbrandExtensions={nav.brandExtensions}\n\t\t\t\tkey=\"more\"\n\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t/>\n\n\t\t\t{/* Desktop only Brand Extensions list*/}\n\t\t\t<li css={desktopBrandExtensionColumn} role=\"none\">\n\t\t\t\t<SearchBar />\n\n\t\t\t\t<ul\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tbrandExtensionList,\n\t\t\t\t\t\t!hasPageSkin && brandExtensionListFromLeftCol,\n\t\t\t\t\t]}\n\t\t\t\t\trole=\"menu\"\n\t\t\t\t>\n\t\t\t\t\t{nav.brandExtensions.map((brandExtension) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tcss={brandExtensionListItem}\n\t\t\t\t\t\t\tkey={brandExtension.title}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName=\"selectableMenuItem\"\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\tbrandExtensionLink,\n\t\t\t\t\t\t\t\t\t!hasPageSkin && brandExtensionLinkFromWide,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\thref={brandExtension.url}\n\t\t\t\t\t\t\t\tkey={brandExtension.title}\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\tdata-link-name={nestedOphanComponents(\n\t\t\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t\t\t'brand extension',\n\t\t\t\t\t\t\t\t\tbrandExtension.longTitle,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{brandExtension.longTitle}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t);\n};\n","/**\n * @file\n * This file was largely copied from src/components/Nav/ExpandedMenu/ExpandedMenu.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, textSans20, until } from '@guardian/source/foundations';\nimport type { EditionId } from '../../../../lib/edition';\nimport { getZIndex } from '../../../../lib/getZIndex';\nimport type { NavType } from '../../../../model/extract-nav';\nimport { palette as themePalette } from '../../../../palette';\nimport { expandedMenuId, navInputCheckboxId } from '../constants';\nimport { Sections } from './Sections';\n\nconst collapsedMenuStyles = css`\n\t${until.desktop} {\n\t\t/* the negative translateX makes the nav hide to the side */\n\t\ttransform: translateX(-110%);\n\t\ttransition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n\t\tbottom: 0;\n\t\theight: 100%;\n\t\toverflow: auto;\n\t\tposition: fixed;\n\t\tright: 0;\n\t\twill-change: transform;\n\t}\n\t${from.desktop} {\n\t\tdisplay: none;\n\t}\n`;\n\nexport const expandedMenuStyles = css`\n\t${until.desktop} {\n\t\t/* menu appears from left of screen on mobile when translateX is set to 0% */\n\t\ttransform: translateX(0%);\n\t}\n\t${from.desktop} {\n\t\tdisplay: block;\n\t\toverflow: visible;\n\t}\n`;\n\nconst wrapperMainMenuStyles = css`\n\tz-index: ${getZIndex('expanded-veggie-menu-wrapper')};\n\tleft: 0;\n\ttop: 0;\n\n\t${collapsedMenuStyles}\n\n\t/*\n\tIMPORTANT NOTE:\n\twe need to specify the adjacent path to the a (current) tag\n\tto apply styles to the nested tabs due to the fact we use ~\n\tto support NoJS\n\n\tThe following styles apply if the menu is open (checkbox is checked)\n\t*/\n\t${`#${navInputCheckboxId}`}:checked ~ div & {\n\t\t${expandedMenuStyles}\n\t}\n`;\n\nconst mainMenuStyles = css`\n\tbackground-color: ${themePalette('--masthead-nav-background')};\n\t${textSans20};\n\tz-index: ${getZIndex('expanded-veggie-menu')};\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n\n\tposition: absolute;\n\tmargin-right: 28px;\n\tbox-shadow: 28px 0 rgba(0, 0, 0, 0.4);\n\t${from.mobileLandscape} {\n\t\tmargin-right: 40px;\n\t\tbox-shadow: 40px 0 rgba(0, 0, 0, 0.4);\n\t}\n\t${from.tablet} {\n\t\tmargin-right: 100px;\n\t\tbox-shadow: 100px 0 rgba(0, 0, 0, 0.4);\n\t}\n\t${from.desktop} {\n\t\tbox-shadow: none;\n\t\tposition: absolute;\n\t\tpadding-bottom: 0;\n\t\tpadding-top: 0;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\twidth: 100%;\n\t\t@supports (width: 100vw) {\n\t\t\tleft: 50%;\n\t\t\tright: 50%;\n\t\t\twidth: 100vw;\n\t\t\tmargin-left: -50vw;\n\t\t\tmargin-right: -50vw;\n\t\t}\n\t}\n`;\n\ntype Props = {\n\teditionId: EditionId;\n\tnav: NavType;\n\thasPageSkin?: boolean;\n};\n\n/**\n * Entrypoint for the expanded navigation (via burger menu) to open the\n * secondary pillar links, other Guardian links as well as\n * non journalistic links for support asks and other marketing.\n */\nexport const ExpandedNav = ({ nav, editionId, hasPageSkin }: Props) => {\n\treturn (\n\t\t<div\n\t\t\tid={expandedMenuId}\n\t\t\tdata-testid=\"expanded-menu\"\n\t\t\tcss={wrapperMainMenuStyles}\n\t\t>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\t${from.desktop} {\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<div css={mainMenuStyles}>\n\t\t\t\t\t<Sections\n\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\tnav={nav}\n\t\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/**\n * @file\n * This file was largely copied from src/components/Logo.tsx\n */\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '@guardian/source/foundations';\nimport { SvgGuardianLogo } from '@guardian/source/react-components';\nimport { nestedOphanComponents } from '../../../lib/ophan-helpers';\nimport { palette } from '../../../palette';\n\nexport const Logo = () => (\n\t<a href=\"/\" data-link-name={nestedOphanComponents('header', 'logo')}>\n\t\t<span\n\t\t\tcss={css`\n\t\t\t\t${visuallyHidden};\n\t\t\t`}\n\t\t>\n\t\t\tThe Guardian - Back to home\n\t\t</span>\n\t\t<SvgGuardianLogo textColor={palette('--masthead-nav-link-text')} />\n\t</a>\n);\n","/**\n * @file\n * This file was largely inspired by src/components/Pillars.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold14,\n\theadlineBold17,\n\theadlineBold20,\n\theadlineBold24,\n\tpalette as sourcePalette,\n\tspace,\n} from '@guardian/source/foundations';\nimport { type ArticleTheme, Pillar } from '../../../lib/articleFormat';\nimport { nestedOphanComponents } from '../../../lib/ophan-helpers';\nimport type { NavType } from '../../../model/extract-nav';\nimport { palette as themePalette } from '../../../palette';\nimport { listAccessibility } from './commonStyles';\nimport { pillarLeftMarginPx, pillarWidthsPx } from './constants';\n\ntype Props = {\n\tpillars: NavType['pillars'];\n\tselectedPillar?: Pillar;\n\tdataLinkName: string;\n\thasPageSkin?: boolean;\n\tisTopNav?: boolean;\n};\n\nconst pillarsContainer = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\twidth: fit-content;\n\tpointer-events: auto;\n`;\n\nconst pillarBlock = css`\n\tdisplay: flex;\n\tposition: relative;\n\toverflow: hidden;\n\n\theight: 28px;\n\twidth: fit-content;\n\n\t${from.mobileMedium} {\n\t\theight: 34px;\n\t}\n\n\t${from.mobileLandscape} {\n\t\theight: 37px;\n\t}\n\n\t${from.tablet} {\n\t\twidth: ${pillarWidthsPx.tablet}px;\n\t}\n\n\t${from.desktop} {\n\t\theight: 40px;\n\t}\n`;\n\nconst pillarBlockWithoutPageSkin = css`\n\t${from.leftCol} {\n\t\theight: 52px;\n\t\twidth: ${pillarWidthsPx.leftCol}px;\n\t}\n\n\t${from.wide} {\n\t\twidth: ${pillarWidthsPx.wide}px;\n\t}\n`;\n\n/** The pillar underline has an extra 1px in height due to the\n * horizontal line under the pillars added in the Titlepiece component */\nconst pillarUnderlineHeight = space[1] + 1;\n\nconst pillarUnderline = css`\n\t:after {\n\t\theight: ${pillarUnderlineHeight}px;\n\t\t/* This CSS var is dynamically set via the style attribute*/\n\t\tbackground-color: var(--pillar-underline);\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\n\t\t/*\n\t\tThis is 100% width of pillar block minus the left margin\n\t\tand 1px border on the right\n\t\t*/\n\t\twidth: calc(100% - ${pillarLeftMarginPx}px - 1px);\n\t\tmargin-left: ${pillarLeftMarginPx}px;\n\t\ttransition: transform 0.3s ease-in-out;\n\n\t\t/*\n\t\tThis hides the pillar underline below the pillar block until\n\t\tready to view, either by hovering or forcing the underline (when selected)\n\t\t*/\n\t\tmargin-bottom: -${pillarUnderlineHeight}px;\n\t}\n`;\n\nconst forceUnderline = css`\n\t:after {\n\t\ttransform: translateY(-${pillarUnderlineHeight}px);\n\t}\n\t:focus:after {\n\t\ttransform: translateY(-${pillarUnderlineHeight}px);\n\t}\n\t:hover {\n\t\ttext-decoration: none;\n\t}\n\t:hover:after {\n\t\ttransform: translateY(-${pillarUnderlineHeight}px);\n\t}\n`;\n\nconst pillarLink = css`\n\t${headlineBold14}\n\ttext-decoration: none;\n\n\tbackground-color: ${themePalette('--masthead-nav-background')};\n\tcolor: ${themePalette('--masthead-nav-link-text')};\n\n\t/** Allow the anchor tag to fill the whole pillar area */\n\tflex-grow: 1;\n\tpadding-left: ${pillarLeftMarginPx}px;\n\tpadding-right: ${space[1]}px;\n\n\t${from.mobileMedium} {\n\t\t${headlineBold14}\n\t\t/** This overrides the font size to 15\n\t\t TODO: export headlineBold15 from source */\n\t\tfont-size: 0.9375rem;\n\t\tpadding-right: ${space[2]}px;\n\t}\n\t${from.mobileLandscape} {\n\t\t${headlineBold17}\n\t}\n\n\t${from.desktop} {\n\t\t${headlineBold20}\n\t}\n\n\t:focus:after {\n\t\ttransform: translateY(-${pillarUnderlineHeight}px);\n\t}\n\t:hover {\n\t\ttext-decoration: none;\n\t}\n\t:hover:after {\n\t\ttransform: translateY(-${pillarUnderlineHeight}px);\n\t}\n`;\n\nconst pillarLinkWithoutPageSkin = css`\n\t${from.leftCol} {\n\t\t${headlineBold24}\n\t}\n`;\n\nconst firstPillarLinkOverrides = css`\n\ta {\n\t\tpadding-left: 0;\n\n\t\t:after {\n\t\t\twidth: calc(100% - 1px);\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n`;\n\nexport const verticalDivider = css`\n\t:after {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${themePalette('--masthead-nav-lines')};\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\theight: calc(100% - ${space[1]}px);\n\t\tmargin-top: ${space[1]}px;\n\t}\n`;\n\nconst isNotLastPillar = (i: number, noOfPillars: number): boolean =>\n\ti !== noOfPillars - 1;\n\nconst getPillarColour = (pillar: ArticleTheme): string | undefined => {\n\tswitch (pillar) {\n\t\tcase Pillar.News:\n\t\t\treturn sourcePalette.news[500];\n\t\tcase Pillar.Opinion:\n\t\t\treturn sourcePalette.opinion[500];\n\t\tcase Pillar.Sport:\n\t\t\treturn sourcePalette.sport[500];\n\t\tcase Pillar.Culture:\n\t\t\treturn sourcePalette.culture[500];\n\t\tcase Pillar.Lifestyle:\n\t\t\treturn sourcePalette.lifestyle[500];\n\n\t\t// We don't handle non standard pillars\n\t\tdefault:\n\t\t\treturn undefined;\n\t}\n};\n\nexport const Pillars = ({\n\tpillars,\n\tselectedPillar,\n\tdataLinkName,\n\thasPageSkin = false,\n\tisTopNav = true,\n}: Props) => {\n\treturn (\n\t\t<ul css={pillarsContainer}>\n\t\t\t{pillars.map((p, i) => {\n\t\t\t\tconst isSelected = p.pillar === selectedPillar;\n\t\t\t\tconst showDivider = isNotLastPillar(i, pillars.length);\n\t\t\t\tconst pillarColour = getPillarColour(p.pillar);\n\n\t\t\t\treturn (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={p.title}\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tpillarBlock,\n\t\t\t\t\t\t\t!hasPageSkin && pillarBlockWithoutPageSkin,\n\t\t\t\t\t\t\tlistAccessibility,\n\t\t\t\t\t\t\tshowDivider && verticalDivider,\n\t\t\t\t\t\t\ti === 0 && firstPillarLinkOverrides,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={p.url}\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tpillarLink,\n\t\t\t\t\t\t\t\t!hasPageSkin && pillarLinkWithoutPageSkin,\n\t\t\t\t\t\t\t\tpillarUnderline,\n\t\t\t\t\t\t\t\tisSelected && forceUnderline,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tstyle={{ '--pillar-underline': pillarColour }}\n\t\t\t\t\t\t\tid={isTopNav && i === 0 ? 'navigation' : undefined}\n\t\t\t\t\t\t\tdata-link-name={nestedOphanComponents(\n\t\t\t\t\t\t\t\tdataLinkName,\n\t\t\t\t\t\t\t\t'primary',\n\t\t\t\t\t\t\t\tp.title,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{p.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n","/**\n * @file\n * This file was largely copied from https://github.com/guardian/dotcom-rendering/blob/016de51dc294d3a2895b52091258de0adbadcef5/dotcom-rendering/src/components/SubNav.importable.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\tspace,\n\ttextSans14,\n\ttextSansBold14,\n} from '@guardian/source/foundations';\nimport { nestedOphanComponents } from '../../../lib/ophan-helpers';\nimport type { SubNavType } from '../../../model/extract-nav';\nimport { palette as themePalette } from '../../../palette';\n\ntype Props = {\n\tsubNavSections: SubNavType;\n\tcurrentNavLink: string;\n\thasPageSkin?: boolean;\n};\n\nconst subNavStyles = css`\n\t${textSans14}\n\tdisplay: flex;\n\tcolumn-gap: ${space[2]}px;\n\tcolor: inherit;\n\tmin-height: 28px;\n\twidth: 100%;\n\tmargin-top: ${space[2]}px;\n\n\t${from.mobileMedium} {\n\t\tmargin-top: ${space[3]}px;\n\t}\n\t${from.tablet} {\n\t\tmin-height: 30px;\n\t}\n`;\n\nconst subNavStylesFromLeftCol = css`\n\t${from.leftCol} {\n\t\tmargin-top: 14px;\n\t}\n`;\n\n/** Sets horizontal scrolling behaviour and removes the scrollbar */\nconst scrollableSubNavStyles = css`\n\toverflow-x: scroll;\n\n\t@supports selector(::-webkit-scrollbar) {\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\tscrollbar-width: none; /* Firefox */\n`;\n\nconst subnavListItemStyles = css`\n\twhite-space: nowrap;\n`;\n\nconst subnavLinkStyles = css`\n\tcolor: ${themePalette('--masthead-nav-link-text')};\n\ttext-decoration: none;\n\tpadding-right: ${space[1]}px;\n\n\t&:hover {\n\t\ttext-decoration: underline;\n\t\tcolor: ${themePalette('--masthead-nav-link-text-hover')};\n\t}\n`;\n\nconst selectedLink = css`\n\t${textSansBold14}\n`;\n\nexport const SubNav = ({\n\thasPageSkin,\n\tsubNavSections,\n\tcurrentNavLink,\n}: Props) => {\n\treturn (\n\t\t<>\n\t\t\t{/* eslint-disable jsx-a11y/no-redundant-roles -- A11y fix for Safari\n\t\t\t{@see https://github.com/guardian/dotcom-rendering/pull/5041} */}\n\t\t\t<ul\n\t\t\t\tcss={[\n\t\t\t\t\tsubNavStyles,\n\t\t\t\t\t!hasPageSkin && subNavStylesFromLeftCol,\n\t\t\t\t\tscrollableSubNavStyles,\n\t\t\t\t]}\n\t\t\t\trole=\"list\"\n\t\t\t\tstyle={{\n\t\t\t\t\t'--sub-nav-link': themePalette('--sub-nav-link-header'),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{/* eslint-enable jsx-a11y/no-redundant-roles */}\n\t\t\t\t{subNavSections.parent && (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={subNavSections.parent.url}\n\t\t\t\t\t\tcss={subnavListItemStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tdata-src-focus-disabled={true}\n\t\t\t\t\t\t\tcss={subnavLinkStyles}\n\t\t\t\t\t\t\thref={subNavSections.parent.url}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{subNavSections.parent.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t\t{subNavSections.links.map(({ title, longTitle, url }) => (\n\t\t\t\t\t<li key={url} css={subnavListItemStyles}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tcss={subnavLinkStyles}\n\t\t\t\t\t\t\tdata-src-focus-disabled={true}\n\t\t\t\t\t\t\thref={url}\n\t\t\t\t\t\t\tdata-link-name={nestedOphanComponents(\n\t\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t\t'subnav',\n\t\t\t\t\t\t\t\tlongTitle,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{title === currentNavLink ? (\n\t\t\t\t\t\t\t\t<span css={selectedLink}>{title}</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { until, visuallyHidden } from '@guardian/source/foundations';\nimport { SvgCross, SvgMenu } from '@guardian/source/react-components';\nimport { getZIndex } from '../../../lib/getZIndex';\nimport { nestedOphanComponents } from '../../../lib/ophan-helpers';\nimport { palette as themePalette } from '../../../palette';\nimport { navInputCheckboxId, veggieBurgerId } from './constants';\n\nconst labelStyles = css`\n\tposition: relative;\n\tz-index: 1;\n\t${`#${navInputCheckboxId}`}:checked ~ div & {\n\t\t${until.desktop} {\n\t\t\t/* Bump the z-index of the burger menu when expanded */\n\t\t\tz-index: ${getZIndex('mastheadVeggieBurgerExpandedMobile')};\n\t\t}\n\t}\n`;\n\nconst screenReadable = css`\n\t${visuallyHidden};\n`;\n\nconst showMoreStyles = css`\n\t${`#${navInputCheckboxId}`}:checked ~ div & {\n\t\t/* Hide the expand menu SVG if already expanded */\n\t\tdisplay: none;\n\t}\n`;\n\nconst closeMenuStyles = css`\n\t${`#${navInputCheckboxId}`}:not(:checked) ~ div & {\n\t\t/* Hide the collapse menu SVG if already collapsed */\n\t\tdisplay: none;\n\t}\n`;\n\nconst iconWrapper = css`\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 40px;\n\theight: 40px;\n\tborder-radius: 50%;\n\tbackground-color: ${themePalette('--masthead-veggie-burger-background')};\n\n\t:hover {\n\t\tbackground-color: ${themePalette(\n\t\t\t'--masthead-veggie-burger-background-hover',\n\t\t)};\n\t}\n\t:focus {\n\t\toutline: none;\n\t}\n`;\n\nexport const VeggieBurger = () => (\n\t<label\n\t\tid={veggieBurgerId}\n\t\tcss={labelStyles}\n\t\taria-label=\"Toggle main menu\"\n\t\tkey=\"OpenExpandedMenuButton\"\n\t\thtmlFor={navInputCheckboxId}\n\t\tdata-link-name={nestedOphanComponents(\n\t\t\t'header',\n\t\t\t'veggie-burger',\n\t\t\t'show',\n\t\t)}\n\t\ttabIndex={0}\n\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role -- weâ€™re using this label for a CSS-only toggle\n\t\trole=\"button\"\n\t\tdata-testid=\"veggie-burger\"\n\t>\n\t\t<span css={[iconWrapper, showMoreStyles]}>\n\t\t\t<span css={screenReadable}>Show more</span>\n\t\t\t<SvgMenu\n\t\t\t\tsize=\"small\"\n\t\t\t\ttheme={{\n\t\t\t\t\tfill: themePalette('--masthead-veggie-burger-icon'),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</span>\n\n\t\t<span css={[iconWrapper, closeMenuStyles]}>\n\t\t\t<span css={screenReadable}>Hide expanded menu</span>\n\t\t\t<SvgCross\n\t\t\t\tsize=\"small\"\n\t\t\t\ttheme={{\n\t\t\t\t\tfill: themePalette('--masthead-veggie-burger-icon'),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</span>\n\t</label>\n);\n","import { css, Global } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold14,\n\tspace,\n\tuntil,\n\tvisuallyHidden,\n} from '@guardian/source/foundations';\nimport type { EditionId } from '../lib/edition';\nimport { nestedOphanComponents } from '../lib/ophan-helpers';\nimport { useEditionSwitcherBanner } from '../lib/useEditionSwitcherBanner';\nimport type { NavType } from '../model/extract-nav';\nimport { palette as themePalette } from '../palette';\nimport {\n\texpandedMenuRootId,\n\tnavInputCheckboxId,\n\tpageMargin,\n\tsmallMobilePageMargin,\n\tveggieBurgerId,\n} from './Masthead/Titlepiece/constants';\nimport { EditionDropdown } from './Masthead/Titlepiece/EditionDropdown';\nimport { ExpandedNav } from './Masthead/Titlepiece/ExpandedNav/ExpandedNav';\nimport { Grid } from './Masthead/Titlepiece/Grid';\nimport { Logo } from './Masthead/Titlepiece/Logo';\nimport { Pillars, verticalDivider } from './Masthead/Titlepiece/Pillars';\nimport { SubNav } from './Masthead/Titlepiece/SubNav';\nimport { VeggieBurger } from './Masthead/Titlepiece/VeggieBurger';\n\ninterface Props {\n\tnav: NavType;\n\teditionId: EditionId;\n\tshowSubNav?: boolean;\n\tshowSlimNav?: boolean;\n\thasPageSkin?: boolean;\n\tpageId?: string;\n}\n\nconst veggieBurgerDiameter = 40;\n\nconst gridContent = css`\n\tgrid-column: content-start / content-end;\n`;\n\nconst gridMainColumn = css`\n\tgrid-column: main-column-start / main-column-end;\n`;\n\nconst editionSwitcherMenuStyles = css`\n\t${gridMainColumn}\n\tgrid-row: 1;\n\t${from.mobileMedium} {\n\t\tjustify-self: end;\n\t}\n\twidth: fit-content;\n`;\n\nconst slimNavEditionSwitcherOverrides = css`\n\t${until.tablet} {\n\t\tjustify-self: start;\n\t}\n`;\n\nconst logoStyles = css`\n\t${gridMainColumn}\n\tgrid-row: 1;\n\tposition: relative;\n\tdisplay: flex;\n\tjustify-self: end;\n\talign-self: end;\n\tmargin-top: ${space[2]}px;\n\tmargin-bottom: 6px;\n\tright: ${veggieBurgerDiameter + space[3]}px;\n\t${from.mobileMedium} {\n\t\tright: 0;\n\t}\n\t${from.mobileLandscape} {\n\t\tmargin-bottom: ${space[2]}px;\n\t}\n\n\tsvg {\n\t\twidth: 152px;\n\t\t${from.mobileMedium} {\n\t\t\twidth: 207px;\n\t\t}\n\t\t${from.tablet} {\n\t\t\twidth: 252px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\twidth: 291px;\n\t\t}\n\t}\n`;\n\nconst logoStylesFromLeftCol = css`\n\tsvg {\n\t\t${from.leftCol} {\n\t\t\twidth: 324px;\n\t\t}\n\t}\n`;\n\nconst slimNavLogoOverrides = css`\n\tposition: relative;\n\tmargin-top: ${space[2]}px;\n\tmargin-bottom: ${space[2]}px;\n\tright: ${veggieBurgerDiameter + 6}px;\n\n\t${from.mobile} {\n\t\tright: ${veggieBurgerDiameter + 6}px;\n\t}\n\t${from.mobileMedium} {\n\t\tright: ${veggieBurgerDiameter + 6}px;\n\t}\n\t${from.mobileLandscape} {\n\t\tmargin-top: ${space[1]}px;\n\t\tmargin-bottom: ${space[2]}px;\n\t}\n\t${from.tablet} {\n\t\tright: ${space[8]}px;\n\t}\n\t${from.desktop} {\n\t\tright: ${space[10]}px;\n\t}\n\tsvg {\n\t\twidth: 130px;\n\t\t${from.mobile} {\n\t\t\twidth: 130px;\n\t\t}\n\t\t${from.tablet} {\n\t\t\twidth: 86px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\twidth: 130px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\twidth: 145px;\n\t\t}\n\t}\n`;\n\nconst pillarsNavStyles = css`\n\t${gridContent}\n\tgrid-row: 2;\n\talign-self: end;\n\n\t${headlineBold14}\n\tmargin-top: ${space[2]}px;\n\n\t${from.desktop} {\n\t\tgrid-row: 1 / 2;\n\t\tli:last-of-type {\n\t\t\t${verticalDivider}\n\t\t}\n\t}\n\tpointer-events: none;\n`;\n\nconst slimNavPillarsOverrides = css`\n\tgrid-row: 1;\n\t${until.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst burgerStyles = css`\n\t${gridContent}\n\tgrid-row: 1;\n\talign-self: center;\n\t${from.mobileMedium} {\n\t\tgrid-row: 1 / 3;\n\t\talign-self: end;\n\t}\n\tjustify-content: center;\n\tdisplay: flex;\n\tjustify-self: end;\n\tposition: relative;\n\tbottom: 2px;\n\t${from.mobileMedium} {\n\t\tbottom: ${space[1]}px;\n\t}\n\t${from.desktop} {\n\t\tright: 354px;\n\t\tbottom: 6px;\n\t}\n`;\n\nconst burgerStylesFromLeftCol = css`\n\t${from.leftCol} {\n\t\tright: 430px;\n\t\tbottom: 14px;\n\t}\n\t${from.wide} {\n\t\tright: 534px;\n\t}\n`;\n\nconst slimNavBurgerOverrides = css`\n\tposition: relative;\n\tgrid-row: 1;\n\talign-self: end;\n\tbottom: ${space[1]}px;\n\n\t${from.mobileMedium} {\n\t\tgrid-row: 1;\n\t\talign-self: end;\n\t}\n\n\t${from.tablet} {\n\t\tright: 136px;\n\t}\n\t${from.desktop} {\n\t\tright: 356px;\n\t}\n\t${from.leftCol} {\n\t\tright: 430px;\n\t}\n\t${from.wide} {\n\t\tright: 534px;\n\t}\n`;\n\nconst expandedNavStyles = css`\n\t${gridContent}\n\tgrid-row: 2;\n\tmargin-top: -1px;\n`;\n\nconst horizontalDivider = css`\n\tposition: relative;\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tborder-bottom: 1px solid ${themePalette('--masthead-nav-lines')};\n\t\tbottom: 0;\n\t\tright: -${smallMobilePageMargin};\n\t\tleft: -${smallMobilePageMargin};\n\n\t\t${from.mobileLandscape} {\n\t\t\tleft: -${pageMargin};\n\t\t\tright: -${pageMargin};\n\t\t}\n\t}\n`;\n\nconst slimNavHorizontalDividerOverrides = css`\n\t&::after {\n\t\t${from.tablet} {\n\t\t\tright: 0;\n\t\t\tleft: 0;\n\t\t}\n\t}\n`;\n\nconst subNavWrapper = css`\n\t/** Relative positioning needed on the wrapper to allow\n\t  the pseudo after element to position absolutely */\n\tposition: relative;\n\t${gridContent}\n\tgrid-row: 3;\n\n\t/** We increase the width of the subnav to let it overflow\n\t on the right to help indicate scrollability */\n\twidth: calc(100% + ${smallMobilePageMargin});\n\t${from.mobileLandscape} {\n\t\twidth: calc(100% + ${pageMargin});\n\t}\n\t${from.tablet} {\n\t\twidth: 100%;\n\t}\n\n\t${from.tablet} {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tborder-left: 1px solid ${themePalette('--masthead-nav-lines')};\n\t\t\tposition: absolute;\n\t\t\tleft: -${pageMargin};\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t:after {\n\t\t\tcontent: '';\n\t\t\tborder-left: 1px solid ${themePalette('--masthead-nav-lines')};\n\t\t\tposition: absolute;\n\t\t\tright: -${pageMargin};\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t}\n\t}\n\n\t/** This additional padding on the right of the subnav list allows\n\t the list items to remain visible with the fade overlay */\n\tul {\n\t\tpadding-right: ${space[8]}px;\n\t\tposition: relative;\n\t}\n`;\n\n/** Adds a fade overlay to the RHS of the subnav area,\n\t\t\t to visually hint that it is scrollable horizontally */\nconst fadeStyles = css`\n\tposition: absolute;\n\twidth: ${space[10]}px;\n\theight: 100%;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tbackground: linear-gradient(\n\t\tto right,\n\t\ttransparent 0%,\n\t\t${themePalette('--masthead-nav-background')} 100%\n\t);\n`;\nexport const Titlepiece = ({\n\tnav,\n\teditionId,\n\tshowSubNav,\n\tshowSlimNav,\n\thasPageSkin,\n\tpageId = '',\n}: Props) => {\n\tconst { showBanner } = useEditionSwitcherBanner(pageId, editionId);\n\n\treturn (\n\t\t<Grid\n\t\t\ttype=\"nav\"\n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: themePalette('--masthead-nav-background'),\n\t\t\t\tcolor: themePalette('--masthead-nav-link-text'),\n\t\t\t}}\n\t\t\thasPageSkin={hasPageSkin}\n\t\t>\n\t\t\t{/** The following Global styles, comment and script logic are lifted from /src/components/Nav/Nav.tsx: */}\n\t\t\t<Global\n\t\t\t\tstyles={css`\n\t\t\t\t\t/* We apply this style when the side navigation is open the prevent the document body from scrolling */\n\t\t\t\t\t/* See Nav.tsx */\n\t\t\t\t\t.nav-is-open {\n\t\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\theight: 100vh;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}\n\t\t\t/>\n\t\t\t{/*\n\t           IMPORTANT NOTE: Supporting NoJS and accessibility is hard.\n                We therefore use JS to make the Nav elements more accessible. We add a\n                keydown `addEventListener` to both the veggie burger button and the show\n                more menu buttons. We also listen to escape key presses to close the Nav menu.\n                We also toggle the tabindex of clickable items to make sure that even when we\n                are displaying the menu on mobile and tablet, that it doesnt get highlighted\n                when tabbing though the page.\n                This is not a perfect solution as not all screen readers support JS\n                https://webaim.org/projects/screenreadersurvey8/#javascript\n            */}\n\t\t\t<script\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: `document.addEventListener('DOMContentLoaded', function () {\n\n\t\t\t\t\t/** The checkbox input element used to toggle the navigation menu. */\n\t\t\t\t\tconst navInputCheckbox = document.getElementById('${navInputCheckboxId}');\n\n\t\t\t\t\t/** The veggie burger button element used to open/close the menu. */\n\t\t\t\t\tconst veggieBurger = document.getElementById('${veggieBurgerId}');\n\n\t\t\t\t\t/** List of menu items that should be selectable when the menu is open. */\n\t\t\t\t\tconst expandedMenuClickableTags = document.querySelectorAll(\n\t\t\t\t\t\t'.selectableMenuItem',\n\t\t\t\t\t);\n\n\t\t\t\t\t/** The root element of the expanded menu. */\n\t\t\t\t\tconst expandedMenu = document.getElementById('${expandedMenuRootId}');\n\n\t\t\t\t\t/** The label for the first column in the menu, assumed to be \"News\".*/\n\t\t\t\t\tconst firstColLabel = document.getElementById('News-button');\n\n\t\t\t\t\t/** The link element in the second list item under news links. */\n\t\t\t\t\tconst firstColLink = document.querySelector(\n\t\t\t\t\t\t'#newsLinks > li:nth-of-type(2) > a',\n\t\t\t\t\t);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Focuses on the first navigation element depending on whether the first column label is visible.\n\t\t\t\t\t *\n\t\t\t\t\t * If the first column label is not visible, the function focuses on the first link element.\n\t\t\t\t\t * Otherwise, it focuses on the first column label.\n\t\t\t\t\t */\n\t\t\t\t\tconst focusOnFirstNavElement = () => {\n\t\t\t\t\t\tif (window.getComputedStyle(firstColLabel).display === 'none') {\n\t\t\t\t\t\t\tfirstColLink.focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfirstColLabel.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Updates ARIA attributes and tabindex values based on whether the menu is open or closed.\n\t\t\t\t\t */\n\t\t\t\t\tconst updateAttributesForMenu = (isOpen) => {\n\t\t\t\t\t\tfirstColLabel.setAttribute('aria-expanded', isOpen ? 'true' : 'false');\n\t\t\t\t\t\tveggieBurger.setAttribute(\n\t\t\t\t\t\t\t'data-link-name',\n\t\t\t\t\t\t\tisOpen\n\t\t\t\t\t\t\t\t? 'header : veggie-burger : hide'\n\t\t\t\t\t\t\t\t: 'header : veggie-burger : show',\n\t\t\t\t\t\t);\n\t\t\t\t\t\texpandedMenuClickableTags.forEach((tag) => {\n\t\t\t\t\t\t\ttag.setAttribute('tabindex', isOpen ? '0' : '-1');\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\t/** Toggles the navigation menu by simulating a click on the checkbox. */\n\t\t\t\t\tconst toggleMainMenu = () => {\n\t\t\t\t\t\tif (navInputCheckbox) {\n\t\t\t\t\t\t\tnavInputCheckbox.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Handles keydown events to toggle the menu when the Enter or Space key is pressed.\n\t\t\t\t\t */\n\t\t\t\t\tconst keydownToggleMainMenu = (e) => {\n\t\t\t\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\ttoggleMainMenu();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t/**\n\t\t\t\t\t * Handles click events to manage the state of the navigation menu.\n\t\t\t\t\t *\n\t\t\t\t\t * - Toggles the menu open/close state when the menu button (veggieBurger) is clicked.\n\t\t\t\t\t */\n\t\t\t\t\t\tconst handleMenuClick = (e) => {\n\t\t\t\t\t\t\tconst menuButtonClicked = navInputCheckbox === e.target;\n\t\t\t\t\t\t\tconst clickInsideMenu = expandedMenu.contains(e.target);\n\t\t\t\t\t\t\tconst menuIsOpen = navInputCheckbox.checked\n\t\t\t\t\t\t\tif (menuButtonClicked && !menuIsOpen) {\n\t\t\t\t\t\t    document.body.classList.toggle('nav-is-open')\n\n\t\t\t\t\t\t\tfirstColLabel.setAttribute('aria-expanded', 'false')\n                            veggieBurger.setAttribute('data-link-name','header : veggie-burger : show')\n                            expandedMenuClickableTags.forEach(function($selectableElement){\n                                $selectableElement.setAttribute('tabindex','-1')\n                            })\n                          } else if (menuButtonClicked && menuIsOpen) {\n\t\t\t\t\t\t    document.body.classList.toggle('nav-is-open')\n\t\t\t\t\t\t\tfirstColLabel.setAttribute('aria-expanded', 'true')\n                            veggieBurger.setAttribute('data-link-name','header : veggie-burger : hide')\n                            expandedMenuClickableTags.forEach(function($selectableElement){\n                                $selectableElement.setAttribute('tabindex','0')\n                            })\n                            focusOnFirstNavElement()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t/** Adds event listeners to manage the navigation menu. */\n\t\t\t\t\tif (navInputCheckbox) {\n\t\t\t\t\t\tnavInputCheckbox.addEventListener('click', handleMenuClick);\n\t\t\t\t\t\tveggieBurger.addEventListener('keydown', keydownToggleMainMenu);\n\t\t\t\t\t\tdocument.addEventListener('keydown', (e) => {\n\t\t\t\t\t\t\tif (e.key === 'Escape' && navInputCheckbox.checked) {\n\t\t\t\t\t\t\t\ttoggleMainMenu();\n\t\t\t\t\t\t\t\tveggieBurger.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t/**\n\t\t\t\t\t * Handles mouse down events to manage the state of the navigation menu.\n\t\t\t\t\t *\n\t\t\t\t\t * - Closes the menu if the click occurs outside both the menu button and the expanded menu.\n\t\t\t\t\t */\n\t\t\t\t\tdocument.addEventListener('mousedown', function(e){\n\t\t\t\t\t\tif(navInputCheckbox.checked && !expandedMenu.contains(e.target) && !veggieBurger.contains(e.target)){\n\t\t\t\t\t\ttoggleMainMenu()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});`,\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t{/* Edition switcher menu */}\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\teditionSwitcherMenuStyles,\n\t\t\t\t\tshowSlimNav && slimNavEditionSwitcherOverrides,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<EditionDropdown\n\t\t\t\t\teditionId={editionId}\n\t\t\t\t\tdataLinkName={nestedOphanComponents(\n\t\t\t\t\t\t'header',\n\t\t\t\t\t\t'titlepiece',\n\t\t\t\t\t\t'edition-picker: toggle',\n\t\t\t\t\t)}\n\t\t\t\t\tshowCurrentEdition={!showBanner}\n\t\t\t\t\tshowSlimNav={showSlimNav}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{/* Guardian logo */}\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tlogoStyles,\n\t\t\t\t\t!hasPageSkin && logoStylesFromLeftCol,\n\t\t\t\t\tshowSlimNav && slimNavLogoOverrides,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Logo />\n\t\t\t</div>\n\n\t\t\t{/** Expanded menu checkbox */}\n\t\t\t<input\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden};\n\t\t\t\t`}\n\t\t\t\tid={navInputCheckboxId}\n\t\t\t\tname=\"more\"\n\t\t\t\ttabIndex={-1}\n\t\t\t\tkey=\"OpenExpandedMenuCheckbox\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\trole=\"button\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-haspopup=\"true\"\n\t\t\t/>\n\n\t\t\t{/* Pillars nav */}\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tpillarsNavStyles,\n\t\t\t\t\thorizontalDivider,\n\t\t\t\t\tshowSlimNav && slimNavPillarsOverrides,\n\t\t\t\t\tshowSlimNav && slimNavHorizontalDividerOverrides,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Pillars\n\t\t\t\t\tpillars={nav.pillars}\n\t\t\t\t\tdataLinkName={nestedOphanComponents(\n\t\t\t\t\t\t'header',\n\t\t\t\t\t\t'titlepiece',\n\t\t\t\t\t\t'nav',\n\t\t\t\t\t)}\n\t\t\t\t\tselectedPillar={nav.selectedPillar}\n\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{/** Veggie burger menu button */}\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tburgerStyles,\n\t\t\t\t\t!hasPageSkin && burgerStylesFromLeftCol,\n\t\t\t\t\tshowSlimNav && slimNavBurgerOverrides,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<VeggieBurger />\n\t\t\t</div>\n\n\t\t\t{/** Expanded menu */}\n\t\t\t<div id={expandedMenuRootId} css={expandedNavStyles}>\n\t\t\t\t<ExpandedNav\n\t\t\t\t\tnav={nav}\n\t\t\t\t\teditionId={editionId}\n\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{/** Subnav */}\n\t\t\t{showSubNav && nav.subNavSections && (\n\t\t\t\t<div\n\t\t\t\t\tcss={subNavWrapper}\n\t\t\t\t\tdata-print-layout=\"hide\"\n\t\t\t\t\tdata-testid=\"sub-nav\"\n\t\t\t\t\tdata-component=\"sub-nav\"\n\t\t\t\t>\n\t\t\t\t\t<SubNav\n\t\t\t\t\t\tsubNavSections={nav.subNavSections}\n\t\t\t\t\t\tcurrentNavLink={nav.currentNavLink}\n\t\t\t\t\t/>\n\t\t\t\t\t<div css={fadeStyles} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Grid>\n\t);\n};\n","import type { OphanComponentType } from '@guardian/libs';\nimport { constructQuery } from '../lib/querystring';\n\ntype AcquisitionLinkParams = {\n\tbase: string;\n\tcomponentType: OphanComponentType;\n\tcomponentId: string;\n\tcampaignCode?: string;\n\tabTest?: { name: string; variant: string };\n\tpageViewId: string | undefined;\n\treferrerUrl: string;\n};\n\n// Adds acquisition tracking codes if it is a support url\nexport const addTrackingCodesToUrl = ({\n\tbase,\n\tcomponentType,\n\tcomponentId,\n\tcampaignCode,\n\tabTest,\n\tpageViewId,\n\treferrerUrl,\n}: AcquisitionLinkParams): string => {\n\tconst isSupportUrl =\n\t\tbase.search(\n\t\t\t/(support.theguardian.com)(\\/[a-z]*)?\\/(contribute|subscribe)/,\n\t\t) >= 0;\n\n\tif (isSupportUrl) {\n\t\tconst acquisitionData = {\n\t\t\tsource: 'GUARDIAN_WEB',\n\t\t\tcomponentId,\n\t\t\tcomponentType,\n\t\t\tcampaignCode,\n\t\t\tabTest,\n\t\t\treferrerPageviewId: pageViewId,\n\t\t\treferrerUrl,\n\t\t};\n\n\t\tconst params = {\n\t\t\tREFPVID: pageViewId,\n\t\t\tINTCMP: campaignCode,\n\t\t\tacquisitionData: JSON.stringify(acquisitionData),\n\t\t};\n\n\t\treturn `${base}${base.includes('?') ? '&' : '?'}${constructQuery(\n\t\t\tparams,\n\t\t)}`;\n\t}\n\n\treturn base;\n};\n","import { isString } from '@guardian/libs';\nimport type { FEDesign, FEDisplay, FEFormat, FETheme } from '../types/frontend';\n\nexport enum ArticleDesign {\n\tStandard,\n\tPicture,\n\tGallery,\n\tAudio,\n\tVideo,\n\tReview,\n\tAnalysis,\n\tExplainer,\n\tComment,\n\tLetter,\n\tFeature,\n\tLiveBlog,\n\tDeadBlog,\n\tRecipe,\n\tMatchReport,\n\tInterview,\n\tEditorial,\n\tQuiz,\n\tInteractive,\n\tPhotoEssay,\n\tObituary,\n\tCorrection,\n\tFullPageInteractive,\n\tNewsletterSignup,\n\tTimeline,\n\tProfile,\n}\n\nexport enum ArticleDisplay {\n\tStandard,\n\tImmersive,\n\tShowcase,\n\tNumberedList,\n}\n\nexport enum Pillar {\n\tNews = 0,\n\tOpinion = 1,\n\tSport = 2,\n\tCulture = 3,\n\tLifestyle = 4,\n}\n\nexport enum ArticleSpecial {\n\tSpecialReport = 5,\n\tLabs = 6,\n\tSpecialReportAlt = 7,\n}\n\nexport type ArticleTheme = Pillar | ArticleSpecial;\n\nexport interface ArticleFormat {\n\ttheme: ArticleTheme;\n\tdesign: ArticleDesign;\n\tdisplay: ArticleDisplay;\n}\n\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({ design }: Partial<FEFormat>): ArticleDesign => {\n\tswitch (design) {\n\t\tcase 'ArticleDesign':\n\t\t\treturn ArticleDesign.Standard;\n\t\tcase 'PictureDesign':\n\t\t\treturn ArticleDesign.Picture;\n\t\tcase 'GalleryDesign':\n\t\t\treturn ArticleDesign.Gallery;\n\t\tcase 'AudioDesign':\n\t\t\treturn ArticleDesign.Audio;\n\t\tcase 'VideoDesign':\n\t\t\treturn ArticleDesign.Video;\n\t\tcase 'ReviewDesign':\n\t\t\treturn ArticleDesign.Review;\n\t\tcase 'AnalysisDesign':\n\t\t\treturn ArticleDesign.Analysis;\n\t\tcase 'CommentDesign':\n\t\t\treturn ArticleDesign.Comment;\n\t\tcase 'LetterDesign':\n\t\t\treturn ArticleDesign.Letter;\n\t\tcase 'FeatureDesign':\n\t\t\treturn ArticleDesign.Feature;\n\t\tcase 'LiveBlogDesign':\n\t\t\treturn ArticleDesign.LiveBlog;\n\t\tcase 'DeadBlogDesign':\n\t\t\treturn ArticleDesign.DeadBlog;\n\t\tcase 'RecipeDesign':\n\t\t\treturn ArticleDesign.Recipe;\n\t\tcase 'MatchReportDesign':\n\t\t\treturn ArticleDesign.MatchReport;\n\t\tcase 'InterviewDesign':\n\t\t\treturn ArticleDesign.Interview;\n\t\tcase 'EditorialDesign':\n\t\t\treturn ArticleDesign.Editorial;\n\t\tcase 'QuizDesign':\n\t\t\treturn ArticleDesign.Quiz;\n\t\tcase 'InteractiveDesign':\n\t\t\treturn ArticleDesign.Interactive;\n\t\tcase 'PhotoEssayDesign':\n\t\t\treturn ArticleDesign.PhotoEssay;\n\t\tcase 'ObituaryDesign':\n\t\t\treturn ArticleDesign.Obituary;\n\t\tcase 'FullPageInteractiveDesign':\n\t\t\treturn ArticleDesign.FullPageInteractive;\n\t\tcase 'NewsletterSignupDesign':\n\t\t\treturn ArticleDesign.NewsletterSignup;\n\t\tcase 'ExplainerDesign':\n\t\t\treturn ArticleDesign.Explainer;\n\t\tcase 'TimelineDesign':\n\t\t\treturn ArticleDesign.Timeline;\n\t\tcase 'ProfileDesign':\n\t\t\treturn ArticleDesign.Profile;\n\t\tdefault:\n\t\t\treturn ArticleDesign.Standard;\n\t}\n};\n\nconst decideDisplay = ({\n\tdisplay,\n\tdesign,\n}: Partial<FEFormat>): ArticleDisplay => {\n\tswitch (display) {\n\t\tcase 'StandardDisplay':\n\t\t\treturn ArticleDisplay.Standard;\n\t\tcase 'ImmersiveDisplay':\n\t\t\t// Temporary hack until we can handle Immersive Comment pieces\n\t\t\treturn design === 'CommentDesign'\n\t\t\t\t? ArticleDisplay.Standard\n\t\t\t\t: ArticleDisplay.Immersive;\n\t\tcase 'ShowcaseDisplay':\n\t\t\treturn ArticleDisplay.Showcase;\n\t\tcase 'NumberedListDisplay':\n\t\t\treturn ArticleDisplay.NumberedList;\n\t\tdefault:\n\t\t\treturn ArticleDisplay.Standard;\n\t}\n};\n\nexport const decideTheme = ({ theme }: Partial<FEFormat>): ArticleTheme => {\n\tswitch (theme) {\n\t\tcase 'NewsPillar':\n\t\t\treturn Pillar.News;\n\t\tcase 'OpinionPillar':\n\t\t\treturn Pillar.Opinion;\n\t\tcase 'SportPillar':\n\t\t\treturn Pillar.Sport;\n\t\tcase 'CulturePillar':\n\t\t\treturn Pillar.Culture;\n\t\tcase 'LifestylePillar':\n\t\t\treturn Pillar.Lifestyle;\n\t\tcase 'SpecialReportTheme':\n\t\t\treturn ArticleSpecial.SpecialReport;\n\t\tcase 'SpecialReportAltTheme':\n\t\t\treturn ArticleSpecial.SpecialReportAlt;\n\t\tcase 'Labs':\n\t\t\treturn ArticleSpecial.Labs;\n\t\tdefault:\n\t\t\treturn Pillar.News;\n\t}\n};\n\nexport const decideFormat = (format: Partial<FEFormat>): ArticleFormat => ({\n\tdesign: decideDesign(format),\n\tdisplay: decideDisplay(format),\n\ttheme: decideTheme(format),\n});\n\nexport const getThemeNameAsString = (format: ArticleFormat): string => {\n\tconst themeName = Pillar[format.theme] ?? ArticleSpecial[format.theme];\n\tif (!themeName) throw new Error('Unknown theme');\n\treturn themeName;\n};\n\n/**\n * We need a type guard because TypeScript enums are (confusingly)\n * returning both strings and numbers.\n */\nconst isTheme = (theme: string | ArticleTheme): theme is ArticleTheme =>\n\t!isString(theme);\n\nconst isDesign = (design: string | ArticleDesign): design is ArticleDesign =>\n\t!isString(design);\n\nexport const getAllThemes = ({\n\tdisplay,\n\tdesign,\n}: {\n\tdisplay: ArticleDisplay;\n\tdesign: ArticleDesign;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...Pillar, ...ArticleSpecial })\n\t\t.filter(isTheme)\n\t\t.map((theme) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nexport const getAllDesigns = ({\n\tdisplay,\n\ttheme,\n}: {\n\tdisplay: ArticleDisplay;\n\ttheme: ArticleTheme;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...ArticleDesign })\n\t\t.filter(isDesign)\n\t\t.map((design) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nconst designToFEDesign = (design: ArticleDesign): FEDesign => {\n\tswitch (design) {\n\t\tcase ArticleDesign.Standard:\n\t\t// Correction doesn't exist in `FEFormat`.\n\t\tcase ArticleDesign.Correction:\n\t\t\treturn 'ArticleDesign';\n\t\tcase ArticleDesign.Picture:\n\t\t\treturn 'PictureDesign';\n\t\tcase ArticleDesign.Gallery:\n\t\t\treturn 'GalleryDesign';\n\t\tcase ArticleDesign.Audio:\n\t\t\treturn 'AudioDesign';\n\t\tcase ArticleDesign.Video:\n\t\t\treturn 'VideoDesign';\n\t\tcase ArticleDesign.Review:\n\t\t\treturn 'ReviewDesign';\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn 'AnalysisDesign';\n\t\tcase ArticleDesign.Explainer:\n\t\t\treturn 'ExplainerDesign';\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn 'CommentDesign';\n\t\tcase ArticleDesign.Letter:\n\t\t\treturn 'LetterDesign';\n\t\tcase ArticleDesign.Feature:\n\t\t\treturn 'FeatureDesign';\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn 'LiveBlogDesign';\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn 'DeadBlogDesign';\n\t\tcase ArticleDesign.Recipe:\n\t\t\treturn 'RecipeDesign';\n\t\tcase ArticleDesign.MatchReport:\n\t\t\treturn 'MatchReportDesign';\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn 'InterviewDesign';\n\t\tcase ArticleDesign.Editorial:\n\t\t\treturn 'EditorialDesign';\n\t\tcase ArticleDesign.Quiz:\n\t\t\treturn 'QuizDesign';\n\t\tcase ArticleDesign.Interactive:\n\t\t\treturn 'InteractiveDesign';\n\t\tcase ArticleDesign.PhotoEssay:\n\t\t\treturn 'PhotoEssayDesign';\n\t\tcase ArticleDesign.Obituary:\n\t\t\treturn 'ObituaryDesign';\n\t\tcase ArticleDesign.FullPageInteractive:\n\t\t\treturn 'FullPageInteractiveDesign';\n\t\tcase ArticleDesign.NewsletterSignup:\n\t\t\treturn 'NewsletterSignupDesign';\n\t\tcase ArticleDesign.Timeline:\n\t\t\treturn 'TimelineDesign';\n\t\tcase ArticleDesign.Profile:\n\t\t\treturn 'ProfileDesign';\n\t}\n};\n\nconst displayToFEDisplay = (display: ArticleDisplay): FEDisplay => {\n\tswitch (display) {\n\t\tcase ArticleDisplay.Standard:\n\t\t\treturn 'StandardDisplay';\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn 'ImmersiveDisplay';\n\t\tcase ArticleDisplay.Showcase:\n\t\t\treturn 'ShowcaseDisplay';\n\t\tcase ArticleDisplay.NumberedList:\n\t\t\treturn 'NumberedListDisplay';\n\t}\n};\n\nconst themeToFETheme = (theme: ArticleTheme): FETheme => {\n\tswitch (theme) {\n\t\tcase Pillar.News:\n\t\t\treturn 'NewsPillar';\n\t\tcase Pillar.Opinion:\n\t\t\treturn 'OpinionPillar';\n\t\tcase Pillar.Sport:\n\t\t\treturn 'SportPillar';\n\t\tcase Pillar.Culture:\n\t\t\treturn 'CulturePillar';\n\t\tcase Pillar.Lifestyle:\n\t\t\treturn 'LifestylePillar';\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'SpecialReportTheme';\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn 'Labs';\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn 'SpecialReportAltTheme';\n\t}\n};\n\nexport const formatToFEFormat = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): FEFormat => ({\n\tdesign: designToFEDesign(design),\n\tdisplay: displayToFEDisplay(display),\n\ttheme: themeToFETheme(theme),\n});\n\n/**\n * Creates a string representation of {@linkcode ArticleFormat}. Useful for\n * logging, storybook UI etc.\n *\n * @param format An {@linkcode ArticleFormat}\n * @returns A string representation of `ArticleFormat`\n */\nexport const formatToString = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): string =>\n\t[\n\t\t`${ArticleDesign[design]} Design`,\n\t\t`${ArticleDisplay[display]} Display`,\n\t\t`and ${Pillar[theme] ?? ArticleSpecial[theme]} Theme`,\n\t].join(', ');\n","import { isOneOf } from '@guardian/libs';\nimport { isTuple } from './tuple';\n\ntype EditionId = 'UK' | 'US' | 'AU' | 'INT' | 'EUR';\n\ntype Edition = (typeof editionList)[number];\n\nconst editionList = [\n\t{\n\t\turl: '/preference/edition/uk',\n\t\teditionId: 'UK',\n\t\tpageId: 'uk',\n\t\tlongTitle: 'UK edition',\n\t\ttitle: 'UK edition',\n\t\tdateLocale: 'en-gb',\n\t\ttimeZone: 'Europe/London',\n\t\tlangLocale: 'en-GB',\n\t\thasEditionalisedPages: true,\n\t\tshortTitle: 'UK',\n\t},\n\t{\n\t\turl: '/preference/edition/us',\n\t\teditionId: 'US',\n\t\tpageId: 'us',\n\t\tlongTitle: 'US edition',\n\t\ttitle: 'US edition',\n\t\tdateLocale: 'en-us',\n\t\ttimeZone: 'America/New_York',\n\t\tlangLocale: 'en-US',\n\t\thasEditionalisedPages: true,\n\t\tshortTitle: 'US',\n\t},\n\t{\n\t\turl: '/preference/edition/au',\n\t\teditionId: 'AU',\n\t\tpageId: 'au',\n\t\tlongTitle: 'Australia edition',\n\t\ttitle: 'AU edition',\n\t\tdateLocale: 'en-au',\n\t\ttimeZone: 'Australia/Sydney',\n\t\tlangLocale: 'en-AU',\n\t\thasEditionalisedPages: true,\n\t\tshortTitle: 'Aus',\n\t},\n\t{\n\t\turl: '/preference/edition/eur',\n\t\teditionId: 'EUR',\n\t\tpageId: 'europe',\n\t\tlongTitle: 'Europe edition',\n\t\ttitle: 'Europe edition',\n\t\tdateLocale: 'en-gb',\n\t\ttimeZone: 'Europe/Paris',\n\t\tlangLocale: 'en-EU',\n\t\thasEditionalisedPages: false,\n\t\tshortTitle: 'Eur',\n\t},\n\t{\n\t\turl: '/preference/edition/int',\n\t\teditionId: 'INT',\n\t\tpageId: 'international',\n\t\tlongTitle: 'International edition',\n\t\ttitle: 'International edition',\n\t\tdateLocale: 'en-gb',\n\t\ttimeZone: 'Europe/London',\n\t\tlangLocale: 'en',\n\t\thasEditionalisedPages: false,\n\t\tshortTitle: 'Int',\n\t},\n] as const satisfies ReadonlyArray<{\n\turl: string;\n\teditionId: EditionId;\n\tpageId: string;\n\tlongTitle: string;\n\ttitle: string;\n\tdateLocale: string;\n\ttimeZone: string;\n\tlangLocale?: string;\n\thasEditionalisedPages: boolean;\n\tshortTitle: string;\n}>;\n\nconst [ukEdition] = editionList;\n\n/**\n * The list of editionalised pages was copied from Frontend:\n * https://github.com/guardian/frontend/blob/60c6b55944d52d87039a2a844665cf39dc7fe437/common/app/common/Edition.scala#L20-L35\n */\nconst editionalisedPages = [\n\t'business',\n\t'business-to-business',\n\t'commentisfree',\n\t'culture',\n\t'money',\n\t'sport',\n\t'technology',\n\t'media',\n\t'environment',\n\t'film',\n\t'lifeandstyle',\n\t'travel',\n\t'tv-and-radio',\n] as const;\n\nconst getEditionFromId = (editionId: EditionId): Edition => {\n\treturn (\n\t\teditionList.find((edition) => edition.editionId === editionId) ??\n\t\tukEdition\n\t);\n};\n\nconst getEditionFromPageId = (pageId: string): Edition | undefined =>\n\teditionList.find((edition) => edition.pageId === pageId);\n\nconst getRemainingEditions = (editionId: EditionId): Edition[] => {\n\treturn editionList.filter((edition) => edition.editionId !== editionId);\n};\n\n/**\n * Determine if a string is one of the permitted edition strings\n *\n * @param s The string to test\n */\nconst isEditionId = isOneOf(editionList.map(({ editionId }) => editionId));\n\nconst isNetworkFront = (pageId: string): boolean =>\n\teditionList.some((edition) => edition.pageId === pageId);\n\n/**\n * Given an editionalised pageId such as 'uk/travel' split into ['uk', 'travel']\n * Checks:\n * a) the first section is a network front\n * b) the second section is an editionalised page\n */\nconst splitEditionalisedPage = (\n\tpageId: string,\n): undefined | [string, string] => {\n\tconst pageIdSplit = pageId.split('/');\n\tif (!isTuple(pageIdSplit, 2)) {\n\t\treturn undefined;\n\t}\n\tconst [networkId, pageIdSuffix] = pageIdSplit;\n\tif (!isNetworkFront(networkId)) {\n\t\treturn undefined;\n\t}\n\tconst hasMatch = editionalisedPages.some(\n\t\t(editionalisedPage) => editionalisedPage === pageIdSuffix,\n\t);\n\treturn hasMatch ? [networkId, pageIdSuffix] : undefined;\n};\n\nconst isEditionalisedPage = (pageId: string): boolean =>\n\t!!splitEditionalisedPage(pageId);\n\nexport {\n\tEditionId,\n\tEdition,\n\teditionList,\n\teditionalisedPages,\n\tgetEditionFromId,\n\tgetEditionFromPageId,\n\tgetRemainingEditions,\n\tisEditionId,\n\tisEditionalisedPage,\n\tisNetworkFront,\n\tsplitEditionalisedPage,\n};\n","export const nestedOphanComponents = (...components: string[]): string =>\n\tcomponents.join(' : ');\n","const constructQuery = (query: {\n\t[key: string]:\n\t\t| string\n\t\t| string[]\n\t\t| number\n\t\t| number[]\n\t\t| boolean\n\t\t| boolean[]\n\t\t| undefined;\n}): string =>\n\tObject.keys(query)\n\t\t.map((param: string) => {\n\t\t\tconst value = query[param] ?? 'undefined';\n\t\t\tconst queryValue = Array.isArray(value)\n\t\t\t\t? value.map((v) => encodeURIComponent(v)).join(',')\n\t\t\t\t: encodeURIComponent(value);\n\t\t\treturn `${param}=${queryValue}`;\n\t\t})\n\t\t.join('&');\n\nexport { constructQuery };\n","import { getCookie, removeCookie, setCookie } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport useSWR, { mutate } from 'swr';\nimport {\n\ttype EditionId as Edition,\n\tgetEditionFromPageId,\n\tisNetworkFront,\n} from './edition';\n\nconst key = 'edition-switcher-banner';\nconst apiPromise = new Promise<{ hidden: boolean }>(() => {\n\t/* this never resolves */\n});\n\nconst getBannerValueFromQueryParams = () => {\n\tconst queryParams = new URLSearchParams(window.location.search);\n\treturn queryParams.get('edition-switcher-banner');\n};\n\nconst addOrRemoveCookie = () => {\n\tconst value = getBannerValueFromQueryParams();\n\tif (value === 'hide') {\n\t\tsetCookie({\n\t\t\tname: 'gu_hide_edition_switcher_banner',\n\t\t\tvalue: 'true',\n\t\t});\n\t} else if (value === 'unhide') {\n\t\tremoveCookie({ name: 'gu_hide_edition_switcher_banner' });\n\t}\n};\n\nconst hideBannerThroughUserOverride = () => {\n\tconst queryStringValue = getBannerValueFromQueryParams();\n\tconst cookieValue = getCookie({\n\t\tname: 'gu_hide_edition_switcher_banner',\n\t});\n\n\treturn (\n\t\tqueryStringValue === 'hide' ||\n\t\t(cookieValue === 'true' && queryStringValue !== 'unhide')\n\t);\n};\n\ntype EditionSwitcherBanner = {\n\tshowBanner: boolean;\n\tisBannerClosed: boolean;\n};\n\n/**\n * Show an \"Edition Switcher\" banner if the user is on a network front\n * which is different to their preferred or default edition.\n *\n * This allows a user to quickly identify that they are not on the network front\n * for their edition and gives them a link to switch to it.\n */\nexport const useEditionSwitcherBanner = (\n\tpageId: string,\n\tuserEdition: Edition,\n): EditionSwitcherBanner => {\n\tconst pageEdition = getEditionFromPageId(pageId)?.editionId;\n\tconst isOnMismatchedNetworkFront =\n\t\tisNetworkFront(pageId) && pageEdition !== userEdition;\n\tconst [showBanner, setShowBanner] = useState(isOnMismatchedNetworkFront);\n\n\tconst { data } = useSWR(key, () => apiPromise);\n\tconst isBannerClosed = !!data?.hidden;\n\n\tuseEffect(() => {\n\t\tsetShowBanner(\n\t\t\tisOnMismatchedNetworkFront && !hideBannerThroughUserOverride(),\n\t\t);\n\t}, [isOnMismatchedNetworkFront]);\n\n\tuseEffect(() => {\n\t\taddOrRemoveCookie();\n\t}, []);\n\n\treturn { showBanner, isBannerClosed };\n};\n\nexport const hideEditionSwitcherBanner = (): void => {\n\tvoid mutate(key, { hidden: true }, false);\n};\n","import { useEffect, useState } from 'react';\nimport { getOphan } from '../client/ophan/ophan';\nimport type { RenderingTarget } from '../types/renderingTarget';\n\nexport const usePageViewId = (\n\trenderingTarget: RenderingTarget,\n): string | undefined => {\n\tconst [id, setId] = useState<string>();\n\n\tuseEffect(() => {\n\t\tgetOphan(renderingTarget)\n\t\t\t.then(({ pageViewId }) => {\n\t\t\t\tsetId(pageViewId);\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tsetId('no-page-view-id-available');\n\t\t\t});\n\t}, [renderingTarget]);\n\n\treturn id;\n};\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n"],"names":["grid","css","from","mobileLandscape","tablet","desktop","gridBeyondDesktop","leftCol","wide","Grid","type","style","hasPageSkin","children","jsx","navInputCheckboxId","veggieBurgerId","expandedMenuRootId","pillarWidthsPx","smallMobilePageMargin","pageMargin","space","editionDropdownStyles","getZIndex","themePalette","textSans17","mobileMedium","slimNavEditionDropdownOverrides","until","dropDownOverrides","showSlimNav","textSans14","EditionDropdown","editionId","dataLinkName","showCurrentEdition","editionToDropdownLink","edition","id","url","title","longTitle","shortTitle","nestedOphanComponents","isActive","activeEdition","getEditionFromId","linksToDisplay","editionList","map","filter","label","div","Dropdown","links","cssOverrides","listAccessibility","hideFromDesktop","expandedNavLinkStyles","palette","hideDesktop","columnStyle","columnStyleFromLeftCol","pillarDivider","pillarDividerExtended","columnLinks","columnLinkTitle","textSans15","mainMenuLinkStyle","MoreSection","otherLinks","brandExtensions","brandExtension","mobileOnly","li","role","ul","link","a","className","href","data-link-name","data-testid","tabIndex","toLowerCase","showColumnLinksStyle","columnInputId","collapseColumnButton","headlineBold24","editionStyle","CollapseSectionButton","collapseColumnInputId","ariaControls","includes","aria-label","htmlFor","aria-haspopup","aria-controls","firstColumnLinks","pillarColumnLinks","hideWhenChecked","hideWhenNotChecked","lineStyle","Pillar","column","index","showLineBelow","columnId","split","join","script","dangerouslySetInnerHTML","__html","input","visuallyHidden","aria-hidden","textSansBold20","ReaderRevenueLinks","readerRevenueLinks","renderingTarget","useConfig","pageViewId","usePageViewId","referrerUrl","setReferrerUrl","useState","useEffect","window","location","origin","pathname","printSubUrl","addTrackingCodesToUrl","base","componentType","componentId","sideMenu","support","searchBar","searchInput","searchGlass","searchSubmit","SearchBar","searchId","form","action","TextInput","hideLabel","name","placeholder","Label","text","SvgMagnifyingGlass","isAnnouncedByScreenReader","size","Button","icon","SvgArrowRightStraight","value","columnsStyle","columnsStyleFromLeftCol","desktopBrandExtensionColumn","brandExtensionList","brandExtensionListFromLeftCol","brandExtensionListItem","brandExtensionLink","headlineBold20","brandExtensionLinkFromWide","Sections","nav","pillars","i","viewAllLink","length","Hide","collapsedMenuStyles","expandedMenuStyles","wrapperMainMenuStyles","mainMenuStyles","textSans20","ExpandedNav","Logo","span","SvgGuardianLogo","textColor","pillarsContainer","pillarBlock","pillarBlockWithoutPageSkin","pillarUnderlineHeight","pillarUnderline","forceUnderline","pillarLink","headlineBold14","headlineBold17","pillarLinkWithoutPageSkin","firstPillarLinkOverrides","verticalDivider","Pillars","selectedPillar","isTopNav","p","isSelected","pillar","showDivider","noOfPillars","isNotLastPillar","pillarColour","News","sourcePalette","news","Opinion","opinion","Sport","sport","Culture","culture","Lifestyle","lifestyle","getPillarColour","undefined","subNavStyles","subNavStylesFromLeftCol","scrollableSubNavStyles","subnavListItemStyles","subnavLinkStyles","selectedLink","textSansBold14","SubNav","subNavSections","currentNavLink","parent","data-src-focus-disabled","labelStyles","screenReadable","showMoreStyles","closeMenuStyles","iconWrapper","VeggieBurger","SvgMenu","theme","fill","SvgCross","gridContent","gridMainColumn","editionSwitcherMenuStyles","slimNavEditionSwitcherOverrides","logoStyles","logoStylesFromLeftCol","slimNavLogoOverrides","veggieBurgerDiameter","mobile","pillarsNavStyles","slimNavPillarsOverrides","burgerStyles","burgerStylesFromLeftCol","slimNavBurgerOverrides","expandedNavStyles","horizontalDivider","slimNavHorizontalDividerOverrides","subNavWrapper","fadeStyles","Titlepiece","showSubNav","pageId","showBanner","useEditionSwitcherBanner","backgroundColor","color","Global","styles","aria-expanded","data-print-layout","data-component","campaignCode","abTest","search","acquisitionData","source","referrerPageviewId","params","REFPVID","INTCMP","JSON","stringify","constructQuery","ArticleDesign","ArticleDisplay","ArticleSpecial","decideDesign","design","decideDisplay","display","decideTheme","decideFormat","format","dateLocale","timeZone","langLocale","hasEditionalisedPages","ukEdition","find","getEditionFromPageId","isNetworkFront","isOneOf","some","components","query","Object","keys","param","queryValue","Array","isArray","v","encodeURIComponent","key","apiPromise","Promise","getBannerValueFromQueryParams","URLSearchParams","get","userEdition","pageEdition","isOnMismatchedNetworkFront","setShowBanner","data","useSWR","isBannerClosed","hidden","queryStringValue","cookieValue","getCookie","hideBannerThroughUserOverride","setCookie","removeCookie","addOrRemoveCookie","hideEditionSwitcherBanner","mutate","setId","getOphan","then","catch","colour"],"sourceRoot":""}