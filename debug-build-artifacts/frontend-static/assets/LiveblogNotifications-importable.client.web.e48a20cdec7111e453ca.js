(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[6171],{11832:(e,t,n)=>{"use strict";n.d(t,{I:()=>P,K:()=>j});var o=n(50484),i=n(24017),r=n(96378),c=n(7351),s=n(43350),l=n(47738),a=n(31490),d=n(1255),u=n(53694);function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(){const e=f(["\n\t\t\tdisplay: flex;\n\t\t\tmargin: 0;\n\t\t\tmargin-right: ","px;\n\n\t\t\tborder-radius: 100%;\n\t\t\tborder: 1px solid ",";\n\n\t\t\tsvg {\n\t\t\t\tmargin: 1px;\n\t\t\t}\n\t\t"]);return p=function(){return e},e}function h(){const e=f(["\n\t","\n\tcolor: ",";\n\tbackground: none;\n\tborder: none;\n\tdisplay: block;\n\tmargin-left: 0;\n\tmin-height: ","px;\n\tpadding: 0;\n\ttext-align: left;\n\t","\n"]);return h=function(){return e},e}function w(){const e=f(["\n\tdisplay: flex;\n\talign-items: center;\n\tcolumn-gap: 0.2em;\n"]);return w=function(){return e},e}const m=e=>{let{isFollowing:t,iconIsFollowing:n,iconIsNotFollowing:c}=e;return(0,o.jsx)("div",{css:(0,i.css)(p(),r.x[1],(0,u.M)("--follow-icon-fill")),style:{backgroundColor:t?(0,u.M)("--follow-icon-fill"):void 0,fill:t?(0,u.M)("--follow-icon-background"):(0,u.M)("--follow-icon-fill")},children:t?n:c})},b=e=>(0,i.css)(h(),c.PSs,(0,u.M)("--follow-text"),r.x[6],e&&"margin-bottom: ".concat(r.x[2],"px;")),g=(0,i.css)(w()),v=e=>{let{isFollowing:t}=e;return(0,o.jsxs)("span",{children:["Notifications ",t?"on":"off"]})},x=e=>{let{isFollowing:t,displayName:n}=e;return(0,o.jsxs)("span",{children:[t?"Following":"Follow"," ",n]})},P=e=>{let{isFollowing:t,onClickHandler:n,withExtraBottomMargin:i=!1}=e;return(0,o.jsx)("button",{onClick:n,type:"button",css:[b(i)],children:(0,o.jsxs)("span",{css:g,children:[(0,o.jsx)(m,{isFollowing:t,iconIsFollowing:(0,o.jsx)(s.M,{size:"xsmall"}),iconIsNotFollowing:(0,o.jsx)(l.W,{size:"xsmall"})}),v({isFollowing:t})]})})},j=e=>{let{isFollowing:t,displayName:n="",onClickHandler:i,withExtraBottomMargin:r=!1}=e;return(0,o.jsx)("button",{onClick:i,type:"button",css:[b(r)],children:(0,o.jsxs)("span",{css:g,children:[(0,o.jsx)(m,{isFollowing:t,iconIsFollowing:(0,o.jsx)(a.Q,{size:"xsmall"}),iconIsNotFollowing:(0,o.jsx)(d.D,{size:"xsmall"})}),x({isFollowing:t,displayName:n})]})})}},20587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LiveblogNotifications:()=>h});var o=n(50484),i=n(24017),r=n(25788),c=n(60439),s=n(9474),l=n(96378),a=n(99923),d=n(67400),u=n(42631),f=n(11832);function p(){const e=(t=["\n\t\t\t\tmargin-top: ","px;\n\t\t\t\tmin-height: ","px;\n\n\t\t\t\t"," {\n\t\t\t\t\tdisplay: inline-flex;\n\t\t\t\t\tflex-direction: column;\n\n\t\t\t\t\tbutton:first-of-type {\n\t\t\t\t\t\tmargin-right: ","px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));var t,n;return p=function(){return e},e}const h=e=>{let{id:t,displayName:n}=e;const[h,w]=(0,d.useState)(void 0);return(0,d.useEffect)((()=>{const e=new r.Topic({id:t,displayName:n,type:"content"});(0,u.U)().isFollowing(e).then(w).catch((e=>{window.guardian.modules.sentry.reportError(e,"bridget-getNotificationsClient-isFollowing-error"),(0,c.Rm)("dotcom","Bridget getNotificationsClient.isFollowing Error:",e)}))}),[t,n]),(0,o.jsx)("div",{css:(0,i.css)(p(),l.x[3],l.x[6],a.HT.phablet,l.x[5]),children:(0,o.jsx)(f.I,{isFollowing:null!=h&&h,onClickHandler:(0,s.b)(h)?()=>{}:()=>{const e=new r.Topic({id:t,displayName:n,type:"content"});h?(0,u.U)().unfollow(e).then((e=>{e&&w(!1)})).catch((e=>{window.guardian.modules.sentry.reportError(e,"briidget-getNotificationsClient-unfollow-error"),(0,c.Rm)("dotcom","Bridget getNotificationsClient.unfollow Error:",e)})):(0,u.U)().follow(e).then((e=>{e&&w(!0)})).catch((e=>{window.guardian.modules.sentry.reportError(e,"bridget-getNotificationsClient-follow-error"),(0,c.Rm)("dotcom","Bridget getNotificationsClient.follow Error:",e)}))}})})}},42631:(e,t,n)=>{"use strict";n.d(t,{OA:()=>S,IC:()=>K,GR:()=>F,QF:()=>q,Dq:()=>k,yY:()=>Q,_5:()=>Y,ud:()=>W,U:()=>N,yV:()=>O,LE:()=>T,FA:()=>_});var o=n(13011),i=n(96831),r=n(86293),c=n(99895),s=n(65490),l=n(89993),a=n(85159),d=(n(47038),n(59517)),u=(n(29103),n(60579)),f=n(54703),p=n(69504),h=n(75271),w=n(9474),m=n(13213);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends m.TProtocol{getTransport(){return this.concreteProtocol.getTransport()}flush(){return this.concreteProtocol.flush()}writeMessageBegin(e,t,n){return this.concreteProtocol.writeMessageBegin(e,t,n)}writeMessageEnd(){return this.concreteProtocol.writeMessageEnd()}writeStructBegin(e){return this.concreteProtocol.writeStructBegin(e)}writeStructEnd(){return this.concreteProtocol.writeStructEnd()}writeFieldBegin(e,t,n){return this.concreteProtocol.writeFieldBegin(e,t,n)}writeFieldEnd(){return this.concreteProtocol.writeFieldEnd()}writeFieldStop(){return this.concreteProtocol.writeFieldStop()}writeMapBegin(e,t,n){return this.concreteProtocol.writeMapBegin(e,t,n)}writeMapEnd(){return this.concreteProtocol.writeMapEnd()}writeListBegin(e,t){return this.concreteProtocol.writeListBegin(e,t)}writeListEnd(){return this.concreteProtocol.writeListEnd()}writeSetBegin(e,t){return this.concreteProtocol.writeSetBegin(e,t)}writeSetEnd(){return this.concreteProtocol.writeSetEnd()}writeBool(e){return this.concreteProtocol.writeBool(e)}writeByte(e){return this.concreteProtocol.writeByte(e)}writeI16(e){return this.concreteProtocol.writeI16(e)}writeI32(e){return this.concreteProtocol.writeI32(e)}writeI64(e){return this.concreteProtocol.writeI64(e)}writeDouble(e){return this.concreteProtocol.writeDouble(e)}writeString(e){return this.concreteProtocol.writeString(e)}writeBinary(e){return this.concreteProtocol.writeBinary(e)}readMessageBegin(){return this.concreteProtocol.readMessageBegin()}readMessageEnd(){return this.concreteProtocol.readMessageEnd()}readStructBegin(){return this.concreteProtocol.readStructBegin()}readStructEnd(){return this.concreteProtocol.readStructEnd()}readFieldBegin(){return this.concreteProtocol.readFieldBegin()}readFieldEnd(){return this.concreteProtocol.readFieldEnd()}readMapBegin(){return this.concreteProtocol.readMapBegin()}readMapEnd(){return this.concreteProtocol.readMapEnd()}readListBegin(){return this.concreteProtocol.readListBegin()}readListEnd(){return this.concreteProtocol.readListEnd()}readSetBegin(){return this.concreteProtocol.readSetBegin()}readSetEnd(){return this.concreteProtocol.readSetEnd()}readBool(){return this.concreteProtocol.readBool()}readByte(){return this.concreteProtocol.readByte()}readI16(){return this.concreteProtocol.readI16()}readI32(){return this.concreteProtocol.readI32()}readI64(){return this.concreteProtocol.readI64()}readDouble(){return this.concreteProtocol.readDouble()}readBinary(){return this.concreteProtocol.readBinary()}readString(){return this.concreteProtocol.readString()}skip(e){return this.concreteProtocol.skip(e)}constructor(e){super(e.getTransport()),b(this,"concreteProtocol",void 0),this.concreteProtocol=e}}class v extends g{writeMessageBegin(e,t,n){t===m.MessageType.CALL||t===m.MessageType.ONEWAY?super.writeMessageBegin(this.serviceName+v.separator+e,t,n):super.writeMessageBegin(e,t,n)}constructor(e,t){super(e),b(this,"serviceName",void 0),this.serviceName=t}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){window.android?window.android.postMessage(e.data,e.connectionId):window.webkit?window.webkit.messageHandlers.iOSWebViewMessage.postMessage(e):console.warn("No native APIs available")}b(v,"separator",":");let j=1;const B=()=>"connection-".concat(j++);class C extends m.ThriftConnection{reset(e){if(e===this.connectionId&&window.nativeConnections){console.warn("Reseting connection "+e),delete window.nativeConnections[this.connectionId];for(const e of this.promises)e.reject(new m.TApplicationException(m.TApplicationExceptionType.UNKNOWN,"Timeout error"));this.promises=[],this.connectionId=B(),window.nativeConnections[this.connectionId]=this}}receive(e){const t=this.promises.shift();if(t){clearTimeout(t.timeoutId);const n=Buffer.from(e.data,"base64");t.resolve(n)}this.sendNextMessage()}sendNextMessage(){const e=this.outBuffer.shift();e&&(console.log("Sending next message"),P(e))}send(e){const t=this.connectionId,n=this;return new Promise((function(o,i){n.promises.push({resolve:o,reject:i,timeoutId:setTimeout((function(){n.reset(t)}),3e4)});const r={data:e.toString("base64"),connectionId:t};1===n.promises.length?(console.log("Sending message immediately"),P(r)):(console.log("Queing message because others in flight"),n.outBuffer.push(r))}))}constructor(e,t){var n;super(e,t),x(this,"connectionId",B()),x(this,"promises",[]),x(this,"outBuffer",[]),"undefined"!=typeof window&&(window.nativeConnections=null!==(n=window.nativeConnections)&&void 0!==n?n:{},window.nativeConnections[this.connectionId]=this)}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffered",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact";const o=new C((0,m.getTransport)(t),class extends v{constructor(t){var o;super(new((0,m.getProtocol)(n))(t),null!==(o=e.serviceName)&&void 0!==o?o:"")}});return new e(o)}let y;const k=()=>((0,w.b)(y)&&(y=M(s.Client,"buffered","compact")),y);let E;const F=()=>((0,w.b)(E)&&(E=M(r.Client,"buffered","compact")),E);let I;const S=()=>(I||(I=M(o.Client,"buffered","compact")),I);let z;const N=()=>(z||(z=M(u.Client,"buffered","compact")),z);let L;const O=()=>(L||(L=M(f.Client,"buffered","compact")),L);let R;const T=()=>(R||(R=M(p.Client,"buffered","compact")),R);let A;const Q=()=>(A||(A=M(l.Client,"buffered","compact")),A);let D;const _=()=>(D||(D=M(h.Client,"buffered","compact")),D);let H;const K=()=>(H||(H=M(i.Client,"buffered","compact")),H);let U;const W=()=>(U||(U=M(d.Client,"buffered","compact")),U);let V;const q=()=>(V||(V=M(c.Client,"buffered","compact")),V);let G;const Y=()=>(G||(G=M(a.Client,"buffered","compact")),G)},53694:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});const o=e=>"var(".concat(e,")")},50150:()=>{},92280:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});const o={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},70991:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});const o="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},99923:(e,t,n)=>{"use strict";n.d(t,{HT:()=>s,TG:()=>l,Tq:()=>a});var o=n(92280);const i=e=>"@media (min-width: ".concat("".concat(e,"px"),")"),r=e=>"@media (max-width: ".concat("".concat(e-.1,"px"),")"),c=(e,t)=>"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ").concat("".concat(t-.1,"px"),")"),s={mobile:i(o.f.mobile),mobileMedium:i(o.f.mobileMedium),mobileLandscape:i(o.f.mobileLandscape),phablet:i(o.f.phablet),tablet:i(o.f.tablet),desktop:i(o.f.desktop),leftCol:i(o.f.leftCol),wide:i(o.f.wide)},l={mobile:r(o.f.mobile),mobileMedium:r(o.f.mobileMedium),mobileLandscape:r(o.f.mobileLandscape),phablet:r(o.f.phablet),tablet:r(o.f.tablet),desktop:r(o.f.desktop),leftCol:r(o.f.leftCol),wide:r(o.f.wide)},a={mobile:{and:{mobileMedium:c(o.f.mobile,o.f.mobileMedium),mobileLandscape:c(o.f.mobile,o.f.mobileLandscape),phablet:c(o.f.mobile,o.f.phablet),tablet:c(o.f.mobile,o.f.tablet),desktop:c(o.f.mobile,o.f.desktop),leftCol:c(o.f.mobile,o.f.leftCol),wide:c(o.f.mobileMedium,o.f.wide)}},mobileMedium:{and:{mobileLandscape:c(o.f.mobileMedium,o.f.mobileLandscape),phablet:c(o.f.mobileMedium,o.f.phablet),tablet:c(o.f.mobileMedium,o.f.tablet),desktop:c(o.f.mobileMedium,o.f.desktop),leftCol:c(o.f.mobileMedium,o.f.leftCol),wide:c(o.f.mobileMedium,o.f.wide)}},mobileLandscape:{and:{phablet:c(o.f.mobileLandscape,o.f.phablet),tablet:c(o.f.mobileLandscape,o.f.tablet),desktop:c(o.f.mobileLandscape,o.f.desktop),leftCol:c(o.f.mobileLandscape,o.f.leftCol),wide:c(o.f.mobileLandscape,o.f.wide)}},phablet:{and:{tablet:c(o.f.phablet,o.f.tablet),desktop:c(o.f.phablet,o.f.desktop),leftCol:c(o.f.phablet,o.f.leftCol),wide:c(o.f.phablet,o.f.wide)}},tablet:{and:{desktop:c(o.f.tablet,o.f.desktop),leftCol:c(o.f.tablet,o.f.leftCol),wide:c(o.f.tablet,o.f.wide)}},desktop:{and:{leftCol:c(o.f.desktop,o.f.leftCol),wide:c(o.f.desktop,o.f.wide)}},leftCol:{and:{wide:c(o.f.leftCol,o.f.wide)}}}},31490:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var o=n(50484),i=n(24017),r=n(70991),c=n(78055);function s(){const e=(t=["\n\t\t\t\t\t","\n\t\t\t\t"],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));var t,n;return s=function(){return e},e}const l=e=>{let{size:t,theme:n}=e;return(0,o.jsx)("svg",{width:t?c.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.011 11.884 2 12.894l5.057 7.08h.48L22 5.006l-1.011-.986L7.537 16.207z",fill:null==n?void 0:n.fill})})},a=e=>{let{size:t,theme:n,isAnnouncedByScreenReader:c=!1}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{size:t,theme:n}),c?(0,o.jsx)("span",{css:(0,i.css)(s(),r.Q),children:"Checkmark"}):""]})}},47738:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var o=n(50484),i=n(24017),r=n(70991),c=n(78055);function s(){const e=(t=["\n\t\t\t\t\t","\n\t\t\t\t"],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));var t,n;return s=function(){return e},e}const l=e=>{let{size:t,theme:n}=e;return(0,o.jsx)("svg",{width:t?c.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.672 11.924c0 2.656.935 5.09 2.435 7.057l-.517.516A9.74 9.74 0 0 1 0 11.924 9.74 9.74 0 0 1 3.59 4.35l.517.516c-1.5 1.968-2.435 4.402-2.435 7.058m20.607 0c0-2.656-.861-5.09-2.435-7.058l.566-.516A9.74 9.74 0 0 1 24 11.924a9.74 9.74 0 0 1-3.59 7.573l-.566-.516c1.574-1.967 2.435-4.402 2.435-7.057m-17.09 0c0 1.574.467 2.975 1.278 4.13l-.664.64c-1.254-1.254-1.967-2.901-1.967-4.77 0-1.87.713-3.59 1.967-4.77l.664.614a7.23 7.23 0 0 0-1.278 4.156m13.622 0a7.4 7.4 0 0 0-1.254-4.156l.615-.615c1.254 1.18 1.992 2.902 1.992 4.77 0 1.87-.738 3.517-1.992 4.771l-.615-.64a7.26 7.26 0 0 0 1.254-4.13m-2.877 0A3.915 3.915 0 0 1 12 15.858a3.915 3.915 0 0 1-3.934-3.934A3.915 3.915 0 0 1 12 7.989a3.915 3.915 0 0 1 3.934 3.935m-1.475 0c0-1.353-1.131-2.46-2.459-2.46a2.435 2.435 0 0 0-2.459 2.46A2.435 2.435 0 0 0 12 14.383c1.328 0 2.459-1.107 2.459-2.46",fill:null==n?void 0:n.fill})})},a=e=>{let{size:t,theme:n,isAnnouncedByScreenReader:c=!1}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{size:t,theme:n}),c?(0,o.jsx)("span",{css:(0,i.css)(s(),r.Q),children:"Notification off"}):""]})}},43350:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var o=n(50484),i=n(24017),r=n(70991),c=n(78055);function s(){const e=(t=["\n\t\t\t\t\t","\n\t\t\t\t"],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));var t,n;return s=function(){return e},e}const l=e=>{let{size:t,theme:n}=e;return(0,o.jsx)("svg",{width:t?c.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.672 11.924c0 2.656.935 5.09 2.435 7.057l-.517.516A9.74 9.74 0 0 1 0 11.924 9.74 9.74 0 0 1 3.59 4.35l.517.516c-1.5 1.968-2.435 4.402-2.435 7.058m20.607 0c0-2.656-.861-5.09-2.435-7.058l.566-.516A9.74 9.74 0 0 1 24 11.924a9.74 9.74 0 0 1-3.59 7.573l-.566-.516c1.574-1.967 2.435-4.402 2.435-7.057m-17.09 0c0 1.574.467 2.975 1.278 4.13l-.664.64c-1.254-1.254-1.967-2.901-1.967-4.77 0-1.87.713-3.59 1.967-4.77l.664.614a7.23 7.23 0 0 0-1.278 4.156m13.622 0a7.4 7.4 0 0 0-1.254-4.156l.615-.615c1.254 1.18 1.992 2.902 1.992 4.77 0 1.87-.738 3.517-1.992 4.771l-.615-.64a7.26 7.26 0 0 0 1.254-4.13m-2.877 0A3.915 3.915 0 0 0 12 7.989a3.915 3.915 0 0 0-3.934 3.935A3.915 3.915 0 0 0 12 15.858a3.915 3.915 0 0 0 3.934-3.934",fill:null==n?void 0:n.fill})})},a=e=>{let{size:t,theme:n,isAnnouncedByScreenReader:c=!1}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{size:t,theme:n}),c?(0,o.jsx)("span",{css:(0,i.css)(s(),r.Q),children:"Notification on"}):""]})}},1255:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var o=n(50484),i=n(24017),r=n(70991),c=n(78055);function s(){const e=(t=["\n\t\t\t\t\t","\n\t\t\t\t"],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));var t,n;return s=function(){return e},e}const l=e=>{let{size:t,theme:n}=e;return(0,o.jsx)("svg",{width:t?c.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.8 13.2.425 9.8h1.525l.45-9.8 9.8-.45v-1.525l-9.8-.425-.45-9.8h-1.525l-.425 9.8-9.8.425v1.525z",fill:null==n?void 0:n.fill})})},a=e=>{let{size:t,theme:n,isAnnouncedByScreenReader:c=!1}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{size:t,theme:n}),c?(0,o.jsx)("span",{css:(0,i.css)(s(),r.Q),children:"Plus sign"}):""]})}}}]);
//# sourceMappingURL=LiveblogNotifications-importable.client.web.e48a20cdec7111e453ca.js.map