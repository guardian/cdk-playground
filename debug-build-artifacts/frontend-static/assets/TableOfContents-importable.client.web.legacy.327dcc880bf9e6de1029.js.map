{"version":3,"file":"TableOfContents-importable.client.web.legacy.327dcc880bf9e6de1029.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/TableOfContents.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/articleFormat.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/visually-hidden.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgChevronDownSingle.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgChevronUpSingle.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { headlineBold17, headlineLight17, space, textSansBold14, } from '@guardian/source/foundations';\nimport { SvgChevronDownSingle, SvgChevronUpSingle, } from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport { ArticleDisplay } from '../lib/articleFormat';\nimport { getZIndex } from '../lib/getZIndex';\nimport { palette } from '../palette';\nconst anchorStyles = css `\n\tcolor: ${palette('--table-of-contents')};\n\ttext-decoration: none;\n\tdisplay: block;\n\twidth: 100%;\n`;\nconst paddingStyles = css `\n\tpadding-bottom: ${space[4]}px;\n\tpadding-top: ${space[1]}px;\n`;\nconst listItemStyles = (format) => {\n    return css `\n\t\t${format.display === ArticleDisplay.Immersive\n        ? headlineLight17\n        : headlineBold17};\n\t\tbox-sizing: border-box;\n\t\tborder-top: 1px solid ${palette('--table-of-contents-border')};\n\t\tdisplay: flex;\n\t\tposition: relative;\n\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tbackground-color: ${palette('--table-of-contents')};\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\ttransition: height 0.2s ease;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t}\n\n\t\t&:hover::before {\n\t\t\theight: ${space[1]}px;\n\t\t}\n\t`;\n};\nconst detailsStyles = css `\n\tmargin: ${space[4]}px 0 ${space[6]}px 0;\n\t&:not([open]) .is-open,\n\t&[open] .is-closed {\n\t\tdisplay: none;\n\t}\n\t&:not([open]) {\n\t\tborder-bottom: 1px solid ${palette('--table-of-contents-border')};\n\t}\n\t/* removes toggle triangle from webkit browsers such as Safari */\n\tsummary::-webkit-details-marker {\n\t\tdisplay: none;\n\t}\n`;\nconst stickyStyles = css `\n\tposition: sticky;\n\ttop: 0;\n\tbackground: ${palette('--article-background')};\n\tz-index: ${getZIndex('tableOfContents')};\n\tsummary {\n\t\tz-index: 1;\n\t\tbackground: ${palette('--article-background')};\n\t}\n\tul {\n\t\tmax-height: 90vh;\n\t\toverflow-y: auto;\n\t}\n`;\nconst summaryStyles = css `\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tcursor: pointer;\n\tposition: relative;\n\tlist-style: none;\n\n\tpadding: ${space[1]}px 0;\n\tborder-top: 1px solid ${palette('--table-of-contents-border')};\n\n\t&:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\tpath {\n\t\tfill: ${palette('--table-of-contents')};\n\t}\n`;\nconst titleStyle = css `\n\t${textSansBold14}\n\tcolor:${palette('--table-of-contents')};\n`;\nconst indexStyle = css `\n\tmargin-right: 18px;\n`;\nconst verticalStyle = css `\n\tposition: absolute;\n\tleft: ${space[4]}px;\n\tborder-left: 1px solid ${palette('--table-of-contents-border')};\n\theight: 22px;\n\ttop: 0;\n\ttransition: 0.3s all ease;\n`;\n/**\n * A table of contents, shown at the top of an article\n * to allow readers to quickly navigate though articles.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page.\n *\n */\nexport const TableOfContents = ({ tableOfContents, format }) => {\n    const [open, setOpen] = useState(tableOfContents.length < 5);\n    return (_jsxs(\"details\", { open: open, css: [\n            detailsStyles,\n            tableOfContents.length > 5 ? stickyStyles : undefined,\n        ], \"data-component\": \"table-of-contents\", children: [_jsxs(\"summary\", { onClick: (e) => {\n                    e.preventDefault();\n                    setOpen((state) => !state);\n                }, onKeyDown: (e) => {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                        e.preventDefault();\n                        setOpen((state) => !state);\n                    }\n                }, \"data-link-name\": open ? 'table-of-contents-close' : 'table-of-contents-open', css: summaryStyles, tabIndex: 0, role: \"button\", children: [_jsx(\"h2\", { css: titleStyle, children: \"Jump to\" }), _jsx(\"span\", { className: \"is-closed\", children: _jsx(SvgChevronDownSingle, { size: \"xsmall\" }) }), _jsx(\"span\", { className: \"is-open\", children: _jsx(SvgChevronUpSingle, { size: \"xsmall\" }) })] }), _jsx(\"ul\", { children: tableOfContents.map((item, index) => (_jsxs(\"li\", { css: listItemStyles(format), \"data-link-name\": `table-of-contents-item-${index}-${item.id}`, children: [format.display === ArticleDisplay.NumberedList && (_jsxs(\"div\", { css: paddingStyles, children: [_jsx(\"span\", { css: indexStyle, children: index + 1 }), _jsx(\"div\", { css: verticalStyle })] })), _jsx(\"a\", { href: `#${item.id}`, css: [anchorStyles, paddingStyles], onClick: () => {\n                                setOpen((state) => !state);\n                            }, children: item.title })] }, item.id))) })] }));\n};\n","import { isString } from '@guardian/libs';\nexport var ArticleDesign;\n(function (ArticleDesign) {\n    ArticleDesign[ArticleDesign[\"Standard\"] = 0] = \"Standard\";\n    ArticleDesign[ArticleDesign[\"Picture\"] = 1] = \"Picture\";\n    ArticleDesign[ArticleDesign[\"Gallery\"] = 2] = \"Gallery\";\n    ArticleDesign[ArticleDesign[\"Audio\"] = 3] = \"Audio\";\n    ArticleDesign[ArticleDesign[\"Video\"] = 4] = \"Video\";\n    ArticleDesign[ArticleDesign[\"Review\"] = 5] = \"Review\";\n    ArticleDesign[ArticleDesign[\"Analysis\"] = 6] = \"Analysis\";\n    ArticleDesign[ArticleDesign[\"Explainer\"] = 7] = \"Explainer\";\n    ArticleDesign[ArticleDesign[\"Comment\"] = 8] = \"Comment\";\n    ArticleDesign[ArticleDesign[\"Letter\"] = 9] = \"Letter\";\n    ArticleDesign[ArticleDesign[\"Feature\"] = 10] = \"Feature\";\n    ArticleDesign[ArticleDesign[\"LiveBlog\"] = 11] = \"LiveBlog\";\n    ArticleDesign[ArticleDesign[\"DeadBlog\"] = 12] = \"DeadBlog\";\n    ArticleDesign[ArticleDesign[\"Recipe\"] = 13] = \"Recipe\";\n    ArticleDesign[ArticleDesign[\"MatchReport\"] = 14] = \"MatchReport\";\n    ArticleDesign[ArticleDesign[\"Interview\"] = 15] = \"Interview\";\n    ArticleDesign[ArticleDesign[\"Editorial\"] = 16] = \"Editorial\";\n    ArticleDesign[ArticleDesign[\"Quiz\"] = 17] = \"Quiz\";\n    ArticleDesign[ArticleDesign[\"Interactive\"] = 18] = \"Interactive\";\n    ArticleDesign[ArticleDesign[\"PhotoEssay\"] = 19] = \"PhotoEssay\";\n    ArticleDesign[ArticleDesign[\"Obituary\"] = 20] = \"Obituary\";\n    ArticleDesign[ArticleDesign[\"Correction\"] = 21] = \"Correction\";\n    ArticleDesign[ArticleDesign[\"FullPageInteractive\"] = 22] = \"FullPageInteractive\";\n    ArticleDesign[ArticleDesign[\"NewsletterSignup\"] = 23] = \"NewsletterSignup\";\n    ArticleDesign[ArticleDesign[\"Timeline\"] = 24] = \"Timeline\";\n    ArticleDesign[ArticleDesign[\"Profile\"] = 25] = \"Profile\";\n})(ArticleDesign || (ArticleDesign = {}));\nexport var ArticleDisplay;\n(function (ArticleDisplay) {\n    ArticleDisplay[ArticleDisplay[\"Standard\"] = 0] = \"Standard\";\n    ArticleDisplay[ArticleDisplay[\"Immersive\"] = 1] = \"Immersive\";\n    ArticleDisplay[ArticleDisplay[\"Showcase\"] = 2] = \"Showcase\";\n    ArticleDisplay[ArticleDisplay[\"NumberedList\"] = 3] = \"NumberedList\";\n})(ArticleDisplay || (ArticleDisplay = {}));\nexport var Pillar;\n(function (Pillar) {\n    Pillar[Pillar[\"News\"] = 0] = \"News\";\n    Pillar[Pillar[\"Opinion\"] = 1] = \"Opinion\";\n    Pillar[Pillar[\"Sport\"] = 2] = \"Sport\";\n    Pillar[Pillar[\"Culture\"] = 3] = \"Culture\";\n    Pillar[Pillar[\"Lifestyle\"] = 4] = \"Lifestyle\";\n})(Pillar || (Pillar = {}));\nexport var ArticleSpecial;\n(function (ArticleSpecial) {\n    ArticleSpecial[ArticleSpecial[\"SpecialReport\"] = 5] = \"SpecialReport\";\n    ArticleSpecial[ArticleSpecial[\"Labs\"] = 6] = \"Labs\";\n    ArticleSpecial[ArticleSpecial[\"SpecialReportAlt\"] = 7] = \"SpecialReportAlt\";\n})(ArticleSpecial || (ArticleSpecial = {}));\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({ design }) => {\n    switch (design) {\n        case 'ArticleDesign':\n            return ArticleDesign.Standard;\n        case 'PictureDesign':\n            return ArticleDesign.Picture;\n        case 'GalleryDesign':\n            return ArticleDesign.Gallery;\n        case 'AudioDesign':\n            return ArticleDesign.Audio;\n        case 'VideoDesign':\n            return ArticleDesign.Video;\n        case 'ReviewDesign':\n            return ArticleDesign.Review;\n        case 'AnalysisDesign':\n            return ArticleDesign.Analysis;\n        case 'CommentDesign':\n            return ArticleDesign.Comment;\n        case 'LetterDesign':\n            return ArticleDesign.Letter;\n        case 'FeatureDesign':\n            return ArticleDesign.Feature;\n        case 'LiveBlogDesign':\n            return ArticleDesign.LiveBlog;\n        case 'DeadBlogDesign':\n            return ArticleDesign.DeadBlog;\n        case 'RecipeDesign':\n            return ArticleDesign.Recipe;\n        case 'MatchReportDesign':\n            return ArticleDesign.MatchReport;\n        case 'InterviewDesign':\n            return ArticleDesign.Interview;\n        case 'EditorialDesign':\n            return ArticleDesign.Editorial;\n        case 'QuizDesign':\n            return ArticleDesign.Quiz;\n        case 'InteractiveDesign':\n            return ArticleDesign.Interactive;\n        case 'PhotoEssayDesign':\n            return ArticleDesign.PhotoEssay;\n        case 'ObituaryDesign':\n            return ArticleDesign.Obituary;\n        case 'FullPageInteractiveDesign':\n            return ArticleDesign.FullPageInteractive;\n        case 'NewsletterSignupDesign':\n            return ArticleDesign.NewsletterSignup;\n        case 'ExplainerDesign':\n            return ArticleDesign.Explainer;\n        case 'TimelineDesign':\n            return ArticleDesign.Timeline;\n        case 'ProfileDesign':\n            return ArticleDesign.Profile;\n        default:\n            return ArticleDesign.Standard;\n    }\n};\nconst decideDisplay = ({ display, design, }) => {\n    switch (display) {\n        case 'StandardDisplay':\n            return ArticleDisplay.Standard;\n        case 'ImmersiveDisplay':\n            // Temporary hack until we can handle Immersive Comment pieces\n            return design === 'CommentDesign'\n                ? ArticleDisplay.Standard\n                : ArticleDisplay.Immersive;\n        case 'ShowcaseDisplay':\n            return ArticleDisplay.Showcase;\n        case 'NumberedListDisplay':\n            return ArticleDisplay.NumberedList;\n        default:\n            return ArticleDisplay.Standard;\n    }\n};\nexport const decideTheme = ({ theme }) => {\n    switch (theme) {\n        case 'NewsPillar':\n            return Pillar.News;\n        case 'OpinionPillar':\n            return Pillar.Opinion;\n        case 'SportPillar':\n            return Pillar.Sport;\n        case 'CulturePillar':\n            return Pillar.Culture;\n        case 'LifestylePillar':\n            return Pillar.Lifestyle;\n        case 'SpecialReportTheme':\n            return ArticleSpecial.SpecialReport;\n        case 'SpecialReportAltTheme':\n            return ArticleSpecial.SpecialReportAlt;\n        case 'Labs':\n            return ArticleSpecial.Labs;\n        default:\n            return Pillar.News;\n    }\n};\nexport const decideFormat = (format) => ({\n    design: decideDesign(format),\n    display: decideDisplay(format),\n    theme: decideTheme(format),\n});\nexport const getThemeNameAsString = (format) => {\n    const themeName = Pillar[format.theme] ?? ArticleSpecial[format.theme];\n    if (!themeName)\n        throw new Error('Unknown theme');\n    return themeName;\n};\n/**\n * We need a type guard because TypeScript enums are (confusingly)\n * returning both strings and numbers.\n */\nconst isTheme = (theme) => !isString(theme);\nconst isDesign = (design) => !isString(design);\nexport const getAllThemes = ({ display, design, }) => Object.values({ ...Pillar, ...ArticleSpecial })\n    .filter(isTheme)\n    .map((theme) => ({\n    theme,\n    display,\n    design,\n}));\nexport const getAllDesigns = ({ display, theme, }) => Object.values({ ...ArticleDesign })\n    .filter(isDesign)\n    .map((design) => ({\n    theme,\n    display,\n    design,\n}));\nconst designToFEDesign = (design) => {\n    switch (design) {\n        case ArticleDesign.Standard:\n        // Correction doesn't exist in `FEFormat`.\n        case ArticleDesign.Correction:\n            return 'ArticleDesign';\n        case ArticleDesign.Picture:\n            return 'PictureDesign';\n        case ArticleDesign.Gallery:\n            return 'GalleryDesign';\n        case ArticleDesign.Audio:\n            return 'AudioDesign';\n        case ArticleDesign.Video:\n            return 'VideoDesign';\n        case ArticleDesign.Review:\n            return 'ReviewDesign';\n        case ArticleDesign.Analysis:\n            return 'AnalysisDesign';\n        case ArticleDesign.Explainer:\n            return 'ExplainerDesign';\n        case ArticleDesign.Comment:\n            return 'CommentDesign';\n        case ArticleDesign.Letter:\n            return 'LetterDesign';\n        case ArticleDesign.Feature:\n            return 'FeatureDesign';\n        case ArticleDesign.LiveBlog:\n            return 'LiveBlogDesign';\n        case ArticleDesign.DeadBlog:\n            return 'DeadBlogDesign';\n        case ArticleDesign.Recipe:\n            return 'RecipeDesign';\n        case ArticleDesign.MatchReport:\n            return 'MatchReportDesign';\n        case ArticleDesign.Interview:\n            return 'InterviewDesign';\n        case ArticleDesign.Editorial:\n            return 'EditorialDesign';\n        case ArticleDesign.Quiz:\n            return 'QuizDesign';\n        case ArticleDesign.Interactive:\n            return 'InteractiveDesign';\n        case ArticleDesign.PhotoEssay:\n            return 'PhotoEssayDesign';\n        case ArticleDesign.Obituary:\n            return 'ObituaryDesign';\n        case ArticleDesign.FullPageInteractive:\n            return 'FullPageInteractiveDesign';\n        case ArticleDesign.NewsletterSignup:\n            return 'NewsletterSignupDesign';\n        case ArticleDesign.Timeline:\n            return 'TimelineDesign';\n        case ArticleDesign.Profile:\n            return 'ProfileDesign';\n    }\n};\nconst displayToFEDisplay = (display) => {\n    switch (display) {\n        case ArticleDisplay.Standard:\n            return 'StandardDisplay';\n        case ArticleDisplay.Immersive:\n            return 'ImmersiveDisplay';\n        case ArticleDisplay.Showcase:\n            return 'ShowcaseDisplay';\n        case ArticleDisplay.NumberedList:\n            return 'NumberedListDisplay';\n    }\n};\nconst themeToFETheme = (theme) => {\n    switch (theme) {\n        case Pillar.News:\n            return 'NewsPillar';\n        case Pillar.Opinion:\n            return 'OpinionPillar';\n        case Pillar.Sport:\n            return 'SportPillar';\n        case Pillar.Culture:\n            return 'CulturePillar';\n        case Pillar.Lifestyle:\n            return 'LifestylePillar';\n        case ArticleSpecial.SpecialReport:\n            return 'SpecialReportTheme';\n        case ArticleSpecial.Labs:\n            return 'Labs';\n        case ArticleSpecial.SpecialReportAlt:\n            return 'SpecialReportAltTheme';\n    }\n};\nexport const formatToFEFormat = ({ design, display, theme, }) => ({\n    design: designToFEDesign(design),\n    display: displayToFEDisplay(display),\n    theme: themeToFETheme(theme),\n});\n/**\n * Creates a string representation of {@linkcode ArticleFormat}. Useful for\n * logging, storybook UI etc.\n *\n * @param format An {@linkcode ArticleFormat}\n * @returns A string representation of `ArticleFormat`\n */\nexport const formatToString = ({ design, display, theme, }) => [\n    `${ArticleDesign[design]} Design`,\n    `${ArticleDisplay[display]} Display`,\n    `and ${Pillar[theme] ?? ArticleSpecial[theme]} Theme`,\n].join(', ');\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n    // Modals will go here at the top\n    'lightbox',\n    'youTubeFullscreen',\n    // Sticky video and button need to be above everything\n    'sticky-video-button',\n    'sticky-video',\n    'banner',\n    'dropdown',\n    'burger',\n    'mastheadVeggieBurgerExpandedMobile',\n    'expanded-veggie-menu-wrapper',\n    'expanded-veggie-menu',\n    //header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n    'fullPageInteractiveHeaderWrapper',\n    // Mobile sticky appears below banners\n    'mobileSticky',\n    // Headers with sticky ads\n    'stickyAdWrapperLabsHeader',\n    'stickyAdWrapper',\n    'stickyAdWrapperNav',\n    // My Account dropdown in masthead - needs to be below stickyAdWrapper\n    'mastheadMyAccountDropdown',\n    // Edition selector in masthead - needs to be below stickyAdWrapper\n    'mastheadEditionDropdown',\n    // Edition selector in nav - needs to be below stickyAdWrapper\n    'editionDropdown',\n    // The content displayed by the Details component\n    'summaryDetails',\n    // Liveblog toast\n    'toast',\n    // Onwards Carousel (Related content etc)\n    'onwardsCarousel',\n    // Search link should be above The Guardian svg\n    'myAccountDropdown',\n    'searchHeaderLink',\n    'TheGuardian',\n    // The edition switcher banner needs to be below the Edition selector\n    // and the myAccount dropdown in the nav\n    'editionSwitcherBanner',\n    // Overlay for expandable marketing card (currently US only)\n    'expandableMarketingCardOverlay',\n    // Sticky table of contents element\n    'tableOfContents',\n    // Article headline (should be above main media)\n    'articleHeadline',\n    'immersiveBlackBox',\n    // Body\n    'bodyArea',\n    'rightColumnArea',\n    // Main media\n    'mainMedia',\n    // Nested links in cards should sit above the main card link\n    // See: https://www.sarasoueidan.com/blog/nested-links/\n    'card-nested-link',\n    'card-link',\n];\nexport const getZIndex = (name) => {\n    const index = indices.indexOf(name);\n    if (index === -1)\n        return -1; // indexOf returns -1 if there is no match\n    return indices.length - index; // reverse the indices: last item gets 1\n};\n","/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour) => `var(${colour})`;\n// ----- Exports ----- //\nexport { palette };\n","const visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\nexport { visuallyHidden };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\"svg\", {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"m1 7.224 10.498 10.498h1.004L23 7.224l-.98-.954L12 14.708 1.98 6.27z\",\n        fill: theme?.fill\n    })\n});\nconst SvgChevronDownSingle = ({ size, theme, isAnnouncedByScreenReader = false }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Svg, { size, theme }),\n        isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\"span\", {\n            css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n            children: \"Expand to show more\"\n        }) : \"\"\n    ] });\nexport { SvgChevronDownSingle };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\"svg\", {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M23 16.768 12.502 6.27h-1.004L1 16.768l.98.954L12 9.284l10.02 8.438z\",\n        fill: theme?.fill\n    })\n});\nconst SvgChevronUpSingle = ({ size, theme, isAnnouncedByScreenReader = false }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Svg, { size, theme }),\n        isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\"span\", {\n            css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n            children: \"Collapse to show less\"\n        }) : \"\"\n    ] });\nexport { SvgChevronUpSingle };\n"],"names":["anchorStyles","css","palette","paddingStyles","space","listItemStyles","format","display","ArticleDisplay","Immersive","headlineLight17","headlineBold17","detailsStyles","stickyStyles","getZIndex","summaryStyles","titleStyle","textSansBold14","indexStyle","name","styles","verticalStyle","TableOfContents","_ref","tableOfContents","_useState","useState","length","_useState2","_slicedToArray","open","setOpen","_jsxs","undefined","children","onClick","e","preventDefault","state","onKeyDown","key","tabIndex","role","_jsx","className","SvgChevronDownSingle","size","SvgChevronUpSingle","map","item","index","concat","id","NumberedList","href","title","ArticleDesign","Pillar","ArticleSpecial","decideDesign","design","Standard","Picture","Gallery","Audio","Video","Review","Analysis","Comment","Letter","Feature","LiveBlog","DeadBlog","Recipe","MatchReport","Interview","Editorial","Quiz","Interactive","PhotoEssay","Obituary","FullPageInteractive","NewsletterSignup","Explainer","Timeline","Profile","decideDisplay","_ref2","Showcase","decideTheme","_ref3","theme","News","Opinion","Sport","Culture","Lifestyle","SpecialReport","SpecialReportAlt","Labs","decideFormat","indices","indexOf","colour","visuallyHidden","Svg","jsx","width","iconSize","height","viewBox","xmlns","focusable","fillRule","clipRule","d","fill","_ref2$isAnnouncedBySc","isAnnouncedByScreenReader","jsxs","Fragment"],"sourceRoot":""}