(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[7362],{47402:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SendTargetingParams:()=>c});var o=r(60439),n=r(67400),i=r(42631);const c=e=>{let{editionCommercialProperties:t}=e;return(0,n.useEffect)((()=>{(0,i.IC)().sendTargetingParams((e=>new Map(e.adTargeting.filter((e=>"sh"!==e.name)).map((e=>[e.name,Array.isArray(e.value)?e.value.join(","):e.value]))).set("p","app").set("rp","dotcom-rendering"))(t)).catch((()=>{})),(0,o.Rm)("commercial","ðŸŽ¯ Targeting Params",t)}),[t]),null}},42631:(e,t,r)=>{"use strict";r.d(t,{OA:()=>N,IC:()=>V,GR:()=>F,QF:()=>H,Dq:()=>y,yY:()=>R,_5:()=>z,ud:()=>q,U:()=>A,yV:()=>_,LE:()=>j,FA:()=>Q});var o=r(13011),n=r(96831),i=r(86293),c=r(99895),s=r(65490),a=r(89993),d=r(85159),l=(r(47038),r(59517)),u=(r(29103),r(60579)),g=r(54703),h=r(69504),w=r(75271),p=r(9474),f=r(13213);function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends f.TProtocol{getTransport(){return this.concreteProtocol.getTransport()}flush(){return this.concreteProtocol.flush()}writeMessageBegin(e,t,r){return this.concreteProtocol.writeMessageBegin(e,t,r)}writeMessageEnd(){return this.concreteProtocol.writeMessageEnd()}writeStructBegin(e){return this.concreteProtocol.writeStructBegin(e)}writeStructEnd(){return this.concreteProtocol.writeStructEnd()}writeFieldBegin(e,t,r){return this.concreteProtocol.writeFieldBegin(e,t,r)}writeFieldEnd(){return this.concreteProtocol.writeFieldEnd()}writeFieldStop(){return this.concreteProtocol.writeFieldStop()}writeMapBegin(e,t,r){return this.concreteProtocol.writeMapBegin(e,t,r)}writeMapEnd(){return this.concreteProtocol.writeMapEnd()}writeListBegin(e,t){return this.concreteProtocol.writeListBegin(e,t)}writeListEnd(){return this.concreteProtocol.writeListEnd()}writeSetBegin(e,t){return this.concreteProtocol.writeSetBegin(e,t)}writeSetEnd(){return this.concreteProtocol.writeSetEnd()}writeBool(e){return this.concreteProtocol.writeBool(e)}writeByte(e){return this.concreteProtocol.writeByte(e)}writeI16(e){return this.concreteProtocol.writeI16(e)}writeI32(e){return this.concreteProtocol.writeI32(e)}writeI64(e){return this.concreteProtocol.writeI64(e)}writeDouble(e){return this.concreteProtocol.writeDouble(e)}writeString(e){return this.concreteProtocol.writeString(e)}writeBinary(e){return this.concreteProtocol.writeBinary(e)}readMessageBegin(){return this.concreteProtocol.readMessageBegin()}readMessageEnd(){return this.concreteProtocol.readMessageEnd()}readStructBegin(){return this.concreteProtocol.readStructBegin()}readStructEnd(){return this.concreteProtocol.readStructEnd()}readFieldBegin(){return this.concreteProtocol.readFieldBegin()}readFieldEnd(){return this.concreteProtocol.readFieldEnd()}readMapBegin(){return this.concreteProtocol.readMapBegin()}readMapEnd(){return this.concreteProtocol.readMapEnd()}readListBegin(){return this.concreteProtocol.readListBegin()}readListEnd(){return this.concreteProtocol.readListEnd()}readSetBegin(){return this.concreteProtocol.readSetBegin()}readSetEnd(){return this.concreteProtocol.readSetEnd()}readBool(){return this.concreteProtocol.readBool()}readByte(){return this.concreteProtocol.readByte()}readI16(){return this.concreteProtocol.readI16()}readI32(){return this.concreteProtocol.readI32()}readI64(){return this.concreteProtocol.readI64()}readDouble(){return this.concreteProtocol.readDouble()}readBinary(){return this.concreteProtocol.readBinary()}readString(){return this.concreteProtocol.readString()}skip(e){return this.concreteProtocol.skip(e)}constructor(e){super(e.getTransport()),P(this,"concreteProtocol",void 0),this.concreteProtocol=e}}class B extends m{writeMessageBegin(e,t,r){t===f.MessageType.CALL||t===f.MessageType.ONEWAY?super.writeMessageBegin(this.serviceName+B.separator+e,t,r):super.writeMessageBegin(e,t,r)}constructor(e,t){super(e),P(this,"serviceName",void 0),this.serviceName=t}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){window.android?window.android.postMessage(e.data,e.connectionId):window.webkit?window.webkit.messageHandlers.iOSWebViewMessage.postMessage(e):console.warn("No native APIs available")}P(B,"separator",":");let E=1;const M=()=>"connection-".concat(E++);class S extends f.ThriftConnection{reset(e){if(e===this.connectionId&&window.nativeConnections){console.warn("Reseting connection "+e),delete window.nativeConnections[this.connectionId];for(const e of this.promises)e.reject(new f.TApplicationException(f.TApplicationExceptionType.UNKNOWN,"Timeout error"));this.promises=[],this.connectionId=M(),window.nativeConnections[this.connectionId]=this}}receive(e){const t=this.promises.shift();if(t){clearTimeout(t.timeoutId);const r=Buffer.from(e.data,"base64");t.resolve(r)}this.sendNextMessage()}sendNextMessage(){const e=this.outBuffer.shift();e&&(console.log("Sending next message"),v(e))}send(e){const t=this.connectionId,r=this;return new Promise((function(o,n){r.promises.push({resolve:o,reject:n,timeoutId:setTimeout((function(){r.reset(t)}),3e4)});const i={data:e.toString("base64"),connectionId:t};1===r.promises.length?(console.log("Sending message immediately"),v(i)):(console.log("Queing message because others in flight"),r.outBuffer.push(i))}))}constructor(e,t){var r;super(e,t),b(this,"connectionId",M()),b(this,"promises",[]),b(this,"outBuffer",[]),"undefined"!=typeof window&&(window.nativeConnections=null!==(r=window.nativeConnections)&&void 0!==r?r:{},window.nativeConnections[this.connectionId]=this)}}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffered",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact";const o=new S((0,f.getTransport)(t),class extends B{constructor(t){var o;super(new((0,f.getProtocol)(r))(t),null!==(o=e.serviceName)&&void 0!==o?o:"")}});return new e(o)}let C;const y=()=>((0,p.b)(C)&&(C=I(s.Client,"buffered","compact")),C);let T;const F=()=>((0,p.b)(T)&&(T=I(i.Client,"buffered","compact")),T);let L;const N=()=>(L||(L=I(o.Client,"buffered","compact")),L);let x;const A=()=>(x||(x=I(u.Client,"buffered","compact")),x);let k;const _=()=>(k||(k=I(g.Client,"buffered","compact")),k);let O;const j=()=>(O||(O=I(h.Client,"buffered","compact")),O);let D;const R=()=>(D||(D=I(a.Client,"buffered","compact")),D);let W;const Q=()=>(W||(W=I(w.Client,"buffered","compact")),W);let U;const V=()=>(U||(U=I(n.Client,"buffered","compact")),U);let Y;const q=()=>(Y||(Y=I(l.Client,"buffered","compact")),Y);let G;const H=()=>(G||(G=I(c.Client,"buffered","compact")),G);let K;const z=()=>(K||(K=I(d.Client,"buffered","compact")),K)},50150:()=>{}}]);
//# sourceMappingURL=SendTargetingParams-importable.client.web.384a8d00761b9a0cb981.js.map