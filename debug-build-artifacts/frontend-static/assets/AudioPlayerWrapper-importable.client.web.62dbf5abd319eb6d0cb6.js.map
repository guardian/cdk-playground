{"version":3,"file":"AudioPlayerWrapper-importable.client.web.62dbf5abd319eb6d0cb6.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgMediaControlsPause.js","webpack://@guardian/dotcom-rendering/./src/static/icons/audio/skip-backward-15.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/audio/skip-forward-15.svg","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayer/styles.ts","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayer/components/Playback.tsx","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayer/components/WaveForm.tsx","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayer/components/ProgressBar.tsx","webpack://@guardian/dotcom-rendering/./src/lib/formatTime.ts","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayer/components/time.tsx","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayer/components/Wrapper.tsx","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayer/AudioPlayer.tsx","webpack://@guardian/dotcom-rendering/./src/components/AudioPlayerWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/visually-hidden.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgMediaControlsPlay.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/spinner/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/spinner/Spinner.js"],"sourcesContent":["import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M10 5H7L6 6v13h4zm4 14h3l1-1V5h-4z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgMediaControlsPause = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Pause\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgMediaControlsPause };\n","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgSkipBackward15 = function SvgSkipBackward15(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 27 27\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.8 26.1v-8H0v-1.3l2.9-1.1H4V26H1.8Zm6.7.2a6 6 0 0 1-3-.7V24c.6.3 1.4.5 2.3.5 1.5 0 2.3-.5 2.3-1.7s-.8-1.6-2.3-1.6a6 6 0 0 0-2 .3l.4-5.8h5.9v1.8H7.9l-.2 2.2 1.2-.2c2.3 0 3.6 1 3.6 3.3 0 2.2-1.5 3.5-4 3.5ZM7.4 0l.5.5L3.4 6 8 11.4l-.5.5-5.7-5.7v-.5L7.4 0Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26 15.8c0-5.7-5-10.3-11-10.3H2.6v1h12.3c5.6 0 10.1 4.2 10.1 9.3 0 5.1-4.4 9.2-9.9 9.3l-.3.3v.5l.3.2c6 0 11-4.7 11-10.3Z\"\n  })));\n};\nexport default SvgSkipBackward15;","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgSkipForward15 = function SvgSkipForward15(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 26 27\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.9 26.1v-8h-1.8v-1.3l2.9-1.1h1.2V26h-2.3Zm6.7.2a6 6 0 0 1-3-.7V24c.7.3 1.4.5 2.4.5 1.4 0 2.2-.5 2.2-1.7s-.7-1.6-2.2-1.6a6 6 0 0 0-2 .3l.4-5.8h5.8v1.8h-4.1l-.2 2.2 1.2-.2c2.3 0 3.5 1 3.5 3.3 0 2.2-1.5 3.5-4 3.5Zm2.7-20.6v.5L18.6 12l-.5-.5L22.6 6 18.1.5l.5-.5 5.7 5.7Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 15.8C0 10.1 5 5.5 11.2 5.5h12.3v1H11.2C5.6 6.5 1 10.7 1 15.8 1 20.9 5.4 25 11 25l.2.3v.5l-.3.2C5 26.1 0 21.4 0 15.8Z\"\n  })));\n};\nexport default SvgSkipForward15;","import { css } from '@emotion/react';\n\n// default base styling for all buttons\nexport const buttonBaseCss = css`\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: none;\n\tborder: 0;\n\tmargin: 0;\n\tpadding: 0;\n\n\t:focus {\n\t\toutline: none;\n\t}\n\n\t:not(:disabled):hover {\n\t\topacity: 0.8;\n\t\tcursor: pointer;\n\t}\n`;\n","import { css } from '@emotion/react';\nimport { from, palette } from '@guardian/source/foundations';\nimport {\n\tSpinner,\n\tSvgMediaControlsPause,\n\tSvgMediaControlsPlay,\n} from '@guardian/source/react-components';\nimport SkipBackIcon from '../../../static/icons/audio/skip-backward-15.svg';\nimport SkipForwardIcon from '../../../static/icons/audio/skip-forward-15.svg';\nimport { buttonBaseCss } from '../styles';\n\ntype ButtonProps = React.ComponentPropsWithoutRef<'button'>;\n\nconst SkipButton = (props: ButtonProps) => {\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tcss={[\n\t\t\t\tbuttonBaseCss,\n\t\t\t\tcss`\n\t\t\t\t\tsvg {\n\t\t\t\t\t\twidth: 31px;\n\t\t\t\t\t\theight: 30px;\n\t\t\t\t\t}\n\t\t\t\t\tfill: ${palette.neutral[100]};\n\n\t\t\t\t\t:active {\n\t\t\t\t\t\tfill: ${palette.brandAlt[400]};\n\t\t\t\t\t}\n\n\t\t\t\t\t:disabled {\n\t\t\t\t\t\tfill: ${palette.neutral[46]};\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t]}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\nexport const Playback = (props: React.ComponentPropsWithoutRef<'div'>) => (\n\t<div\n\t\tcss={css`\n\t\t\tgrid-area: playback;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t`}\n\t\t{...props}\n\t/>\n);\n\nPlayback.Play = ({\n\tisWaiting,\n\tisPlaying,\n\t...props\n}: {\n\tisWaiting: boolean;\n\tisPlaying: boolean;\n} & ButtonProps) => {\n\treturn (\n\t\t<button\n\t\t\taria-label={isPlaying ? 'Pause' : 'Play'}\n\t\t\ttype=\"button\"\n\t\t\tcss={[\n\t\t\t\tbuttonBaseCss,\n\t\t\t\tcss`\n\t\t\t\t\tmargin: 0 50px;\n\t\t\t\t\twidth: 70px;\n\t\t\t\t\theight: 70px;\n\t\t\t\t\tbackground-color: ${isWaiting\n\t\t\t\t\t\t? 'none'\n\t\t\t\t\t\t: palette.brandAlt[400]};\n\t\t\t\t\tborder-radius: 50%;\n\n\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\tmargin: 0 60px;\n\t\t\t\t\t\twidth: 60px;\n\t\t\t\t\t\theight: 60px;\n\t\t\t\t\t}\n\n\t\t\t\t\tsvg {\n\t\t\t\t\t\twidth: 60px;\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t]}\n\t\t\t{...props}\n\t\t>\n\t\t\t{isWaiting ? (\n\t\t\t\t<Spinner\n\t\t\t\t\ttheme={{\n\t\t\t\t\t\tbackground: palette.neutral[20],\n\t\t\t\t\t\tcolor: palette.brandAlt[400],\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t) : isPlaying ? (\n\t\t\t\t<SvgMediaControlsPause theme={{ fill: palette.neutral[7] }} />\n\t\t\t) : (\n\t\t\t\t<SvgMediaControlsPlay theme={{ fill: palette.neutral[7] }} />\n\t\t\t)}\n\t\t</button>\n\t);\n};\n\nPlayback.SkipBack = (props: Pick<ButtonProps, 'onClick' | 'disabled'>) => (\n\t<SkipButton {...props} aria-label=\"Skip back 15 seconds\">\n\t\t<SkipBackIcon />\n\t</SkipButton>\n);\n\nPlayback.SkipForward = (props: Pick<ButtonProps, 'onClick' | 'disabled'>) => (\n\t<SkipButton {...props} aria-label=\"Skip forward 15 seconds\">\n\t\t<SkipForwardIcon />\n\t</SkipButton>\n);\n","import { useId, useMemo } from 'react';\n\n/**\n * Pseudo random number generator generator ([linear congruential\n * generator](https://en.wikipedia.org/wiki/Linear_congruential_generator)).\n *\n * I'll be honest, I don't fully understand it, but it creates a pseudo random\n * number generator based on a seed, in this case a string.\n *\n * It's deterministic, so calls to the function it returns will always return\n * the same results, given the same seed.\n *\n * Copilot helped me with it...\n */\nconst getSeededRandomNumberGenerator = (seedString: string) => {\n\tconst modulus = 2147483648;\n\tconst multiplier = 1103515245;\n\tconst increment = 12345;\n\n\t// convert string to numerical seed\n\tlet hashedSeed = 0;\n\tfor (let i = 0; i < seedString.length; i++) {\n\t\tconst char = seedString.charCodeAt(i);\n\t\thashedSeed = (hashedSeed << 5) - hashedSeed + char;\n\t\thashedSeed |= 0; // Convert to 32bit integer\n\t}\n\n\tconst seed = Math.abs(hashedSeed) % modulus;\n\tlet state = seed;\n\n\treturn function () {\n\t\tstate = (multiplier * state + increment) % modulus;\n\t\treturn state / modulus;\n\t};\n};\n\n/**\n * Compresses an of values to a range between the threshold and the existing\n * maximum.\n */\nconst compress = (array: number[], threshold: number) => {\n\tconst minValue = Math.min(...array);\n\tconst maxValue = Math.max(...array);\n\n\treturn array.map(\n\t\t(value) =>\n\t\t\t((value - minValue) / (maxValue - minValue)) *\n\t\t\t\t(maxValue - threshold) +\n\t\t\tthreshold,\n\t);\n};\n\n// Generate an array of fake audio peaks based on the URL\nfunction generateWaveform(url: string, bars: number) {\n\tconst getSeededRandomNumber = getSeededRandomNumberGenerator(url);\n\n\t// Generate an array of fake peaks, pseudo random numbers seeded by the URL\n\tconst peaks = Array.from(\n\t\t{ length: bars },\n\t\t() => getSeededRandomNumber() * 100,\n\t);\n\n\t// Return the compressed fake audio data (like a podcast would be)\n\treturn compress(peaks, 60);\n}\n\ntype Theme = {\n\tprogress?: string;\n\tbuffer?: string;\n\twave?: string;\n};\n\nconst defaultTheme: Theme = {\n\tprogress: 'green',\n\tbuffer: 'orange',\n\twave: 'grey',\n};\n\ntype Props = {\n\tsrc: string;\n\tprogress: number;\n\tbuffer: number;\n\ttheme?: Theme;\n\tgap?: number;\n\tbars?: number;\n\tbarWidth?: number;\n} & React.SVGProps<SVGSVGElement>;\n\nexport const WaveForm = ({\n\tsrc,\n\tprogress,\n\tbuffer,\n\ttheme: userTheme,\n\tgap = 1,\n\tbars = 150,\n\tbarWidth = 4,\n\t...props\n}: Props) => {\n\t// memoise the waveform data so they aren't recalculated on every render\n\tconst barHeights = useMemo(() => generateWaveform(src, bars), [src, bars]);\n\tconst totalWidth = useMemo(\n\t\t() => bars * (barWidth + gap) - gap,\n\t\t[bars, barWidth, gap],\n\t);\n\tconst theme = useMemo(\n\t\t() => ({ ...defaultTheme, ...userTheme }),\n\t\t[userTheme],\n\t);\n\n\t// needed in case we have multiple waveforms on the same page\n\tconst id = useId();\n\n\treturn (\n\t\t<svg\n\t\t\tviewBox={`0 0 ${totalWidth} 100`}\n\t\t\tpreserveAspectRatio=\"none\"\n\t\t\twidth={totalWidth}\n\t\t\theight={100}\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t{...props}\n\t\t>\n\t\t\t{/* the base bars we'll use to create the variants we need below */}\n\t\t\t<defs>\n\t\t\t\t<g id={`bars-${id}`}>\n\t\t\t\t\t{barHeights.map((barHeight, index) => {\n\t\t\t\t\t\tconst x = index * (barWidth + gap);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\t\tkey={x}\n\t\t\t\t\t\t\t\tx={x}\n\t\t\t\t\t\t\t\ty={100 - barHeight} // place it on the bottom\n\t\t\t\t\t\t\t\twidth={barWidth}\n\t\t\t\t\t\t\t\theight={barHeight}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</g>\n\n\t\t\t\t<clipPath id={`buffer-clip-path-${id}`}>\n\t\t\t\t\t<rect height=\"100\" width={(buffer / 100) * totalWidth} />\n\t\t\t\t</clipPath>\n\n\t\t\t\t<clipPath id={`progress-clip-path-${id}`}>\n\t\t\t\t\t<rect height=\"100\" width={(progress / 100) * totalWidth} />\n\t\t\t\t</clipPath>\n\t\t\t</defs>\n\n\t\t\t{/* default wave colours */}\n\t\t\t<use href={`#bars-${id}`} fill={theme.wave} />\n\n\t\t\t{/* buffer wave */}\n\t\t\t<use\n\t\t\t\thref={`#bars-${id}`}\n\t\t\t\tclipPath={`url(#buffer-clip-path-${id})`}\n\t\t\t\tfill={theme.buffer}\n\t\t\t/>\n\n\t\t\t{/* progress wave */}\n\t\t\t<use\n\t\t\t\thref={`#bars-${id}`}\n\t\t\t\tclipPath={`url(#progress-clip-path-${id})`}\n\t\t\t\tfill={theme.progress}\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, palette } from '@guardian/source/foundations';\nimport { WaveForm } from './WaveForm';\n\nconst cursorWidth = '4px';\n\nconst Cursor = ({\n\tisScrubbing,\n\tcanJumpToPoint,\n\tprogress,\n}: {\n\tisScrubbing: boolean;\n\tcanJumpToPoint: boolean;\n\tprogress: number;\n}) => (\n\t<div\n\t\tcss={css`\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\ttransition: transform 10ms ease-out;\n\t\t\tposition: relative;\n\t\t\tcursor: ${isScrubbing\n\t\t\t\t? 'grabbing'\n\t\t\t\t: canJumpToPoint\n\t\t\t\t? 'pointer'\n\t\t\t\t: 'default'};\n\n\t\t\t/* this is the yellow '|' cursor */\n\t\t\tborder-left: ${cursorWidth} solid ${palette.brandAlt[400]};\n\n\t\t\t/* a wider 'grabbable' area */\n\t\t\t::before {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: -8px;\n\t\t\t\twidth: 12px;\n\t\t\t\theight: 100%;\n\t\t\t\tcursor: ${isScrubbing\n\t\t\t\t\t? 'grabbing'\n\t\t\t\t\t: canJumpToPoint\n\t\t\t\t\t? 'grab'\n\t\t\t\t\t: 'default'};\n\t\t\t}\n\t\t`}\n\t\tstyle={{\n\t\t\ttransform: `translateX(clamp(0%, ${progress}%, 100% - ${cursorWidth}))`,\n\t\t}}\n\t></div>\n);\n\nexport const ProgressBar = ({\n\tprogress,\n\tbuffer,\n\tsrc,\n\tisScrubbing,\n\tcanJumpToPoint,\n\t...props\n}: React.ComponentPropsWithoutRef<'div'> & {\n\tisScrubbing: boolean;\n\tcanJumpToPoint: boolean;\n\tsrc: string;\n\tbuffer: number;\n\tprogress: number;\n}) => {\n\treturn (\n\t\t<div\n\t\t\taria-hidden={true}\n\t\t\tcss={css`\n\t\t\t\tgrid-area: progress-bar;\n\t\t\t\tbackground-color: ${palette.neutral[38]};\n\t\t\t\tborder-top: 1px solid ${palette.neutral[46]};\n\t\t\t\tposition: relative;\n\t\t\t\toverflow: hidden;\n\t\t\t\tcursor: ${isScrubbing\n\t\t\t\t\t? 'grabbing'\n\t\t\t\t\t: canJumpToPoint\n\t\t\t\t\t? 'pointer'\n\t\t\t\t\t: 'default'};\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tborder-top: none;\n\t\t\t\t}\n\t\t\t`}\n\t\t\t{...props}\n\t\t>\n\t\t\t<WaveForm\n\t\t\t\tbars={175}\n\t\t\t\tsrc={src}\n\t\t\t\tprogress={progress}\n\t\t\t\tbuffer={buffer}\n\t\t\t\ttheme={{\n\t\t\t\t\tprogress: palette.neutral[100],\n\t\t\t\t\tbuffer: palette.neutral[60],\n\t\t\t\t\twave: palette.neutral[46],\n\t\t\t\t}}\n\t\t\t\tcss={css`\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t`}\n\t\t\t/>\n\n\t\t\t<Cursor\n\t\t\t\tisScrubbing={isScrubbing}\n\t\t\t\tcanJumpToPoint={canJumpToPoint}\n\t\t\t\tprogress={progress}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","const formatNum = (t: number) => t.toFixed(0).padStart(2, '0');\n\nexport const formatTime = (t: number): string => {\n\tconst second = Math.floor(t % 60);\n\tconst minute = Math.floor((t % 3600) / 60);\n\tconst hour = Math.floor(t / 3600);\n\treturn `${formatNum(hour)}:${formatNum(minute)}:${formatNum(second)}`;\n};\n","import { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { from, palette, textSans15 } from '@guardian/source/foundations';\nimport { formatTime } from '../../../lib/formatTime';\n\nconst timeCSS = css`\n\tpadding-top: 4px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\t${textSans15};\n\tcolor: ${palette.neutral[86]};\n\tbackground-color: ${palette.neutral[20]};\n\tz-index: 1;\n\n\t${from.leftCol} {\n\t\tpadding-top: 0;\n\t}\n`;\n\nexport const CurrentTime = ({ currentTime }: { currentTime: number }) => (\n\t<time\n\t\taria-label=\"Current playing time\"\n\t\tcss={[\n\t\t\ttimeCSS,\n\t\t\tcss`\n\t\t\t\tgrid-area: current-time;\n\t\t\t\tjustify-content: flex-start;\n\t\t\t\tpadding-left: 10px;\n\t\t\t`,\n\t\t]}\n\t>\n\t\t{formatTime(currentTime)}\n\t</time>\n);\n\nexport const Duration = ({ duration }: { duration?: number }) => (\n\t<time\n\t\taria-label=\"Total playing time\"\n\t\tcss={[\n\t\t\ttimeCSS,\n\t\t\tcss`\n\t\t\t\tgrid-area: duration;\n\t\t\t\tjustify-content: flex-end;\n\t\t\t\tpadding-right: 10px;\n\t\t\t`,\n\t\t]}\n\t>\n\t\t{formatTime(isUndefined(duration) || isNaN(duration) ? 0 : duration)}\n\t</time>\n);\n","import { css } from '@emotion/react';\nimport { from, palette } from '@guardian/source/foundations';\n\nexport const Wrapper = (props: React.ComponentPropsWithoutRef<'div'>) => (\n\t<div\n\t\tcss={css`\n\t\t\tposition: relative;\n\t\t\tbackground-color: ${palette.neutral[7]};\n\n\t\t\t/* define the grid for the component */\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-rows: 30px 40px 120px;\n\t\t\tgrid-template-areas:\n\t\t\t\t'current-time duration'\n\t\t\t\t'progress-bar progress-bar'\n\t\t\t\t'playback     playback';\n\n\t\t\t${from.leftCol} {\n\t\t\t\tgrid-template-columns: 90px 1fr 90px;\n\t\t\t\tgrid-template-rows: 50px 110px;\n\t\t\t\tgrid-template-areas:\n\t\t\t\t\t'current-time progress-bar duration'\n\t\t\t\t\t'playback     playback     playback';\n\t\t\t}\n\t\t`}\n\t\t{...props}\n\t/>\n);\n","import { log } from '@guardian/libs';\nimport type { AudioEvent, TAudioEventType } from '@guardian/ophan-tracker-js';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { getOphan } from '../../client/ophan/ophan';\nimport { Playback } from './components/Playback';\nimport { ProgressBar } from './components/ProgressBar';\nimport { CurrentTime, Duration } from './components/time';\nimport { Wrapper } from './components/Wrapper';\n\n// ********************* ophan stuff *********************\n\n// possible events for audio in ophan\ntype AudioEvents = TAudioEventType extends `audio:content:${infer E}`\n\t? E\n\t: never;\n\n// possible progress events for audio in ophan\ntype AudioProgressEvents = Extract<\n\tAudioEvents,\n\t`${number}`\n> extends `${infer N extends number}`\n\t? N\n\t: never;\n\nconst reportAudioEvent = (mediaId: string, eventName: AudioEvents) => {\n\tconst audioEvent: AudioEvent = {\n\t\tid: mediaId,\n\t\teventType: `audio:content:${eventName}`,\n\t};\n\n\tvoid getOphan('Web').then((ophan) => {\n\t\tophan.record({\n\t\t\taudio: audioEvent,\n\t\t});\n\t});\n};\n\n// ********************* Component *********************\n\ntype AudioPlayerProps = {\n\t/** The audio source you want to play. */\n\tsrc: string;\n\t/**\n\t * Optional, pre-computed duration of the audio source.\n\t * If it's not provided it will be calculated once the audio is loaded.\n\t */\n\tduration?: number;\n\t/** media element ID for Ophan */\n\tmediaId: string;\n};\n\n/**\n * Audio player component.\n */\nexport const AudioPlayer = ({\n\tsrc,\n\tduration: preCalculatedDuration,\n\tmediaId,\n}: AudioPlayerProps) => {\n\t// ********************* player *********************\n\n\t// state for displaying feedback to the user\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\tconst [currentTime, setCurrentTime] = useState(0);\n\tconst [duration, setDuration] = useState(preCalculatedDuration);\n\tconst [progress, setProgress] = useState(0);\n\tconst [isWaiting, setIsWaiting] = useState(false);\n\tconst [isScrubbing, setIsScrubbing] = useState(false);\n\tconst [buffer, setBuffer] = useState(0);\n\n\tconst isFirstPlay = useRef(true);\n\n\t// ref to the <audio /> element that handles playback\n\tconst audioRef = useRef<HTMLAudioElement>(null);\n\n\t// ********************* ophan stuff *********************\n\n\t// we'll send listening progress reports to ophan at these percentage points\n\t// through playback (100% is handled by the 'ended' event)\n\tconst audioProgressEvents = useRef<Set<AudioProgressEvents>>(\n\t\tnew Set([25, 50, 75]),\n\t);\n\n\t// ******************** events *********************\n\n\tconst onTimeupdate = useCallback(() => {\n\t\tif (audioRef.current) {\n\t\t\tconst newProgress =\n\t\t\t\t(audioRef.current.currentTime / audioRef.current.duration) *\n\t\t\t\t100;\n\n\t\t\tsetCurrentTime(audioRef.current.currentTime);\n\t\t\tsetProgress(newProgress);\n\n\t\t\t// Send progress events to ophan,\n\t\t\t// but only if the audio is playing. We don't want to send these events\n\t\t\t// just because you skipped around the audio while paused.\n\t\t\tif (isPlaying) {\n\t\t\t\tfor (const stage of audioProgressEvents.current) {\n\t\t\t\t\tif (newProgress >= stage) {\n\t\t\t\t\t\taudioProgressEvents.current.delete(stage);\n\t\t\t\t\t\treportAudioEvent(mediaId, String(stage) as AudioEvents);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [isPlaying, mediaId]);\n\n\tconst onPlay = useCallback(() => {\n\t\tsetIsPlaying(true);\n\n\t\tif (isFirstPlay.current) {\n\t\t\tisFirstPlay.current = false;\n\t\t\treportAudioEvent(mediaId, 'play');\n\t\t}\n\t}, [mediaId]);\n\n\tconst onProgress = useCallback(() => {\n\t\tif (audioRef.current) {\n\t\t\tconst buffers = audioRef.current.buffered.length;\n\t\t\tif (buffers === 0) return;\n\n\t\t\tconst end = audioRef.current.buffered.end(buffers - 1);\n\t\t\tsetBuffer((end / audioRef.current.duration) * 100);\n\t\t}\n\t}, []);\n\n\tconst onError = useCallback((event: Event) => {\n\t\twindow.guardian.modules.sentry.reportError(\n\t\t\tnew Error(event.type),\n\t\t\t'audio-player',\n\t\t);\n\t\tlog('dotcom', 'Audio player error:', event);\n\t}, []);\n\n\t// Set the duration to what we now *know* it is.\n\t// If we already had the correct duration, this will be a no-op anyway.\n\tconst onDurationChange = useCallback(() => {\n\t\tif (audioRef.current) {\n\t\t\tsetDuration(audioRef.current.duration);\n\t\t}\n\t}, []);\n\n\t// ********************* interactions *********************\n\n\tconst boundingClientRect = useRef<DOMRect>();\n\n\tconst playPause = useCallback(() => {\n\t\tif (audioRef.current) {\n\t\t\tif (audioRef.current.paused) {\n\t\t\t\tvoid audioRef.current.play().catch(onError);\n\t\t\t} else {\n\t\t\t\taudioRef.current.pause();\n\t\t\t\tsetIsWaiting(false);\n\t\t\t}\n\t\t}\n\t}, [onError]);\n\n\tconst skipForward = useCallback(() => {\n\t\tif (audioRef.current) {\n\t\t\taudioRef.current.currentTime = Math.min(\n\t\t\t\taudioRef.current.currentTime + 15,\n\t\t\t\taudioRef.current.duration,\n\t\t\t);\n\t\t}\n\t}, []);\n\n\tconst skipBackward = useCallback(() => {\n\t\tif (audioRef.current) {\n\t\t\taudioRef.current.currentTime = Math.max(\n\t\t\t\taudioRef.current.currentTime - 15,\n\t\t\t\t0,\n\t\t\t);\n\t\t}\n\t}, []);\n\n\tconst setPlaybackTime = useCallback(\n\t\t(newTime: number) => {\n\t\t\tif (audioRef.current) {\n\t\t\t\taudioRef.current.currentTime = newTime;\n\t\t\t}\n\t\t},\n\t\t[audioRef],\n\t);\n\n\tconst jumpToPoint = useCallback(\n\t\t(event: React.MouseEvent<HTMLDivElement>) => {\n\t\t\tif (audioRef.current && !isNaN(audioRef.current.duration)) {\n\t\t\t\tsetIsScrubbing(true);\n\n\t\t\t\tboundingClientRect.current =\n\t\t\t\t\tevent.currentTarget.getBoundingClientRect();\n\n\t\t\t\tconst { width, left } = boundingClientRect.current;\n\t\t\t\tconst clickX = event.clientX - left;\n\t\t\t\tconst newTime = (clickX / width) * audioRef.current.duration;\n\n\t\t\t\tsetPlaybackTime(newTime);\n\t\t\t}\n\t\t},\n\t\t[setPlaybackTime],\n\t);\n\n\tconst scrub = useCallback(\n\t\t(event: React.MouseEvent<HTMLDivElement>) => {\n\t\t\tif (isScrubbing && audioRef.current && boundingClientRect.current) {\n\t\t\t\tconst { width, left } = boundingClientRect.current;\n\t\t\t\tconst eventX = event.clientX - left;\n\t\t\t\tconst newTime = (eventX / width) * audioRef.current.duration;\n\t\t\t\tsetPlaybackTime(newTime);\n\t\t\t}\n\t\t},\n\t\t[isScrubbing, setPlaybackTime],\n\t);\n\n\tconst stopScrubbing = useCallback(() => {\n\t\tsetIsScrubbing(false);\n\t}, []);\n\n\t// ********************* effects *********************\n\n\tuseEffect(() => {\n\t\tif (!audioRef.current) return;\n\n\t\tconst audio = audioRef.current;\n\n\t\tconst onPause = () => setIsPlaying(false);\n\t\tconst onEnded = () => reportAudioEvent(mediaId, 'end');\n\n\t\tconst onWaiting = () => setIsWaiting(true);\n\t\tconst onCanPlay = () => setIsWaiting(false);\n\n\t\taudio.addEventListener('waiting', onWaiting);\n\t\taudio.addEventListener('canplay', onCanPlay);\n\t\taudio.addEventListener('timeupdate', onTimeupdate);\n\t\taudio.addEventListener('seeking', onTimeupdate);\n\t\taudio.addEventListener('durationchange', onDurationChange);\n\t\taudio.addEventListener('play', onPlay);\n\t\taudio.addEventListener('pause', onPause);\n\t\taudio.addEventListener('ended', onEnded);\n\t\taudio.addEventListener('error', onError);\n\t\taudio.addEventListener('progress', onProgress);\n\n\t\treturn () => {\n\t\t\taudio.removeEventListener('waiting', onWaiting);\n\t\t\taudio.removeEventListener('canplay', onCanPlay);\n\t\t\taudio.removeEventListener('timeupdate', onTimeupdate);\n\t\t\taudio.removeEventListener('seeking', onTimeupdate);\n\t\t\taudio.removeEventListener('durationchange', onDurationChange);\n\t\t\taudio.removeEventListener('play', onPlay);\n\t\t\taudio.removeEventListener('pause', onPause);\n\t\t\taudio.removeEventListener('ended', onEnded);\n\t\t\taudio.removeEventListener('error', onError);\n\t\t\taudio.removeEventListener('progress', onProgress);\n\t\t};\n\t}, [onTimeupdate, onDurationChange, onPlay, onError, onProgress, mediaId]);\n\n\treturn (\n\t\t<>\n\t\t\t{/* native audio player and controls */}\n\t\t\t<audio\n\t\t\t\tsrc={src}\n\t\t\t\tref={audioRef}\n\t\t\t\tautoPlay={false}\n\t\t\t\tdata-media-id={mediaId}\n\t\t\t\tpreload=\"none\"\n\t\t\t\tcontrols={false}\n\t\t\t>\n\t\t\t\t<track kind=\"captions\" />\n\t\t\t</audio>\n\n\t\t\t{/* custom guardian controls that interact with the native player */}\n\t\t\t<Wrapper>\n\t\t\t\t<CurrentTime currentTime={currentTime} />\n\t\t\t\t<Duration duration={duration} />\n\n\t\t\t\t<ProgressBar\n\t\t\t\t\tisScrubbing={isScrubbing}\n\t\t\t\t\tcanJumpToPoint={Boolean(audioRef.current?.duration)}\n\t\t\t\t\tbuffer={buffer}\n\t\t\t\t\tprogress={progress}\n\t\t\t\t\tsrc={src}\n\t\t\t\t\tonMouseDown={jumpToPoint}\n\t\t\t\t\tonMouseUp={stopScrubbing}\n\t\t\t\t\tonMouseMove={scrub}\n\t\t\t\t/>\n\n\t\t\t\t<Playback>\n\t\t\t\t\t<Playback.SkipBack\n\t\t\t\t\t\tonClick={skipBackward}\n\t\t\t\t\t\tdisabled={isWaiting || !isPlaying}\n\t\t\t\t\t/>\n\t\t\t\t\t<Playback.Play\n\t\t\t\t\t\tisWaiting={isWaiting}\n\t\t\t\t\t\tisPlaying={isPlaying}\n\t\t\t\t\t\tonClick={playPause}\n\t\t\t\t\t/>\n\t\t\t\t\t<Playback.SkipForward\n\t\t\t\t\t\tonClick={skipForward}\n\t\t\t\t\t\tdisabled={isWaiting || !isPlaying}\n\t\t\t\t\t/>\n\t\t\t\t</Playback>\n\t\t\t</Wrapper>\n\t\t</>\n\t);\n};\n","import { getConsentFor, onConsentChange } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport { AudioPlayer } from './AudioPlayer/AudioPlayer';\n\ntype Props = {\n\tmediaId: string;\n\tduration?: number;\n\tsrc: string;\n\tcontentIsNotSensitive: boolean;\n\tisAcastEnabled: boolean;\n};\n\n/**\n * ## Why does this need to be an Island?\n *\n * The audio player is interactive.\n * Requires consent to use audio ads.\n *\n * ---\n *\n * (No visual story exists)\n */\nexport const AudioPlayerWrapper = ({\n\tduration,\n\tsrc,\n\tmediaId,\n\tcontentIsNotSensitive,\n\tisAcastEnabled,\n}: Props) => {\n\tconst [finalSrc, setFinalSrc] = useState<string>(src);\n\n\tuseEffect(() => {\n\t\t// this is how frontend checks for whether to show ads or not,\n\t\t// and it's on the window in DCR but it's not clear how...\n\t\t// so this just carries over the existing logic\n\t\t// https://github.com/guardian/frontend/blob/ba57677baaa06f37235e8d7a983cb383d0f5c989/static/src/javascripts/projects/common/modules/audio/index.js#L25-L44\n\t\tconst isPodcast = window.guardian.config.page.isPodcast;\n\n\t\tif (contentIsNotSensitive && isAcastEnabled && isPodcast) {\n\t\t\tonConsentChange((consentState) => {\n\t\t\t\tconst consentForAcast = getConsentFor('acast', consentState);\n\n\t\t\t\tif (consentForAcast) {\n\t\t\t\t\tsetFinalSrc(\n\t\t\t\t\t\tsrc.replace('https://', 'https://flex.acast.com/'),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [src, contentIsNotSensitive, isAcastEnabled]);\n\n\treturn <AudioPlayer src={finalSrc} mediaId={mediaId} duration={duration} />;\n};\n","const breakpoints = {\n  desktop: 980,\n  leftCol: 1140,\n  mobile: 320,\n  mobileLandscape: 480,\n  mobileMedium: 375,\n  phablet: 660,\n  tablet: 740,\n  wide: 1300\n};\n\nexport { breakpoints };\n","const visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\n\nexport { visuallyHidden };\n","import { breakpoints } from '../__generated__/breakpoints.js';\n\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n  mobile: minWidth(breakpoints.mobile),\n  mobileMedium: minWidth(breakpoints.mobileMedium),\n  mobileLandscape: minWidth(breakpoints.mobileLandscape),\n  phablet: minWidth(breakpoints.phablet),\n  tablet: minWidth(breakpoints.tablet),\n  desktop: minWidth(breakpoints.desktop),\n  leftCol: minWidth(breakpoints.leftCol),\n  wide: minWidth(breakpoints.wide)\n};\nconst until = {\n  mobile: maxWidth(breakpoints.mobile),\n  mobileMedium: maxWidth(breakpoints.mobileMedium),\n  mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n  phablet: maxWidth(breakpoints.phablet),\n  tablet: maxWidth(breakpoints.tablet),\n  desktop: maxWidth(breakpoints.desktop),\n  leftCol: maxWidth(breakpoints.leftCol),\n  wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n  mobile: {\n    and: {\n      mobileMedium: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileMedium\n      ),\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileMedium: {\n    and: {\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobileMedium,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileLandscape: {\n    and: {\n      phablet: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.phablet\n      ),\n      tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n      desktop: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.desktop\n      ),\n      leftCol: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.leftCol\n      ),\n      wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n    }\n  },\n  phablet: {\n    and: {\n      tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n    }\n  },\n  tablet: {\n    and: {\n      desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n    }\n  },\n  desktop: {\n    and: {\n      leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n    }\n  },\n  leftCol: {\n    and: {\n      wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n    }\n  }\n};\n\nexport { between, from, until };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M21.075 12.35v-.7L5.475 5.2l-.575.45v12.7l.575.4z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgMediaControlsPlay = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Stop\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgMediaControlsPlay };\n","import { palette } from '../../foundations/__generated__/palette.js';\n\nconst themeSpinner = {\n  background: palette.brand[800],\n  color: palette.brand[400]\n};\n\nexport { themeSpinner };\n","import { jsx, jsxs } from '@emotion/react/jsx-runtime';\nimport { themeSpinner } from './theme.js';\nimport { iconSize } from '../../foundations/__generated__/size.js';\n\nconst Spinner = ({ size = \"medium\", theme }) => {\n  const mergedTheme = { ...themeSpinner, ...theme };\n  const spinnerWidth = typeof size === \"number\" ? size : iconSize[size];\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      width: spinnerWidth,\n      viewBox: \"0 0 30 30\",\n      focusable: false,\n      \"aria-hidden\": true,\n      children: /* @__PURE__ */ jsxs(\"g\", { children: [\n        /* @__PURE__ */ jsx(\n          \"animateTransform\",\n          {\n            attributeName: \"transform\",\n            attributeType: \"XML\",\n            type: \"rotate\",\n            from: \"0 15 15\",\n            to: \"360 15 15\",\n            dur: \"2.5s\",\n            repeatCount: \"indefinite\"\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          \"circle\",\n          {\n            cx: 15,\n            cy: 15,\n            r: 12.5,\n            strokeWidth: 5,\n            stroke: mergedTheme.background,\n            fill: \"transparent\"\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          \"circle\",\n          {\n            cx: 15,\n            cy: 15,\n            r: 12.5,\n            strokeWidth: 5,\n            strokeDasharray: 82,\n            strokeDashoffset: 82,\n            stroke: mergedTheme.color,\n            fill: \"transparent\",\n            children: /* @__PURE__ */ jsx(\n              \"animate\",\n              {\n                attributeName: \"stroke-dashoffset\",\n                dur: \"3.5s\",\n                from: 164,\n                to: 0,\n                repeatCount: \"indefinite\"\n              }\n            )\n          }\n        )\n      ] })\n    }\n  );\n};\n\nexport { Spinner };\n"],"names":["Svg","size","theme","jsx","width","iconSize","height","viewBox","xmlns","focusable","children","fillRule","clipRule","d","fill","SvgMediaControlsPause","isAnnouncedByScreenReader","jsxs","Fragment","css","visuallyHidden","_path","_path2","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","props","buttonBaseCss","SkipButton","button","type","palette","neutral","brandAlt","Playback","div","Play","isWaiting","isPlaying","aria-label","from","leftCol","Spinner","background","color","SvgMediaControlsPlay","SkipBack","SkipBackIcon","SkipForward","SkipForwardIcon","defaultTheme","progress","buffer","wave","WaveForm","src","userTheme","gap","bars","barWidth","barHeights","useMemo","url","getSeededRandomNumber","seedString","modulus","hashedSeed","i","charCodeAt","state","Math","abs","getSeededRandomNumberGenerator","array","threshold","minValue","min","maxValue","max","map","value","compress","Array","generateWaveform","totalWidth","id","useId","svg","preserveAspectRatio","defs","g","barHeight","index","x","rect","y","clipPath","use","href","Cursor","isScrubbing","canJumpToPoint","style","transform","cursorWidth","ProgressBar","aria-hidden","formatNum","toFixed","padStart","formatTime","second","floor","minute","hour","timeCSS","textSans15","CurrentTime","currentTime","time","Duration","duration","isUndefined","isNaN","Wrapper","reportAudioEvent","mediaId","eventName","audioEvent","eventType","getOphan","then","ophan","record","audio","AudioPlayer","preCalculatedDuration","audioRef","setIsPlaying","useState","setCurrentTime","setDuration","setProgress","setIsWaiting","setIsScrubbing","setBuffer","isFirstPlay","useRef","audioProgressEvents","Set","onTimeupdate","useCallback","current","newProgress","stage","delete","String","onPlay","onProgress","buffers","buffered","end","onError","event","window","guardian","modules","sentry","reportError","Error","log","onDurationChange","boundingClientRect","playPause","paused","play","catch","pause","skipForward","skipBackward","setPlaybackTime","newTime","jumpToPoint","currentTarget","getBoundingClientRect","left","clientX","scrub","stopScrubbing","useEffect","onPause","onEnded","onWaiting","onCanPlay","addEventListener","removeEventListener","ref","autoPlay","data-media-id","preload","controls","track","kind","Boolean","onMouseDown","onMouseUp","onMouseMove","onClick","disabled","AudioPlayerWrapper","contentIsNotSensitive","isAcastEnabled","finalSrc","setFinalSrc","isPodcast","config","page","onConsentChange","consentState","getConsentFor","replace","breakpoints","desktop","mobile","mobileLandscape","mobileMedium","phablet","tablet","wide","minWidth","from2","maxWidth","until2","minWidthMaxWidth","until","between","and","themeSpinner","brand","mergedTheme","spinnerWidth","attributeName","attributeType","to","dur","repeatCount","cx","cy","strokeWidth","stroke","strokeDasharray","strokeDashoffset"],"sourceRoot":""}