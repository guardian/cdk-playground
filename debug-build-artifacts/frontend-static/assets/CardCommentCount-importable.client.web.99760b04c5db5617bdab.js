"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[5661],{79003:(e,t,n)=>{n.d(t,{A:()=>a});var o,i=n(67400);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(null,arguments)}const a=function(e){return i.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16"},e),o||(o=i.createElement("path",{d:"M13 0l1 1v7l-1 1H7l-2 3H4V9H2L1 8V1l1-1h11z"})))}},92209:(e,t,n)=>{n.r(t),n.d(t,{CardCommentCount:()=>y});var o=n(50484),i=n(24017),l=n(7351),a=n(99923),s=n(70991),r=n(28963),c=n(2634),d=n(53694),f=n(79003),p=n(92172);function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(){const e=b(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t",";\n\t/**\n\t * Typography preset styles should not be overridden.\n\t * This has been done because the styles do not directly map to the new presets.\n\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t */\n\tline-height: 1.15;\n\tmargin-top: -4px;\n\tcolor: ",";\n"]);return m=function(){return e},e}function u(){const e=b(["\n\tsvg {\n\t\tmargin-bottom: -5px;\n\t\theight: 14px;\n\t\twidth: 14px;\n\t\tmargin-right: 2px;\n\t\tfill: ",";\n\t}\n"]);return u=function(){return e},e}function h(){const e=b(["\n\tdisplay: block;\n\n\t"," {\n\t\tdisplay: none;\n\t}\n"]);return h=function(){return e},e}function w(){const e=b(["\n\tdisplay: none;\n\n\t"," {\n\t\tdisplay: block;\n\t}\n"]);return w=function(){return e},e}function g(){const e=b(["\n\t\t\t\t\t\t","\n\t\t\t\t\t"]);return g=function(){return e},e}const v=e=>(0,i.css)(m(),l.rDY,e),x=e=>(0,i.css)(u(),e),C=(0,i.css)(h(),a.Tq.leftCol.and.wide),k=(0,i.css)(w(),a.Tq.leftCol.and.wide),y=e=>{let{containerPalette:t,discussionApiUrl:n,discussionId:l,isDynamo:a,colour:b=(0,d.M)("--card-footer-text")}=e;const m=(0,c.e_)(n,l),{long:u,short:h}=(0,r.B)(m),w=()=>a?(0,d.M)("--card-trail-text"):b;return(0,o.jsx)(p.X,{containerPalette:t,children:(0,o.jsxs)("div",{css:v(w()),children:[(0,o.jsx)("div",{css:x(w()),children:(0,o.jsx)(f.A,{})}),(0,o.jsx)("div",{css:C,children:u}),(0,o.jsx)("div",{css:k,"aria-hidden":"true",children:h}),(0,o.jsxs)("span",{css:(0,i.css)(g(),s.Q),children:[" ","comments"]})]})})}},28963:(e,t,n)=>{n.d(t,{B:()=>i});var o=n(9474);const i=e=>{if((0,o.b)(e))return{short:"…",long:"…"};if(0===e)return{short:"0",long:"0"};const t=Math.floor(e),n=Intl.NumberFormat("en-GB").format(t);return{short:t>1e4?"".concat(Math.round(t/1e3),"k"):t.toString(),long:n}}},27559:(e,t,n)=>{n.d(t,{V:()=>l});const o=e=>{switch(e.length){case 2:return parseInt(e,16);case 1:return parseInt(e+e,16);default:return 127}},i="rgba(127, 127, 127, 0.5)",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!e.startsWith("#")||![4,7].includes(e.length))return i;const n=7===e.length?2:1,l=o(e.slice(1,1+n)),a=o(e.slice(1+n,1+2*n)),s=o(e.slice(1+2*n,1+3*n));return[l,a,s].some(Number.isNaN)?i:"rgba(".concat(l,", ").concat(a,", ").concat(s,", ").concat(t,")")}},2634:(e,t,n)=>{n.d(t,{e_:()=>c,uz:()=>d,z6:()=>s});var o=n(9786),i=n(85770),l=n(67400),a=n(6576);const s="data-discussion-id";let r;const c=(e,t)=>{const[n,c]=(0,l.useState)();(0,l.useEffect)((()=>{null!=r||(r=new Set([...document.querySelectorAll("[".concat(s,"]"))].map((e=>e.getAttribute(s))).filter(o.R))),r.add(t);const n="".concat(e,"/getCommentCounts?").concat(new URLSearchParams({"short-urls":[...r].sort().join(",")}).toString());c(n)}),[e,t]);const{data:d}=(0,a.g)(n),f=(0,i.G)(d)?d[t]:void 0;return"number"==typeof f?f:void 0},d=e=>{if(r)for(const t of e)r.add(t)}},53694:(e,t,n)=>{n.d(t,{M:()=>o});const o=e=>"var(".concat(e,")")},92280:(e,t,n)=>{n.d(t,{f:()=>o});const o={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},70991:(e,t,n)=>{n.d(t,{Q:()=>o});const o="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},99923:(e,t,n)=>{n.d(t,{HT:()=>s,TG:()=>r,Tq:()=>c});var o=n(92280);const i=e=>"@media (min-width: ".concat("".concat(e,"px"),")"),l=e=>"@media (max-width: ".concat("".concat(e-.1,"px"),")"),a=(e,t)=>"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ").concat("".concat(t-.1,"px"),")"),s={mobile:i(o.f.mobile),mobileMedium:i(o.f.mobileMedium),mobileLandscape:i(o.f.mobileLandscape),phablet:i(o.f.phablet),tablet:i(o.f.tablet),desktop:i(o.f.desktop),leftCol:i(o.f.leftCol),wide:i(o.f.wide)},r={mobile:l(o.f.mobile),mobileMedium:l(o.f.mobileMedium),mobileLandscape:l(o.f.mobileLandscape),phablet:l(o.f.phablet),tablet:l(o.f.tablet),desktop:l(o.f.desktop),leftCol:l(o.f.leftCol),wide:l(o.f.wide)},c={mobile:{and:{mobileMedium:a(o.f.mobile,o.f.mobileMedium),mobileLandscape:a(o.f.mobile,o.f.mobileLandscape),phablet:a(o.f.mobile,o.f.phablet),tablet:a(o.f.mobile,o.f.tablet),desktop:a(o.f.mobile,o.f.desktop),leftCol:a(o.f.mobile,o.f.leftCol),wide:a(o.f.mobileMedium,o.f.wide)}},mobileMedium:{and:{mobileLandscape:a(o.f.mobileMedium,o.f.mobileLandscape),phablet:a(o.f.mobileMedium,o.f.phablet),tablet:a(o.f.mobileMedium,o.f.tablet),desktop:a(o.f.mobileMedium,o.f.desktop),leftCol:a(o.f.mobileMedium,o.f.leftCol),wide:a(o.f.mobileMedium,o.f.wide)}},mobileLandscape:{and:{phablet:a(o.f.mobileLandscape,o.f.phablet),tablet:a(o.f.mobileLandscape,o.f.tablet),desktop:a(o.f.mobileLandscape,o.f.desktop),leftCol:a(o.f.mobileLandscape,o.f.leftCol),wide:a(o.f.mobileLandscape,o.f.wide)}},phablet:{and:{tablet:a(o.f.phablet,o.f.tablet),desktop:a(o.f.phablet,o.f.desktop),leftCol:a(o.f.phablet,o.f.leftCol),wide:a(o.f.phablet,o.f.wide)}},tablet:{and:{desktop:a(o.f.tablet,o.f.desktop),leftCol:a(o.f.tablet,o.f.leftCol),wide:a(o.f.tablet,o.f.wide)}},desktop:{and:{leftCol:a(o.f.desktop,o.f.leftCol),wide:a(o.f.desktop,o.f.wide)}},leftCol:{and:{wide:a(o.f.leftCol,o.f.wide)}}}}}]);
//# sourceMappingURL=CardCommentCount-importable.client.web.99760b04c5db5617bdab.js.map