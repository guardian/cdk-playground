{"version":3,"file":"AdPortals-importable.client.web.legacy.b90f31345acdf5dbf33e.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/AdPlaceholder.apps.tsx","webpack://@guardian/dotcom-rendering/./src/components/AdSlot.apps.tsx","webpack://@guardian/dotcom-rendering/./src/components/AdPortals.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/thrift/protocols.ts","webpack://@guardian/dotcom-rendering/./src/lib/thrift/nativeConnection.ts","webpack://@guardian/dotcom-rendering/./src/lib/bridgetApi.ts","webpack://@guardian/dotcom-rendering/./src/lib/useMatchMedia.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/lodash.debounce@4.0.8/node_modules/lodash.debounce/index.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js"],"sourcesContent":["import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nconst rightAdsPlaceholderClass = 'right-ad-portal-placeholder';\nconst adPlaceholderClass = 'ad-portal-placeholder';\nconst rightAdsStyles = css `\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\theight: 100%;\n`;\n/**\n * A server-side ad placeholder for apps, into which ads are inserted\n * client-side. See `AdPortals.importable.tsx` for more details.\n */\nconst RightAdsPlaceholder = () => (_jsx(\"div\", { className: rightAdsPlaceholderClass, css: rightAdsStyles }));\n/**\n * A server-side ad placeholder for apps, into which ads are inserted\n * client-side. See `AdPortals.importable.tsx` for more details.\n */\nconst AdPlaceholder = () => _jsx(\"div\", { className: adPlaceholderClass });\nexport { AdPlaceholder, adPlaceholderClass, rightAdsPlaceholderClass, RightAdsPlaceholder, };\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { remSpace, textSans14, until } from '@guardian/source/foundations';\nimport { forwardRef } from 'react';\nimport { palette } from '../palette';\nconst adHeightPx = 258;\nconst styles = css `\n\tclear: both;\n\tmargin: ${remSpace[4]} 0;\n\tbackground: ${palette('--ad-background')};\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\n\t${until.phablet} {\n\t\tmargin: 1em 0px;\n\t}\n`;\nconst adLabelsStyles = css `\n\t${textSans14}\n\tpadding: ${remSpace[3]};\n\tfloat: left;\n\tdisplay: flex;\n\tjustify-content: center;\n\n\t/* We need to account for padding on both sides */\n\twidth: calc(100% - 2 * ${remSpace[3]});\n\n\tp {\n\t\tmargin: 0;\n\t\tfloat: left;\n\t\tfont-size: 16px;\n\t\tfont-weight: 400;\n\t\tcolor: ${palette('--ad-labels-text')};\n\t}\n`;\nconst adSlotStyles = css `\n\tclear: both;\n\tpadding-bottom: ${adHeightPx}px;\n\twidth: 100%;\n`;\nconst adSlotSquareStyles = css `\n\t${adSlotStyles}\n\t${until.phablet} {\n\t\twidth: 320px;\n\t\tmargin-left: 10px;\n\t\tmargin-right: 10px;\n\t}\n\n\theight: 344px;\n\twidth: 300px;\n\tpadding-bottom: 0;\n`;\n/**\n * AdSlot component for in-article ads **on apps only**\n *\n * Is set up with a forward ref due to the way ads are handled natively.\n * These slots are dynamically inserted into articles using React portals.\n * The ref is important so that we can provide the location of the slot to\n * the native layer, for it to \"paint\" an advert over the top of it.\n */\nexport const AdSlot = forwardRef(({ isFirstAdSlot }, ref) => (_jsxs(\"aside\", { css: styles, children: [_jsx(\"div\", { css: adLabelsStyles, children: _jsx(\"p\", { children: \"Advertisement\" }) }), _jsx(\"div\", { css: isFirstAdSlot ? adSlotSquareStyles : adSlotStyles, ref: ref })] })));\n","import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { AdSlot as BridgetAdSlot } from '@guardian/bridget/AdSlot';\nimport { isUndefined } from '@guardian/libs';\nimport { breakpoints } from '@guardian/source/foundations';\nimport libDebounce from 'lodash.debounce';\nimport { useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { getCommercialClient, getUserClient } from '../lib/bridgetApi';\nimport { useMatchMedia } from '../lib/useMatchMedia';\nimport { adPlaceholderClass, rightAdsPlaceholderClass, } from './AdPlaceholder.apps';\nimport { AdSlot } from './AdSlot.apps';\nconst calculateAdPosition = (element) => {\n    const elementRect = element.getBoundingClientRect();\n    const scrollLeft = document.scrollingElement !== null\n        ? document.scrollingElement.scrollLeft\n        : document.body.scrollLeft;\n    const scrollTop = document.scrollingElement !== null\n        ? document.scrollingElement.scrollTop\n        : document.body.scrollTop;\n    /**\n     * Potential optimisation: round these numbers so they are less specific\n     * when we compare past and current ad positions. This may result in fewer\n     * calls to Bridget to update ad positions.\n     */\n    return {\n        x: elementRect.left + scrollLeft,\n        y: elementRect.top + scrollTop,\n        width: elementRect.width,\n        height: elementRect.height,\n    };\n};\nconst positionsEqual = (a, b) => a.height === b.height && a.width === b.width && a.x === b.x && a.y === b.y;\nconst calculateAdPositions = (adSlots) => adSlots.map((slot, index) => new BridgetAdSlot({\n    rect: calculateAdPosition(slot),\n    isSquare: index === 0,\n}));\nconst adsHaveMoved = (oldPositions, newPositions) => newPositions.some((newPosition, index) => {\n    const oldPositionRect = oldPositions[index]?.rect;\n    if (isUndefined(oldPositionRect)) {\n        return false;\n    }\n    else {\n        return !positionsEqual(newPosition.rect, oldPositionRect);\n    }\n});\nconst updateAds = (positions) => getCommercialClient()\n    .updateAdverts(positions)\n    .catch(() => console.error('Error updating adverts'));\nconst debounceUpdateAds = libDebounce(updateAds, 100, { leading: true });\n/* ********* AD PORTALS ********* \\\n * AD POSITIONS IN RIGHT COLUMN\n * If we're on a screen bigger than the `rightAlignFrom` prop (defaults to desktop)\n * We attempt to find the right aligned ad placeholder\n * If we find it, we create a single portal for the right aligned adverts\n * And include the individual adverts inside it (spaced out using flexbox)\n * .________._________________.________.\n * |        |_________________|        |\n * |        |_________________|########|\n * |        |_________________|        |\n * |        |_________________|        |\n * |        |_________________|########|\n * |________|_________________|________|\n *\n *\n * INLINE ADVERTS\n * If we're on a screen smaller than the `rightAlignFrom` prop (defaults to desktop)\n * Or we are unable to find the right aligned ad placeholder\n * We fall back to the inline ad placeholders\n * And we create individual portals for each inline advert\n * .________________.\n * |________________|\n * |################|\n * |________________|\n * |________________|\n * |################|\n * .________________.\n *\n */\nexport const AdPortals = ({ rightAlignFrom = 'desktop', }) => {\n    // Server-rendered placeholder elements for inline ad slots to be inserted into (below desktop breakpoint)\n    const [adPlaceholders, setAdPlaceholders] = useState([]);\n    // Server-rendered placeholder elements for right aligned ad slots to be inserted into (above desktop breakpoint)\n    const [rightAdPlaceholder, setRightAdPlaceholder] = useState();\n    // References to client-side rendered ad slots.\n    const adSlots = useRef([]);\n    // Reset list of ad slot references, they're re-populated during rendering\n    adSlots.current = [];\n    // Positions of client-side rendered ad slots.\n    const adPositions = useRef([]);\n    // The height of the body element.\n    const bodyHeight = useRef(0);\n    const tryRightAligned = useMatchMedia(`(min-width: ${breakpoints[rightAlignFrom]}px)`);\n    /**\n     * Setup Ads\n     *\n     * After first render, and only after first render, check if the user has\n     * the premium tier. If not, set up ads by looking for ad placeholder\n     * elements in the page and storing them. These will be used to render\n     * client-side ad slots.\n     */\n    useEffect(() => {\n        void getUserClient()\n            .isPremium()\n            .then((isPremium) => {\n            if (!isPremium) {\n                setAdPlaceholders(Array.from(document.getElementsByClassName(adPlaceholderClass)));\n                setRightAdPlaceholder(document.getElementsByClassName(rightAdsPlaceholderClass)[0]);\n            }\n        })\n            .catch(() => console.error('Error setting up ads'));\n    }, []);\n    /**\n     * Insert Ads\n     *\n     * Once the list of ad placeholders is available, the last render should\n     * have populated the client-side ad slots. We can use references to those\n     * ad slots to calculate their positions, and pass these to the native\n     * layer so that it can insert ads. If the number of ad slots doesn't match\n     * the number of placeholders, then the ad slot references haven't been set\n     * up correctly and we shouldn't try to insert or update ads.\n     *\n     * Update Ads\n     *\n     * Ask the native layer to update the positions of the adverts whenever the\n     * body element's height changes, because this typically means the ad slot\n     * positions will have changed. To minimise the number of calls to the\n     * native layer we:\n     * - Check the new ad positions against the previous ones to make sure\n     * they've changed.\n     * - Debounce any calls to the Bridget `updateAdverts` method.\n     */\n    useEffect(() => {\n        let resizeObserver = undefined;\n        if (adPlaceholders.length !== 0 &&\n            adPlaceholders.length === adSlots.current.length) {\n            adPositions.current = calculateAdPositions(adSlots.current);\n            bodyHeight.current = document.body.clientHeight;\n            void getCommercialClient()\n                .insertAdverts(adPositions.current)\n                .catch(() => console.error('Error inserting ads'));\n            resizeObserver = new ResizeObserver((entries) => {\n                if (!isUndefined(entries[0]) &&\n                    entries[0].target.clientHeight !== bodyHeight.current) {\n                    bodyHeight.current = entries[0].target.clientHeight;\n                    const newAdPositions = calculateAdPositions(adSlots.current);\n                    if (adsHaveMoved(adPositions.current, newAdPositions)) {\n                        void debounceUpdateAds(newAdPositions);\n                        adPositions.current = newAdPositions;\n                    }\n                }\n            });\n            resizeObserver.observe(document.body);\n            /**\n             *  Observe the rightAdPlaceholder which contains most viewed, which may render after the\n             *  ad portals have been set up (pushing down the ad slots)\n             **/\n            if (tryRightAligned && rightAdPlaceholder) {\n                resizeObserver.observe(rightAdPlaceholder);\n            }\n        }\n        return () => resizeObserver?.disconnect();\n    }, [adPlaceholders, rightAdPlaceholder, tryRightAligned]);\n    const renderAdSlot = (id, index) => (_jsx(AdSlot, { isFirstAdSlot: index === 0, ref: (node) => {\n            if (node !== null) {\n                adSlots.current = [...adSlots.current, node];\n            }\n        } }, id));\n    if (tryRightAligned && rightAdPlaceholder) {\n        return createPortal(_jsx(_Fragment, { children: adPlaceholders.map((ad, index) => renderAdSlot(ad.id, index)) }), rightAdPlaceholder);\n    }\n    return (_jsx(_Fragment, { children: adPlaceholders.map((ad, index) => createPortal(renderAdSlot(ad.id, index), ad)) }));\n};\n","import { MessageType, TProtocol } from '@creditkarma/thrift-server-core';\nexport class TProtocolDecorator extends TProtocol {\n    concreteProtocol;\n    constructor(protocol) {\n        super(protocol.getTransport());\n        this.concreteProtocol = protocol;\n    }\n    getTransport() {\n        return this.concreteProtocol.getTransport();\n    }\n    flush() {\n        return this.concreteProtocol.flush();\n    }\n    writeMessageBegin(name, type, seqid) {\n        return this.concreteProtocol.writeMessageBegin(name, type, seqid);\n    }\n    writeMessageEnd() {\n        return this.concreteProtocol.writeMessageEnd();\n    }\n    writeStructBegin(name) {\n        return this.concreteProtocol.writeStructBegin(name);\n    }\n    writeStructEnd() {\n        return this.concreteProtocol.writeStructEnd();\n    }\n    writeFieldBegin(name, type, id) {\n        return this.concreteProtocol.writeFieldBegin(name, type, id);\n    }\n    writeFieldEnd() {\n        return this.concreteProtocol.writeFieldEnd();\n    }\n    writeFieldStop() {\n        return this.concreteProtocol.writeFieldStop();\n    }\n    writeMapBegin(keyType, valueType, size) {\n        return this.concreteProtocol.writeMapBegin(keyType, valueType, size);\n    }\n    writeMapEnd() {\n        return this.concreteProtocol.writeMapEnd();\n    }\n    writeListBegin(elementType, size) {\n        return this.concreteProtocol.writeListBegin(elementType, size);\n    }\n    writeListEnd() {\n        return this.concreteProtocol.writeListEnd();\n    }\n    writeSetBegin(elementType, size) {\n        return this.concreteProtocol.writeSetBegin(elementType, size);\n    }\n    writeSetEnd() {\n        return this.concreteProtocol.writeSetEnd();\n    }\n    writeBool(bool) {\n        return this.concreteProtocol.writeBool(bool);\n    }\n    writeByte(b) {\n        return this.concreteProtocol.writeByte(b);\n    }\n    writeI16(i16) {\n        return this.concreteProtocol.writeI16(i16);\n    }\n    writeI32(i32) {\n        return this.concreteProtocol.writeI32(i32);\n    }\n    writeI64(i64) {\n        return this.concreteProtocol.writeI64(i64);\n    }\n    writeDouble(dbl) {\n        return this.concreteProtocol.writeDouble(dbl);\n    }\n    writeString(arg) {\n        return this.concreteProtocol.writeString(arg);\n    }\n    writeBinary(arg) {\n        return this.concreteProtocol.writeBinary(arg);\n    }\n    readMessageBegin() {\n        return this.concreteProtocol.readMessageBegin();\n    }\n    readMessageEnd() {\n        return this.concreteProtocol.readMessageEnd();\n    }\n    readStructBegin() {\n        return this.concreteProtocol.readStructBegin();\n    }\n    readStructEnd() {\n        return this.concreteProtocol.readStructEnd();\n    }\n    readFieldBegin() {\n        return this.concreteProtocol.readFieldBegin();\n    }\n    readFieldEnd() {\n        return this.concreteProtocol.readFieldEnd();\n    }\n    readMapBegin() {\n        return this.concreteProtocol.readMapBegin();\n    }\n    readMapEnd() {\n        return this.concreteProtocol.readMapEnd();\n    }\n    readListBegin() {\n        return this.concreteProtocol.readListBegin();\n    }\n    readListEnd() {\n        return this.concreteProtocol.readListEnd();\n    }\n    readSetBegin() {\n        return this.concreteProtocol.readSetBegin();\n    }\n    readSetEnd() {\n        return this.concreteProtocol.readSetEnd();\n    }\n    readBool() {\n        return this.concreteProtocol.readBool();\n    }\n    readByte() {\n        return this.concreteProtocol.readByte();\n    }\n    readI16() {\n        return this.concreteProtocol.readI16();\n    }\n    readI32() {\n        return this.concreteProtocol.readI32();\n    }\n    readI64() {\n        return this.concreteProtocol.readI64();\n    }\n    readDouble() {\n        return this.concreteProtocol.readDouble();\n    }\n    readBinary() {\n        return this.concreteProtocol.readBinary();\n    }\n    readString() {\n        return this.concreteProtocol.readString();\n    }\n    skip(type) {\n        return this.concreteProtocol.skip(type);\n    }\n}\nexport class TMultiplexedProtocol extends TProtocolDecorator {\n    static separator = ':';\n    serviceName;\n    constructor(protocol, serviceName) {\n        super(protocol);\n        this.serviceName = serviceName;\n    }\n    writeMessageBegin(name, type, seqid) {\n        if (type === MessageType.CALL || type === MessageType.ONEWAY) {\n            super.writeMessageBegin(this.serviceName + TMultiplexedProtocol.separator + name, type, seqid);\n        }\n        else {\n            super.writeMessageBegin(name, type, seqid);\n        }\n    }\n}\n","import { getProtocol, getTransport, TApplicationException, TApplicationExceptionType, ThriftConnection, } from '@creditkarma/thrift-server-core';\nimport { TMultiplexedProtocol } from './protocols';\nconst ACTION_TIMEOUT_MS = 30000;\nfunction sendNativeMessage(nativeMessage) {\n    if (window.android) {\n        window.android.postMessage(nativeMessage.data, nativeMessage.connectionId);\n    }\n    else if (window.webkit) {\n        window.webkit.messageHandlers.iOSWebViewMessage.postMessage(nativeMessage);\n    }\n    else {\n        console.warn('No native APIs available');\n    }\n}\nlet uid = 1;\nconst getUniqueConnectionId = () => `connection-${uid++}`;\nexport class NativeConnection extends ThriftConnection {\n    connectionId = getUniqueConnectionId();\n    promises = [];\n    outBuffer = [];\n    constructor(Transport, Protocol) {\n        super(Transport, Protocol);\n        if (typeof window !== 'undefined') {\n            window.nativeConnections = window.nativeConnections ?? {};\n            window.nativeConnections[this.connectionId] = this;\n        }\n    }\n    reset(oldConnectionId) {\n        if (oldConnectionId === this.connectionId && window.nativeConnections) {\n            console.warn('Reseting connection ' + oldConnectionId);\n            delete window.nativeConnections[this.connectionId];\n            for (const promise of this.promises) {\n                promise.reject(new TApplicationException(TApplicationExceptionType.UNKNOWN, 'Timeout error'));\n            }\n            this.promises = [];\n            this.connectionId = getUniqueConnectionId();\n            window.nativeConnections[this.connectionId] = this;\n        }\n    }\n    receive(message) {\n        const resolver = this.promises.shift();\n        if (resolver) {\n            clearTimeout(resolver.timeoutId);\n            const data = Buffer.from(message.data, 'base64');\n            resolver.resolve(data);\n        }\n        this.sendNextMessage();\n    }\n    sendNextMessage() {\n        const message = this.outBuffer.shift();\n        if (message) {\n            console.log('Sending next message');\n            sendNativeMessage(message);\n        }\n    }\n    send(dataToSend) {\n        const id = this.connectionId;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias -- Reassign this\n        const connection = this;\n        return new Promise(function (res, rej) {\n            connection.promises.push({\n                resolve: res,\n                reject: rej,\n                timeoutId: setTimeout(function () {\n                    connection.reset(id);\n                }, ACTION_TIMEOUT_MS),\n            });\n            const message = {\n                data: dataToSend.toString('base64'),\n                connectionId: id,\n            };\n            if (connection.promises.length === 1) {\n                console.log('Sending message immediately');\n                sendNativeMessage(message);\n            }\n            else {\n                console.log('Queing message because others in flight');\n                connection.outBuffer.push(message);\n            }\n        });\n    }\n}\nexport function createAppClient(ServiceClient, transport = 'buffered', protocol = 'compact') {\n    class NamedMultiplexedProtocol extends TMultiplexedProtocol {\n        constructor(tTransport) {\n            const Protocol = getProtocol(protocol);\n            super(new Protocol(tTransport), ServiceClient.serviceName ?? '');\n        }\n    }\n    const connection = new NativeConnection(getTransport(transport), NamedMultiplexedProtocol);\n    return new ServiceClient(connection);\n}\n","import * as Acquisitions from '@guardian/bridget/Acquisitions';\nimport * as Analytics from '@guardian/bridget/Analytics';\nimport * as Commercial from '@guardian/bridget/Commercial';\nimport * as Discussion from '@guardian/bridget/Discussion';\nimport * as Environment from '@guardian/bridget/Environment';\nimport * as Gallery from '@guardian/bridget/Gallery';\nimport * as Interaction from '@guardian/bridget/Interaction';\nimport * as Metrics from '@guardian/bridget/Metrics';\nimport * as Navigation from '@guardian/bridget/Navigation';\nimport * as Newsletters from '@guardian/bridget/Newsletters';\nimport * as Notifications from '@guardian/bridget/Notifications';\nimport * as Tag from '@guardian/bridget/Tag';\nimport * as User from '@guardian/bridget/User';\nimport * as Video from '@guardian/bridget/Videos';\nimport { isUndefined } from '@guardian/libs';\nimport { createAppClient } from './thrift/nativeConnection';\nlet environmentClient = undefined;\nexport const getEnvironmentClient = () => {\n    if (isUndefined(environmentClient)) {\n        environmentClient = createAppClient(Environment.Client, 'buffered', 'compact');\n    }\n    return environmentClient;\n};\nlet commercialClient = undefined;\nexport const getCommercialClient = () => {\n    if (isUndefined(commercialClient)) {\n        commercialClient = createAppClient(Commercial.Client, 'buffered', 'compact');\n    }\n    return commercialClient;\n};\nlet acquisitionsClient = undefined;\nexport const getAcquisitionsClient = () => {\n    if (!acquisitionsClient) {\n        acquisitionsClient = createAppClient(Acquisitions.Client, 'buffered', 'compact');\n    }\n    return acquisitionsClient;\n};\nlet notificationsClient = undefined;\nexport const getNotificationsClient = () => {\n    if (!notificationsClient) {\n        notificationsClient = createAppClient(Notifications.Client, 'buffered', 'compact');\n    }\n    return notificationsClient;\n};\nlet tagClient = undefined;\nexport const getTagClient = () => {\n    if (!tagClient) {\n        tagClient = createAppClient(Tag.Client, 'buffered', 'compact');\n    }\n    return tagClient;\n};\nlet userClient = undefined;\nexport const getUserClient = () => {\n    if (!userClient) {\n        userClient = createAppClient(User.Client, 'buffered', 'compact');\n    }\n    return userClient;\n};\nlet galleryClient = undefined;\nexport const getGalleryClient = () => {\n    if (!galleryClient) {\n        galleryClient = createAppClient(Gallery.Client, 'buffered', 'compact');\n    }\n    return galleryClient;\n};\nlet videoClient = undefined;\nexport const getVideoClient = () => {\n    if (!videoClient) {\n        videoClient = createAppClient(Video.Client, 'buffered', 'compact');\n    }\n    return videoClient;\n};\nlet metricsClient = undefined;\nexport const getMetricsClient = () => {\n    if (!metricsClient) {\n        metricsClient = createAppClient(Metrics.Client, 'buffered', 'compact');\n    }\n    return metricsClient;\n};\nlet analyticsClient = undefined;\nexport const getAnalyticsClient = () => {\n    if (!analyticsClient) {\n        analyticsClient = createAppClient(Analytics.Client, 'buffered', 'compact');\n    }\n    return analyticsClient;\n};\nlet navigationClient = undefined;\nexport const getNavigationClient = () => {\n    if (!navigationClient) {\n        navigationClient = createAppClient(Navigation.Client, 'buffered', 'compact');\n    }\n    return navigationClient;\n};\nlet newslettersClient = undefined;\nexport const getNewslettersClient = () => {\n    if (!newslettersClient) {\n        newslettersClient = createAppClient(Newsletters.Client, 'buffered', 'compact');\n    }\n    return newslettersClient;\n};\nlet discussionClient = undefined;\nexport const getDiscussionClient = () => {\n    if (!discussionClient) {\n        discussionClient = createAppClient(Discussion.Client, 'buffered', 'compact');\n    }\n    return discussionClient;\n};\nlet interactionClient = undefined;\nexport const getInteractionClient = () => {\n    if (!interactionClient) {\n        interactionClient = createAppClient(Interaction.Client, 'buffered', 'compact');\n    }\n    return interactionClient;\n};\n","import { useEffect, useState, useSyncExternalStore } from 'react';\n/**\n * Stores constructed media queries by their query string, so they don't have\n * to be recreated on each render. Also allows multiple components to use the\n * same media query.\n */\nconst cachedQueries = new Map();\nconst removeMediaRulePrefix = (query) => query.replace('@media', '').trim();\n/**\n * A custom hook to test the provided media query. Will return a `boolean`\n * signifying whether the media query currently matches, and will trigger a\n * re-render whenever the match status changes in either direction;\n * e.g. from `true` to `false`, or from `false` to `true`.\n *\n * @param {string} query for use with `window.matchMedia`\n * @returns {boolean} whether the media query currently matches\n */\nconst useMatchMedia = (query) => {\n    const [mediaQuery, setMediaQuery] = useState(cachedQueries.get(query));\n    useEffect(() => {\n        if (mediaQuery)\n            return;\n        cachedQueries.set(query, window.matchMedia(query));\n        setMediaQuery(cachedQueries.get(query));\n    }, [mediaQuery, query]);\n    /** @see https://react.dev/reference/react/useSyncExternalStore */\n    return useSyncExternalStore((callback) => {\n        mediaQuery?.addEventListener('change', callback);\n        return () => {\n            mediaQuery?.removeEventListener('change', callback);\n        };\n    }, () => !!mediaQuery?.matches, () => false);\n};\nexport { removeMediaRulePrefix, useMatchMedia };\n","/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour) => `var(${colour})`;\n// ----- Exports ----- //\nexport { palette };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","const breakpoints = {\n    desktop: 980,\n    leftCol: 1140,\n    mobile: 320,\n    mobileLandscape: 480,\n    mobileMedium: 375,\n    phablet: 660,\n    tablet: 740,\n    wide: 1300\n};\nexport { breakpoints };\n","import { breakpoints } from '../__generated__/breakpoints.js';\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide)\n};\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n        }\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n        }\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n        }\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n        }\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n        }\n    }\n};\nexport { between, from, until };\n"],"names":["rightAdsPlaceholderClass","adPlaceholderClass","rightAdsStyles","name","styles","RightAdsPlaceholder","_jsx","className","css","remSpace","palette","until","phablet","adLabelsStyles","textSans14","adSlotStyles","adSlotSquareStyles","AdSlot","forwardRef","_ref","ref","isFirstAdSlot","_jsxs","children","calculateAdPositions","adSlots","map","slot","index","BridgetAdSlot","rect","element","elementRect","getBoundingClientRect","scrollLeft","document","scrollingElement","body","scrollTop","x","left","y","top","width","height","isSquare","debounceUpdateAds","libDebounce","positions","getCommercialClient","updateAdverts","catch","console","error","leading","AdPortals","_ref$rightAlignFrom","rightAlignFrom","_useState","useState","_useState2","_slicedToArray","adPlaceholders","setAdPlaceholders","_useState3","_useState4","rightAdPlaceholder","setRightAdPlaceholder","useRef","current","adPositions","bodyHeight","tryRightAligned","useMatchMedia","concat","breakpoints","useEffect","getUserClient","isPremium","then","Array","from","getElementsByClassName","resizeObserver","undefined","length","clientHeight","insertAdverts","ResizeObserver","entries","isUndefined","target","newAdPositions","oldPositions","some","newPosition","_oldPositions$index","a","b","oldPositionRect","observe","_resizeObserver","disconnect","renderAdSlot","id","node","_toConsumableArray","createPortal","_Fragment","ad","TMultiplexedProtocol","_TProtocolDecorator2","protocol","serviceName","_this2","_classCallCheck","_callSuper","_defineProperty","_inherits","_createClass","key","value","type","seqid","MessageType","CALL","ONEWAY","_superPropGet","this","separator","_TProtocol","TProtocolDecorator","_this","getTransport","concreteProtocol","flush","writeMessageBegin","writeMessageEnd","writeStructBegin","writeStructEnd","writeFieldBegin","writeFieldEnd","writeFieldStop","keyType","valueType","size","writeMapBegin","writeMapEnd","elementType","writeListBegin","writeListEnd","writeSetBegin","writeSetEnd","bool","writeBool","writeByte","i16","writeI16","i32","writeI32","i64","writeI64","dbl","writeDouble","arg","writeString","writeBinary","readMessageBegin","readMessageEnd","readStructBegin","readStructEnd","readFieldBegin","readFieldEnd","readMapBegin","readMapEnd","readListBegin","readListEnd","readSetBegin","readSetEnd","readBool","readByte","readI16","readI32","readI64","readDouble","readBinary","readString","skip","TProtocol","sendNativeMessage","nativeMessage","window","android","postMessage","data","connectionId","webkit","messageHandlers","iOSWebViewMessage","warn","uid","getUniqueConnectionId","NativeConnection","_ThriftConnection","Transport","Protocol","_window$nativeConnect","nativeConnections","oldConnectionId","_step","_iterator","_createForOfIteratorHelper","promises","s","n","done","reject","TApplicationException","TApplicationExceptionType","UNKNOWN","err","e","f","message","resolver","shift","clearTimeout","timeoutId","Buffer","resolve","sendNextMessage","outBuffer","log","dataToSend","connection","Promise","res","rej","push","setTimeout","reset","toString","ThriftConnection","createAppClient","ServiceClient","transport","arguments","NamedMultiplexedProtocol","_TMultiplexedProtocol","tTransport","_ServiceClient$servic","getProtocol","environmentClient","getEnvironmentClient","Environment","Client","commercialClient","Commercial","acquisitionsClient","getAcquisitionsClient","Acquisitions","notificationsClient","getNotificationsClient","Notifications","tagClient","getTagClient","Tag","userClient","User","galleryClient","getGalleryClient","Gallery","videoClient","getVideoClient","Video","analyticsClient","getAnalyticsClient","Analytics","navigationClient","getNavigationClient","Navigation","discussionClient","getDiscussionClient","Discussion","interactionClient","getInteractionClient","Interaction","cachedQueries","Map","removeMediaRulePrefix","query","replace","trim","get","mediaQuery","setMediaQuery","set","matchMedia","useSyncExternalStore","callback","addEventListener","removeEventListener","matches","colour","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","Object","freeSelf","self","root","Function","objectToString","prototype","nativeMax","Math","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","call","isSymbol","other","valueOf","isBinary","test","slice","module","exports","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","cancel","desktop","leftCol","mobile","mobileLandscape","mobileMedium","tablet","wide","minWidth","from2","maxWidth","until2","minWidthMaxWidth","between","and"],"sourceRoot":""}