"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[9696],{14565:(e,t,i)=>{i.d(t,{LI:()=>b});var r=i(50484),n=i(24017),o=i(59648),a=i(81477),s=i(61962),l=i(1954),d="".concat(o.x[3],"px"),c=(0,n.css)("position:relative;display:flex;row-gap:",d,";"),u=function(e){return(0,n.css)(a.TG.tablet,"{padding-left:",null!=e?e:10,"px;padding-right:",null!=e?e:10,"px;}")},p={name:"d25pzu",styles:"scroll-snap-align:start"},v={name:"82a6rk",styles:"flex:1"},g={name:"1ff36h2",styles:"flex-grow:1"},f={name:"1ff36h2",styles:"flex-grow:1"},m=function(e,t,i){return e?function(e,t){return(0,n.css)(a.HT.tablet,"{:before{content:'';display:block;position:absolute;top:0;bottom:0;left:0;width:1px;height:100%;height:calc(100% + ",e,");border-left:1px solid ",t,";}}")}(t,i):(0,s.S)(i)},b=function(e){var t,i=e.children,o=e.percentage,s=e.stretch,b=e.showDivider,h=e.padSides,w=void 0!==h&&h,y=e.padSidesOverride,x=e.padSidesOnMobile,k=void 0!==x&&x,O=e.padSidesMobileOverride,j=e.snapAlignStart,I=void 0!==j&&j,C=e.offsetBottomPaddingOnDivider,L=void 0!==C&&C,P=e.verticalDividerColour,S=void 0===P?(0,l.M)("--section-border"):P,T=function(e,t){return e?(0,n.css)("flex-basis:",e,";",t&&f,";"):t?g:v}(o,s);return(0,r.jsx)("li",{css:[c,T,b&&m(L,d,S),w&&(t=y,(0,n.css)(a.HT.tablet,"{padding-left:",null!=t?t:10,"px;padding-right:",null!=t?t:10,"px;}")),k&&u(O),I&&p],children:i})}},26059:(e,t,i)=>{i.d(t,{UL:()=>v});var r=i(50484),n=i(24017),o=i(59648),a=i(81477),s=i(61962),l=i(1954),d=function(e,t){return(0,n.css)("width:100%;position:relative;display:flex;flex-direction:",e,";",a.TG.tablet,"{flex-direction:column;width:100%;}&>li{margin-bottom:",t,"px;}@supports (row-gap: 1em){&>li{margin-bottom:0;}row-gap:",t,"px;}")},c=(0,n.css)(a.HT.tablet,"{flex-wrap:wrap;}"),u=function(e){return(0,n.css)("margin-bottom:",e,"px;")},p=function(e){return(0,n.css)(a.HT.tablet,"{padding-top:8px;::before{content:'';display:block;position:absolute;top:0px;left:10px;width:calc(100% - 20px);height:1px;",e?"background-image: linear-gradient(\n\t\t\t\tto right,\n\t\t\t\t".concat((0,l.M)("--card-border-top"),",\n\t\t\t\t").concat((0,l.M)("--card-border-top")," calc(50% - 10px),\n\t\t\t\trgba(0, 0, 0, 0) calc(50% - 10px),\n\t\t\t\trgba(0, 0, 0, 0) calc(50% + 10px),\n\t\t\t\t").concat((0,l.M)("--card-border-top")," calc(50% + 10px),\n\t\t\t\t").concat((0,l.M)("--card-border-top"),"\n\t\t\t)"):"background-color: ".concat((0,l.M)("--card-border-top"),";"),";}}")},v=function(e){var t=e.children,i=e.direction,n=void 0===i?"column":i,a=e.showDivider,v=void 0!==a&&a,g=e.padBottom,f=void 0!==g&&g,m=e.wrapCards,b=void 0!==m&&m,h=e.showTopBar,w=void 0!==h&&h,y=e.hasLargeSpacing,x=void 0!==y&&y,k=e.splitTopBar,O=void 0!==k&&k,j=e.verticalDividerColour,I=void 0===j?(0,l.M)("--section-border"):j,C=function(e){return e?o.x[6]:o.x[3]}(x);return(0,r.jsx)("ul",{css:[d(n,C),v&&(0,s.S)(I),f&&u(C),b&&c,w&&p(O)],children:t})}},6341:(e,t,i)=>{i.d(t,{o:()=>c});var r=i(62335),n=i(5926),o=i(95644),a=i(16658),s=["trail"];function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){(0,r.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=function(e){var t=e.trail,i=(0,n.A)(e,s),r={linkTo:t.url,format:t.format,headlineText:t.headline,byline:t.byline,showByline:t.showByline,showQuotedHeadline:t.showQuotedHeadline,webPublicationDate:t.webPublicationDate,kickerText:t.kickerText,showPulsingDot:t.format.design===o.vw.LiveBlog,showClock:!1,image:t.image,isCrossword:t.isCrossword,canPlayInline:!0,starRating:t.starRating,dataLinkName:t.dataLinkName,snapData:t.snapData,discussionApiUrl:t.discussionApiUrl,discussionId:t.discussionId,avatarUrl:t.avatarUrl,mainMedia:t.mainMedia,isExternalLink:t.isExternalLink,branding:t.branding,slideshowImages:t.slideshowImages,showLivePlayable:t.showLivePlayable,showMainVideo:t.showMainVideo,galleryCount:t.galleryCount,podcastImage:t.podcastImage};return(0,a.Zp)(d(d({},r),i))}},59696:(e,t,i)=>{i.r(t),i.d(t,{ShowMore:()=>H});var r=i(22820),n=i(50484),o=i(24017),a=i(76720),s=i(72657),l=i(59648),d=i(50641),c=i(81477),u=i(28673),p=i(6569),v=i(32437),g=i(73499),f=i(67400),m=i(14565),b=i(26059),h=i(6341),w=i(73556),y=i(62335),x=i(65656),k=i(95644),O=i(66122),j=i(78282);function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach((function(t){(0,y.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var L=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,r=(0,O.R$)(t,i);return null!==(e=null==r?void 0:r.bylineLargeImageUrl)&&void 0!==e?e:void 0},P=function(e){var t,i;if(!((0,x.b)(e.properties.webUrl)||"type"in e&&"LinkSnap"===e.type))try{return new URL(e.properties.webUrl).pathname}catch(e){}return null!==(t=null!==(i=e.properties.webUrl)&&void 0!==i?i:e.properties.href)&&void 0!==t?t:e.header.url},S=function(e,t,i){var r,n;return e.properties.isBreaking?"Breaking news":t?i&&!i.includes("/series")?null===(n=e.header.seriesOrBlogKicker)||void 0===n?void 0:n.name:void 0:null===(r=e.header.kicker)||void 0===r||null===(r=r.item)||void 0===r?void 0:r.properties.kickerText},T=function(e){var t,i,r=null===(t=e.properties.image)||void 0===t?void 0:t.item.assets;if("ImageSlideshow"===(null===(i=e.properties.image)||void 0===i?void 0:i.type)&&e.properties.imageSlideshowReplace&&r&&r.length>0)return r},D=function(e){if(e){var t,i,r,n,o=e.assets.find((function(t){return t.version===e.activeVersion}));if("Youtube"===(null==o?void 0:o.platform))return{type:"Video",id:e.id,videoId:o.id,duration:null!==(t=e.duration)&&void 0!==t?t:0,title:e.title,width:500,height:300,origin:null!==(i=e.source)&&void 0!==i?i:"Unknown origin",expired:!!e.expired,images:null!==(r=null===(n=e.posterImage)||void 0===n?void 0:n.allImages.map((function(e){var t=e.url,i=e.fields.width;return{url:t,width:Number(i)}})))&&void 0!==r?r:[]}}},M=function(e,t,i){var r;if(t)return D(i);switch(e.design){case k.vw.Gallery:return{type:"Gallery"};case k.vw.Audio:return{type:"Audio",duration:null!==(r=null==i?void 0:i.duration)&&void 0!==r?r:0};case k.vw.Video:return D(i);default:return}},A=i(1954),U=function(e){var t=e.isOpen,i=e.loading,r=e.title;return t&&i?(0,n.jsx)(n.Fragment,{children:"Loading"}):t?(0,n.jsxs)(n.Fragment,{children:["Less"," ",(0,n.jsx)("span",{css:(0,o.css)(s.Q,";"),children:r})]}):(0,n.jsxs)(n.Fragment,{children:["More ",r]})},B={name:"1d1lqhx",styles:"font-size:14px;padding-top:18px"},E={name:"zjik7",styles:"display:flex"},H=function(e){var t=e.title,i=e.pageId,y=e.sectionId,O=e.collectionId,I=e.showAge,D=e.ajaxUrl,H=e.editionId,R=e.containerPalette,V=e.discussionApiUrl,N=(0,f.useState)([]),F=(0,r.A)(N,2),Q=F[0],G=F[1],_=(0,f.useState)(!1),z=(0,r.A)(_,2),$=z[0],q=z[1];(0,f.useEffect)((function(){var e,t=document.getElementById("container-".concat(y)),i=Array.from(null!==(e=null==t?void 0:t.querySelectorAll("a"))&&void 0!==e?e:[]).map((function(e){var t;return null===(t=e.attributes.getNamedItem("href"))||void 0===t?void 0:t.value})).filter(a.R);G(i)}),[y]);var W=$?"".concat(D,"/").concat(i,"/show-more/").concat(O,".json?dcr=true"):void 0,K=(0,w.g)(W),Y=K.data,Z=K.error,J=K.loading,X=Y&&function(e,t){var i=t.cardInTagPage,r=t.offset,n=void 0===r?0:r,o=t.editionId,a=t.pageId,s=t.discussionApiUrl;return e.map((function(e,t){var r,l,d,c,u,p,v,g,f,m,b,h,w,y,O,I,D,A,U,B,E=(0,k.M2)(null!==(r=e.format)&&void 0!==r?r:{design:"ArticleDesign",theme:"NewsPillar",display:"StandardDisplay"}),H="".concat(Number(e.card.group)).concat(e.display.isBoosted?"+":""),R=(0,j.I)(E,H,n+t,e.card.cardStyle.type),V=null!==(l=e.properties.maybeContent)&&void 0!==l&&l.tags.tags?function(e){return e.map((function(e){return function(e){var t=e.properties;return{id:t.id,type:t.tagType,title:t.webTitle,twitterHandle:t.twitterHandle,bylineImageUrl:t.bylineImageUrl,bylineLargeImageUrl:t.contributorLargeImagePath}}(e)}))}(e.properties.maybeContent.tags.tags):[],N=null===(d=e.properties.editionBrandings.find((function(e){return e.edition.id===o})))||void 0===d?void 0:d.branding,F="LinkSnap"===(w=e).type||"Replace"===(null===(y=w.properties.image)||void 0===y?void 0:y.type)?null===(I=w.properties.image)||void 0===I?void 0:I.item.imageSrc:w.display.imageHide?void 0:w.properties.isCrossword&&w.properties.maybeContentId?"https://api.nextgen.guardianapps.co.uk/".concat(w.properties.maybeContentId,".svg"):null===(O=w.properties.maybeContent)||void 0===O||null===(O=O.trail.trailPicture)||void 0===O||null===(O=O.allImages[0])||void 0===O?void 0:O.url,Q=function(e){var t,i,r=null===(t=e.properties.maybeContent)||void 0===t?void 0:t.tags.tags.map((function(e){return e.properties})).find((function(e){var t=e.tagType,i=e.podcast;return"Series"===t&&!!i}));return null!=r&&null!==(i=r.podcast)&&void 0!==i&&i.image?{src:r.podcast.image,altText:r.webTitle}:void 0}(e),G=!!a&&a.startsWith("profile/");return C(C({format:E,dataLinkName:R,url:P(e),headline:e.header.headline,trailText:e.card.trailText,starRating:e.card.starRating,webPublicationDate:(0,x.b)(e.card.webPublicationDateOption)?void 0:new Date(e.card.webPublicationDateOption).toISOString(),kickerText:S(e,i,a),supportingContent:e.supportingContent?(U=e.supportingContent,B=E,U.map((function(e){var t,i,r=e.format?(0,k.M2)(e.format):B,n="LiveBlogDesign"===(null===(t=e.format)||void 0===t?void 0:t.design),o=null===(i=e.header.kicker)||void 0===i||null===(i=i.item)||void 0===i?void 0:i.properties.kickerText;return{format:r,headline:e.header.headline,url:P(e),kickerText:!o&&n?"Live":o}}))):void 0,discussionApiUrl:s,discussionId:e.discussion.isCommentable?e.discussion.discussionId:void 0,byline:null!==(c=e.properties.byline)&&void 0!==c?c:void 0,showByline:e.properties.showByline,snapData:(D=e.enriched,A=D,null!=A&&A.embedCss&&(A.embedCss=A.embedCss.replace(/body:not\(\.has-active-pageskin\)(?! &)/g,"body:not(.has-active-pageskin) &")),A),isBoosted:e.display.isBoosted,boostLevel:e.display.boostLevel,isCrossword:e.properties.isCrossword,showQuotedHeadline:e.display.showQuotedHeadline,showLivePlayable:e.display.showLivePlayable,avatarUrl:!G&&null!==(u=e.properties.maybeContent)&&void 0!==u&&u.tags.tags&&"Cutout"===(null===(p=e.properties.image)||void 0===p?void 0:p.type)?L(V,e.properties.maybeContent.trail.byline):void 0,mainMedia:M(E,e.properties.showMainVideo,null!==(v=null===(g=e.properties.maybeContent)||void 0===g?void 0:g.elements.mainMediaAtom)&&void 0!==v?v:null===(f=e.properties.maybeContent)||void 0===f?void 0:f.elements.mediaAtoms[0]),isExternalLink:"ExternalLink"===e.card.cardStyle.type,embedUri:null!==(m=e.properties.embedUri)&&void 0!==m?m:void 0,branding:N,slideshowImages:T(e),showMainVideo:e.properties.showMainVideo},!!F&&{image:{src:F,altText:null!==(b=null===(h=e.properties.maybeContent)||void 0===h||null===(h=h.trail.trailPicture)||void 0===h||null===(h=h.allImages[0])||void 0===h?void 0:h.fields.altText)&&void 0!==b?b:""}}),{},{podcastImage:Q,galleryCount:e.card.galleryCount})}))}(Y,{cardInTagPage:!1,editionId:H,discussionApiUrl:V}).filter((function(e){return!Q.includes(e.url)})),ee="show-more-".concat(O);return(0,f.useEffect)((function(){var e=null!=X?X:[],t=(0,r.A)(e,1)[0];if(t){var i=document.querySelector("#".concat(ee,' [data-link-name="').concat(t.dataLinkName,'"]'));i instanceof HTMLElement&&i.focus()}}),[X,ee]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{id:ee,"aria-live":"polite",children:X&&(0,n.jsx)("div",{css:(0,o.css)("padding-top:",l.x[2],"px;"),children:(0,n.jsx)(b.UL,{direction:"row",wrapCards:!0,children:X.map((function(e,t){var i,r;return(0,n.jsx)(m.LI,{percentage:"33.333%",stretch:X.length%3!=1,padSides:!0,showDivider:t%3!=0,offsetBottomPaddingOnDivider:(i=t,r=X.length-X.length%3,3,i<r-(r%3||3)),children:(0,n.jsx)(h.o,{trail:e,image:void 0,avatarUrl:void 0,slideshowImages:void 0,containerPalette:R,showAge:I,headlineSizes:{desktop:"xxsmall"},imageLoading:"eager",absoluteServerTimes:!1,trailTextColour:(0,A.M)("--card-headline")})},e.url)}))})})}),(0,n.jsxs)("div",{css:[E],children:[(0,n.jsx)(u.$,{size:"xsmall",icon:$?(0,n.jsx)(p.F,{}):(0,n.jsx)(v.D,{}),isLoading:J,iconSide:"left",onClick:function(){return q(!$)},cssOverrides:(0,o.css)("margin-top:",l.x[4],"px;margin-right:10px;color:",d.M.neutral[100],";background-color:",d.M.neutral[7],";border-color:",d.M.neutral[7],";&:hover{background-color:",d.M.neutral[46],";border-color:",d.M.neutral[46],";}",c.HT.tablet,"{margin-left:10px;}",c.TG.phablet,"{white-space:normal;height:unset;}"),"aria-controls":ee,"aria-expanded":$&&!J,"aria-describedby":"show-more-button-".concat(O,"-description"),"data-link-name":"more",children:U({isOpen:$,loading:J,title:t})}),(0,n.jsx)("span",{id:"show-more-button-".concat(O,"-description"),css:(0,o.css)(s.Q,";"),children:"Loads more stories and moves focus to first new story."}),Z&&(0,n.jsx)(g.W,{cssOverrides:B,children:"Sorry, failed to load more stories. Retrying in a few seconds."})]})]})}},66122:(e,t,i)=>{i.d(t,{R$:()=>o,cQ:()=>n,iR:()=>a});var r=i(22820),n=function(e){return"Contributor"===e.type},o=function(e,t){if(t&&!t.includes(" and ")){var i=e.filter(n).filter((function(e){var i=e.title;return t.includes(i)})),o=(0,r.A)(i,2),a=o[0];if(!o[1])return a}},a=function(e,t){var i=e.reduce((function(e,t){var i=(0,r.A)(e,2),o=i[0],a=i[1],s=function(e,t){return e.filter(n).filter((function(e){return e.title===t}))}(a,t),l=(0,r.A)(s,1)[0];if(!l)return[o.concat(t),a];var d=a.filter((function(e){return!(e.id===l.id)}));return[o.concat({tag:l,token:t}),d]}),[[],t]);return(0,r.A)(i,1)[0]}},78282:(e,t,i)=>{i.d(t,{I:()=>o});var r=i(95644),n=function(e,t){var i=e.theme,n=e.design;if("ExternalLink"===t)return"external";if("Feature"===t)return"feature";if(i===r.A$.SpecialReport)return"special-report";switch(n){case r.vw.Analysis:return"analysis";case r.vw.LiveBlog:return"live";case r.vw.DeadBlog:return"dead";case r.vw.Feature:return"feature";case r.vw.Editorial:return"editorial";case r.vw.Comment:return"comment";case r.vw.Gallery:case r.vw.Audio:case r.vw.Video:return"media";case r.vw.Review:return"review";case r.vw.Letter:return"letters";default:return"news"}},o=function(e,t,i,r){return[n(e,r),"group-".concat(t),"card-@".concat(Math.max(i+1,1))].join(" | ")}},61962:(e,t,i)=>{i.d(t,{S:()=>o});var r=i(24017),n=i(81477),o=function(e){return(0,r.css)(n.HT.tablet,"{:before{content:'';display:block;position:absolute;top:0;bottom:0;left:0;width:1px;height:100%;border-left:1px solid ",e,";}}")}}}]);
//# sourceMappingURL=9696.client.web.legacy.0484b85cc43d68cf9fbe.js.map