{"version":3,"file":"CalloutBlockComponent-importable.client.web.081b57e103e6d99b03b9.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/Callout/CalloutComponents.tsx","webpack://@guardian/dotcom-rendering/./src/components/Callout/FormField.tsx","webpack://@guardian/dotcom-rendering/./src/components/Callout/Form.tsx","webpack://@guardian/dotcom-rendering/./src/components/Callout/MessageUs.tsx","webpack://@guardian/dotcom-rendering/./src/components/Callout/Callout.tsx","webpack://@guardian/dotcom-rendering/./src/components/Callout/Deadline.tsx","webpack://@guardian/dotcom-rendering/./src/components/CalloutBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/palette.ts"],"sourcesContent":["import { css } from '@emotion/react';\nimport {\n\tarticle17,\n\tpalette as sourcePalette,\n\tspace,\n\ttextSans14,\n\ttextSans15,\n} from '@guardian/source/foundations';\nimport {\n\tButton,\n\tSvgShareWeb,\n\tSvgTickRound,\n} from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport { palette } from '../../palette';\n\nexport const linkStyles = css`\n\ta {\n\t\tcolor: ${palette('--article-link-text')};\n\t\ttext-decoration-color: ${palette('--article-link-border')};\n\t\ttext-underline-offset: 0.375em;\n\t\ttext-decoration-thickness: 1px;\n\t}\n\ta:hover,\n\ta:active {\n\t\ttext-decoration-color: currentColor;\n\t}\n`;\n\nconst calloutStyles = css`\n\tpadding-bottom: ${space[4]}px;\n\t${article17}\n\tp {\n\t\tmargin-bottom: ${space[3]}px;\n\t}\n`;\n\nexport const CalloutDescription = ({\n\tdescription,\n}: {\n\tdescription: string;\n}) => {\n\treturn (\n\t\t<div css={[linkStyles, calloutStyles]}>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: description,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\tPlease share your story if you are 18 or over, anonymously if\n\t\t\t\tyou wish. For more information please see our{' '}\n\t\t\t\t<a href=\"https://www.theguardian.com/help/terms-of-service\">\n\t\t\t\t\tterms of service\n\t\t\t\t</a>{' '}\n\t\t\t\tand{' '}\n\t\t\t\t<a href=\"https://www.theguardian.com/help/privacy-policy\">\n\t\t\t\t\tprivacy policy\n\t\t\t\t</a>\n\t\t\t\t.\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst expiredStyles = css`\n\t${textSans15};\n\tcolor: ${palette('--star-rating-fill')};\n\tbackground-color: ${palette('--star-rating-background')};\n\twidth: fit-content;\n`;\n\nexport const CalloutExpired = () => {\n\treturn (\n\t\t<div css={expiredStyles}>\n\t\t\t<p>This callout is now closed to any further submissions.</p>\n\t\t\t<p>\n\t\t\t\tYou can see{' '}\n\t\t\t\t<a href=\"https://www.theguardian.com/profile/guardian-community-team\">\n\t\t\t\t\tother Guardian community callouts here\n\t\t\t\t</a>{' '}\n\t\t\t\tor{' '}\n\t\t\t\t<a href=\"https://www.theguardian.com/community/2015/sep/02/guardianwitness-send-us-a-story\">\n\t\t\t\t\ttell us about a story here.\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n\nconst shareCalloutStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n`;\n\nconst shareCalloutTextStyles = css`\n\t${textSans14}\n`;\n\nconst shareCalloutLinkStyles = css`\n\t${textSans14}\n\tcolor: ${palette('--article-link-text')};\n`;\n\nconst sharePopupStyles = css`\n\t${textSans14};\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-width: 180px;\n\ttransform: translate(100%, 0);\n\tbackground-color: ${sourcePalette.neutral[100]};\n\tcolor: ${sourcePalette.neutral[7]};\n\tfont-weight: normal;\n\tborder-radius: ${space[1]}px;\n\tz-index: 1;\n\tpadding: 0 ${space[1]}px 0 0;\n\tbox-shadow: 0px 2px ${space[2]}px rgba(0, 0, 0, 0.5);\n\n\t> svg {\n\t\tfill: ${sourcePalette.success[400]};\n\t}\n`;\nconst shareIconStyles = css`\n\tdisplay: inline-flex;\n\tmargin-right: ${space[2]}px;\n\tborder-radius: 50%;\n\tborder: 1px solid ${palette('--article-link-border')};\n\n\tbox-sizing: border-box;\n\tfill: ${palette('--article-link-text')};\n\tpadding: 0 1px 0 0;\n`;\n\nexport const CalloutShare = ({\n\ttitle,\n\turlAnchor,\n}: {\n\ttitle?: string;\n\turlAnchor: string;\n}) => {\n\tconst [isCopied, setIsCopied] = useState(false);\n\n\tconst onShare = async () => {\n\t\tconst url = window.location.href;\n\t\tif (\n\t\t\t'share' in navigator &&\n\t\t\t/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n\t\t\t\tnavigator.userAgent,\n\t\t\t)\n\t\t) {\n\t\t\tlet shareTitle = `Share your experience`;\n\t\t\tif (title) shareTitle += `: ${title}`;\n\n\t\t\tconst shareText = `\n\t\t\tI saw this callout in an article: ${url}#${urlAnchor}\n\t\t\tYou can share your story by using the form on this article, or by contacting the Guardian on WhatsApp, Signal or Telegram.`;\n\n\t\t\tawait navigator.share({\n\t\t\t\ttitle: shareTitle,\n\t\t\t\ttext: shareText,\n\t\t\t});\n\t\t\tsetIsCopied(true);\n\t\t\tsetTimeout(() => setIsCopied(false), 3000);\n\t\t} else if ('clipboard' in navigator) {\n\t\t\tawait navigator.clipboard.writeText(`${url}#${urlAnchor}`);\n\t\t\tsetIsCopied(true);\n\t\t\tsetTimeout(() => setIsCopied(false), 3000);\n\t\t}\n\t};\n\n\tif (typeof window === 'undefined' || typeof navigator === 'undefined') {\n\t\treturn <></>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div css={shareCalloutStyles}>\n\t\t\t\t<span css={shareIconStyles}>\n\t\t\t\t\t<SvgShareWeb size=\"small\" />\n\t\t\t\t</span>\n\t\t\t\t<div css={shareCalloutTextStyles}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tonShare().catch(() => {\n\t\t\t\t\t\t\t\t// do nothing\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcssOverrides={shareCalloutLinkStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\tShare this callout\n\t\t\t\t\t</Button>\n\t\t\t\t\t{isCopied && (\n\t\t\t\t\t\t<span css={sharePopupStyles} role=\"alert\">\n\t\t\t\t\t\t\t<SvgTickRound size=\"medium\" />\n\t\t\t\t\t\t\tLink copied to clipboard\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nconst termsAndConditionsStyles = css`\n\t${textSans15}\n\tpadding-bottom: ${space[4]}px;\n`;\n\nexport const CalloutTermsAndConditions = () => (\n\t<div css={[linkStyles, termsAndConditionsStyles]}>\n\t\tYour responses, which can be anonymous, are secure as the form is\n\t\tencrypted and only the Guardian has access to your contributions. We\n\t\twill only use the data you provide us for the purpose of the feature and\n\t\twe will delete any personal data when we no longer require it for this\n\t\tpurpose. For true anonymity please use our{' '}\n\t\t<a\n\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\thref=\"https://www.theguardian.com/securedrop\"\n\t\t>\n\t\t\tSecureDrop\n\t\t</a>{' '}\n\t\tservice instead.\n\t</div>\n);\n","import {\n\tCheckbox,\n\tCheckboxGroup,\n\tOption,\n\tRadio,\n\tRadioGroup,\n\tSelect,\n\tTextArea,\n\tTextInput,\n} from '@guardian/source/react-components';\nimport { FileInput } from '@guardian/source-development-kitchen/react-components';\nimport { useEffect, useRef } from 'react';\nimport type { CampaignFieldType } from '../../types/content';\n\ntype FormDataType = { [key in string]: any };\n\ntype FormFieldProp = {\n\tvalidationErrors: { [key in string]: string };\n\tformField: CampaignFieldType;\n\tformData: FormDataType;\n\tpageId: string;\n\tsetFieldInFormData: (\n\t\tid: string,\n\t\tdata: string | string[] | undefined,\n\t) => void;\n};\n\nexport const FormField = ({\n\tformField,\n\tformData,\n\tsetFieldInFormData,\n\tpageId,\n\tvalidationErrors,\n}: FormFieldProp) => {\n\tconst { type, label, hideLabel, description, required, id } = formField;\n\n\tconst name = `field_${type}_${id}`;\n\tconst fieldValue =\n\t\tformField.id in formData ? (formData[formField.id] as string) : '';\n\tconst fieldError = validationErrors[formField.id];\n\n\tconst firstUpdate = useRef(true);\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\tfirstUpdate.current &&\n\t\t\tformField.hidden &&\n\t\t\tformField.type === 'text'\n\t\t) {\n\t\t\tsetFieldInFormData(formField.id, pageId);\n\t\t\tfirstUpdate.current = false;\n\t\t}\n\t}, [formField, pageId, setFieldInFormData]);\n\n\tswitch (formField.type) {\n\t\tcase 'phone':\n\t\tcase 'email':\n\t\tcase 'text': {\n\t\t\tif (formField.hidden) return null;\n\t\t\treturn (\n\t\t\t\t<TextInput\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\tvalue={fieldValue}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\ttype={formField.type}\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, e.target.value)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tcase 'textarea':\n\t\t\treturn (\n\t\t\t\t<TextArea\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\tvalue={fieldValue}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, e.target.value)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'file':\n\t\t\treturn (\n\t\t\t\t<FileInput\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tmaxFileSize={6_000_000}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\tonUpload={(file: string | undefined): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, file)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'select':\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\tvalue={fieldValue}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, e.target.value)\n\t\t\t\t\t}\n\t\t\t\t\tchildren={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 'default',\n\t\t\t\t\t\t\tlabel: 'Please choose an option',\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t\t\t.concat(formField.options)\n\t\t\t\t\t\t.map(({ value, label: formLabel }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Option key={value} value={value}>\n\t\t\t\t\t\t\t\t\t{formLabel}\n\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'checkbox':\n\t\t\treturn (\n\t\t\t\t<CheckboxGroup\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\terror={fieldError ? fieldError : undefined}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t>\n\t\t\t\t\t{formField.options.map((option) => {\n\t\t\t\t\t\tconst selectedCheckboxesArray: string[] =\n\t\t\t\t\t\t\tformData[formField.id] ?? [];\n\n\t\t\t\t\t\tconst isCheckboxChecked =\n\t\t\t\t\t\t\t!!selectedCheckboxesArray.find(\n\t\t\t\t\t\t\t\t(ele: string) => ele === option.value,\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst filterOutCheckboxFromArray = () =>\n\t\t\t\t\t\t\tselectedCheckboxesArray.filter(\n\t\t\t\t\t\t\t\t(ele: string) => ele !== option.value,\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst addCheckboxToArray = () => [\n\t\t\t\t\t\t\t...selectedCheckboxesArray,\n\t\t\t\t\t\t\toption.value,\n\t\t\t\t\t\t];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\tchecked={isCheckboxChecked}\n\t\t\t\t\t\t\t\terror={fieldError ? true : false}\n\t\t\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\t\t\tonChange={(): void =>\n\t\t\t\t\t\t\t\t\tsetFieldInFormData(\n\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\tisCheckboxChecked\n\t\t\t\t\t\t\t\t\t\t\t? filterOutCheckboxFromArray()\n\t\t\t\t\t\t\t\t\t\t\t: addCheckboxToArray(),\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</CheckboxGroup>\n\t\t\t);\n\t\tcase 'radio':\n\t\t\treturn (\n\t\t\t\t<RadioGroup\n\t\t\t\t\tlabel={formField.label}\n\t\t\t\t\tsupporting={formField.description}\n\t\t\t\t\terror={validationErrors[formField.id]}\n\t\t\t\t\tname={formField.name}\n\t\t\t\t\torientation={\n\t\t\t\t\t\tformField.options.length > 2 ? 'vertical' : 'horizontal'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{formField.options.map((option, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\tname={`${formField.id}`}\n\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\tformField.id in formData &&\n\t\t\t\t\t\t\t\t\tformData[formField.id] === option.value\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\t\t\t\tsetFieldInFormData(\n\t\t\t\t\t\t\t\t\t\tformField.id,\n\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</RadioGroup>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n","import { css } from '@emotion/react';\nimport { isString, isUndefined } from '@guardian/libs';\nimport {\n\theadlineBold20,\n\tpalette,\n\tspace,\n\ttextSans14,\n\ttextSansBold17,\n} from '@guardian/source/foundations';\nimport { Button, SvgTickRound } from '@guardian/source/react-components';\nimport { ErrorSummary } from '@guardian/source-development-kitchen/react-components';\nimport { useRef, useState } from 'react';\nimport { palette as schemedPalette } from '../../palette';\nimport type { CampaignFieldType } from '../../types/content';\nimport { CalloutTermsAndConditions } from './CalloutComponents';\nimport { FormField } from './FormField';\n\nconst textStyles = css`\n\t${textSans14};\n\tpadding-bottom: 16px;\n`;\n\nconst successStyles = css`\n\t${textSans14};\n\tpadding-bottom: 44px;\n`;\n\nconst tickBoxStyles = css`\n\tfill: ${palette.success[400]};\n\twidth: 48px;\n`;\nconst errorTextStyles = css`\n\tcolor: ${palette.error[400]};\n\t${textSansBold17};\n\tdisplay: flex;\n`;\n\nconst formStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n`;\n\n/**\n * Source does not support dark mode,\n * so we need to provide overrides to style the components\n * in an visually accessible way\n *\n * @see https://github.com/guardian/dotcom-rendering/issues/9333\n */\nconst sourceColourOverrides = css`\n\tinput,\n\ttextarea,\n\tselect {\n\t\tcolor: ${schemedPalette('--tabs--text')};\n\t\tbackground-color: ${schemedPalette('--tabs-input')};\n\t}\n\n\tlabel > div,\n\tlegend > div {\n\t\tcolor: ${schemedPalette('--tabs--text')};\n\t}\n\n\tlabel > p,\n\tlegend > div > span,\n\tfieldset > p {\n\t\tcolor: ${schemedPalette('--article-text')};\n\t\topacity: 0.66;\n\t}\n`;\n\nconst formFieldWrapperStyles = (hidden: boolean) => css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: ${hidden ? 0 : space[4]}px;\n`;\nconst submitButtonStyles = css`\n\tmargin: 20px 0px;\n\twidth: 100%;\n\tdisplay: block;\n\tcolor: ${schemedPalette('--callout-submit-text')};\n\tbackground-color: ${schemedPalette('--callout-submit-background')};\n\n\t:hover,\n\t:active {\n\t\tbackground-color: ${schemedPalette(\n\t\t\t'--callout-submit-background-hover',\n\t\t)};\n\t}\n`;\n\nconst footerPaddingStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-bottom: ${space[4]}px;\n`;\n\ntype FormDataType = Record<string, string | string[] | undefined>;\n\ntype FormProps = {\n\tformFields: CampaignFieldType[];\n\tsubmissionURL: string;\n\tformID: string;\n\tpageId: string;\n};\n\nexport const Form = ({\n\tformFields,\n\tsubmissionURL,\n\tformID,\n\tpageId,\n}: FormProps) => {\n\tconst formElement = useRef<HTMLFormElement>(null);\n\tconst [formData, setFormData] = useState<FormDataType>({});\n\tconst [validationErrors, setValidationErrors] = useState<{\n\t\t[key in string]: string;\n\t}>({});\n\n\tconst [networkError, setNetworkError] = useState('');\n\tconst [submissionSuccess, setSubmissionSuccess] = useState(false);\n\tconst [twitterHandle, setTwitterHandle] = useState('');\n\n\tconst setFieldInFormData = (\n\t\tid: string,\n\t\tdata: string | string[] | undefined,\n\t): void => {\n\t\tconst currentErrors = validationErrors;\n\t\tcurrentErrors[id] = '';\n\t\tsetValidationErrors(currentErrors);\n\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[id]: data,\n\t\t});\n\t};\n\n\tconst validateForm = (): boolean => {\n\t\tconst errors: { [key in string]: string } = {};\n\n\t\tfor (const field of formFields) {\n\t\t\tconst data = formData[field.id];\n\n\t\t\tif (field.required && isUndefined(data)) {\n\t\t\t\terrors[field.id] = 'This field is required';\n\t\t\t}\n\t\t\tif (field.type === 'select' && field.required) {\n\t\t\t\tif (data === 'Please choose an option') {\n\t\t\t\t\terrors[field.id] =\n\t\t\t\t\t\t'Please choose an option from the dropdown menu';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (field.id === 'email' && isString(data)) {\n\t\t\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\t\t\t\tif (!emailRegex.test(data)) {\n\t\t\t\t\terrors[field.id] = 'Please enter a valid email address';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (['number', 'phone'].includes(field.type) && isString(data)) {\n\t\t\t\tconst numberRegex = /^[\\d ()+-]+$/;\n\t\t\t\tif (!numberRegex.test(data)) {\n\t\t\t\t\terrors[field.id] = 'Please enter a valid number';\n\t\t\t\t}\n\t\t\t\tconst digitsCount = data.replaceAll(/[^\\d]/g, '').length;\n\t\t\t\tif (digitsCount < 10) {\n\t\t\t\t\terrors[field.id] = 'Please include your dialling/area code';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetValidationErrors(errors);\n\t\treturn Object.keys(errors).length === 0;\n\t};\n\n\tconst cleanFormData = (data: undefined | string | string[]) => {\n\t\tif (Array.isArray(data)) {\n\t\t\treturn data.join('\\n');\n\t\t}\n\n\t\treturn data;\n\t};\n\n\tconst submitForm = async (form: FormDataType) => {\n\t\tsetNetworkError('');\n\n\t\tif (isString(formData.twitterHandle)) {\n\t\t\tsetNetworkError('Sorry we think you are a robot.');\n\t\t\treturn;\n\t\t}\n\t\t// need to add prefix `field_` to all keys in form, required by formstack\n\t\tconst formDataWithFieldPrefix = Object.keys(formData).reduce(\n\t\t\t(acc, cur) => ({\n\t\t\t\t...acc,\n\t\t\t\t[`field_${cur}`]: cleanFormData(form[cur]),\n\t\t\t}),\n\t\t\t{},\n\t\t);\n\t\treturn fetch(submissionURL, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tformId: formID,\n\t\t\t\t...formDataWithFieldPrefix,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t},\n\t\t})\n\t\t\t.then((resp) => {\n\t\t\t\tif (resp.status === 201) {\n\t\t\t\t\tsetSubmissionSuccess(true);\n\t\t\t\t} else {\n\t\t\t\t\tsetNetworkError(\n\t\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((respError) => {\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\trespError,\n\t\t\t\t\t'callout-embed-submission',\n\t\t\t\t);\n\n\t\t\t\tsetNetworkError(\n\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\tif (submissionSuccess) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div css={tickBoxStyles}>\n\t\t\t\t\t<SvgTickRound />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${headlineBold20}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\tThank you!\n\t\t\t\t</div>\n\t\t\t\t<div css={successStyles}>\n\t\t\t\t\tYour story has been submitted successfully. One of our\n\t\t\t\t\tjournalists will be in touch if we wish to take your\n\t\t\t\t\tsubmission further.\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<CalloutTermsAndConditions />\n\t\t\t<form\n\t\t\t\tref={formElement}\n\t\t\t\taction=\"/formstack-campaign/submit\"\n\t\t\t\tmethod=\"post\"\n\t\t\t\tcss={[formStyles, sourceColourOverrides]}\n\t\t\t\tnoValidate={true}\n\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst isValid = validateForm();\n\t\t\t\t\tif (!isValid) {\n\t\t\t\t\t\tconst firstInvalidFormElement =\n\t\t\t\t\t\t\tformElement.current?.querySelector<HTMLElement>(\n\t\t\t\t\t\t\t\t':invalid',\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tfirstInvalidFormElement?.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvoid submitForm(formData);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{Object.values(validationErrors).filter((err) => err !== '')\n\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t<ErrorSummary\n\t\t\t\t\t\tmessage=\"Some information is missing.\"\n\t\t\t\t\t\tcontext=\"Please complete all required fields.\"\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\twidth: fit-content;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-bottom: ${space[4]}px;\n\t\t\t\t\t\t`}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{formFields.map((formField) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={formFieldWrapperStyles(!!formField.hidden)}\n\t\t\t\t\t\t\tkey={formField.id}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\t\t\tsetFieldInFormData={setFieldInFormData}\n\t\t\t\t\t\t\t\tvalidationErrors={validationErrors}\n\t\t\t\t\t\t\t\tpageId={pageId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<div css={textStyles}>\n\t\t\t\t\tBy submitting your response, you are agreeing to share your\n\t\t\t\t\tdetails with us for this feature.\n\t\t\t\t</div>\n\t\t\t\t{/* this element is a H O N £ Y - P 0 T */}\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t\t`}\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"twitter-handle\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid=\"twitter-handle\"\n\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\tplaceholder=\"@mytwitterhandle\"\n\t\t\t\t\t\tvalue={twitterHandle}\n\t\t\t\t\t\tonChange={(e) => setTwitterHandle(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{!!networkError && (\n\t\t\t\t\t<div css={errorTextStyles}>{networkError}</div>\n\t\t\t\t)}\n\t\t\t\t<div css={footerPaddingStyles}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcssOverrides={submitButtonStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { isString } from '@guardian/libs';\nimport { space, textSans14 } from '@guardian/source/foundations';\nimport {\n\tLinkButton,\n\tSvgSignalBrand,\n\tSvgTelegramBrand,\n\tSvgWhatsAppBrand,\n} from '@guardian/source/react-components';\nimport type { ReactElement } from 'react';\nimport { palette } from '../../palette';\nimport type { CalloutContactType } from '../../types/content';\nimport { linkStyles } from './CalloutComponents';\n\nconst calloutPrimaryButtonStyles = css`\n\twidth: 100%;\n\tjustify-content: center;\n\tmargin-top: ${space[4]}px;\n\n\t:last-of-type {\n\t\tmargin-bottom: ${space[6]}px;\n\t}\n`;\n\nconst infoStyles = css`\n\tmargin-bottom: ${space[2]}px;\n\t${textSans14};\n`;\n\nexport const formatContactType = (s: string): string =>\n\ts.toLowerCase() === 'whatsapp'\n\t\t? 'WhatsApp'\n\t\t: s.charAt(0).toUpperCase() + s.slice(1);\n\nexport const conditionallyRenderContactIcon = (name: string): ReactElement => {\n\tswitch (name.toLowerCase()) {\n\t\tcase 'whatsapp':\n\t\t\treturn <SvgWhatsAppBrand size=\"small\" />;\n\t\tcase 'signal':\n\t\t\treturn <SvgSignalBrand size=\"small\" />;\n\t\tcase 'telegram':\n\t\t\treturn <SvgTelegramBrand size=\"small\" />;\n\t\tdefault:\n\t\t\treturn <></>;\n\t}\n};\n\nexport const formatContactNumbers = (\n\tcontacts: CalloutContactType[],\n): string => {\n\tconst contactNumbers = new Map<string, string[]>();\n\n\t// Group each contact by its value, so we can display multiple names for the same number.\n\tfor (const { name, value } of contacts) {\n\t\tif (!contactNumbers.has(value)) contactNumbers.set(value, []);\n\t\tcontactNumbers.get(value)?.push(name);\n\t}\n\n\t// Join the names for each number together,\n\t// and then join all the numbers together into a readable string.\n\treturn [...contactNumbers.entries()].reduce(\n\t\t(acc, [value, names], index) => {\n\t\t\tconst namesString = names\n\t\t\t\t.map((name) => formatContactType(name))\n\t\t\t\t.join(' or ');\n\t\t\treturn (\n\t\t\t\tacc + (index === 0 ? '' : ' or ') + `${namesString} at ${value}`\n\t\t\t);\n\t\t},\n\t\t'Contact us on ',\n\t);\n};\n\nconst Disclaimer = ({ contacts }: { contacts: CalloutContactType[] }) => {\n\tconst contactText = (\n\t\t<p css={[linkStyles, infoStyles]}>{formatContactNumbers(contacts)}.</p>\n\t);\n\n\t// If any of the contacts have guidance, display it in a readable string.\n\tconst guidanceText = (\n\t\t<span>\n\t\t\tFor more information, please see our guidance on{' '}\n\t\t\t{contacts.map(\n\t\t\t\t({ guidance, name }, i) =>\n\t\t\t\t\tisString(guidance) && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<a key={guidance} href={guidance}>\n\t\t\t\t\t\t\t\tcontacting us via {formatContactType(name)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{i === contacts.length - 1 ? '.' : ', '}\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t)}\n\t\t</span>\n\t);\n\n\tconst secureDropText = (\n\t\t<span>\n\t\t\tFor true anonymity please use our{' '}\n\t\t\t<a href=\"https://www.theguardian.com/securedrop\">SecureDrop</a>{' '}\n\t\t\tservice instead.\n\t\t</span>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{contactText}\n\t\t\t<p css={[linkStyles, infoStyles]}>\n\t\t\t\t{contacts.some((c) => !!c.guidance) && guidanceText}{' '}\n\t\t\t\t{secureDropText}\n\t\t\t</p>\n\t\t</>\n\t);\n};\n\nconst MessageUs = ({\n\tcontacts,\n\tuseBrandColour,\n}: {\n\tcontacts: CalloutContactType[];\n\tuseBrandColour: boolean;\n}) => {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"js-message-us-tab\"\n\t\t\tstyle={\n\t\t\t\tuseBrandColour\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t'--article-link-text': palette('--callout-prompt'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {}\n\t\t\t}\n\t\t>\n\t\t\t<Disclaimer contacts={contacts} />\n\n\t\t\t{contacts.map((contact, i) =>\n\t\t\t\t!!contact.urlPrefix && !!contact.value ? (\n\t\t\t\t\t<LinkButton\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tcssOverrides={calloutPrimaryButtonStyles}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\thref={`${contact.urlPrefix}${contact.value}`}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\ticon={conditionallyRenderContactIcon(contact.name)}\n\t\t\t\t\t>\n\t\t\t\t\t\tMessage us on {formatContactType(contact.name)}\n\t\t\t\t\t</LinkButton>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t),\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport { MessageUs };\n","import { css } from '@emotion/react';\nimport {\n\theadlineBold20,\n\theadlineMedium20,\n\tspace,\n} from '@guardian/source/foundations';\nimport type { TabProps } from '@guardian/source-development-kitchen/react-components';\nimport { Tabs } from '@guardian/source-development-kitchen/react-components';\nimport { useState } from 'react';\nimport { palette } from '../../palette';\nimport type {\n\tCalloutContactType,\n\tCampaignFieldType,\n} from '../../types/content';\nimport { CalloutDescription, CalloutShare } from './CalloutComponents';\nimport { Form } from './Form';\nimport { conditionallyRenderContactIcon, MessageUs } from './MessageUs';\n\nconst summaryContentWrapper = css`\n\tvisibility: visible;\n\tpadding-top: 2px;\n\tpadding-bottom: ${space[6]}px;\n`;\n\nconst promptStyles = css`\n\t${headlineBold20};\n`;\n\nconst subtitleTextHeaderStyles = css`\n\t${headlineMedium20}\n\tpadding-bottom: ${space[3]}px;\n`;\n\nconst tabTitle = css`\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: center;\n`;\n\nconst tabIcons = css`\n\tpadding-left: ${space[1]}px;\n\tdisplay: flex;\n\talign-items: center;\n`;\n\nexport interface CalloutBlockProps {\n\tprompt: string;\n\theading: string;\n\tdescription: string;\n\tformFields: CampaignFieldType[];\n\tformId: string;\n\tsubmissionURL: string;\n\tisNonCollapsible: boolean;\n\tcontacts?: CalloutContactType[];\n\tpageId: string;\n}\n\nexport const CalloutBlock = ({\n\tprompt,\n\theading,\n\tdescription,\n\tformFields,\n\tformId,\n\tsubmissionURL,\n\tisNonCollapsible,\n\tcontacts = [],\n\tpageId,\n}: CalloutBlockProps) => {\n\tconst shouldShowContacts = contacts.length > 0;\n\tconst shouldShowHeading = !!heading && !isNonCollapsible;\n\tconst form = {\n\t\tid: 'form',\n\t\ttext: <div>Tell us here</div>,\n\t\tcontent: (\n\t\t\t<Form\n\t\t\t\tformFields={formFields}\n\t\t\t\tsubmissionURL={submissionURL}\n\t\t\t\tformID={formId}\n\t\t\t\tpageId={pageId}\n\t\t\t/>\n\t\t),\n\t} satisfies TabProps;\n\n\tconst tabs = (\n\t\tshouldShowContacts\n\t\t\t? [\n\t\t\t\t\tform,\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'contact',\n\t\t\t\t\t\ttext: (\n\t\t\t\t\t\t\t<div css={tabTitle}>\n\t\t\t\t\t\t\t\t<div>Message us</div>\n\t\t\t\t\t\t\t\t<div css={tabIcons}>\n\t\t\t\t\t\t\t\t\t{contacts.map((c) =>\n\t\t\t\t\t\t\t\t\t\tconditionallyRenderContactIcon(c.name),\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t<MessageUs\n\t\t\t\t\t\t\t\tcontacts={contacts}\n\t\t\t\t\t\t\t\tuseBrandColour={!isNonCollapsible}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t  ]\n\t\t\t: [form]\n\t) satisfies TabProps[];\n\n\tconst [selectedTab, setSelectedTab] = useState(form.id);\n\n\treturn (\n\t\t<div\n\t\t\tid={formId}\n\t\t\tstyle={{\n\t\t\t\t'--article-link-text': isNonCollapsible\n\t\t\t\t\t? undefined\n\t\t\t\t\t: palette('--callout-prompt'),\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tcss={summaryContentWrapper}\n\t\t\t\tstyle={{\n\t\t\t\t\tpaddingInline: isNonCollapsible ? 0 : `${space[2]}px`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{!!prompt && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={promptStyles}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: isNonCollapsible\n\t\t\t\t\t\t\t\t? palette('--article-text')\n\t\t\t\t\t\t\t\t: palette('--callout-prompt'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{prompt}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{shouldShowHeading && (\n\t\t\t\t\t<h4 css={subtitleTextHeaderStyles}>{heading}</h4>\n\t\t\t\t)}\n\t\t\t\t{!!description && (\n\t\t\t\t\t<CalloutDescription description={description} />\n\t\t\t\t)}\n\t\t\t\t<CalloutShare title={heading} urlAnchor={formId} />\n\t\t\t</div>\n\t\t\t<Tabs\n\t\t\t\ttabsLabel=\"Tell us via online form or message us using your phone\"\n\t\t\t\ttabElement=\"button\"\n\t\t\t\ttheme={{\n\t\t\t\t\t'--background': palette('--tabs--background'),\n\t\t\t\t\t'--text': palette('--tabs--text'),\n\t\t\t\t\t'--border': palette('--tabs--border'),\n\t\t\t\t\t'--inactiveBackground': palette(\n\t\t\t\t\t\t'--tabs--inactiveBackground',\n\t\t\t\t\t),\n\t\t\t\t}}\n\t\t\t\ttabs={tabs}\n\t\t\t\tselectedTab={selectedTab}\n\t\t\t\tonTabChange={setSelectedTab}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { space, textSans12 } from '@guardian/source/foundations';\nimport { SvgClock } from '@guardian/source/react-components';\nimport { palette } from '../../palette';\n\ntype Props = {\n\tuntil?: number;\n};\n\nconst deadlineStyles = css`\n\t${textSans12};\n\tcolor: ${palette('--callout-highlight-text')};\n\tbackground-color: ${palette('--callout-highlight-background')};\n\tright: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-right: ${space[1]}px;\n\n\tsvg {\n\t\tfill: currentColor;\n\t}\n`;\n\nfunction getDaysBetween(first: Date, second: Date): number {\n\tconst ONE_DAY = 1000 * 3600 * 24;\n\treturn (second.getTime() - first.getTime()) / ONE_DAY;\n}\n\nconst getDeadlineText = (date1: Date, date2: Date): string | undefined => {\n\tconst maxDays = 7;\n\tconst daysBetween = getDaysBetween(date1, date2);\n\tif (daysBetween <= 0 || daysBetween > maxDays) return;\n\tif (daysBetween <= 1) return 'Closing today';\n\tif (Math.round(daysBetween) === 1) return 'Open for 1 more day';\n\treturn `Open for ${Math.round(daysBetween)} more days`;\n};\n\nfunction formatOptionalDate(date: number | undefined): Date | undefined {\n\tif (isUndefined(date)) return undefined;\n\treturn new Date(date * 1000);\n}\n\nexport const Deadline = ({ until }: Props) => {\n\tconst untilDate = formatOptionalDate(until);\n\tif (!untilDate) return null;\n\tconst now = new Date();\n\tconst deadlineText = getDeadlineText(now, untilDate);\n\tif (!deadlineText) return null;\n\n\treturn (\n\t\t<span css={deadlineStyles}>\n\t\t\t<SvgClock size=\"xsmall\" />\n\t\t\t{deadlineText}\n\t\t</span>\n\t);\n};\n","import { isUndefined } from '@guardian/libs';\nimport { ExpandingWrapper } from '@guardian/source-development-kitchen/react-components';\nimport { palette } from '../palette';\nimport type { CalloutBlockElementV2 } from '../types/content';\nimport { CalloutBlock } from './Callout/Callout';\nimport { CalloutExpired } from './Callout/CalloutComponents';\nimport { Deadline } from './Callout/Deadline';\n\n/**\n * A callout to readers to share their stories.\n * This is the updated version of the CalloutEmbedBlockComponent.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page,\n * and submitting a form.\n *\n */\n\nexport const CalloutBlockComponent = ({\n\tcallout,\n\tpageId,\n}: {\n\tcallout: CalloutBlockElementV2;\n\tpageId: string;\n}) => {\n\tconst {\n\t\tprompt,\n\t\ttitle,\n\t\tdescription,\n\t\tformFields,\n\t\tactiveUntil,\n\t\tcalloutsUrl,\n\t\tformId,\n\t\tisNonCollapsible,\n\t\tcontacts,\n\t} = callout;\n\n\tconst isExpired = isUndefined(activeUntil)\n\t\t? false\n\t\t: Math.floor(new Date().getTime() / 1000) > activeUntil;\n\n\tif (!isNonCollapsible && isExpired) {\n\t\treturn null;\n\t}\n\n\tif (isNonCollapsible && isExpired) {\n\t\treturn <CalloutExpired />;\n\t}\n\n\tconst id = formId.toString();\n\n\treturn (\n\t\t<>\n\t\t\t{!isNonCollapsible ? (\n\t\t\t\t<aside>\n\t\t\t\t\t<ExpandingWrapper\n\t\t\t\t\t\tname={`${callout.formId} form`}\n\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t'--background': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--background',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--border': palette('--expandingWrapper--border'),\n\t\t\t\t\t\t\t'--collapseBackground': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--collapseBackground',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--collapseBackgroundHover': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--collapseBackgroundHover',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--collapseText': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--collapseText',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--collapseTextHover': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--collapseTextHover',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--text': palette('--expandingWrapper--text'),\n\t\t\t\t\t\t\t'--horizontalRules': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--horizontalRules',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--expandBackground': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--expandBackground',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--expandBackgroundHover': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--expandBackgroundHover',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'--expandText': palette(\n\t\t\t\t\t\t\t\t'--expandingWrapper--expandText',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trenderExtra={() => <Deadline until={activeUntil} />}\n\t\t\t\t\t\tcollapsedHeight={'160px'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CalloutBlock\n\t\t\t\t\t\t\tformId={id}\n\t\t\t\t\t\t\tprompt={prompt}\n\t\t\t\t\t\t\theading={title}\n\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\tformFields={formFields}\n\t\t\t\t\t\t\tsubmissionURL={calloutsUrl}\n\t\t\t\t\t\t\tisNonCollapsible={isNonCollapsible}\n\t\t\t\t\t\t\tcontacts={contacts}\n\t\t\t\t\t\t\tpageId={pageId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ExpandingWrapper>\n\t\t\t\t</aside>\n\t\t\t) : (\n\t\t\t\t<CalloutBlock\n\t\t\t\t\tformId={id}\n\t\t\t\t\tprompt={prompt}\n\t\t\t\t\theading={title}\n\t\t\t\t\tdescription={description}\n\t\t\t\t\tformFields={formFields}\n\t\t\t\t\tsubmissionURL={calloutsUrl}\n\t\t\t\t\tisNonCollapsible={isNonCollapsible}\n\t\t\t\t\tcontacts={contacts}\n\t\t\t\t\tpageId={pageId}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n"],"names":["linkStyles","css","palette","calloutStyles","space","article17","CalloutDescription","description","div","dangerouslySetInnerHTML","__html","a","href","expiredStyles","textSans15","CalloutExpired","p","shareCalloutStyles","shareCalloutTextStyles","textSans14","shareCalloutLinkStyles","sharePopupStyles","sourcePalette","neutral","success","shareIconStyles","CalloutShare","title","urlAnchor","isCopied","setIsCopied","useState","window","navigator","span","SvgShareWeb","size","Button","priority","onClick","async","url","location","test","userAgent","shareTitle","shareText","share","text","setTimeout","clipboard","writeText","onShare","catch","cssOverrides","role","SvgTickRound","termsAndConditionsStyles","CalloutTermsAndConditions","data-ignore","FormField","formField","formData","setFieldInFormData","pageId","validationErrors","type","label","hideLabel","required","id","name","fieldValue","fieldError","firstUpdate","useRef","useEffect","current","hidden","TextInput","supporting","optional","value","error","data-testid","onChange","e","target","TextArea","FileInput","maxFileSize","onUpload","file","Select","children","concat","options","map","formLabel","Option","CheckboxGroup","undefined","option","selectedCheckboxesArray","isCheckboxChecked","find","ele","Checkbox","checked","filter","RadioGroup","orientation","length","index","Radio","textStyles","successStyles","tickBoxStyles","errorTextStyles","textSansBold17","formStyles","sourceColourOverrides","schemedPalette","submitButtonStyles","footerPaddingStyles","Form","formFields","submissionURL","formID","formElement","setFormData","setValidationErrors","networkError","setNetworkError","submissionSuccess","setSubmissionSuccess","twitterHandle","setTwitterHandle","data","currentErrors","headlineBold20","form","ref","action","method","noValidate","onSubmit","preventDefault","errors","field","isUndefined","isString","includes","replaceAll","Object","keys","validateForm","formDataWithFieldPrefix","reduce","acc","cur","Array","isArray","join","fetch","body","JSON","stringify","formId","headers","then","resp","status","respError","guardian","modules","sentry","reportError","submitForm","firstInvalidFormElement","querySelector","focus","values","err","ErrorSummary","message","context","aria-hidden","input","tabIndex","placeholder","calloutPrimaryButtonStyles","infoStyles","formatContactType","s","toLowerCase","charAt","toUpperCase","slice","conditionallyRenderContactIcon","SvgWhatsAppBrand","SvgSignalBrand","SvgTelegramBrand","formatContactNumbers","contacts","contactNumbers","Map","has","set","get","push","entries","names","namesString","Disclaimer","contactText","guidanceText","i","guidance","secureDropText","some","c","MessageUs","useBrandColour","className","style","contact","urlPrefix","LinkButton","rel","icon","summaryContentWrapper","promptStyles","subtitleTextHeaderStyles","headlineMedium20","tabTitle","tabIcons","CalloutBlock","prompt","heading","isNonCollapsible","shouldShowContacts","shouldShowHeading","content","tabs","selectedTab","setSelectedTab","paddingInline","color","h4","Tabs","tabsLabel","tabElement","theme","onTabChange","deadlineStyles","textSans12","Deadline","until","untilDate","date","Date","formatOptionalDate","deadlineText","date1","date2","daysBetween","first","getTime","Math","round","getDeadlineText","SvgClock","CalloutBlockComponent","callout","activeUntil","calloutsUrl","isExpired","floor","toString","aside","ExpandingWrapper","renderExtra","collapsedHeight","colour"],"sourceRoot":""}