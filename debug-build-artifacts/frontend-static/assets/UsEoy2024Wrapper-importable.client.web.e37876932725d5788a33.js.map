{"version":3,"file":"UsEoy2024Wrapper-importable.client.web.e37876932725d5788a33.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/lodash.debounce@4.0.8/node_modules/lodash.debounce/index.js","webpack://@guardian/dotcom-rendering/./src/components/UsEoy2024Wrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/lib/tracking.ts","webpack://@guardian/dotcom-rendering/./src/lib/contributions.ts","webpack://@guardian/dotcom-rendering/./src/lib/useAuthStatus.ts","webpack://@guardian/dotcom-rendering/./src/lib/useIsInView.ts"],"sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import { css } from '@emotion/react';\nimport { isObject } from '@guardian/libs';\nimport type { ComponentEvent } from '@guardian/ophan-tracker-js';\nimport {\n\tfrom,\n\theadlineMedium24,\n\theadlineMedium28,\n\theadlineMedium34,\n\tpalette,\n\tspace,\n\ttextEgyptian17,\n\ttextEgyptianBold17,\n} from '@guardian/source/foundations';\nimport { SvgGuardianLogo } from '@guardian/source/react-components';\nimport { Ticker } from '@guardian/source-development-kitchen/react-components';\nimport type {\n\tSelectedAmountsVariant,\n\tTickerData,\n} from '@guardian/support-dotcom-components/dist/shared/types';\nimport { useEffect, useState } from 'react';\nimport { submitComponentEvent } from '../client/ophan/ophan';\nimport { shouldHideSupportMessaging } from '../lib/contributions';\nimport { useIsSignedIn } from '../lib/useAuthStatus';\nimport { useConfig } from './ConfigContext';\nimport type { ChoiceCardSettings } from './marketing/banners/designableBanner/components/choiceCards/ChoiceCards';\nimport { ChoiceCards } from './marketing/banners/designableBanner/components/choiceCards/ChoiceCards';\nimport { buttonStyles } from './marketing/banners/designableBanner/styles/buttonStyles';\nimport { useChoiceCards } from './marketing/hooks/useChoiceCards';\nimport type { ReactComponent } from './marketing/lib/ReactComponent';\n\nconst styles = {\n\tcontainer: css`\n\t\t/* stylelint-disable-next-line color-no-hex */\n\t\tbackground: #051d32;\n\t\tcolor: ${palette.neutral[100]};\n\t`,\n\tgrid: css`\n\t\tdisplay: grid;\n\t\tflex-direction: column;\n\t\tposition: relative;\n\t\tpadding: 0 ${space[3]}px ${space[4]}px ${space[3]}px;\n\t\t${from.tablet} {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 350px 350px;\n\t\t\tpadding: 0 ${space[5]}px ${space[4]}px ${space[5]}px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\tgrid-template-columns: 462px 462px;\n\t\t\tcolumn-gap: ${space[4]}px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tgrid-template-columns: 148px 482px 482px;\n\t\t\tcolumn-gap: 0;\n\t\t}\n\t\t${from.wide} {\n\t\t\tgrid-template-columns: 228px 482px 482px;\n\t\t}\n\t`,\n\tlogo: css`\n\t\tdisplay: none;\n\t\t${from.leftCol} {\n\t\t\tdisplay: block;\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t\tmargin-top: ${space[2]}px;\n\t\t}\n\t`,\n\theading: css`\n\t\t${from.tablet} {\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t}\n\t\th2 {\n\t\t\tmargin: ${space[2]}px 0 ${space[4]}px;\n\t\t\tcolor: ${palette.neutral[100]};\n\n\t\t\t${headlineMedium24}\n\t\t\t${from.tablet} {\n\t\t\t\t${headlineMedium28}\n\t\t\t}\n\t\t\t${from.leftCol} {\n\t\t\t\t${headlineMedium34}\n\t\t\t}\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tgrid-column: 2;\n\t\t\tborder-left: 1px solid rgba(255, 255, 255, 0.2);\n\t\t\tpadding-left: ${space[2]}px;\n\t\t}\n\t`,\n\tbody: css`\n\t\t${textEgyptian17};\n\t\tstrong {\n\t\t\t${textEgyptianBold17};\n\t\t}\n\t`,\n\thighlight: css`\n\t\tbackground-color: inherit;\n\t\tcolor: inherit;\n\t`,\n\tticker: css`\n\t\tmargin-bottom: ${space[4]}px;\n\t`,\n\tchoiceCards: css`\n\t\tmargin-top: ${space[6]}px;\n\t\t${from.tablet} {\n\t\t\tgrid-column: 2;\n\t\t\tgrid-row: 1;\n\t\t\talign-self: flex-start;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: flex-end;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tgrid-column: 3;\n\t\t\tmargin-right: ${space[3]}px;\n\t\t}\n\t`,\n};\n\nconst stylesSubCampaign = {\n\tcontainer: css`\n\t\t/* stylelint-disable-next-line color-no-hex */\n\t\tbackground: #edb438;\n\t\tcolor: ${palette.neutral[100]};\n\t`,\n\tgrid: css`\n\t\tdisplay: grid;\n\t\tflex-direction: column;\n\t\tposition: relative;\n\t\tpadding: 0 ${space[3]}px ${space[4]}px ${space[3]}px;\n\t\t${from.tablet} {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 350px 350px;\n\t\t\tpadding: 0 ${space[5]}px ${space[4]}px ${space[5]}px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\tgrid-template-columns: 462px 462px;\n\t\t\tcolumn-gap: ${space[4]}px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tgrid-template-columns: 148px 482px 482px;\n\t\t\tcolumn-gap: 0;\n\t\t}\n\t\t${from.wide} {\n\t\t\tgrid-template-columns: 228px 482px 482px;\n\t\t}\n\t`,\n\tlogo: css`\n\t\tdisplay: none;\n\t\t${from.leftCol} {\n\t\t\tdisplay: block;\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t\tmargin-top: ${space[2]}px;\n\t\t}\n\t`,\n\theading: css`\n\t\t${from.tablet} {\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t}\n\t\th2 {\n\t\t\tmargin: ${space[2]}px 0 ${space[4]}px;\n\t\t\tcolor: ${'#1A2835'};\n\n\t\t\t${headlineMedium24}\n\t\t\t${from.tablet} {\n\t\t\t\t${headlineMedium28}\n\t\t\t}\n\t\t\t${from.leftCol} {\n\t\t\t\t${headlineMedium34}\n\t\t\t}\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tgrid-column: 2;\n\t\t\tborder-left: 1px solid rgba(0, 0, 0, 0.2);\n\t\t\tpadding-left: ${space[2]}px;\n\t\t}\n\t`,\n\tbody: css`\n\t\t${textEgyptian17};\n\t\tstrong {\n\t\t\t${textEgyptianBold17};\n\t\t}\n\t\tcolor: ${'#1A2835'};\n\t`,\n\thighlight: css`\n\t\tbackground-color: ${'#016D67'};\n\t\tcolor: ${'#F6F6F6'};\n\t\tpadding-left: 2px;\n\t`,\n\tticker: css`\n\t\tmargin-bottom: ${space[4]}px;\n\t`,\n\tchoiceCards: css`\n\t\tmargin-top: ${space[6]}px;\n\t\t${from.tablet} {\n\t\t\tgrid-column: 2;\n\t\t\tgrid-row: 1;\n\t\t\talign-self: flex-start;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: flex-end;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tgrid-column: 3;\n\t\t\tmargin-right: ${space[3]}px;\n\t\t}\n\t`,\n};\n\nconst tickerSettings = {\n\tcurrencySymbol: '$',\n\tcopy: {},\n\ttickerStylingSettings: {\n\t\tfilledProgressColour: '#64B7C4',\n\t\tprogressBarBackgroundColour: 'rgba(34, 75, 95, 1)',\n\t\theadlineColour: '#000000',\n\t\ttotalColour: '#64B7C4',\n\t\tgoalColour: '#FFFFFF',\n\t},\n};\n\nconst tickerSettingsSubCampaign = {\n\tcurrencySymbol: '$',\n\tcopy: {},\n\ttickerStylingSettings: {\n\t\tfilledProgressColour: '#016D67',\n\t\tprogressBarBackgroundColour: 'rgba(1, 109, 103, 0.3)',\n\t\theadlineColour: '#000000',\n\t\ttotalColour: '#016D67',\n\t\tgoalColour: '#1A2835',\n\t},\n};\n\nconst heading = (isSubCampaign: boolean) => {\n\treturn isSubCampaign\n\t\t? 'Last chance to support us this year'\n\t\t: 'Can you help us beat our goal?';\n};\nconst bodyCopy = (isSubCampaign: boolean) => {\n\tconst SubCampaignCopy =\n\t\t'We’re funded by readers, not billionaires - which means we can publish factual journalism with no outside influence.';\n\tconst normalCopy =\n\t\t'With no billionaire owner or shareholders pulling our strings, reader support keeps us fiercely independent.';\n\treturn isSubCampaign ? SubCampaignCopy : normalCopy;\n};\n\nconst bodyCopyHighlightedText = (isSubCampaign: boolean) => {\n\tconst SubCampaignCopy = 'Help us keep going in 2025.';\n\tconst normalCopy =\n\t\t'Help us raise as much as we can to power our journalism in 2025.';\n\treturn isSubCampaign ? SubCampaignCopy : normalCopy;\n};\n\nconst getTickerData = async (): Promise<TickerData | undefined> => {\n\tconst data = await fetch(\n\t\t'https://support.theguardian.com/ticker/US.json',\n\t).then((response) => response.json());\n\n\tif (isObject(data)) {\n\t\tconst { total, goal } = data;\n\t\tif (typeof total === 'number' && typeof goal === 'number') {\n\t\t\treturn {\n\t\t\t\ttotal: Math.floor(total),\n\t\t\t\tgoal: Math.floor(goal),\n\t\t\t};\n\t\t}\n\t}\n\treturn;\n};\n\nconst choiceCardAmounts: SelectedAmountsVariant = {\n\ttestName: 'us-eoy-front-amounts',\n\tvariantName: 'CONTROL',\n\tdefaultContributionType: 'MONTHLY',\n\tdisplayContributionType: ['ONE_OFF', 'MONTHLY', 'ANNUAL'],\n\tamountsCardData: {\n\t\tONE_OFF: {\n\t\t\tamounts: [75, 125],\n\t\t\tdefaultAmount: 75,\n\t\t\thideChooseYourAmount: false,\n\t\t},\n\t\tMONTHLY: {\n\t\t\tamounts: [5, 15],\n\t\t\tdefaultAmount: 15,\n\t\t\thideChooseYourAmount: false,\n\t\t},\n\t\tANNUAL: {\n\t\t\tamounts: [60, 150],\n\t\t\tdefaultAmount: 150,\n\t\t\thideChooseYourAmount: false,\n\t\t},\n\t},\n};\nconst choiceCardSettings: ChoiceCardSettings = {\n\tbuttonColour: '#FFFFFF',\n\tbuttonTextColour: '#000000',\n\tbuttonBorderColour: '#000000',\n\tbuttonSelectColour: '#E3F6FF',\n\tbuttonSelectTextColour: '#000000',\n\tbuttonSelectBorderColour: '#0077B6',\n};\nconst componentId = 'USEOY24_LAUNCH_UPDATED_THRASHER';\nconst cta = {\n\tctaUrl: `https://support.theguardian.com/us/contribute?acquisitionData={\"source\":\"GUARDIAN_WEB\",\"componentType\":\"ACQUISITIONS_THRASHER\",\"componentId\":\"${componentId}\",\"campaignCode\":\"USEOY24\"}&INTCMP=USEOY24`,\n\tctaText: 'Support us',\n};\n\ninterface Props {\n\ttickerData: TickerData;\n\tsubmitTrackingEvent: (event: ComponentEvent) => void;\n\tdate: Date;\n}\n\nexport const UsEoy2024: ReactComponent<Props> = ({\n\ttickerData,\n\tsubmitTrackingEvent,\n\tdate,\n}: Props): JSX.Element => {\n\tconst {\n\t\tchoiceCardSelection,\n\t\tsetChoiceCardSelection,\n\t\tgetCtaText,\n\t\tgetCtaUrl,\n\t\tcurrencySymbol,\n\t} = useChoiceCards(choiceCardAmounts, 'US', cta, cta);\n\n\tconst isSubCampaign =\n\t\tdate >= new Date('2024-12-20T00:00:01') &&\n\t\tdate < new Date('2024-12-31T23:59:59');\n\n\treturn (\n\t\t<div\n\t\t\tcss={isSubCampaign ? stylesSubCampaign.container : styles.container}\n\t\t>\n\t\t\t<div css={isSubCampaign ? stylesSubCampaign.grid : styles.grid}>\n\t\t\t\t<div css={isSubCampaign ? stylesSubCampaign.logo : styles.logo}>\n\t\t\t\t\t<SvgGuardianLogo\n\t\t\t\t\t\ttextColor={isSubCampaign ? '#000000' : '#FFFFFF'}\n\t\t\t\t\t\twidth={100}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tcss={\n\t\t\t\t\t\tisSubCampaign\n\t\t\t\t\t\t\t? stylesSubCampaign.heading\n\t\t\t\t\t\t\t: styles.heading\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<h2>{heading(isSubCampaign)}</h2>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={\n\t\t\t\t\t\t\tisSubCampaign ? stylesSubCampaign.body : styles.body\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={\n\t\t\t\t\t\t\t\tisSubCampaign\n\t\t\t\t\t\t\t\t\t? stylesSubCampaign.ticker\n\t\t\t\t\t\t\t\t\t: styles.ticker\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Ticker\n\t\t\t\t\t\t\t\tcurrencySymbol={tickerSettings.currencySymbol}\n\t\t\t\t\t\t\t\tcopy={{}}\n\t\t\t\t\t\t\t\ttickerData={tickerData}\n\t\t\t\t\t\t\t\ttickerStylingSettings={\n\t\t\t\t\t\t\t\t\tisSubCampaign\n\t\t\t\t\t\t\t\t\t\t? tickerSettingsSubCampaign.tickerStylingSettings\n\t\t\t\t\t\t\t\t\t\t: tickerSettings.tickerStylingSettings\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsize={'medium'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{bodyCopy(isSubCampaign)}\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tcss={\n\t\t\t\t\t\t\t\t\tisSubCampaign\n\t\t\t\t\t\t\t\t\t\t? stylesSubCampaign.highlight\n\t\t\t\t\t\t\t\t\t\t: styles.highlight\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{bodyCopyHighlightedText(isSubCampaign)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tcss={\n\t\t\t\t\t\tisSubCampaign\n\t\t\t\t\t\t\t? stylesSubCampaign.choiceCards\n\t\t\t\t\t\t\t: styles.choiceCards\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<ChoiceCards\n\t\t\t\t\t\tsetSelectionsCallback={setChoiceCardSelection}\n\t\t\t\t\t\tselection={choiceCardSelection}\n\t\t\t\t\t\tsubmitComponentEvent={submitTrackingEvent}\n\t\t\t\t\t\tcurrencySymbol={currencySymbol}\n\t\t\t\t\t\tcomponentId={'thrasher-choice-cards'}\n\t\t\t\t\t\tamountsTest={choiceCardAmounts}\n\t\t\t\t\t\tdesign={choiceCardSettings}\n\t\t\t\t\t\tgetCtaText={getCtaText}\n\t\t\t\t\t\tgetCtaUrl={getCtaUrl}\n\t\t\t\t\t\tcssCtaOverides={buttonStyles({\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tbackgroundColour: isSubCampaign\n\t\t\t\t\t\t\t\t\t? '#016D67'\n\t\t\t\t\t\t\t\t\t: '#C41C1C',\n\t\t\t\t\t\t\t\ttextColour: '#FFFFFF',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thover: {\n\t\t\t\t\t\t\t\tbackgroundColour: isSubCampaign\n\t\t\t\t\t\t\t\t\t? '#01544F'\n\t\t\t\t\t\t\t\t\t: '#C41C1C',\n\t\t\t\t\t\t\t\ttextColour: '#FFFFFF',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tonCtaClick={() => {\n\t\t\t\t\t\t\tsubmitTrackingEvent({\n\t\t\t\t\t\t\t\tcomponent: {\n\t\t\t\t\t\t\t\t\tcomponentType: 'ACQUISITIONS_THRASHER',\n\t\t\t\t\t\t\t\t\tid: componentId,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\taction: 'CLICK',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const UsEoy2024Wrapper = (): JSX.Element => {\n\tconst [tickerData, setTickerData] = useState<TickerData | undefined>();\n\n\tconst [showSupportMessagingForUser, setShowSupportMessaging] =\n\t\tuseState<boolean>(false);\n\tconst isSignedIn = useIsSignedIn();\n\n\tuseEffect(() => {\n\t\tif (isSignedIn !== 'Pending') {\n\t\t\tsetShowSupportMessaging(\n\t\t\t\tshouldHideSupportMessaging(isSignedIn) === false,\n\t\t\t);\n\t\t}\n\t}, [isSignedIn]);\n\n\tuseEffect(() => {\n\t\tvoid getTickerData().then(setTickerData);\n\t}, []);\n\n\tconst { renderingTarget } = useConfig();\n\tconst submitTrackingEvent = (event: ComponentEvent) => {\n\t\tvoid submitComponentEvent(event, renderingTarget);\n\t};\n\tconst now = new Date();\n\n\treturn (\n\t\t<>\n\t\t\t{showSupportMessagingForUser && tickerData && (\n\t\t\t\t<UsEoy2024\n\t\t\t\t\ttickerData={tickerData}\n\t\t\t\t\tsubmitTrackingEvent={submitTrackingEvent}\n\t\t\t\t\tdate={now}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/9c3eae7cb0b159db4a1c40679d6b37710b0bb937/packages/shared/src/lib/tracking.ts\n */\nimport type { OphanAction, OphanComponentEvent } from '@guardian/libs';\nimport { isUndefined } from '@guardian/libs';\nimport { addRegionIdToSupportUrl } from '@guardian/support-dotcom-components';\nimport type {\n\tAbandonedBasket,\n\tBannerTest,\n\tBannerVariant,\n\tContributionFrequency,\n\tEpicTest,\n\tEpicVariant,\n\tTargetingAbTest,\n\tTracking,\n} from '@guardian/support-dotcom-components/dist/shared/types';\n\n// TRACKING VIA support.theguardian.com\ntype LinkParams = {\n\tREFPVID: string;\n\tINTCMP: string;\n\tacquisitionData: string;\n\tnumArticles: number;\n};\n\ntype AbTestObject = {\n\tname: string;\n\tvariant: string;\n\ttestType?: string;\n};\n\nconst generateAbTestArray = (\n\tabTestName: string,\n\tabTestVariant: string,\n\ttargetingAbTest?: TargetingAbTest,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): AbTestObject[] => {\n\tconst abTests: AbTestObject[] = [\n\t\t{\n\t\t\tname: abTestName,\n\t\t\tvariant: abTestVariant,\n\t\t},\n\t];\n\tif (targetingAbTest) {\n\t\tabTests.push({\n\t\t\tname: targetingAbTest.testName,\n\t\t\tvariant: targetingAbTest.variantName,\n\t\t});\n\t}\n\tif (amountsAbTestName && amountsAbTestVariant) {\n\t\tabTests.push({\n\t\t\tname: amountsAbTestName,\n\t\t\tvariant: amountsAbTestVariant,\n\t\t\ttestType: 'AMOUNTS_TEST',\n\t\t});\n\t}\n\treturn abTests;\n};\n\nconst encodeAcquisitionsData = (\n\tparams: Tracking,\n\tabTests: AbTestObject[],\n): string => {\n\treturn encodeURIComponent(\n\t\tJSON.stringify({\n\t\t\tsource: params.platformId,\n\t\t\tcomponentId: params.campaignCode,\n\t\t\tcomponentType: params.componentType,\n\t\t\tcampaignCode: params.campaignCode,\n\t\t\tabTests,\n\t\t\treferrerPageviewId: params.ophanPageId,\n\t\t\treferrerUrl: params.referrerUrl,\n\t\t\tisRemote: true, // Temp param to indicate served by remote service\n\t\t\tlabels: params.labels,\n\t\t}),\n\t);\n};\n\nconst generateQueryString = (\n\tparams: Tracking,\n\tacquisitionData: string,\n\tnumArticles: number,\n): string => {\n\tconst trackingLinkParams: LinkParams = {\n\t\tREFPVID: params.ophanPageId || 'not_found',\n\t\tINTCMP: params.campaignCode || '',\n\t\tacquisitionData,\n\t\tnumArticles: numArticles || 0,\n\t};\n\n\tconst queryString = Object.entries(trackingLinkParams)\n\t\t.filter(([, value]) => !isUndefined(value))\n\t\t.map(([key, value]) => `${key}=${value}`);\n\n\treturn queryString.join('&');\n};\n\nexport const addTrackingParams = (\n\tbaseUrl: string,\n\tparams: Tracking,\n\tnumArticles?: number,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): string => {\n\tconst abTests = generateAbTestArray(\n\t\tparams.abTestName,\n\t\tparams.abTestVariant,\n\t\tparams.targetingAbTest,\n\t\tamountsAbTestName,\n\t\tamountsAbTestVariant,\n\t);\n\tconst acquisitionData = encodeAcquisitionsData(params, abTests);\n\tconst queryString = generateQueryString(\n\t\tparams,\n\t\tacquisitionData,\n\t\tnumArticles ?? 0,\n\t);\n\tconst alreadyHasQueryString = baseUrl.includes('?');\n\treturn `${baseUrl}${alreadyHasQueryString ? '&' : '?'}${queryString}`;\n};\n\nconst addAbandonedBasketContributionParams = (\n\tbaseUrl: string,\n\t{ region, amount, billingPeriod }: AbandonedBasket,\n): string => {\n\treturn `${baseUrl}/${region}/contribute/checkout?selected-amount=${amount}&selected-contribution-type=${billingPeriod}`;\n};\n\nexport const addAbandonedBasketParamsToUrl = (\n\tbaseUrl: string,\n\tabandonedBasket: AbandonedBasket,\n): string => {\n\tswitch (abandonedBasket.product) {\n\t\tcase 'Contribution':\n\t\tcase 'SupporterPlus':\n\t\t\treturn addAbandonedBasketContributionParams(\n\t\t\t\tbaseUrl,\n\t\t\t\tabandonedBasket,\n\t\t\t);\n\t\tdefault:\n\t\t\treturn baseUrl;\n\t}\n};\n\nexport const addAbandonedBasketAndTrackingParamsToUrl = (\n\tbaseUrl: string,\n\tabandonedBasket: AbandonedBasket,\n\ttracking: Tracking,\n): string => {\n\treturn addTrackingParams(\n\t\taddAbandonedBasketParamsToUrl(baseUrl, abandonedBasket),\n\t\ttracking,\n\t);\n};\n\nexport const isSupportUrl = (baseUrl: string): boolean =>\n\t/\\bsupport\\./.test(baseUrl);\n\nexport const addRegionIdAndTrackingParamsToSupportUrl = (\n\tbaseUrl: string,\n\ttracking: Tracking,\n\tnumArticles?: number,\n\tcountryCode?: string,\n\tamountsAbTestName?: string,\n\tamountsAbTestVariant?: string,\n): string => {\n\tif (!isSupportUrl(baseUrl)) {\n\t\treturn baseUrl;\n\t}\n\tconst urlWithRegion = addRegionIdToSupportUrl(baseUrl, countryCode);\n\n\treturn addTrackingParams(\n\t\turlWithRegion,\n\t\ttracking,\n\t\tnumArticles,\n\t\tamountsAbTestName,\n\t\tamountsAbTestVariant,\n\t);\n};\n\nconst hrefRegex = /href=\"(.*?)\"/g;\nexport const addTrackingParamsToBodyLinks = (\n\ttext: string,\n\ttracking: Tracking,\n\tnumArticles?: number,\n\tcountryCode?: string,\n): string => {\n\tconst trackingWithLabel = addLabelToTracking(tracking, 'body-link');\n\n\tconst replaceHref = (wholeMatch: string, url: string) =>\n\t\t`href=\"${addRegionIdAndTrackingParamsToSupportUrl(\n\t\t\turl,\n\t\t\ttrackingWithLabel,\n\t\t\tnumArticles,\n\t\t\tcountryCode,\n\t\t)}\"`;\n\n\treturn text.replace(hrefRegex, replaceHref);\n};\n\n// TRACKING VIA profile.theguardian.com\ntype ProfileLinkParams = {\n\tcomponentEventParams: string;\n\treturnUrl: string;\n};\n\ntype TrackingParam = keyof Tracking;\n\nexport const addProfileTrackingParams = (\n\tbaseUrl: string,\n\tparams: Tracking,\n): string => {\n\tconst constructQuery = (query: Partial<Tracking>): string =>\n\t\tObject.keys(query)\n\t\t\t.map((param) => {\n\t\t\t\tconst value = query[param as TrackingParam];\n\t\t\t\tconst queryValue = Array.isArray(value)\n\t\t\t\t\t? value.map((v) => encodeURIComponent(v)).join(',')\n\t\t\t\t\t: encodeURIComponent(value as string | number | boolean);\n\t\t\t\treturn `${param}=${queryValue}`;\n\t\t\t})\n\t\t\t.join('&');\n\n\tconst componentEventParamsData = {\n\t\tcomponentType: params.componentType,\n\t\tcomponentId: params.campaignCode,\n\t\tabTestName: params.abTestName,\n\t\tabTestVariant: params.abTestVariant,\n\t\tviewId: params.ophanPageId,\n\t};\n\n\tconst trackingLinkParams: ProfileLinkParams = {\n\t\t// Note: profile subdomain take uri encoded query params NOT json\n\t\tcomponentEventParams: encodeURIComponent(\n\t\t\tconstructQuery(componentEventParamsData),\n\t\t),\n\t\treturnUrl: params.referrerUrl,\n\t};\n\n\tconst queryString = Object.entries(trackingLinkParams)\n\t\t.filter(([, value]) => !isUndefined(value))\n\t\t.map(([key, value]) => `${key}=${value}`);\n\tconst alreadyHasQueryString = baseUrl.includes('?');\n\n\treturn `${baseUrl}${alreadyHasQueryString ? '&' : '?'}${queryString.join(\n\t\t'&',\n\t)}`;\n};\n\nexport const addChoiceCardsParams = (\n\turl: string,\n\tfrequency: ContributionFrequency,\n\tamount?: number | 'other',\n): string => {\n\tconst newParams = `selected-contribution-type=${frequency}${\n\t\tamount !== undefined ? `&selected-amount=${amount}` : ''\n\t}`;\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const addChoiceCardsOneTimeParams = (url: string): string => {\n\tconst newParams = `oneTime`;\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const addChoiceCardsProductParams = (\n\turl: string,\n\tproduct: string,\n\tratePlan: string,\n\tcontribution?: number,\n): string => {\n\tconst newParams = `product=${product}&ratePlan=${ratePlan}${\n\t\tcontribution !== undefined ? `&contribution=${contribution}` : ''\n\t}`;\n\n\tconst alreadyHasQueryString = url.includes('?');\n\treturn `${url}${alreadyHasQueryString ? '&' : '?'}${newParams}`;\n};\n\nexport const isProfileUrl = (baseUrl: string): boolean =>\n\t/\\bprofile\\./.test(baseUrl);\nexport const addTrackingParamsToProfileUrl = (\n\tbaseUrl: string,\n\ttracking: Tracking,\n): string => {\n\treturn isProfileUrl(baseUrl)\n\t\t? addProfileTrackingParams(baseUrl, tracking)\n\t\t: baseUrl;\n};\n\n// SHARED TRACKING\nconst campaignPrefix = 'gdnwb_copts_memco';\n\nexport const buildCampaignCode = (\n\ttest: EpicTest,\n\tvariant: EpicVariant,\n): string =>\n\t`${campaignPrefix}_${test.campaignId ?? test.name}_${variant.name}`;\n\nexport const buildBannerCampaignCode = (\n\ttest: BannerTest,\n\tvariant: BannerVariant,\n): string => `${test.name}_${variant.name}`;\n\nexport const buildAmpEpicCampaignCode = (\n\ttestName: string,\n\tvariantName: string,\n): string => `AMP__${testName}__${variantName}`;\n\nconst createEventFromTracking = (action: OphanAction) => {\n\treturn (tracking: Tracking, componentId: string): OphanComponentEvent => {\n\t\tconst {\n\t\t\tabTestName,\n\t\t\tabTestVariant,\n\t\t\tcomponentType,\n\t\t\tproducts = [],\n\t\t\tlabels = [],\n\t\t\tcampaignCode,\n\t\t} = tracking;\n\t\tconst abTest =\n\t\t\tabTestName && abTestVariant\n\t\t\t\t? {\n\t\t\t\t\t\tname: abTestName,\n\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t  }\n\t\t\t\t: null;\n\n\t\tconst targetingAbTest = tracking.targetingAbTest\n\t\t\t? {\n\t\t\t\t\tname: tracking.targetingAbTest.testName,\n\t\t\t\t\tvariant: tracking.targetingAbTest.variantName,\n\t\t\t  }\n\t\t\t: null;\n\n\t\treturn {\n\t\t\tcomponent: {\n\t\t\t\tcomponentType,\n\t\t\t\tproducts,\n\t\t\t\tcampaignCode,\n\t\t\t\tid: componentId,\n\t\t\t\tlabels,\n\t\t\t},\n\t\t\t...(abTest ? { abTest } : {}),\n\t\t\t...(targetingAbTest ? { targetingAbTest } : {}),\n\t\t\taction,\n\t\t};\n\t};\n};\n\nexport const addLabelToTracking = (\n\ttracking: Tracking,\n\tlabel: string,\n): Tracking => {\n\tif (tracking.labels) {\n\t\treturn {\n\t\t\t...tracking,\n\t\t\tlabels: [...tracking.labels, label],\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\t...tracking,\n\t\t\tlabels: [label],\n\t\t};\n\t}\n};\n\nexport const createClickEventFromTracking = createEventFromTracking('CLICK');\n\nexport const createViewEventFromTracking = createEventFromTracking('VIEW');\n\nexport const createInsertEventFromTracking = createEventFromTracking('INSERT');\n","import {\n\tgetCookie,\n\tisUndefined,\n\tonConsentChange,\n\tstorage,\n} from '@guardian/libs';\nimport type { HeaderPayload } from '@guardian/support-dotcom-components/dist/dotcom/types';\nimport { useEffect, useState } from 'react';\nimport type { ArticleDeprecated } from '../types/article';\nimport type { DCRFrontType } from '../types/front';\nimport type { DCRNewslettersPageType } from '../types/newslettersPage';\nimport type { DCRTagPageType } from '../types/tagPage';\n\n// User Attributes API cookies (created on sign-in)\nexport const HIDE_SUPPORT_MESSAGING_COOKIE = 'gu_hide_support_messaging';\nexport const RECURRING_CONTRIBUTOR_COOKIE = 'gu_recurring_contributor';\nexport const OPT_OUT_OF_ARTICLE_COUNT_COOKIE = 'gu_article_count_opt_out';\n\n// Support Frontend cookie (created when a contribution is made)\nexport const SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE =\n\t'gu.contributions.contrib-timestamp';\n\n//  Local storage keys\nconst WEEKLY_ARTICLE_COUNT_KEY = 'gu.history.weeklyArticleCount';\nexport const NO_RR_BANNER_KEY = 'gu.noRRBanner';\n\n// See https://github.com/guardian/support-dotcom-components/blob/main/module-versions.md\nexport const MODULES_VERSION = 'v3';\n\n// Returns true if we should hide support messaging because the user is a supporter.\n// Checks the cookie that is set by the User Attributes API upon signing in.\n// Value computed server-side and looks at all of the user's active products,\n// including but not limited to recurring & one-off contributions,\n// paper & digital subscriptions, as well as user tiers (GU supporters/staff/partners/patrons).\n// https://github.com/guardian/members-data-api/blob/3a72dc00b9389968d91e5930686aaf34d8040c52/membership-attribute-service/app/models/Attributes.scala\nexport const hasSupporterCookie = (\n\tisSignedIn: boolean,\n): boolean | 'Pending' => {\n\tconst cookie = getCookie({ name: HIDE_SUPPORT_MESSAGING_COOKIE });\n\tswitch (cookie) {\n\t\tcase 'true':\n\t\t\treturn true;\n\t\tcase 'false':\n\t\t\treturn false;\n\t\tdefault:\n\t\t\t/**\n\t\t\t * If cookie is not present but user is signed in, we do not want to show any messaging.\n\t\t\t * This is because of a race condition on the first page view after signing in, where\n\t\t\t * we may be awaiting the response from the API to find out if they're a supporter.\n\t\t\t */\n\t\t\tif (isSignedIn) {\n\t\t\t\treturn 'Pending';\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t}\n};\n\n// looks at the SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE (set by support-frontend when making one-off contribution)\n// and returns a Unix epoch int of the date if it exists.\nexport const getLastOneOffContributionTimestamp = (): number | undefined => {\n\t// Support cookies - expects Unix epoch\n\tconst contributionDateFromSupport = getCookie({\n\t\tname: SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE,\n\t});\n\n\tif (!contributionDateFromSupport) {\n\t\treturn undefined;\n\t}\n\n\t// Parse dates into common a number\n\tconst parsedDateFromSupport = contributionDateFromSupport\n\t\t? parseInt(contributionDateFromSupport, 10)\n\t\t: 0;\n\n\treturn parsedDateFromSupport || undefined; // This guards against 'parsedDateFromSupport' being NaN\n};\n\nconst dateDiffDays = (from: number, to: number): number => {\n\tconst oneDayMs = 1000 * 60 * 60 * 24;\n\tconst diffMs = to - from;\n\treturn Math.floor(diffMs / oneDayMs);\n};\n\nconst AskPauseDays = 90;\n\nexport const isRecentOneOffContributor = (): boolean => {\n\tconst lastContributionDate = getLastOneOffContributionTimestamp();\n\tif (!isUndefined(lastContributionDate)) {\n\t\tconst now = Date.now();\n\t\treturn dateDiffDays(lastContributionDate, now) <= AskPauseDays;\n\t}\n\n\treturn false;\n};\n\nexport const shouldHideSupportMessaging = (\n\tisSignedIn: boolean,\n): boolean | 'Pending' => {\n\tconst hasCookie = hasSupporterCookie(isSignedIn);\n\tif (hasCookie === 'Pending') {\n\t\treturn 'Pending';\n\t} else {\n\t\treturn hasCookie || isRecentOneOffContributor();\n\t}\n};\n\nexport const REQUIRED_CONSENTS_FOR_ARTICLE_COUNT = [1, 3, 7];\nconst REQUIRED_CONSENTS_FOR_BROWSER_ID = [1, 3, 5, 7];\n\nexport const hasArticleCountOptOutCookie = (): boolean =>\n\tgetCookie({ name: OPT_OUT_OF_ARTICLE_COUNT_COOKIE }) !== null;\n\nconst removeWeeklyArticleCountsFromLocalStorage = () =>\n\tstorage.local.remove(WEEKLY_ARTICLE_COUNT_KEY);\n\nexport const hasCmpConsentForWeeklyArticleCount = (): Promise<boolean> => {\n\treturn new Promise((resolve) => {\n\t\tif (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n\t\t\tresolve(true);\n\t\t}\n\t\tonConsentChange(({ usnat, tcfv2, aus }) => {\n\t\t\tif (usnat ?? aus) {\n\t\t\t\tresolve(true);\n\t\t\t} else if (tcfv2) {\n\t\t\t\tconst hasRequiredConsents =\n\t\t\t\t\tREQUIRED_CONSENTS_FOR_ARTICLE_COUNT.every(\n\t\t\t\t\t\t(consent) => tcfv2.consents[consent],\n\t\t\t\t\t);\n\n\t\t\t\tif (!hasRequiredConsents) {\n\t\t\t\t\tremoveWeeklyArticleCountsFromLocalStorage();\n\t\t\t\t}\n\t\t\t\tresolve(hasRequiredConsents);\n\t\t\t}\n\t\t});\n\t});\n};\n\nexport const hasOptedOutOfArticleCount = async (): Promise<boolean> => {\n\tconst hasCmpConsent = await hasCmpConsentForWeeklyArticleCount();\n\treturn !hasCmpConsent || hasArticleCountOptOutCookie();\n};\n\nexport const hasOptedOutOfWeeklyArticleCount = async (): Promise<boolean> => {\n\tconst hasCmpConsent = await hasCmpConsentForWeeklyArticleCount();\n\treturn !hasCmpConsent || hasArticleCountOptOutCookie();\n};\n\n// A hook to find out if a user has opted out of article counting\nexport const useHasOptedOutOfArticleCount = (): boolean | 'Pending' => {\n\tconst [hasOptedOut, setHasOptedOut] = useState<boolean | 'Pending'>(\n\t\t'Pending',\n\t);\n\n\tuseEffect(() => {\n\t\thasOptedOutOfArticleCount()\n\t\t\t.then(setHasOptedOut)\n\t\t\t.catch(() => setHasOptedOut(true));\n\t}, []);\n\n\treturn hasOptedOut;\n};\n\nexport const hasCmpConsentForBrowserId = (): Promise<boolean> =>\n\tnew Promise((resolve) => {\n\t\tif (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n\t\t\tresolve(true);\n\t\t}\n\t\tonConsentChange(({ usnat, tcfv2, aus }) => {\n\t\t\tif (usnat ?? aus) {\n\t\t\t\tresolve(true);\n\t\t\t} else if (tcfv2) {\n\t\t\t\tconst hasRequiredConsents =\n\t\t\t\t\tREQUIRED_CONSENTS_FOR_BROWSER_ID.every(\n\t\t\t\t\t\t(consent) => tcfv2.consents[consent],\n\t\t\t\t\t);\n\t\t\t\tresolve(hasRequiredConsents);\n\t\t\t}\n\t\t});\n\t});\n\nconst twentyMins = 20 * 60000;\nexport const withinLocalNoBannerCachePeriod = (): boolean =>\n\t!!storage.local.get(NO_RR_BANNER_KEY);\n\nexport const setLocalNoBannerCachePeriod = (now: number = Date.now()): void =>\n\tstorage.local.set(NO_RR_BANNER_KEY, true, now + twentyMins);\n\n// Returns true if banner was closed in the last hour\nconst ONE_HOUR_IN_MS = 1000 * 60 * 60;\nexport const recentlyClosedBanner = (\n\tlastClosedAt?: string,\n\tnow = Date.now(),\n): boolean => {\n\tif (lastClosedAt) {\n\t\treturn now - new Date(lastClosedAt).getTime() < ONE_HOUR_IN_MS;\n\t}\n\treturn false;\n};\n\nexport const getContributionsServiceUrl = (\n\tconfig:\n\t\t| ArticleDeprecated\n\t\t| DCRFrontType\n\t\t| DCRTagPageType\n\t\t| DCRNewslettersPageType,\n): string => process.env.SDC_URL ?? config.contributionsServiceUrl;\n\ntype PurchaseInfo = HeaderPayload['targeting']['purchaseInfo'];\nexport const getPurchaseInfo = (): PurchaseInfo => {\n\tconst purchaseInfoRaw = getCookie({\n\t\tname: 'GU_CO_COMPLETE',\n\t\tshouldMemoize: true,\n\t});\n\n\tif (!purchaseInfoRaw) {\n\t\treturn undefined;\n\t}\n\n\tlet purchaseInfo: PurchaseInfo;\n\n\ttry {\n\t\tpurchaseInfo = JSON.parse(decodeURIComponent(purchaseInfoRaw));\n\t} catch {} // eslint-disable-line no-empty -- silently handle error\n\n\treturn purchaseInfo;\n};\n","import { useEffect, useState } from 'react';\nimport type { AuthStatus } from './identity';\nimport {\n\teitherInOktaTestOrElse,\n\tgetSignedInStatusWithCookies,\n\tgetSignedInStatusWithOkta,\n} from './identity';\n\n/**\n * A hook to find out if a user is signed in.\n * Returns `'Pending'` until status is known.\n * Always returns `'Pending'` during server-side rendering.\n * */\nexport const useIsSignedIn = (): boolean | 'Pending' => {\n\tconst authStatus = useAuthStatus();\n\tswitch (authStatus.kind) {\n\t\tcase 'Pending':\n\t\t\treturn 'Pending';\n\t\tcase 'SignedInWithCookies':\n\t\tcase 'SignedInWithOkta':\n\t\t\treturn true;\n\t\tcase 'SignedOutWithCookies':\n\t\tcase 'SignedOutWithOkta':\n\t\t\treturn false;\n\t}\n};\n\nexport const useAuthStatus = (): AuthStatus => {\n\tconst [authStatus, setAuthStatus] = useState<AuthStatus>({\n\t\tkind: 'Pending',\n\t});\n\n\tuseEffect(() => {\n\t\teitherInOktaTestOrElse(\n\t\t\t(oktaAuthState) => {\n\t\t\t\tsetAuthStatus(getSignedInStatusWithOkta(oktaAuthState));\n\t\t\t},\n\t\t\t() => setAuthStatus(getSignedInStatusWithCookies()),\n\t\t).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}, []);\n\n\treturn authStatus;\n};\n","import libDebounce from 'lodash.debounce';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\n/**\n * This file was copied into the source development kitchen from the following repository:\n * https://github.com/guardian/csnx/blob/main/libs/%40guardian/source-development-kitchen/src/react-components/ticker/useIsInView.ts\n *\n * Note: This version of the file uses `lodash.debounce`, whereas the original version does not.\n * As a result, we now have two versions of the `useIsInView` hook—one with `lodash.debounce` and one without.\n *\n * A discussion is needed to determine the best approach for consolidating these two versions into a single file.\n * Consider whether the use of `lodash.debounce` is necessary, and if so, integrate it into the consolidated version.\n */\n\ntype Options = {\n\t/**\n\t * Defaults to `undefined` (falsy),\n\t * which trigger a change the instantaneously.\n\t *\n\t * If `true`, debounce triggers by 200ms.\n\t * Enabling debouncing ensures the target element intersects\n\t * for at least 200ms before the callback is executed\n\t */\n\tdebounce?: true;\n\t/**\n\t * Defaults to `undefined` (falsy),\n\t * which only trigger on the first intersection.\n\t *\n\t * If `true`, trigger the hook on all intersections.\n\t */\n\trepeat?: true;\n\t/** Set the initial HTML Element, if known. */\n\tnode?: HTMLElement;\n};\n\n/**\n * Custom hook around the `IntersectionObserver`.\n *\n * @returns a tuple containing `[isInView, setNode]`\n */\nconst useIsInView = (\n\toptions: IntersectionObserverInit & Options,\n): [boolean, React.Dispatch<React.SetStateAction<HTMLElement | null>>] => {\n\tconst [isInView, setIsInView] = useState<boolean>(false);\n\tconst [node, setNode] = useState<HTMLElement | null>(options.node ?? null);\n\n\tconst observer = useRef<IntersectionObserver | null>(null);\n\n\tconst intersectionObserverCallback =\n\t\tuseCallback<IntersectionObserverCallback>(\n\t\t\t([entry]) => {\n\t\t\t\tif (!entry) return;\n\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tsetIsInView(true);\n\t\t\t\t} else if (options.repeat) {\n\t\t\t\t\tsetIsInView(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\t[options.repeat],\n\t\t);\n\n\tconst intersectionCallback = options.debounce\n\t\t? libDebounce(intersectionObserverCallback, 200)\n\t\t: intersectionObserverCallback;\n\n\tuseEffect(() => {\n\t\toptions.node && setNode(options.node);\n\t}, [options.node]);\n\n\tuseEffect(() => {\n\t\tif (!node) return;\n\t\t// Check for browser support https://caniuse.com/intersectionobserver\n\t\tif (!('IntersectionObserver' in window)) return;\n\n\t\tobserver.current = new window.IntersectionObserver(\n\t\t\tintersectionCallback,\n\t\t\toptions,\n\t\t);\n\n\t\tobserver.current.observe(node);\n\n\t\treturn () => observer.current?.disconnect();\n\t}, [node, options, intersectionCallback]);\n\n\tuseEffect(() => {\n\t\tif (!options.repeat && isInView) observer.current?.disconnect();\n\t}, [isInView, options.repeat]);\n\n\treturn [isInView, setNode];\n};\n\nexport { useIsInView };\n"],"names":["reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","Object","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","value","type","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","module","exports","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","remainingWait","debounced","isInvoking","arguments","this","leadingEdge","cancel","clearTimeout","flush","styles","container","css","palette","neutral","grid","space","from","tablet","desktop","leftCol","wide","logo","heading","headlineMedium24","headlineMedium28","headlineMedium34","body","textEgyptian17","textEgyptianBold17","highlight","ticker","choiceCards","stylesSubCampaign","tickerSettings","currencySymbol","copy","tickerStylingSettings","filledProgressColour","progressBarBackgroundColour","headlineColour","totalColour","goalColour","tickerSettingsSubCampaign","isSubCampaign","bodyCopy","bodyCopyHighlightedText","choiceCardAmounts","testName","variantName","defaultContributionType","displayContributionType","amountsCardData","ONE_OFF","amounts","defaultAmount","hideChooseYourAmount","MONTHLY","ANNUAL","choiceCardSettings","buttonColour","buttonTextColour","buttonBorderColour","buttonSelectColour","buttonSelectTextColour","buttonSelectBorderColour","componentId","cta","ctaUrl","ctaText","UsEoy2024","tickerData","submitTrackingEvent","date","choiceCardSelection","setChoiceCardSelection","getCtaText","getCtaUrl","useChoiceCards","div","SvgGuardianLogo","textColor","width","h2","Ticker","size","strong","span","ChoiceCards","setSelectionsCallback","selection","submitComponentEvent","amountsTest","design","cssCtaOverides","buttonStyles","default","backgroundColour","textColour","hover","onCtaClick","component","componentType","id","action","UsEoy2024Wrapper","setTickerData","useState","showSupportMessagingForUser","setShowSupportMessaging","isSignedIn","useIsSignedIn","useEffect","shouldHideSupportMessaging","async","data","fetch","then","response","json","total","goal","floor","getTickerData","renderingTarget","useConfig","event","addTrackingParams","baseUrl","params","numArticles","amountsAbTestName","amountsAbTestVariant","abTests","abTestName","abTestVariant","targetingAbTest","name","variant","push","testType","generateAbTestArray","acquisitionData","encodeURIComponent","JSON","stringify","source","platformId","campaignCode","referrerPageviewId","ophanPageId","referrerUrl","isRemote","labels","encodeAcquisitionsData","queryString","trackingLinkParams","REFPVID","INTCMP","entries","filter","isUndefined","map","key","join","generateQueryString","alreadyHasQueryString","includes","addAbandonedBasketAndTrackingParamsToUrl","abandonedBasket","tracking","product","region","amount","billingPeriod","addAbandonedBasketContributionParams","addAbandonedBasketParamsToUrl","isSupportUrl","addRegionIdAndTrackingParamsToSupportUrl","countryCode","urlWithRegion","addRegionIdToSupportUrl","hrefRegex","addTrackingParamsToBodyLinks","text","trackingWithLabel","addLabelToTracking","wholeMatch","url","addChoiceCardsParams","frequency","newParams","addChoiceCardsOneTimeParams","addChoiceCardsProductParams","ratePlan","contribution","isProfileUrl","addTrackingParamsToProfileUrl","componentEventParamsData","viewId","componentEventParams","query","keys","param","queryValue","Array","isArray","v","returnUrl","addProfileTrackingParams","createEventFromTracking","products","abTest","label","createClickEventFromTracking","createViewEventFromTracking","createInsertEventFromTracking","HIDE_SUPPORT_MESSAGING_COOKIE","RECURRING_CONTRIBUTOR_COOKIE","SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE","NO_RR_BANNER_KEY","hasCookie","getCookie","hasSupporterCookie","lastContributionDate","contributionDateFromSupport","getLastOneOffContributionTimestamp","to","diffMs","dateDiffDays","isRecentOneOffContributor","REQUIRED_CONSENTS_FOR_ARTICLE_COUNT","REQUIRED_CONSENTS_FOR_BROWSER_ID","hasArticleCountOptOutCookie","hasCmpConsentForWeeklyArticleCount","Promise","resolve","shouldMemoize","onConsentChange","usnat","tcfv2","aus","hasRequiredConsents","every","consent","consents","storage","local","remove","hasOptedOutOfArticleCount","hasOptedOutOfWeeklyArticleCount","useHasOptedOutOfArticleCount","hasOptedOut","setHasOptedOut","catch","hasCmpConsentForBrowserId","withinLocalNoBannerCachePeriod","get","setLocalNoBannerCachePeriod","set","recentlyClosedBanner","lastClosedAt","getTime","getPurchaseInfo","purchaseInfoRaw","purchaseInfo","parse","decodeURIComponent","useAuthStatus","kind","authStatus","setAuthStatus","eitherInOktaTestOrElse","oktaAuthState","getSignedInStatusWithOkta","getSignedInStatusWithCookies","error","console","useIsInView","isInView","setIsInView","node","setNode","observer","useRef","intersectionObserverCallback","useCallback","entry","isIntersecting","repeat","intersectionCallback","debounce","libDebounce","window","current","IntersectionObserver","observe","disconnect"],"sourceRoot":""}