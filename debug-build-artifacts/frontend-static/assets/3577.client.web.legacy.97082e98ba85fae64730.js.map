{"version":3,"file":"3577.client.web.legacy.97082e98ba85fae64730.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/Dropdown.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/linkNotificationCount.ts","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/Grid.tsx","webpack://@guardian/dotcom-rendering/./src/lib/acquisitions.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/lib/ophan-helpers.ts","webpack://@guardian/dotcom-rendering/./src/lib/querystring.ts","webpack://@guardian/dotcom-rendering/./src/lib/useIsInView.ts","webpack://@guardian/dotcom-rendering/./src/lib/useOnce.ts","webpack://@guardian/dotcom-rendering/./src/lib/usePageViewId.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { from, palette, palette as sourcePalette, textSans12, textSans14, textSans15, textSans17, until, visuallyHidden, } from '@guardian/source/foundations';\nimport { useEffect, useMemo, useState } from 'react';\nimport { submitComponentEvent } from '../client/ophan/ophan';\nimport { getZIndex } from '../lib/getZIndex';\nimport { linkNotificationCount } from '../lib/linkNotificationCount';\nimport { useIsInView } from '../lib/useIsInView';\nimport { useOnce } from '../lib/useOnce';\nimport { useConfig } from './ConfigContext';\nconst NOTIFICATION_COMPONENT_TYPE = 'RETENTION_HEADER';\nconst ulStyles = css `\n\tz-index: ${getZIndex('dropdown')};\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\tli::before {\n\t\tcontent: '\\\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n\tbackground-color: white;\n\tpadding: 6px 0;\n\tbox-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n\n\t${until.tablet} {\n\t\tposition: fixed;\n\t\tborder-radius: 0;\n\t\ttop: 32px;\n\t\tleft: 0;\n\t\tright: 0;\n\t\twidth: auto;\n\t\tmax-height: calc(100% - 50px);\n\t\toverflow: auto;\n\t}\n\n\t${from.tablet} {\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\twidth: 200px;\n\t\tborder-radius: 3px;\n\t}\n`;\nconst liStyles = css `\n\tposition: relative;\n`;\nconst displayBlock = css `\n\tdisplay: block;\n`;\nconst displayNone = css `\n\tdisplay: none;\n`;\nconst linkStyles = css `\n\t${textSans15};\n\tcolor: ${sourcePalette.neutral[7]};\n\ttransition: color 80ms ease-out;\n\tmargin: -1px 0 0 0;\n\ttext-decoration: none;\n\tdisplay: flex;\n\talign-items: flex-start;\n\tjustify-content: space-between;\n\tpadding: 10px 18px 15px 30px;\n\n\t:hover {\n\t\tbackground-color: ${sourcePalette.neutral[93]};\n\t\ttext-decoration: none;\n\t}\n\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-top: 1px solid ${sourcePalette.neutral[86]};\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 30px;\n\t\tright: 0px;\n\t}\n`;\nconst linkActive = css `\n\tfont-weight: bold;\n\n\t:after {\n\t\tcontent: '';\n\t\tborder: 2px solid ${sourcePalette.news[400]};\n\t\tborder-top: 0px;\n\t\tborder-right: 0px;\n\t\tposition: absolute;\n\t\ttop: 19px;\n\t\tleft: 12px;\n\t\twidth: 10px;\n\t\theight: 4px;\n\t\ttransform: rotate(-45deg);\n\t}\n`;\nconst linkFirst = css `\n\t:before {\n\t\tcontent: none;\n\t}\n`;\nconst buttonStyles = css `\n\t${textSans17};\n\tdisplay: block;\n\tcursor: pointer;\n\tbackground: none;\n\tborder: none;\n\t/* Design System: The buttons should be components that handle their own layout using primitives  */\n\tline-height: 1.2;\n\tcolor: ${sourcePalette.neutral[100]};\n\ttransition: color 80ms ease-out;\n\tpadding: 0px 10px 6px 5px;\n\tmargin: 1px 0 0;\n\ttext-decoration: none;\n\tposition: relative;\n\n\t:hover {\n\t\tcolor: ${sourcePalette.brandAlt[400]};\n\n\t\t:after {\n\t\t\ttransform: translateY(0) rotate(45deg);\n\t\t}\n\t}\n\n\t:after {\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\twidth: 5px;\n\t\theight: 5px;\n\t\ttransform: translateY(-2px) rotate(45deg);\n\t\tborder: 1px solid currentColor;\n\t\tborder-left: transparent;\n\t\tborder-top: transparent;\n\t\tmargin-left: 5px;\n\t\tvertical-align: middle;\n\t\ttransition: transform 250ms ease-out;\n\t}\n`;\nconst buttonExpanded = css `\n\t:hover:after {\n\t\ttransform: translateY(-1px) rotate(-135deg);\n\t}\n\t:after {\n\t\ttransform: translateY(1px) rotate(-135deg);\n\t}\n`;\nconst notificationColor = palette.error[400];\nconst notificationBadgeStyles = css `\n\tbackground-color: ${notificationColor};\n\tcolor: ${palette.neutral[100]};\n\ttext-align: center;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t${textSans14};\n\tline-height: 1;\n\tflex-shrink: 0;\n`;\nconst dropdownButtonNotificationBadgeStyles = css `\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tmargin-left: -10px;\n\tmargin-top: -3px;\n`;\nconst notificationTextStyles = css `\n\t${textSans12};\n`;\nconst buildOphanComponentWithNotifications = (link) => {\n    // Only track if it has notifications\n    if (link.notifications && link.notifications.length > 0) {\n        return {\n            componentType: NOTIFICATION_COMPONENT_TYPE,\n            id: link.id,\n            labels: link.notifications.map((notification) => notification.ophanLabel),\n        };\n    }\n    return undefined;\n};\nconst addTrackingToUrl = (url, ophanComponent) => {\n    // Use the acquisitionData query param to send tracking to the destination\n    const acquisitionData = encodeURIComponent(JSON.stringify({\n        source: 'GUARDIAN_WEB',\n        componentId: ophanComponent.id,\n        componentType: ophanComponent.componentType,\n        campaignCode: ophanComponent.id,\n        referrerPageviewId: window.guardian.config.ophan.pageViewId,\n        referrerUrl: window.location.origin + window.location.pathname,\n        labels: ophanComponent.labels,\n    }));\n    const prefix = url.includes('?') ? '&' : '?';\n    return `${url}${prefix}acquisitionData=${acquisitionData}`;\n};\nconst NotificationBadge = ({ diameter }) => {\n    return (_jsx(\"div\", { css: notificationBadgeStyles, style: {\n            width: `${diameter}px`,\n            height: `${diameter}px`,\n            borderRadius: `${diameter}px`,\n        }, children: _jsx(\"span\", { children: \"!\" }) }));\n};\nconst NotificationMessage = ({ notification }) => {\n    const { message } = notification;\n    return _jsx(\"div\", { css: notificationTextStyles, children: message });\n};\nconst DropdownLink = ({ link, index }) => {\n    const ophanComponent = useMemo(() => buildOphanComponentWithNotifications(link), [link]);\n    const { renderingTarget } = useConfig();\n    const [hasBeenSeen, setNode] = useIsInView({\n        debounce: true,\n    });\n    const [hasSentViewEvent, setHasSentViewEvent] = useState(false);\n    // The following hooks, which send INSERT and VIEW events to Ophan,\n    // intentionally only run when the link has notifications (which is why\n    // link.notifications is part of the dependency array for both). In future\n    // if we ever have notifications arriving from different sources at\n    // different times, we'll need to revisit this logic (currently they only\n    // come from Braze).\n    useEffect(() => {\n        if (hasBeenSeen &&\n            ophanComponent &&\n            link.notifications &&\n            link.notifications.length > 0 &&\n            !hasSentViewEvent) {\n            setHasSentViewEvent(true);\n            // For each notification for this link, log the impression back to\n            // Braze separately\n            for (const notification of link.notifications) {\n                notification.logImpression?.();\n            }\n            void submitComponentEvent({\n                component: ophanComponent,\n                action: 'VIEW',\n            }, renderingTarget);\n        }\n    }, [\n        hasBeenSeen,\n        ophanComponent,\n        link.notifications,\n        hasSentViewEvent,\n        link.id,\n        renderingTarget,\n    ]);\n    useOnce(() => {\n        if (ophanComponent) {\n            void submitComponentEvent({\n                component: ophanComponent,\n                action: 'INSERT',\n            }, renderingTarget);\n        }\n    }, [ophanComponent]);\n    const url = ophanComponent\n        ? addTrackingToUrl(link.url, ophanComponent)\n        : link.url;\n    const hasNotifications = !isUndefined(link.notifications) && link.notifications.length > 0;\n    return (_jsx(\"li\", { css: liStyles, ref: setNode, children: _jsxs(\"a\", { href: url, css: [\n                linkStyles,\n                !!link.isActive && linkActive,\n                index === 0 && linkFirst,\n            ], \"data-link-name\": link.dataLinkName, onClick: () => {\n                if (ophanComponent) {\n                    void submitComponentEvent({\n                        component: ophanComponent,\n                        action: 'CLICK',\n                    }, renderingTarget);\n                }\n            }, children: [_jsxs(\"div\", { children: [link.title, link.notifications?.map((notification) => (_jsx(NotificationMessage, { notification: notification }, notification.id)))] }), hasNotifications && _jsx(NotificationBadge, { diameter: 22 })] }) }, link.title));\n};\nexport const Dropdown = ({ id, label, links, dataLinkName, cssOverrides, children, }) => {\n    const [isExpanded, setIsExpanded] = useState(false);\n    const [noJS, setNoJS] = useState(true);\n    const [buttonRef, setButtonRef] = useState(null);\n    useEffect(() => {\n        // If hook runs we know client-side JS is enabled\n        setNoJS(false);\n    }, []);\n    useEffect(() => {\n        const dismissOnEsc = (event) => {\n            if (isExpanded && event.code === 'Escape') {\n                setIsExpanded(false);\n            }\n        };\n        document.addEventListener('keydown', dismissOnEsc, false);\n        // Remove listener on unmount\n        return () => document.removeEventListener('keydown', dismissOnEsc);\n    }, [isExpanded]);\n    useEffect(() => {\n        if (!isExpanded || !buttonRef) {\n            return;\n        }\n        const dismissOnClickAway = (event) => {\n            // If the source of the click is the button, do nothing as the\n            // button's click handler will have already toggled the isExpanded\n            // state\n            if (buttonRef === event.target) {\n                return;\n            }\n            event.stopPropagation();\n            setIsExpanded(false);\n        };\n        document.addEventListener('click', dismissOnClickAway, false);\n        // Remove listener on unmount\n        return () => document.removeEventListener('click', dismissOnClickAway);\n    }, [isExpanded, buttonRef]);\n    const handleToggle = () => {\n        setIsExpanded(!isExpanded);\n    };\n    // needs to be unique to allow multiple dropdowns on same page\n    const dropdownID = `dropbox-id-${id}`;\n    const checkboxID = `checkbox-id-${id}`;\n    const notificationCount = linkNotificationCount(links);\n    return (_jsx(_Fragment, { children: noJS ? (_jsxs(\"div\", { css: css `\n\t\t\t\t\t\t${`#${checkboxID}`} {\n\t\t\t\t\t\t\t/* Never show the input */\n\t\t\t\t\t\t\t${visuallyHidden}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${`#${dropdownID}`} {\n\t\t\t\t\t\t\t/* Hide caption by default */\n\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* stylelint-disable-next-line selector-type-no-unknown */\n\t\t\t\t\t\t${`#${checkboxID}`}:checked + ${`#${dropdownID}`} {\n\t\t\t\t\t\t\t/* Show the caption if the input is checked */\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t}\n\t\t\t\t\t`, children: [_jsx(\"label\", { htmlFor: checkboxID, css: [buttonStyles, cssOverrides], children: label }), _jsx(\"input\", { type: \"checkbox\", id: checkboxID, \"aria-checked\": \"false\", tabIndex: -1 }), _jsx(\"ul\", { id: dropdownID, css: [ulStyles, cssOverrides], children: links.map((l, index) => (_jsx(\"li\", { children: _jsx(\"a\", { href: l.url, css: [\n                                linkStyles,\n                                !!l.isActive && linkActive,\n                                index === 0 && linkFirst,\n                            ], \"data-link-name\": l.dataLinkName, children: l.title }) }, l.title))) })] })) : (_jsxs(_Fragment, { children: [_jsxs(\"button\", { onClick: handleToggle, css: [\n                        buttonStyles,\n                        cssOverrides,\n                        isExpanded && buttonExpanded,\n                    ], \"aria-expanded\": isExpanded ? 'true' : 'false', \"data-link-name\": dataLinkName, \"data-testid\": \"dropdown-button\", type: \"button\", ref: setButtonRef, children: [label, notificationCount > 0 && (_jsx(\"div\", { css: dropdownButtonNotificationBadgeStyles, children: _jsx(NotificationBadge, { diameter: 18 }) }))] }), _jsx(\"div\", { css: isExpanded ? displayBlock : displayNone, children: children ? (_jsx(_Fragment, { children: children })) : (_jsx(\"ul\", { css: [ulStyles, cssOverrides], \"data-testid\": \"dropdown-options\", children: links.map((link, index) => (_jsx(DropdownLink, { link: link, index: index }, link.id))) })) })] })) }));\n};\n","export const linkNotificationCount = (links) => {\n    return links.reduce((runningCount, link) => {\n        const thisLinkNotificationCount = link.notifications?.length ?? 0;\n        return runningCount + thisLinkNotificationCount;\n    }, 0);\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css, jsx } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\nconst grid = css `\n\tdisplay: grid;\n\tgrid-auto-rows: auto;\n\n\tgrid-template-columns:\n\t\t[viewport-start]\n\t\t0\n\t\t[content-start main-column-start]\n\t\trepeat(4, minmax(0, 1fr))\n\t\t[content-end main-column-end]\n\t\t0\n\t\t[viewport-end];\n\n\tcolumn-gap: 10px;\n\n\t${from.mobileLandscape} {\n\t\tcolumn-gap: 20px;\n\t}\n\n\t${from.tablet} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 40px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t${from.desktop} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n`;\nconst gridBeyondDesktop = css `\n\t${from.leftCol} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(2, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t${from.wide} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(3, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[main-column-end]\n\t\t\trepeat(1, 60px)\n\t\t\t[content-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n`;\n/**\n * Create a CSS grid container.\n * Use jointly with Content, LeftCol & RightCol.\n *\n * @see https://theguardian.design/2a1e5182b/p/41be19-grids\n */\nexport const Grid = ({ type = 'div', style, hasPageSkin, children, }) => jsx(type, { css: [grid, !hasPageSkin && gridBeyondDesktop], style }, children);\n/** Spans the entire width of the grid */\nexport const Content = ({ children, styles, }) => (_jsx(\"section\", { style: { gridColumn: 'content' }, css: styles, children: children }));\nexport const MainColumn = ({ children, styles, }) => (_jsx(\"section\", { style: { gridColumn: 'main-column', gridRowStart: 1 }, css: styles, children: children }));\nconst hideUntilLeftCol = css `\n\tdisplay: none;\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t}\n`;\n/** Only visible from leftCol / 1140px */\nexport const LeftColumn = ({ children }) => (_jsx(\"section\", { style: { gridColumn: 'left-column', gridRowStart: 1 }, css: hideUntilLeftCol, children: children }));\nconst hideUntilDesktop = css `\n\tdisplay: none;\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t}\n`;\n/** Only visible from desktop / 980px */\nexport const RightColumn = ({ children }) => (_jsx(\"section\", { style: { gridColumn: 'right-column' }, css: hideUntilDesktop, children: children }));\n","import { constructQuery } from '../lib/querystring';\n// Adds acquisition tracking codes if it is a support url\nexport const addTrackingCodesToUrl = ({ base, componentType, componentId, campaignCode, abTest, pageViewId, referrerUrl, }) => {\n    const isSupportUrl = base.search(/(support.theguardian.com)(\\/[a-z]*)?\\/(contribute|subscribe)/) >= 0;\n    if (isSupportUrl) {\n        const acquisitionData = {\n            source: 'GUARDIAN_WEB',\n            componentId,\n            componentType,\n            campaignCode,\n            abTest,\n            referrerPageviewId: pageViewId,\n            referrerUrl,\n        };\n        const params = {\n            REFPVID: pageViewId,\n            INTCMP: campaignCode,\n            acquisitionData: JSON.stringify(acquisitionData),\n        };\n        return `${base}${base.includes('?') ? '&' : '?'}${constructQuery(params)}`;\n    }\n    return base;\n};\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n    // Modals will go here at the top\n    'lightbox',\n    'youTubeFullscreen',\n    // Sticky video and button need to be above everything\n    'sticky-video-button',\n    'sticky-video',\n    'banner',\n    'dropdown',\n    'burger',\n    'mastheadVeggieBurgerExpandedMobile',\n    'expanded-veggie-menu-wrapper',\n    'expanded-veggie-menu',\n    //header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n    'fullPageInteractiveHeaderWrapper',\n    // Mobile sticky appears below banners\n    'mobileSticky',\n    // Headers with sticky ads\n    'stickyAdWrapperLabsHeader',\n    'stickyAdWrapper',\n    'stickyAdWrapperNav',\n    // My Account dropdown in masthead - needs to be below stickyAdWrapper\n    'mastheadMyAccountDropdown',\n    // Edition selector in masthead - needs to be below stickyAdWrapper\n    'mastheadEditionDropdown',\n    // Edition selector in nav - needs to be below stickyAdWrapper\n    'editionDropdown',\n    // The content displayed by the Details component\n    'summaryDetails',\n    // Liveblog toast\n    'toast',\n    // Onwards Carousel (Related content etc)\n    'onwardsCarousel',\n    // Search link should be above The Guardian svg\n    'myAccountDropdown',\n    'searchHeaderLink',\n    'TheGuardian',\n    // The edition switcher banner needs to be below the Edition selector\n    // and the myAccount dropdown in the nav\n    'editionSwitcherBanner',\n    // Overlay for expandable marketing card (currently US only)\n    'expandableMarketingCardOverlay',\n    // Sticky table of contents element\n    'tableOfContents',\n    // Article headline (should be above main media)\n    'articleHeadline',\n    'immersiveBlackBox',\n    // Body\n    'bodyArea',\n    'rightColumnArea',\n    // Main media\n    'mainMedia',\n    // Nested links in cards should sit above the main card link\n    // See: https://www.sarasoueidan.com/blog/nested-links/\n    'card-nested-link',\n    'card-link',\n];\nexport const getZIndex = (name) => {\n    const index = indices.indexOf(name);\n    if (index === -1)\n        return -1; // indexOf returns -1 if there is no match\n    return indices.length - index; // reverse the indices: last item gets 1\n};\n","export const nestedOphanComponents = (...components) => components.join(' : ');\n","const constructQuery = (query) => Object.keys(query)\n    .map((param) => {\n    const value = query[param] ?? 'undefined';\n    const queryValue = Array.isArray(value)\n        ? value.map((v) => encodeURIComponent(v)).join(',')\n        : encodeURIComponent(value);\n    return `${param}=${queryValue}`;\n})\n    .join('&');\nexport { constructQuery };\n","import libDebounce from 'lodash.debounce';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n/**\n * Custom hook around the `IntersectionObserver`.\n *\n * @returns a tuple containing `[isInView, setNode]`\n */\nconst useIsInView = (options) => {\n    const [isInView, setIsInView] = useState(false);\n    const [node, setNode] = useState(options.node ?? null);\n    const observer = useRef(null);\n    const intersectionObserverCallback = useCallback(([entry]) => {\n        if (!entry)\n            return;\n        if (entry.isIntersecting) {\n            setIsInView(true);\n        }\n        else if (options.repeat) {\n            setIsInView(false);\n        }\n    }, [options.repeat]);\n    const intersectionCallback = options.debounce\n        ? libDebounce(intersectionObserverCallback, 200)\n        : intersectionObserverCallback;\n    useEffect(() => {\n        options.node && setNode(options.node);\n    }, [options.node]);\n    useEffect(() => {\n        if (!node)\n            return;\n        // Check for browser support https://caniuse.com/intersectionobserver\n        if (!('IntersectionObserver' in window))\n            return;\n        observer.current = new window.IntersectionObserver(intersectionCallback, options);\n        observer.current.observe(node);\n        return () => observer.current?.disconnect();\n    }, [node, options, intersectionCallback]);\n    useEffect(() => {\n        if (!options.repeat && isInView)\n            observer.current?.disconnect();\n    }, [isInView, options.repeat]);\n    return [isInView, setNode];\n};\nexport { useIsInView };\n","import { isUndefined } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\n/**\n * Ensures that the given task is only run once and only after all items in waitFor are defined\n * @param {Function} task - The task to execute once\n * @param {Array} waitFor - An array of variables that must be defined before the task is executed\n * */\nexport const useOnce = (task, waitFor) => {\n    const [alreadyRun, setAlreadyRun] = useState(false);\n    const isReady = waitFor.every((dep) => !isUndefined(dep));\n    useEffect(() => {\n        if (!alreadyRun && isReady) {\n            task();\n            setAlreadyRun(true);\n        }\n    }, [alreadyRun, isReady, task]);\n};\n","import { useEffect, useState } from 'react';\nimport { getOphan } from '../client/ophan/ophan';\nexport const usePageViewId = (renderingTarget) => {\n    const [id, setId] = useState();\n    useEffect(() => {\n        getOphan(renderingTarget)\n            .then(({ pageViewId }) => {\n            setId(pageViewId);\n        })\n            .catch(() => {\n            setId('no-page-view-id-available');\n        });\n    }, [renderingTarget]);\n    return id;\n};\n","/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour) => `var(${colour})`;\n// ----- Exports ----- //\nexport { palette };\n"],"names":["ulStyles","css","getZIndex","until","tablet","from","liStyles","name","styles","displayBlock","displayNone","linkStyles","textSans15","sourcePalette","neutral","linkActive","news","linkFirst","buttonStyles","textSans17","brandAlt","buttonExpanded","notificationColor","palette","error","notificationBadgeStyles","textSans14","dropdownButtonNotificationBadgeStyles","notificationTextStyles","textSans12","NotificationBadge","_ref","diameter","_jsx","style","width","concat","height","borderRadius","children","NotificationMessage","_ref2","message","notification","DropdownLink","_ref3","_link$notifications","link","index","ophanComponent","useMemo","notifications","length","componentType","id","labels","map","ophanLabel","buildOphanComponentWithNotifications","renderingTarget","useConfig","_useIsInView","useIsInView","debounce","_useIsInView2","_slicedToArray","hasBeenSeen","setNode","_useState","useState","_useState2","hasSentViewEvent","setHasSentViewEvent","useEffect","_step","_iterator","_createForOfIteratorHelper","s","n","done","_notification$logImpr","value","logImpression","call","err","e","f","submitComponentEvent","component","action","useOnce","url","acquisitionData","encodeURIComponent","JSON","stringify","source","componentId","campaignCode","referrerPageviewId","window","guardian","config","ophan","pageViewId","referrerUrl","location","origin","pathname","prefix","includes","addTrackingToUrl","hasNotifications","isUndefined","ref","_jsxs","href","isActive","dataLinkName","onClick","title","Dropdown","_ref4","label","links","cssOverrides","_useState3","_useState4","isExpanded","setIsExpanded","_useState5","_useState6","noJS","setNoJS","_useState7","_useState8","buttonRef","setButtonRef","dismissOnEsc","event","code","document","addEventListener","removeEventListener","dismissOnClickAway","target","stopPropagation","dropdownID","checkboxID","notificationCount","reduce","runningCount","_link$notifications$l","linkNotificationCount","_Fragment","visuallyHidden","htmlFor","type","tabIndex","l","grid","mobileLandscape","desktop","gridBeyondDesktop","leftCol","wide","Grid","_ref$type","hasPageSkin","jsx","addTrackingCodesToUrl","base","abTest","search","params","REFPVID","INTCMP","constructQuery","indices","indexOf","nestedOphanComponents","_len","arguments","components","Array","_key","join","query","Object","keys","param","_query$param","queryValue","isArray","v","options","_options$node","isInView","setIsInView","node","observer","useRef","intersectionObserverCallback","useCallback","entry","isIntersecting","repeat","intersectionCallback","libDebounce","current","IntersectionObserver","observe","_observer$current","disconnect","_observer$current2","task","waitFor","alreadyRun","setAlreadyRun","isReady","every","dep","usePageViewId","setId","getOphan","then","catch","colour"],"sourceRoot":""}