{"version":3,"file":"7350.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/marketing/header/HeaderWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/header/SignInPromptHeader.tsx"],"sourcesContent":["/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/4925ef1e0ced5d221f1122afe79f93bd7448e0e5/packages/modules/src/modules/headers/HeaderWrapper.tsx\n */\nimport type { OphanAction } from '@guardian/libs';\nimport { headerPropsSchema } from '@guardian/support-dotcom-components';\nimport type {\n\tCta,\n\tHeaderProps,\n} from '@guardian/support-dotcom-components/dist/shared/types';\nimport { useCallback, useEffect } from 'react';\nimport { useIsInView } from '../../../lib/useIsInView';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport {\n\taddRegionIdAndTrackingParamsToSupportUrl,\n\taddTrackingParamsToProfileUrl,\n\tcreateClickEventFromTracking,\n\tisProfileUrl,\n} from '../lib/tracking';\n\nexport interface HeaderEnrichedCta {\n\tctaUrl: string;\n\tctaText: string;\n}\n\nexport interface HeaderRenderedContent {\n\theading: string;\n\tsubheading: string;\n\tprimaryCta: HeaderEnrichedCta | null;\n\tsecondaryCta: HeaderEnrichedCta | null;\n}\n\nexport interface HeaderRenderProps {\n\tcontent: HeaderRenderedContent;\n\tmobileContent?: HeaderRenderedContent;\n\tonCtaClick?: () => void; // only used by sign in prompt header\n}\n\nexport const headerWrapper = (\n\tHeader: ReactComponent<HeaderRenderProps>,\n): ReactComponent<HeaderProps> => {\n\tconst Wrapped: ReactComponent<HeaderProps> = ({\n\t\tcontent,\n\t\tmobileContent,\n\t\ttracking,\n\t\tcountryCode,\n\t\tsubmitComponentEvent,\n\t\tnumArticles,\n\t}) => {\n\t\tconst buildEnrichedCta = (cta: Cta): HeaderEnrichedCta => {\n\t\t\tif (isProfileUrl(cta.baseUrl)) {\n\t\t\t\treturn {\n\t\t\t\t\tctaUrl: addTrackingParamsToProfileUrl(\n\t\t\t\t\t\tcta.baseUrl,\n\t\t\t\t\t\ttracking,\n\t\t\t\t\t),\n\t\t\t\t\tctaText: cta.text,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tctaUrl: addRegionIdAndTrackingParamsToSupportUrl(\n\t\t\t\t\tcta.baseUrl,\n\t\t\t\t\ttracking,\n\t\t\t\t\tnumArticles,\n\t\t\t\t\tcountryCode,\n\t\t\t\t),\n\t\t\t\tctaText: cta.text,\n\t\t\t};\n\t\t};\n\n\t\tconst primaryCta = content.primaryCta\n\t\t\t? buildEnrichedCta(content.primaryCta)\n\t\t\t: null;\n\t\tconst secondaryCta = content.secondaryCta\n\t\t\t? buildEnrichedCta(content.secondaryCta)\n\t\t\t: null;\n\n\t\tconst renderedContent: HeaderRenderedContent = {\n\t\t\theading: content.heading,\n\t\t\tsubheading: content.subheading,\n\t\t\tprimaryCta,\n\t\t\tsecondaryCta,\n\t\t};\n\n\t\tconst mobilePrimaryCta = mobileContent?.primaryCta\n\t\t\t? buildEnrichedCta(mobileContent.primaryCta)\n\t\t\t: primaryCta;\n\n\t\tconst mobileSecondaryCta = mobileContent?.secondaryCta\n\t\t\t? buildEnrichedCta(mobileContent.secondaryCta)\n\t\t\t: secondaryCta;\n\n\t\tconst renderedMobileContent = mobileContent\n\t\t\t? ({\n\t\t\t\t\theading: mobileContent.heading,\n\t\t\t\t\tsubheading: mobileContent.subheading,\n\t\t\t\t\tprimaryCta: mobilePrimaryCta,\n\t\t\t\t\tsecondaryCta: mobileSecondaryCta,\n\t\t\t  } as HeaderRenderedContent)\n\t\t\t: undefined;\n\n\t\tconst { abTestName, abTestVariant, componentType, campaignCode } =\n\t\t\ttracking;\n\n\t\tconst onCtaClick = (componentId: string) => {\n\t\t\treturn (): void => {\n\t\t\t\tconst componentClickEvent = createClickEventFromTracking(\n\t\t\t\t\ttracking,\n\t\t\t\t\t`${componentId} : cta`,\n\t\t\t\t);\n\t\t\t\tif (submitComponentEvent) {\n\t\t\t\t\tsubmitComponentEvent(componentClickEvent);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tconst sendOphanEvent = useCallback(\n\t\t\t(action: OphanAction): void => {\n\t\t\t\tif (submitComponentEvent) {\n\t\t\t\t\tsubmitComponentEvent({\n\t\t\t\t\t\tcomponent: {\n\t\t\t\t\t\t\tcomponentType,\n\t\t\t\t\t\t\tid: campaignCode,\n\t\t\t\t\t\t\tcampaignCode,\n\t\t\t\t\t\t},\n\t\t\t\t\t\taction,\n\t\t\t\t\t\tabTest: {\n\t\t\t\t\t\t\tname: abTestName,\n\t\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t[\n\t\t\t\tabTestName,\n\t\t\t\tabTestVariant,\n\t\t\t\tcampaignCode,\n\t\t\t\tcomponentType,\n\t\t\t\tsubmitComponentEvent,\n\t\t\t],\n\t\t);\n\n\t\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\t\tdebounce: true,\n\t\t\tthreshold: 0,\n\t\t});\n\n\t\tuseEffect(() => {\n\t\t\tif (hasBeenSeen) {\n\t\t\t\tsendOphanEvent('VIEW');\n\t\t\t}\n\t\t}, [hasBeenSeen, sendOphanEvent]);\n\n\t\tuseEffect(() => {\n\t\t\tsendOphanEvent('INSERT');\n\t\t}, [sendOphanEvent]);\n\n\t\treturn (\n\t\t\t<div ref={setNode}>\n\t\t\t\t<Header\n\t\t\t\t\tcontent={renderedContent}\n\t\t\t\t\tmobileContent={renderedMobileContent}\n\t\t\t\t\tonCtaClick={onCtaClick(campaignCode)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\treturn Wrapped;\n};\n\nconst validate = (props: unknown): props is HeaderProps => {\n\tconst result = headerPropsSchema.safeParse(props);\n\treturn result.success;\n};\n\nexport const validatedHeaderWrapper = (\n\tHeader: ReactComponent<HeaderRenderProps>,\n): ReactComponent<HeaderProps> => {\n\treturn (props: HeaderProps) => {\n\t\tif (validate(props)) {\n\t\t\tconst Module = headerWrapper(Header);\n\t\t\treturn <Module {...props} />;\n\t\t}\n\t\treturn <></>;\n\t};\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/4925ef1e0ced5d221f1122afe79f93bd7448e0e5/packages/modules/src/modules/headers/SignInPromptHeader.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold20,\n\theadlineBold24,\n\tspace,\n\ttextSans14,\n} from '@guardian/source/foundations';\nimport {\n\tHide,\n\tLinkButton,\n\tSvgArrowRightStraight,\n\tthemeButtonBrand,\n} from '@guardian/source/react-components';\nimport { palette as themePalette } from '../../../palette';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport type { HeaderRenderProps } from './HeaderWrapper';\nimport { headerWrapper, validatedHeaderWrapper } from './HeaderWrapper';\n\nconst gridStyles = css`\n\tdisplay: grid;\n\n\tgrid-template-rows: auto;\n\tgrid-template-columns: auto;\n\n\tgrid-template-areas:\n\t\t'heading     cta1'\n\t\t'subheading  .   ';\n`;\n\nconst textStyles = css`\n\tmargin-right: ${space[3]}px;\n`;\n\nconst headingStyles = css`\n\tgrid-area: 'heading';\n\n\tcolor: ${themePalette('--masthead-top-bar-text')};\n\t${headlineBold20}\n\n\t${from.desktop} {\n\t\t${headlineBold24}\n\t}\n`;\n\nconst subHeadingStyles = css`\n\tgrid-area: 'subheading';\n\n\tcolor: ${themePalette('--masthead-top-bar-text')};\n\t${textSans14}\n`;\n\nconst buttonStyles = css`\n\tmargin: 0 0 0 ${space[2]}px;\n\n\t${from.tablet} {\n\t\tmargin: ${space[1]}px 0 0 ${space[2]}px;\n\t}\n`;\n\nconst SignInPromptHeader: ReactComponent<HeaderRenderProps> = (props) => {\n\tconst { heading, subheading, primaryCta } = props.content;\n\n\tconst onClick = () => props.onCtaClick?.();\n\n\treturn (\n\t\t<div css={gridStyles}>\n\t\t\t<Hide until=\"tablet\">\n\t\t\t\t<div css={textStyles}>\n\t\t\t\t\t<h2 css={headingStyles}>{heading}</h2>\n\t\t\t\t\t<span css={subHeadingStyles}>{subheading}</span>\n\t\t\t\t</div>\n\t\t\t</Hide>\n\n\t\t\t{primaryCta && (\n\t\t\t\t<>\n\t\t\t\t\t<Hide until=\"tablet\">\n\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\ttheme={themeButtonBrand}\n\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\thref={primaryCta.ctaUrl}\n\t\t\t\t\t\t\ticon={<SvgArrowRightStraight />}\n\t\t\t\t\t\t\ticonSide=\"right\"\n\t\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\t\tnudgeIcon={true}\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\t\tstyle={{ gridArea: 'cta1' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{primaryCta.ctaText}\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</Hide>\n\n\t\t\t\t\t<Hide from=\"tablet\">\n\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\ttheme={themeButtonBrand}\n\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\tprops.mobileContent?.primaryCta?.ctaUrl ??\n\t\t\t\t\t\t\t\tprimaryCta.ctaUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.mobileContent?.primaryCta?.ctaText ??\n\t\t\t\t\t\t\t\tprimaryCta.ctaText}\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</Hide>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst unvalidated = headerWrapper(SignInPromptHeader);\nconst validated = validatedHeaderWrapper(SignInPromptHeader);\nexport {\n\tvalidated as SignInPromptHeader,\n\tunvalidated as SignInPromptHeaderUnvalidated,\n};\n"],"names":["headerPropsSchema","useCallback","useEffect","useIsInView","addRegionIdAndTrackingParamsToSupportUrl","addTrackingParamsToProfileUrl","createClickEventFromTracking","isProfileUrl","headerWrapper","Header","Wrapped","content","mobileContent","tracking","countryCode","submitComponentEvent","numArticles","buildEnrichedCta","cta","baseUrl","ctaUrl","ctaText","text","primaryCta","secondaryCta","renderedContent","heading","subheading","mobilePrimaryCta","mobileSecondaryCta","renderedMobileContent","undefined","abTestName","abTestVariant","componentType","campaignCode","onCtaClick","componentId","componentClickEvent","sendOphanEvent","action","component","id","abTest","name","variant","hasBeenSeen","setNode","debounce","threshold","div","ref","validate","props","result","safeParse","success","validatedHeaderWrapper","Module","css","from","headlineBold20","headlineBold24","space","textSans14","Hide","LinkButton","SvgArrowRightStraight","themeButtonBrand","palette","themePalette","gridStyles","textStyles","headingStyles","desktop","subHeadingStyles","buttonStyles","tablet","SignInPromptHeader","onClick","until","h2","span","theme","priority","href","icon","iconSide","nudgeIcon","size","cssOverrides","style","gridArea","unvalidated","validated","SignInPromptHeaderUnvalidated"],"sourceRoot":""}