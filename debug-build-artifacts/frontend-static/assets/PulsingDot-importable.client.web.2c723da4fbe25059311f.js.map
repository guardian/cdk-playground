{"version":3,"file":"PulsingDot-importable.client.web.2c723da4fbe25059311f.js","mappings":"68BAIA,MAAMA,EAAaC,IAAoBC,EAAAA,EAAAA,KAAGA,IAChCD,GAAUA,GAcdE,GAAYC,EAAAA,EAAAA,WAASA,KAOrBC,GAAUH,EAAAA,EAAAA,KAAGA,IAEJC,GAeFG,EAAc,I,IAAA,OAAEL,GAAe,EAC3C,MAAOM,EAAaC,IAAkBC,EAAAA,EAAAA,WAAS,GAa/C,OAXAC,EAAAA,EAAAA,YAAU,KAKT,MAAMC,EAAsBC,EAAAA,EAAQC,MAAMC,IACzC,4CAEDN,GAAuC,IAAxBG,EAA8B,GAC3C,KAEI,SAACI,OAAAA,CAAKb,IAAK,CAACF,EAAUC,GAASM,GAAeF,I","sources":["webpack://@guardian/dotcom-rendering/./src/components/PulsingDot.importable.tsx"],"sourcesContent":["import { css, keyframes } from '@emotion/react';\nimport { storage } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\n\nconst dotStyles = (colour?: string) => css`\n\tcolor: ${colour && colour};\n\t:before {\n\t\tborder-radius: 62.5rem;\n\t\tdisplay: inline-block;\n\t\tposition: relative;\n\t\tbackground-color: currentColor;\n\t\twidth: 0.75em;\n\t\theight: 0.75em;\n\t\tcontent: '';\n\t\tmargin-right: 0.1875rem;\n\t\tvertical-align: initial;\n\t}\n`;\n\nconst livePulse = keyframes`\n    0% {opacity: 1;}\n    10% {opacity: .25;}\n    40% {opacity: 1;}\n    100% {opacity: 1;}\n`;\n\nconst animate = css`\n\t@media not (prefers-reduced-motion: reduce) {\n\t\tanimation: ${livePulse} 1s infinite;\n\t}\n`;\n\ninterface Props {\n\tcolour?: string;\n}\n\n/**\n * Used for indicating an article is updating live\n *\n * ## Why does this need to be an Island?\n *\n * We want to respect userâ€™s flashing elements preferences\n */\nexport const PulsingDot = ({ colour }: Props) => {\n\tconst [shouldFlash, setShouldFlash] = useState(false);\n\n\tuseEffect(() => {\n\t\t/**\n\t\t * `flashingPreference` is `null` if no preference exists and explicitly\n\t\t * `false` when the reader has said they don't want flashing\n\t\t */\n\t\tconst flashingPreferences = storage.local.get(\n\t\t\t'gu.prefs.accessibility.flashing-elements',\n\t\t);\n\t\tsetShouldFlash(flashingPreferences !== false);\n\t}, []);\n\n\treturn <span css={[dotStyles(colour), shouldFlash && animate]} />;\n};\n"],"names":["dotStyles","colour","css","livePulse","keyframes","animate","PulsingDot","shouldFlash","setShouldFlash","useState","useEffect","flashingPreferences","storage","local","get","span"],"sourceRoot":""}