"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[9267],{13538:(e,t,n)=>{n.d(t,{B:()=>f});var r=n(50484),i=n(24017),a=n(84782),o=n(59648),s=n(67400),c=n(86248),l={name:"4zleql",styles:"display:block"},d=function(e){var t=function(e){switch(e){case"5:4":return"80%";case"4:5":return"125%";case"1:1":return"100%";default:return"60%"}}(e);return(0,i.css)("padding-top:",t,";position:relative;&>*{position:absolute;top:0;left:0;width:100%;height:100%;}")},u=(0,i.css)("&>*{border-radius:",o.x[2],"px;}"),p={name:"1jdhop4",styles:"border-radius:100%;object-fit:cover;height:100%;width:100%"},f=function(e){var t=e.mainImage,n=e.alt,i=e.imageSize,o=e.loading,f=e.roundedCorners,h=e.isCircular,g=e.aspectRatio,b=(0,c.Ip)(t,function(e){switch(e){case"carousel":return[{breakpoint:a.f.mobile,width:220}];case"small":return[{breakpoint:a.f.mobile,width:120},{breakpoint:a.f.tablet,width:160},{breakpoint:a.f.desktop,width:220}];case"medium":return[{breakpoint:a.f.mobile,width:240},{breakpoint:a.f.tablet,width:330},{breakpoint:a.f.desktop,width:460}];case"large":return[{breakpoint:a.f.mobile,width:360},{breakpoint:a.f.mobileLandscape,width:480},{breakpoint:a.f.tablet,width:500},{breakpoint:a.f.desktop,width:700}];case"jumbo":return[{breakpoint:a.f.mobile,width:360},{breakpoint:a.f.mobileLandscape,width:480},{breakpoint:a.f.tablet,width:680},{breakpoint:a.f.desktop,width:940}];case"feature":return[{breakpoint:a.f.mobile,width:325},{breakpoint:a.f.tablet,width:220},{breakpoint:a.f.desktop,width:300}];case"feature-large":return[{breakpoint:a.f.mobile,width:325},{breakpoint:a.f.tablet,width:337},{breakpoint:a.f.desktop,width:460}]}}(i),g),x=(0,c.sP)(b);return(0,r.jsxs)("picture",{"data-size":i,css:[l,d(g),f&&u,h&&p],children:[b.map((function(e){return(0,r.jsxs)(s.default.Fragment,{children:[(0,r.jsx)("source",{srcSet:e.hiResUrl,media:"(min-width: ".concat(e.breakpoint,"px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ").concat(e.breakpoint,"px) and (min-resolution: 120dpi)")}),(0,r.jsx)("source",{srcSet:e.lowResUrl,media:"(min-width: ".concat(e.breakpoint,"px)")})]},e.breakpoint)})),(0,r.jsx)("img",{alt:null!=n?n:"",src:x.lowResUrl,css:[l,h&&p],loading:o,"data-chromatic":"ignore"})]})}},18644:(e,t,n)=>{n.d(t,{L:()=>o});var r=n(50484),i=n(24017),a=n(81477),o=function(e){var t,n=e.children,o=e.when,s=e.breakpoint,c=e.el;return t="below"===o?(0,i.css)(a.TG[s],"{display:none;}"):(0,i.css)(a.HT[s],"{display:none;}"),"li"===c?(0,r.jsx)("li",{css:t,children:n}):(0,r.jsx)("span",{css:t,children:n})}},74097:(e,t,n)=>{n.d(t,{i:()=>f});var r=n(50484),i=n(24017),a=n(81477),o=n(50641),s=n(59648),c={name:"1jn9668",styles:"padding-right:10px;display:none"},l=function(e,t){return t?c:"wide"===e?(0,i.css)("padding-right:10px;",a.TG.leftCol,"{display:none;}",a.HT.leftCol,"{flex-basis:230px;flex-grow:0;flex-shrink:0;}"):(0,i.css)("padding-right:10px;",a.TG.leftCol,"{display:none;}",a.Tq.leftCol.and.wide,"{flex-basis:151px;flex-grow:0;flex-shrink:0;}",a.HT.wide,"{flex-basis:230px;flex-grow:0;flex-shrink:0;}")},d={name:"bjn8wh",styles:"position:relative"},u=function(e){return(0,i.css)(":before{content:'';position:absolute;top:0;bottom:0;right:0;height:30px;width:1px;background:",e,";}")},p={name:"13udsys",styles:"height:100%"},f=function(e){var t,n=e.children,a=e.borderType,c=e.borderColour,f=void 0===c?o.M.neutral[86]:c,h=e.size,g=void 0===h?"compact":h,b=e.verticalMargins,x=void 0===b||b,m=e.hasPageSkin,v=void 0!==m&&m;return(0,r.jsx)("section",{css:[d,l(g,v),"full"===a&&(t=f,(0,i.css)("border-right:1px solid ",t,";")),x&&(0,i.css)("padding-bottom:",s.x[9],"px;")],children:(0,r.jsx)("div",{css:["partial"===a&&u(f),p],children:n})})}},25542:(e,t,n)=>{n.r(t),n.d(t,{ManyNewsletterSignUp:()=>ee});var r=n(18247),i=n(31880),a=n(22820),o=n(57820),s=n.n(o),c=n(50484),l=n(24017),d=n(81477),u=n(59648),p=n(50641),f=n(71653),h=n(28673),g=n(6569),b=n(67400),x=n(37800),m=n(62335),v=n(85918);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,m.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e,t,n){var r,i,o=window.location.origin+window.location.pathname,s=null!==(r=null===(i=window.guardian.ophan)||void 0===i?void 0:i.pageViewId)&&void 0!==r?r:"",c=new FormData;if(c.append("email",e),c.append("csrfToken",""),Array.isArray(t)){var l,d=k(t.entries());try{for(d.s();!(l=d.n()).done;){var u=(0,a.A)(l.value,2),p=u[0],f=u[1];c.append("listNames[".concat(p,"]"),f)}}catch(e){d.e(e)}finally{d.f()}}else c.append("listName",t);return c.append("ref",o),c.append("refViewId",s),c.append("name",""),window.guardian.config.switches.emailSignupRecaptcha&&c.append("g-recaptcha-response",n),c},S=function(){var e=(0,r.A)(s().mark((function e(t,n){var r,i,o,c,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=k(n.entries());try{for(i.s();!(o=i.n()).done;)c=(0,a.A)(o.value,2),l=c[0],d=c[1],r.push("".concat(encodeURIComponent(l),"=").concat(encodeURIComponent(d.toString())))}catch(e){i.e(e)}finally{i.f()}return e.abrupt("return",fetch(t,{method:"POST",body:r.join("&"),headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=(0,r.A)(s().mark((function e(t,n,r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=A(t,n,r),e.next=3,S(window.guardian.config.page.ajaxUrl+"/email/many",i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),T=function(e){switch(e){case"captcha-success":case"captcha-failure":return"ANSWER";case"captcha-error":case"captcha-not-loaded-when-needed":return"CLOSE";case"captcha-execute":return"EXPAND";case"form-submit":return"CLICK";case"failure-response":return"RETURN";case"success-response":return"SUBSCRIBE"}},I=function(e,t,n,r){var i=w(w({},r),{},{message:t,timestamp:Date.now()});(0,v.u_)({component:{componentType:"NEWSLETTER_SUBSCRIPTION",id:e},action:T(t),value:JSON.stringify(i)},n)},E=n(7693),N=n(83961),C=n(73598),O=(0,l.css)(f.NA0," height:40px;left:-200vw;line-height:30px;overflow:hidden;padding:0;position:absolute;background:",p.M.neutral[100],";display:block;text-align:center;margin:0;text-decoration:none;color:",p.M.neutral[0],";&:focus,&:active{border:5px solid ",p.M.focus[400],";position:static;}&:visited,&:active{color:",p.M.neutral[0],";}"),L=function(e){var t=e.id,n=e.blockDescription,r=e.children;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("a",{"data-ignore":"global-link-styling",href:"#".concat(t),css:O,children:"skip past ".concat(n)}),r,(0,c.jsx)("p",{id:t,tabIndex:0,css:O,"aria-label":"after ".concat(n),role:"note",children:"after ".concat(n)})]})},P=n(50728),U=(0,l.css)("border:",p.M.brand[400]," 2px dashed;border-radius:12px;padding:",u.x[2],"px;display:flex;flex-direction:column-reverse;",d.HT.desktop,"{flex-basis:",950,"px;flex-direction:row-reverse;align-items:flex-start;justify-content:space-between;}"),R=(0,l.css)("display:flex;flex-direction:column;align-items:stretch;padding-bottom:",u.x[1],"px;",d.HT.desktop,"{flex-basis:",460,"px;flex-direction:row;flex-shrink:0;align-items:flex-end;}"),B=(0,l.css)("margin-bottom:",u.x[2],"px;",d.HT.desktop,"{margin-bottom:0;margin-right:",u.x[2],"px;flex-basis:296px;}"),H={name:"b4vp7c",styles:"max-height:0"},z=(0,l.css)("justify-content:center;background-color:",p.M.neutral[0],";border-color:",p.M.neutral[0],";",d.HT.desktop,"{flex-basis:110px;}&:hover{background-color:",p.M.neutral[46],";border-color:",p.M.neutral[46],";}"),D=(0,l.css)(f.OAJ,";padding-bottom:",u.x[12],"px;max-width:340px;",d.HT.desktop,"{padding-bottom:0;max-width:unset;flex-basis:340px;}"),F=function(e){var t,n=e.status,r=e.email,i=e.handleTextInput,o=e.handleSubmitButton,s=e.newsletterCount,u=(0,b.useState)(!1),p=(0,a.A)(u,2),f=p[0],g=p[1],x=!f&&0===r.length,m=1===s?"Sign up for the newsletter you selected":"Sign up for the ".concat(s," newsletters you selected"),v="Failed"===n?"Sign up failed. Please try again":"InvalidEmail"===n?"Please enter a valid email address":void 0;return(0,c.jsxs)("form",{"aria-label":"sign-up confirmation form","aria-live":"polite",css:U,onSubmit:function(e){e.preventDefault()},onFocus:function(){g(!0)},onBlur:function(){g(!1)},children:[(0,c.jsx)("aside",{css:(t=x,(0,l.css)("overflow:hidden;transition:max-height 1.5s linear;max-height:300px;",t&&H," ",d.HT.desktop,"{flex:1;padding-left:",10,"px;max-height:unset;transition:none;}")),children:(0,c.jsx)(L,{id:"man-newsletter-form-inline-skip-to-wrapper",blockDescription:"Privacy Notice",children:(0,c.jsx)(P.B,{textColor:"regular"})})}),(0,c.jsx)("div",{css:R,children:"Success"!==n?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{css:B,children:(0,c.jsx)(C.k,{label:"Enter your email",value:r,onChange:i,error:v,disabled:"Loading"===n})}),(0,c.jsx)(h.$,{"aria-label":m,isLoading:"Loading"===n,iconSide:"right",onClick:function(){o()},cssOverrides:z,children:"Sign up"})]}):(0,c.jsx)("p",{css:D,children:"Please check your email to confirm your subscription"})})]})},_=n(27119),K=n(35247);function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var $=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,q=(0,l.css)(d.HT.leftCol,"{padding-left:10px;}"),Z=(0,l.css)("display:none;padding-left:",u.x[1],"px;margin-right:-10px;",d.HT.leftCol,"{display:block;}"),J=(0,l.css)("display:flex;justify-content:space-between;align-items:flex-end;padding-bottom:",u.x[2],"px;",d.HT.leftCol,"{display:none;}"),V=function(e){var t=e.removeAll;return(0,c.jsx)(h.$,{size:"small",color:p.M.neutral[0],onClick:t,hideLabel:!0,priority:"tertiary",icon:(0,c.jsx)(g.F,{}),children:"remove all newsletters from sign up list"})},Q={name:"1efi8gv",styles:"font-weight:bold"},Y=function(e){var t=e.count,n=e.forDesktop,r=void 0!==n&&n?f.muz:f.ccz;return(0,c.jsxs)("div",{css:(0,l.css)("padding-top:",u.x[2],"px;",r,";"),children:[(0,c.jsx)("span",{css:Q,children:t})," ",1===t?"newsletter":"newsletters"," selected"]})},X={name:"1ubrepq",styles:".grecaptcha-badge{visibility:hidden;}"},ee=function(e){var t=e.useReCaptcha,n=e.captchaSiteKey,o=(0,b.useState)([]),d=(0,a.A)(o,2),u=d[0],f=d[1],h=(0,b.useState)("NotSent"),g=(0,a.A)(h,2),m=g[0],v=g[1],y=(0,b.useState)(""),w=(0,a.A)(y,2),k=w[0],j=w[1],A=(0,b.useRef)(null),S="Success"!==m&&"Loading"!==m,T=(0,E.U)().renderingTarget,C=(0,b.useCallback)((function(e){if("Loading"!==m){var t=e.target;if(t instanceof HTMLElement){var n=t.dataset.identityName,r=function(e,t){var n=e.getAttribute("data-list-id");if(n){var r=Number(n);if(!isNaN(r))return r}}(t);if(n&&void 0!==r){var a,o,s=u.findIndex((function(e){return e.identityName===n}));-1===s?(f([].concat((0,i.A)(u),[{identityName:n,listId:r}])),t.classList.add(_.SK),t.setAttribute("aria-label",null!==(a=t.dataset.ariaLabelWhenChecked)&&void 0!==a?a:"remove from list")):(f([].concat((0,i.A)(u.slice(0,s)),(0,i.A)(u.slice(s+1)))),t.classList.remove(_.SK),t.setAttribute("aria-label",null!==(o=t.dataset.ariaLabelWhenUnchecked)&&void 0!==o?o:"add to list")),v("NotSent")}}}}),[u,m]),O=(0,b.useCallback)((function(){if("Loading"!==m){var e,t=G((0,i.A)(document.querySelectorAll("[data-role=".concat(_.Ao,"]"))));try{for(t.s();!(e=t.n()).done;){var n,r=e.value;r.classList.remove(_.SK);var a=r instanceof HTMLElement&&null!==(n=r.dataset.ariaLabelWhenUnchecked)&&void 0!==n?n:"add to list";r.setAttribute("aria-label",a)}}catch(e){t.e(e)}finally{t.f()}f([]),v("NotSent")}}),[m]);(0,b.useEffect)((function(){var e,t=(0,i.A)(document.querySelectorAll("[data-role=".concat(_.Ao,"]"))),n=G(t);try{for(n.s();!(e=n.n()).done;)e.value.addEventListener("click",C)}catch(e){n.e(e)}finally{n.f()}return function(){var e,n=G(t);try{for(n.s();!(e=n.n()).done;)e.value.removeEventListener("click",C)}catch(e){n.e(e)}finally{n.f()}}}),[C,u]);var L,P=function(){var e=(0,r.A)(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.map((function(e){return e.identityName})),r=u.map((function(e){return e.listId})),I("ManyNewsletterSignUp","form-submit",T,{listIds:r}),e.next=5,M(k,n,t).catch((function(){}));case 5:if(null!=(i=e.sent)&&i.ok){e.next=17;break}if(!i){e.next=13;break}return e.next=10,i.text();case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0="[fetch failure - no response]";case 14:return a=e.t0,I("ManyNewsletterSignUp","failure-response",T,{listIds:r,responseText:a.substring(0,100)}),e.abrupt("return",v("Failed"));case 17:I("ManyNewsletterSignUp","success-response",T,{listIds:r}),v("Success");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.A)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:if($.test(k)){e.next=5;break}return v("InvalidEmail"),e.abrupt("return");case 5:if(t){e.next=9;break}return v("Loading"),P(""),e.abrupt("return");case 9:if(A.current){e.next=12;break}return I("ManyNewsletterSignUp","captcha-not-loaded-when-needed",T),e.abrupt("return");case 12:return v("Loading"),I("ManyNewsletterSignUp","captcha-execute",T),e.next=16,A.current.executeAsync();case 16:if("string"==typeof(n=e.sent)){e.next=21;break}return I("ManyNewsletterSignUp","captcha-failure",T),v("Failed"),e.abrupt("return");case 21:return I("ManyNewsletterSignUp","captcha-success",T),e.abrupt("return",P(n));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.jsx)("div",{css:(L=0===u.length,(0,l.css)("display:",L?"none":"block",";position:fixed;position:-webkit-sticky;position:sticky;bottom:0;left:0;width:100%;z-index:100;")),children:(0,c.jsxs)(K.w,{backgroundColour:p.M.brand[800],showSideBorders:!1,stretchRight:!0,leftColSize:"wide",padContent:!1,leftContent:(0,c.jsx)(Y,{count:u.length,forDesktop:!0}),children:[(0,c.jsxs)("div",{css:J,children:[(0,c.jsx)(Y,{count:u.length}),(0,c.jsx)(V,{removeAll:O})]}),(0,c.jsx)("div",{css:q,children:(0,c.jsxs)(N.s,{children:[(0,c.jsx)(F,{email:k,handleSubmitButton:U,handleTextInput:function(e){S&&("InvalidEmail"===m&&$.test(k)&&v("NotSent"),j(e.target.value))},status:m,newsletterCount:u.length}),(0,c.jsx)("div",{css:Z,children:(0,c.jsx)(V,{removeAll:O})}),t&&!!n&&(0,c.jsx)("div",{css:X,children:(0,c.jsx)(x.A,{sitekey:n,ref:A,onError:function(e){var t;I("ManyNewsletterSignUp","captcha-error",T,{eventType:e.type,status:m}),null===(t=A.current)||void 0===t||t.reset()},size:"invisible"})})]})})]})})}},27119:(e,t,n)=>{n.d(t,{Ao:()=>M,SK:()=>T,wF:()=>B});var r=n(62335),i=n(22820),a=n(50484),o=n(24017),s=n(50641),c=n(59648),l=n(71653),d=n(28673),u=n(32437),p=n(40292),f=n(67400),h=n(85918),g=n(88528),b=n(13538),x=n(7693),m=n(52230),v=n(2074),y={name:"s5xdrg",styles:"display:flex;align-items:center"},w=function(e){return(0,o.css)("height:","small"===e?"20px":"28px",";svg{background:",m.jP.primary,";border-radius:50%;height:100%;padding:2px;margin-right:",c.x[1],"px;}")},k=(0,o.css)(l.rS6,";line-height:1.15;"),j=function(e){var t=e.text,n=e.iconSize,r=void 0===n?"normal":n;return(0,a.jsxs)("div",{css:y,children:[(0,a.jsx)("div",{css:w(r),children:(0,a.jsx)(v.M,{})}),(0,a.jsx)("span",{css:k,children:t})]})};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M="GroupedNewslettersList-sign-up-button",T="js-GroupedNewslettersList-sign-up-button--selected",I="js-GroupedNewslettersList-sign-up-button__plus-icon",E="js-GroupedNewslettersList-sign-up-button__tick-icon",N=(0,o.css)("position:relative;flex:1;display:flex;flex-direction:column;min-height:215px;background-color:",s.M.neutral[97],";"),C=(0,o.css)("flex:1;display:flex;flex-direction:column;padding:",c.x[1],"px;padding-bottom:",c.x[2],"px;h3{",l.aal,";margin-bottom:",c.x[3],"px;}p{",l.ufg,";line-height:1.4;}"),O=(0,o.css)("margin-top:auto;padding-top:",c.x[6],"px;"),L=(0,o.css)("color:",s.M.neutral[7],";border-color:",s.M.neutral[7],";.",E,"{display:none;}&.",T,"{background-color:",s.M.neutral[7],";color:",s.M.neutral[100],";.",I,"{display:none;}.",E,"{display:inline;}}&:hover{background-color:",s.M.neutral[86],";}&.",T,":hover{background-color:",s.M.neutral[46],";border-color:",s.M.neutral[46],";}"),P=(0,o.css)("width:100%;margin-bottom:",c.x[1],"px;"),U={name:"bjn8wh",styles:"position:relative"},R=function(e){var t;return(0,a.jsx)("figure",{role:"img",css:[P,U],children:(0,a.jsx)("img",{css:(0,o.css)("background-color:",function(e){switch(e){case"culture":case"news":case"sport":case"lifestyle":case"opinion":return s.M[e][400];default:return s.M.brand[400]}}(e.theme),";width:100%;height:auto;"),width:e.aspectWidth,height:e.aspectHeight,alt:null!==(t=e.altText)&&void 0!==t?t:""})})},B=function(e){var t,n=e.newsletter,r=e.groupTitle,o=e.cardPosition,s=e.carouselPosition,c=(0,g.E)({threshold:.9}),l=(0,i.A)(c,2),m=l[0],v=l[1],y=(0,f.useState)(!1),w=(0,i.A)(y,2),k=w[0],A=w[1],T=(0,x.U)().renderingTarget,U=(0,f.useCallback)((function(){var e={eventDescription:"card-viewed",newsletterId:n.identityName,carousel:r,cardPosition:o,carouselPosition:s,timestamp:Date.now()};(0,h.u_)({component:{componentType:"CARD",id:"DCR NewsletterCard ".concat(n.identityName)},action:"VIEW",value:JSON.stringify(e)},T)}),[o,s,r,n.identityName,T]);return(0,f.useEffect)((function(){m&&!k&&(U(),A(!0))}),[m,k,A,U]),(0,a.jsxs)("article",{ref:v,css:N,"aria-label":n.name,children:[n.illustrationCard?(0,a.jsx)("div",{css:P,children:(0,a.jsx)(b.B,{imageSize:"carousel",alt:"",mainImage:n.illustrationCard,loading:"lazy"})}):(0,a.jsx)(R,{theme:n.theme,aspectHeight:300,aspectWidth:500}),(0,a.jsxs)("div",{css:C,children:[(0,a.jsx)(j,{text:n.frequency,iconSize:"small"}),(0,a.jsx)("h3",{children:n.name}),(0,a.jsx)("p",{children:n.description}),(0,a.jsx)("div",{css:O,children:(0,a.jsx)(d.$,S(S({},(t=n.name,{"aria-label":"add ".concat(t," to subscribe list"),"data-aria-label-when-unchecked":"add ".concat(t," to subscribe list"),"data-aria-label-when-checked":"remove ".concat(t," from subscribe list")})),{},{priority:"tertiary",size:"xsmall",iconSide:"left",icon:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:I,children:(0,a.jsx)(u.D,{})}),(0,a.jsx)("span",{className:E,children:(0,a.jsx)(p.Q,{})})]}),cssOverrides:L,"data-identity-name":n.identityName,"data-list-id":n.listId,"data-role":M,children:"Sign up"}))})]})]},n.name)}},50728:(e,t,n)=>{n.d(t,{B:()=>p});var r=n(50484),i=n(24017),a=n(71653),o=n(50641),s=n(56297),c=n(1954),l=function(e){var t=e.href,n=e.children;return(0,r.jsx)(s.N,{"data-ignore":"global-link-styling",href:t,rel:"noreferrer",children:n})},d=(0,i.css)(a.Ikj,";line-height:1.15;a{",a.Ikj,";text-decoration:underline;:hover{text-decoration:underline;}}strong{font-weight:bold;}"),u=function(e){switch(e){case"supporting":return(0,i.css)("color:",(0,c.M)("--privacy-text-supporting-subdued"),";a,strong{color:",(0,c.M)("--privacy-text-supporting"),";:hover{color:inherit;}}");case"regular":return(0,i.css)("color:",o.M.neutral[20],";a,strong{color:",(0,c.M)("--privacy-text-regular"),";:hover{color:inherit;}}")}},p=function(e){var t=e.textColor,n=void 0===t?"supporting":t;return(0,r.jsxs)("span",{css:[d,u(n)],children:[(0,r.jsx)("strong",{children:"Privacy Notice: "}),"Newsletters may contain info about charities, online ads, and content funded by outside parties. For more information see our"," ",(0,r.jsx)(l,{href:"https://www.theguardian.com/help/privacy-policy",children:"Privacy Policy"}),". We use Google reCaptcha to protect our website and the Google"," ",(0,r.jsx)(l,{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," and"," ",(0,r.jsx)(l,{href:"https://policies.google.com/terms",children:"Terms of Service"})," ","apply."]})}},53431:(e,t,n)=>{n.d(t,{T$:()=>i,b1:()=>s,iR:()=>o,y4:()=>c});var r=n(57364),i=[{url:"/preference/edition/uk",editionId:"UK",pageId:"uk",longTitle:"UK edition",title:"UK edition",dateLocale:"en-gb",timeZone:"Europe/London",langLocale:"en-GB",hasEditionalisedPages:!0,shortTitle:"UK"},{url:"/preference/edition/us",editionId:"US",pageId:"us",longTitle:"US edition",title:"US edition",dateLocale:"en-us",timeZone:"America/New_York",langLocale:"en-US",hasEditionalisedPages:!0,shortTitle:"US"},{url:"/preference/edition/au",editionId:"AU",pageId:"au",longTitle:"Australia edition",title:"AU edition",dateLocale:"en-au",timeZone:"Australia/Sydney",langLocale:"en-AU",hasEditionalisedPages:!0,shortTitle:"Aus"},{url:"/preference/edition/eur",editionId:"EUR",pageId:"europe",longTitle:"Europe edition",title:"Europe edition",dateLocale:"en-gb",timeZone:"Europe/Paris",langLocale:"en-EU",hasEditionalisedPages:!1,shortTitle:"Eur"},{url:"/preference/edition/int",editionId:"INT",pageId:"international",longTitle:"International edition",title:"International edition",dateLocale:"en-gb",timeZone:"Europe/London",langLocale:"en",hasEditionalisedPages:!1,shortTitle:"Int"}],a=i[0],o=function(e){var t;return null!==(t=i.find((function(t){return t.editionId===e})))&&void 0!==t?t:a},s=function(e){return i.find((function(t){return t.pageId===e}))},c=((0,r.E)(i.map((function(e){return e.editionId}))),function(e){return i.some((function(t){return t.pageId===e}))})},88528:(e,t,n)=>{n.d(t,{E:()=>s});var r=n(22820),i=n(44165),a=n.n(i),o=n(67400),s=function(e){var t,n=(0,o.useState)(!1),i=(0,r.A)(n,2),s=i[0],c=i[1],l=(0,o.useState)(null!==(t=e.node)&&void 0!==t?t:null),d=(0,r.A)(l,2),u=d[0],p=d[1],f=(0,o.useRef)(null),h=(0,o.useCallback)((function(t){var n=(0,r.A)(t,1)[0];n&&(n.isIntersecting?c(!0):e.repeat&&c(!1))}),[e.repeat]),g=e.debounce?a()(h,200):h;return(0,o.useEffect)((function(){e.node&&p(e.node)}),[e.node]),(0,o.useEffect)((function(){if(u&&"IntersectionObserver"in window)return f.current=new window.IntersectionObserver(g,e),f.current.observe(u),function(){var e;return null===(e=f.current)||void 0===e?void 0:e.disconnect()}}),[u,e,g]),(0,o.useEffect)((function(){var t;!e.repeat&&s&&(null===(t=f.current)||void 0===t||t.disconnect())}),[s,e.repeat]),[s,p]}},16678:(e,t,n)=>{n.d(t,{MI:()=>l,SA:()=>s,l5:()=>c});var r,i,a=n(62335),o=n(50641),s=(r={},(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)(r,"--text",o.M.neutral[7]),"--background",o.M.neutral[97]),"--horizontalRules",o.M.neutral[86]),"--border",o.M.neutral[7]),"--expandBackground",o.M.neutral[7]),"--expandBackgroundHover","#454545"),"--expandText",o.M.neutral[100]),"--collapseBackground",o.M.neutral[100]),"--collapseBackgroundHover","#E5E5E5"),"--collapseText",o.M.neutral[7]),(0,a.A)(r,"--collapseTextHover",o.M.neutral[7])),c=(i={},(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)(i,"--text",o.M.neutral[86]),"--background",o.M.neutral[20]),"--horizontalRules",o.M.neutral[60]),"--border",o.M.neutral[60]),"--expandBackground",o.M.neutral[86]),"--expandBackgroundHover",o.M.neutral[100]),"--expandText",o.M.neutral[7]),"--collapseBackground",o.M.neutral[10]),"--collapseText",o.M.neutral[86]),"--collapseBackgroundHover",o.M.neutral[86]),(0,a.A)(i,"--collapseTextHover",o.M.neutral[7])),l=function(e){return"var(".concat(e,")")}},87062:(e,t,n)=>{n.d(t,{NY:()=>s,Rh:()=>a,wS:()=>o});var r=n(62335),i=n(50641),a=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"--background",i.M.neutral[97]),"--text",i.M.neutral[7]),"--border",i.M.neutral[60]),"--inactiveBackground",i.M.neutral[86]),o=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"--background",i.M.neutral[20]),"--text",i.M.neutral[97]),"--border",i.M.neutral[60]),"--inactiveBackground",i.M.neutral[7]),s=function(e){return"var(".concat(e,")")}},6569:(e,t,n)=>{n.d(t,{F:()=>c});var r=n(50484),i=n(24017),a=n(72657),o=n(26633),s=function(e){var t=e.size,n=e.theme;return(0,r.jsx)("svg",{width:t?o.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.015 14.042 20.707 22 22 20.709 14.06 12 22 3.291 20.707 2l-8.692 7.958L3.293 2.03 2 3.321 9.97 12 2 20.679l1.293 1.291z",fill:null==n?void 0:n.fill})})},c=function(e){var t=e.size,n=e.theme,o=e.isAnnouncedByScreenReader,c=void 0!==o&&o;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{size:t,theme:n}),c?(0,r.jsx)("span",{css:(0,i.css)(a.Q,";"),children:"Close"}):""]})}}}]);
//# sourceMappingURL=ManyNewsletterSignUp-importable.client.web.legacy.5f5fd613cfe2d0499679.js.map