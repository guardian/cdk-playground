"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[342],{30342:(e,r,t)=>{t.r(r),t.d(r,{Header:()=>R,HeaderUnvalidated:()=>O});var n=t(50484),a=t(24017),c=t(96378),o=t(7351),i=t(99923),u=t(3959),s=t(68163),d=t(25045),l=t(15168),y=t(53694),p=t(71849);function b(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function m(){const e=b(["\n\tdisplay: grid;\n\n\tgrid-template-rows: auto;\n\tgrid-template-columns: auto;\n\n\tgrid-template-areas:\n\t\t'heading     cta1  cta2'\n\t\t'subheading  .     .   ';\n"]);return m=function(){return e},e}function v(){const e=b(["\n\tmargin-right: ","px;\n"]);return v=function(){return e},e}function g(){const e=b(["\n\tgrid-area: 'heading';\n\n\tcolor: ",";\n\t","\n\n\t"," {\n\t\t","\n\t}\n"]);return g=function(){return e},e}function f(){const e=b(["\n\tgrid-area: 'subheading';\n\n\tcolor: ",";\n\t","\n"]);return f=function(){return e},e}function M(){const e=b(["\n\tmargin: 0 0 0 ","px;\n\n\t"," {\n\t\tmargin: ","px 0 0 ","px;\n\t}\n"]);return M=function(){return e},e}const T=(0,a.css)(m()),P=(0,a.css)(v(),c.x[3]),h=(0,a.css)(g(),(0,y.M)("--masthead-top-bar-text"),o.aal,i.HT.desktop,o.OAJ),C=(0,a.css)(f(),(0,y.M)("--masthead-top-bar-text"),o.WuG),j=(0,a.css)(M(),c.x[2],i.HT.tablet,c.x[1],c.x[2]),x=e=>{var r,t,a,c;const{heading:o,subheading:i,primaryCta:y,secondaryCta:p}=e.content;var b,m;return(0,n.jsxs)("div",{css:T,children:[(0,n.jsx)(u.L,{until:"tablet",children:(0,n.jsxs)("div",{css:P,children:[(0,n.jsx)("h2",{css:h,children:o}),(0,n.jsx)("span",{css:C,children:i})]})}),y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.L,{until:"tablet",children:(0,n.jsx)(s.z,{theme:d.gv,priority:"primary",href:y.ctaUrl,onClick:()=>{var r;return null===(r=e.onCtaClick)||void 0===r?void 0:r.call(e)},icon:(0,n.jsx)(l._,{}),iconSide:"right",nudgeIcon:!0,size:"xsmall",cssOverrides:j,style:{gridArea:"cta1"},children:y.ctaText})}),(0,n.jsx)(u.L,{from:"tablet",children:(0,n.jsx)(s.z,{theme:d.gv,priority:"primary",href:null!==(b=null===(t=e.mobileContent)||void 0===t||null===(r=t.primaryCta)||void 0===r?void 0:r.ctaUrl)&&void 0!==b?b:y.ctaUrl,cssOverrides:j,size:"xsmall",children:null!==(m=null===(c=e.mobileContent)||void 0===c||null===(a=c.primaryCta)||void 0===a?void 0:a.ctaText)&&void 0!==m?m:y.ctaText})})]}),p&&(0,n.jsx)(u.L,{until:"tablet",children:(0,n.jsx)(s.z,{theme:d.gv,priority:"primary",href:p.ctaUrl,icon:(0,n.jsx)(l._,{}),iconSide:"right",nudgeIcon:!0,cssOverrides:j,size:"xsmall",style:{gridArea:"cta2"},children:p.ctaText})})]})},O=(0,p.d)(x),R=(0,p.z)(x)},71849:(e,r,t)=>{t.d(r,{d:()=>s,z:()=>d});var n=t(50484),a=t(29995),c=t(67400),o=t(58452),i=t(81412);function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const s=e=>r=>{let{content:t,mobileContent:a,tracking:u,countryCode:s,submitComponentEvent:d,numArticles:l}=r;const y=e=>(0,i.Bl)(e.baseUrl)?{ctaUrl:(0,i.qU)(e.baseUrl,u),ctaText:e.text}:{ctaUrl:(0,i.QP)(e.baseUrl,u,l,s),ctaText:e.text},p=t.primaryCta?y(t.primaryCta):null,b=t.secondaryCta?y(t.secondaryCta):null,m={heading:t.heading,subheading:t.subheading,primaryCta:p,secondaryCta:b},v=(null==a?void 0:a.primaryCta)?y(a.primaryCta):p,g=(null==a?void 0:a.secondaryCta)?y(a.secondaryCta):b,f=a?{heading:a.heading,subheading:a.subheading,primaryCta:v,secondaryCta:g}:void 0,{abTestName:M,abTestVariant:T,componentType:P,campaignCode:h}=u,C=(0,c.useCallback)((e=>{d&&d({component:{componentType:P,id:h,campaignCode:h},action:e,abTest:{name:M,variant:T}})}),[M,T,h,P,d]),[j,x]=(0,o.E)({debounce:!0,threshold:0});return(0,c.useEffect)((()=>{j&&C("VIEW")}),[j,C]),(0,c.useEffect)((()=>{C("INSERT")}),[C]),(0,n.jsx)("div",{ref:x,children:(0,n.jsx)(e,{content:m,mobileContent:f,onCtaClick:(O=h,()=>{const e=(0,i.Mf)(u,"".concat(O," : cta"));d&&d(e)})})});var O},d=e=>r=>{if((e=>a.n5.safeParse(e).success)(r)){const t=s(e);return(0,n.jsx)(t,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){u(e,r,t[r])}))}return e}({},r))}return(0,n.jsx)(n.Fragment,{})}},81412:(e,r,t)=>{t.d(r,{Bl:()=>g,Mf:()=>P,Nl:()=>p,Q7:()=>b,QP:()=>l,R9:()=>v,Tv:()=>d,hy:()=>m,m1:()=>s,qU:()=>f,rx:()=>C,t0:()=>h});var n=t(9474),a=t(29995);function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){c(e,r,t[r])}))}return e}function i(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e}const u=(e,r,t,a,c)=>{const o=((e,r,t,n,a)=>{const c=[{name:e,variant:r}];return t&&c.push({name:t.testName,variant:t.variantName}),n&&a&&c.push({name:n,variant:a,testType:"AMOUNTS_TEST"}),c})(r.abTestName,r.abTestVariant,r.targetingAbTest,a,c),i=((e,r)=>encodeURIComponent(JSON.stringify({source:e.platformId,componentId:e.campaignCode,componentType:e.componentType,campaignCode:e.campaignCode,abTests:r,referrerPageviewId:e.ophanPageId,referrerUrl:e.referrerUrl,isRemote:!0,labels:e.labels})))(r,o),u=((e,r,t)=>{const a={REFPVID:e.ophanPageId||"not_found",INTCMP:e.campaignCode||"",acquisitionData:r,numArticles:t||0};return Object.entries(a).filter((e=>{let[,r]=e;return!(0,n.b)(r)})).map((e=>{let[r,t]=e;return"".concat(r,"=").concat(t)})).join("&")})(r,i,null!=t?t:0),s=e.includes("?");return"".concat(e).concat(s?"&":"?").concat(u)},s=(e,r,t)=>u(((e,r)=>{switch(r.product){case"Contribution":case"SupporterPlus":return((e,r)=>{let{region:t,amount:n,billingPeriod:a}=r;return"".concat(e,"/").concat(t,"/contribute/checkout?selected-amount=").concat(n,"&selected-contribution-type=").concat(a)})(e,r);default:return e}})(e,r),t),d=e=>/\bsupport\./.test(e),l=(e,r,t,n,c,o)=>{if(!d(e))return e;const i=(0,a.u4)(e,n);return u(i,r,t,c,o)},y=/href="(.*?)"/g,p=(e,r,t,n)=>{const a=T(r,"body-link");return e.replace(y,((e,r)=>'href="'.concat(l(r,a,t,n),'"')))},b=(e,r,t)=>{const n="selected-contribution-type=".concat(r).concat(void 0!==t?"&selected-amount=".concat(t):""),a=e.includes("?");return"".concat(e).concat(a?"&":"?").concat(n)},m=e=>{const r=e.includes("?");return"".concat(e).concat(r?"&":"?").concat("oneTime")},v=(e,r,t,n)=>{const a="product=".concat(r,"&ratePlan=").concat(t).concat(void 0!==n?"&contribution=".concat(n):""),c=e.includes("?");return"".concat(e).concat(c?"&":"?").concat(a)},g=e=>/\bprofile\./.test(e),f=(e,r)=>g(e)?((e,r)=>{const t={componentType:r.componentType,componentId:r.campaignCode,abTestName:r.abTestName,abTestVariant:r.abTestVariant,viewId:r.ophanPageId},a={componentEventParams:encodeURIComponent((c=t,Object.keys(c).map((e=>{const r=c[e],t=Array.isArray(r)?r.map((e=>encodeURIComponent(e))).join(","):encodeURIComponent(r);return"".concat(e,"=").concat(t)})).join("&"))),returnUrl:r.referrerUrl};var c;const o=Object.entries(a).filter((e=>{let[,r]=e;return!(0,n.b)(r)})).map((e=>{let[r,t]=e;return"".concat(r,"=").concat(t)})),i=e.includes("?");return"".concat(e).concat(i?"&":"?").concat(o.join("&"))})(e,r):e,M=e=>(r,t)=>{const{abTestName:n,abTestVariant:a,componentType:c,products:u=[],labels:s=[],campaignCode:d}=r,l=n&&a?{name:n,variant:a}:null,y=r.targetingAbTest?{name:r.targetingAbTest.testName,variant:r.targetingAbTest.variantName}:null;return i(o({component:{componentType:c,products:u,campaignCode:d,id:t,labels:s}},l?{abTest:l}:{},y?{targetingAbTest:y}:{}),{action:e})},T=(e,r)=>e.labels?i(o({},e),{labels:[...e.labels,r]}):i(o({},e),{labels:[r]}),P=M("CLICK"),h=M("VIEW"),C=M("INSERT")},58452:(e,r,t)=>{t.d(r,{E:()=>o});var n=t(44165),a=t.n(n),c=t(67400);const o=e=>{const[r,t]=(0,c.useState)(!1);var n;const[o,i]=(0,c.useState)(null!==(n=e.node)&&void 0!==n?n:null),u=(0,c.useRef)(null),s=(0,c.useCallback)((r=>{let[n]=r;n&&(n.isIntersecting?t(!0):e.repeat&&t(!1))}),[e.repeat]),d=e.debounce?a()(s,200):s;return(0,c.useEffect)((()=>{e.node&&i(e.node)}),[e.node]),(0,c.useEffect)((()=>{if(o&&"IntersectionObserver"in window)return u.current=new window.IntersectionObserver(d,e),u.current.observe(o),()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.disconnect()}}),[o,e,d]),(0,c.useEffect)((()=>{var t;!e.repeat&&r&&(null===(t=u.current)||void 0===t||t.disconnect())}),[r,e.repeat]),[r,i]}},53694:(e,r,t)=>{t.d(r,{M:()=>n});const n=e=>"var(".concat(e,")")},46080:(e,r,t)=>{t.d(r,{JU:()=>c,Qq:()=>P,SY:()=>o,Tp:()=>g,VD:()=>T,aL:()=>m,jP:()=>f,kX:()=>u,n8:()=>M,nJ:()=>h,wI:()=>s,wk:()=>a,yF:()=>C,z3:()=>i});var n=t(77907);const{brand:a,brandAlt:c,neutral:o,error:i,success:u,news:s,opinion:d,sport:l,culture:y,lifestyle:p,labs:b,specialReport:m,focus:v}=n.M,g={primary:n.M.neutral[100],secondary:n.M.neutral[97],inverse:n.M.neutral[10],ctaPrimary:n.M.brand[400],ctaPrimaryHover:"#234B8A",ctaSecondary:n.M.brand[800],ctaSecondaryHover:"#ACC9F7",ctaTertiaryHover:"#E5E5E5",input:n.M.neutral[100],inputChecked:n.M.brand[500]},f=(n.M.brand[400],n.M.neutral[100],n.M.neutral[100],n.M.brand[600],n.M.brand[300],{primary:n.M.brandAlt[400],ctaPrimary:n.M.neutral[7],ctaPrimaryHover:"#454545",ctaSecondary:n.M.brandAlt[200],ctaSecondaryHover:"#F2AE00",ctaTertiaryHover:"#FFD213"}),M=(n.M.neutral[60],n.M.neutral[86],n.M.success[400],n.M.error[400],n.M.brand[400],n.M.neutral[60],n.M.brand[500],n.M.brand[500],n.M.brand[500],n.M.focus[400],n.M.brand[600],n.M.brand[600],n.M.success[500],n.M.error[500],n.M.neutral[100],n.M.brand[800],n.M.neutral[100],n.M.neutral[100],n.M.neutral[7],{primary:n.M.neutral[86]}),T=(n.M.brand[600],{primary:n.M.neutral[7]}),P={primary:n.M.neutral[7],supporting:n.M.neutral[46],success:n.M.success[400],error:n.M.error[400],ctaPrimary:n.M.neutral[100],ctaSecondary:n.M.brand[400],ctaTertiary:n.M.brand[400],anchorPrimary:n.M.brand[500],anchorSecondary:n.M.neutral[7],userInput:n.M.neutral[7],inputLabel:n.M.neutral[7],inputError:n.M.neutral[7],inputLabelSupporting:n.M.neutral[46],inputChecked:n.M.brand[400],inputHover:n.M.brand[400],groupLabel:n.M.neutral[7],groupLabelSupporting:n.M.neutral[46],newsInverse:n.M.news[550]},h={primary:n.M.neutral[100],supporting:n.M.brand[800],success:n.M.success[500],error:n.M.error[500],ctaPrimary:n.M.brand[400],ctaSecondary:n.M.neutral[100],ctaTertiary:n.M.neutral[100],anchorPrimary:n.M.neutral[100],anchorPrimaryHover:n.M.brandAlt[400],userInput:n.M.neutral[100],inputLabel:n.M.neutral[100],inputLabelSupporting:n.M.brand[800]},C={primary:n.M.neutral[7],supporting:n.M.neutral[60],ctaPrimary:n.M.neutral[100],ctaSecondary:n.M.neutral[7],ctaTertiary:n.M.neutral[7],anchorPrimary:n.M.neutral[7]}},25045:(e,r,t)=>{t.d(r,{P6:()=>d,gv:()=>u,xH:()=>s});var n=t(46080);const a={readerRevenue:{ctaPrimary:n.wk[400],ctaTertiary:n.wk[400]},readerRevenueBrand:{ctaPrimary:n.wk[400],ctaTertiary:n.JU[400]},readerRevenueBrandAlt:{ctaPrimary:n.SY[100],ctaTertiary:n.SY[7]}},c={readerRevenue:{ctaPrimary:n.JU[400],ctaPrimaryHover:"#FFD213",ctaTertiaryHover:"#E5E5E5"},readerRevenueBrand:{ctaPrimary:n.JU[400],ctaPrimaryHover:"#FFD213",ctaTertiaryHover:n.wk[300]},readerRevenueBrandAlt:{ctaPrimary:n.SY[7],ctaPrimaryHover:"#454545",ctaTertiaryHover:"#FFD213"}},o={readerRevenue:{ctaTertiary:n.wk[400]},readerRevenueBrand:{ctaTertiary:n.JU[400]},readerRevenueBrandAlt:{ctaTertiary:n.SY[7]}},i={textPrimary:a.readerRevenue.ctaPrimary,backgroundPrimary:c.readerRevenue.ctaPrimary,backgroundPrimaryHover:c.readerRevenue.ctaPrimaryHover,textTertiary:a.readerRevenue.ctaTertiary,backgroundTertiaryHover:c.readerRevenue.ctaTertiaryHover,borderTertiary:o.readerRevenue.ctaTertiary},u={textPrimary:a.readerRevenueBrand.ctaPrimary,backgroundPrimary:c.readerRevenueBrand.ctaPrimary,backgroundPrimaryHover:c.readerRevenueBrand.ctaPrimaryHover,textTertiary:a.readerRevenueBrand.ctaTertiary,backgroundTertiaryHover:c.readerRevenueBrand.ctaTertiaryHover,borderTertiary:o.readerRevenueBrand.ctaTertiary},s={textPrimary:a.readerRevenueBrandAlt.ctaPrimary,backgroundPrimary:c.readerRevenueBrandAlt.ctaPrimary,backgroundPrimaryHover:c.readerRevenueBrandAlt.ctaPrimaryHover,textTertiary:a.readerRevenueBrandAlt.ctaTertiary,backgroundTertiaryHover:c.readerRevenueBrandAlt.ctaTertiaryHover,borderTertiary:o.readerRevenueBrandAlt.ctaTertiary},d={button:i}}}]);
//# sourceMappingURL=342.client.web.add9c4b47458aad8d643.js.map