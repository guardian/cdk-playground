{"version":3,"file":"ExpandableMarketingCardWrapper-importable.client.web.07e8cca115287065b792.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/ExpandableMarketingCard.tsx","webpack://@guardian/dotcom-rendering/./src/components/ExpandableMarketingCardSwipeable.tsx","webpack://@guardian/dotcom-rendering/./src/components/ExpandableMarketingCardWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/Hide.tsx","webpack://@guardian/dotcom-rendering/./src/lib/dailyArticleCount.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/lib/useAB.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__deprecated__/colour/palette.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgChevronDownSingle.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgCross.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/button/LinkButton.js"],"sourcesContent":["import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport {\n\tfrom,\n\theadlineBold17,\n\theadlineBold20,\n\tneutral,\n\tspace,\n\ttextSans14,\n\ttextSans15,\n\ttextSansBold12,\n\ttextSansBold14,\n} from '@guardian/source/foundations';\nimport {\n\tLinkButton,\n\tSvgChevronDownSingle,\n\tSvgCross,\n} from '@guardian/source/react-components';\nimport type { Dispatch, SetStateAction } from 'react';\nimport { palette } from '../palette';\nimport { useConfig } from './ConfigContext';\n\ninterface BannersIllustrationProps {\n\ttype: 'faded' | 'top' | 'bottom';\n\tstyles?: SerializedStyles;\n}\n\nconst smallIllustrationStyles = css`\n\tdisplay: none;\n\t${from.phablet} {\n\t\tdisplay: inline;\n\t}\n\t${from.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\nconst largeIllustrationStyles = css`\n\tdisplay: inline;\n\t${from.phablet} {\n\t\tdisplay: none;\n\t}\n\t${from.leftCol} {\n\t\tdisplay: inline;\n\t}\n`;\n\nconst BannersIllustration = ({ type, styles }: BannersIllustrationProps) => {\n\tconst { assetOrigin } = useConfig();\n\tconst smallSrc = `${assetOrigin}static/frontend/logos/red-blue-small-banner-${type}.svg`;\n\tconst largeSrc = `${assetOrigin}static/frontend/logos/red-blue-large-banner-${type}.svg`;\n\n\treturn (\n\t\t<>\n\t\t\t<img\n\t\t\t\tsrc={smallSrc}\n\t\t\t\talt=\"\"\n\t\t\t\tcss={[styles, smallIllustrationStyles]}\n\t\t\t/>\n\t\t\t<img\n\t\t\t\tsrc={largeSrc}\n\t\t\t\talt=\"\"\n\t\t\t\tcss={[styles, largeIllustrationStyles]}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst fillBarStyles = css`\n\tbackground-color: ${palette('--expandable-marketing-card-fill-background')};\n\twidth: 100%;\n\tmargin-top: -1px;\n\tmargin-bottom: -1px;\n\n\theight: 6px;\n\t${from.desktop} {\n\t\theight: 4px;\n\t}\n`;\n\nconst contentStyles = css`\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\talign-items: start;\n\tgap: ${space[4]}px;\n\theight: auto;\n\twidth: auto;\n\tpadding: ${space[2]}px;\n\tborder-radius: 0 0 ${space[2]}px ${space[2]}px;\n\tbackground-color: ${palette('--expandable-marketing-card-background')};\n\tcolor: ${neutral[100]};\n`;\n\nconst summaryStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: ${space[3]}px;\n\tz-index: 1;\n\twidth: 100%;\n`;\n\nconst contractedSummaryStyles = css`\n\t${summaryStyles}\n\tcursor: pointer;\n`;\n\nconst headingStyles = css`\n\tdisplay: flex;\n\tgap: ${space[2]}px;\n\tjustify-content: space-between;\n\n\t${headlineBold17};\n\t${from.wide} {\n\t\t${headlineBold20};\n\t}\n`;\n\nconst kickerStyles = css`\n\t${textSans15};\n\t${from.leftCol} {\n\t\t${textSans14};\n\t}\n\t${from.wide} {\n\t\t${textSans15};\n\t}\n`;\n\nconst arrowStyles = css`\n\tflex-shrink: 0;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tborder: none;\n\tvertical-align: middle;\n\tjustify-content: center;\n\tpadding: 0;\n\twidth: ${space[6]}px;\n\theight: ${space[6]}px;\n\tbackground-color: ${palette('--expandable-marketing-card-svg-background')};\n\tborder-radius: 50%;\n\tcursor: pointer;\n\n\tsvg {\n\t\tflex: 0 0 auto;\n\t\tdisplay: block;\n\t\tfill: ${palette('--expandable-marketing-card-svg-fill')};\n\t\tposition: relative;\n\t\twidth: ${space[5]}px;\n\t\theight: auto;\n\t}\n`;\n\nconst detailsStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: ${space[4]}px;\n\tmargin-bottom: ${space[2]}px;\n`;\n\nconst sectionStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: ${space[3]}px;\n\tborder-top: 1px solid ${neutral[100]};\n\tpadding-top: ${space[2]}px;\n`;\n\nconst subheadingStyles = css`\n\t${headlineBold17};\n`;\n\nconst paragraphStyles = css`\n\t${textSans15}\n\tmargin-right: ${space[4]}px;\n\tz-index: 1;\n`;\n\nconst ctaCalloutStyles = css`\n\t${textSansBold14};\n\tz-index: 1;\n`;\n\nconst imageTopStyles = css`\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n`;\nconst imageBottomStyles = css`\n\tposition: absolute;\n\tright: 0;\n\tbottom: 0;\n`;\n\nconst buttonStyles = css`\n\tz-index: 1;\n\tbackground-color: ${palette(\n\t\t'--expandable-marketing-card-button-background',\n\t)};\n\twidth: fit-content;\n\n\t${textSansBold12};\n\t${from.wide} {\n\t\t${textSansBold14};\n\t}\n`;\n\ninterface Props {\n\theading: string;\n\tkicker: string;\n\tguardianBaseURL: string;\n\tisExpanded: boolean;\n\tsetIsClosed: Dispatch<SetStateAction<boolean>>;\n}\n\nexport const ExpandableMarketingCard = ({\n\tguardianBaseURL,\n\theading,\n\tkicker,\n\tisExpanded,\n\tsetIsClosed,\n}: Props) => {\n\treturn (\n\t\t<>\n\t\t\t<div css={fillBarStyles} />\n\t\t\t<div css={contentStyles}>\n\t\t\t\t{!isExpanded ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BannersIllustration\n\t\t\t\t\t\t\ttype=\"faded\"\n\t\t\t\t\t\t\tstyles={imageTopStyles}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<section css={contractedSummaryStyles}>\n\t\t\t\t\t\t\t<div css={headingStyles}>\n\t\t\t\t\t\t\t\t<h2>{heading}</h2>\n\t\t\t\t\t\t\t\t<div css={arrowStyles}>\n\t\t\t\t\t\t\t\t\t<SvgChevronDownSingle />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={kickerStyles}>{kicker}</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BannersIllustration\n\t\t\t\t\t\t\ttype=\"top\"\n\t\t\t\t\t\t\tstyles={imageTopStyles}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<BannersIllustration\n\t\t\t\t\t\t\ttype=\"bottom\"\n\t\t\t\t\t\t\tstyles={imageBottomStyles}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<section css={summaryStyles}>\n\t\t\t\t\t\t\t<div css={headingStyles}>\n\t\t\t\t\t\t\t\t<h2>{heading}</h2>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tdata-link-name=\"us-expandable-marketing-card close-button\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetIsClosed(true);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tcss={arrowStyles}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SvgCross />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={kickerStyles}>{kicker}</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<div css={detailsStyles}>\n\t\t\t\t\t\t\t<section css={sectionStyles}>\n\t\t\t\t\t\t\t\t<h3 css={subheadingStyles}>\n\t\t\t\t\t\t\t\t\tWe’re independent\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p css={paragraphStyles}>\n\t\t\t\t\t\t\t\t\tWith no billionaire owner or shareholders,\n\t\t\t\t\t\t\t\t\tour journalism is funded by readers\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t<section css={sectionStyles}>\n\t\t\t\t\t\t\t\t<h3 css={subheadingStyles}>We’re open</h3>\n\t\t\t\t\t\t\t\t<p css={paragraphStyles}>\n\t\t\t\t\t\t\t\t\tWith misinformation threatening democracy,\n\t\t\t\t\t\t\t\t\twe keep our fact-based news paywall-free\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t<section css={sectionStyles}>\n\t\t\t\t\t\t\t\t<h3 css={subheadingStyles}>We’re global</h3>\n\t\t\t\t\t\t\t\t<p css={paragraphStyles}>\n\t\t\t\t\t\t\t\t\tWith 200 years of history and staff across\n\t\t\t\t\t\t\t\t\tAmerica and the world, we offer an outsider\n\t\t\t\t\t\t\t\t\tperspective on US news\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t<section css={sectionStyles}>\n\t\t\t\t\t\t\t\t<p css={ctaCalloutStyles}>\n\t\t\t\t\t\t\t\t\tSign up for Guardian Headlines US edition\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\t\tdata-link-name=\"us-expandable-marketing-card cta-click\"\n\t\t\t\t\t\t\t\tpriority=\"tertiary\"\n\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\thref={`${guardianBaseURL}/info/2015/dec/08/daily-email-us`}\n\t\t\t\t\t\t\t\tcssOverrides={buttonStyles}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tNewsletter sign up\n\t\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { type Dispatch, type SetStateAction, useEffect, useState } from 'react';\nimport { getOphan, submitComponentEvent } from '../client/ophan/ophan';\nimport { getZIndex } from '../lib/getZIndex';\nimport { ExpandableMarketingCard } from './ExpandableMarketingCard';\nimport type { UsBannerTestVariantName } from './ExpandableMarketingCardWrapper.importable';\n\n// The minimum length of the left swipe on the x-axis to close the banner\nconst LEFT_SWIPE_THRESHOLD_PX = 20;\n\nconst isLeftSwipe = (thisXCoord: number, prevXCoord: number | null) => {\n\tif (prevXCoord === null) {\n\t\treturn false;\n\t}\n\n\treturn thisXCoord + LEFT_SWIPE_THRESHOLD_PX < prevXCoord;\n};\n\nconst isViewportBelowTopOfBody = (topOfBody: Element) =>\n\ttopOfBody.getBoundingClientRect().top < 0;\n\ninterface Props {\n\theading: string;\n\tkicker: string;\n\tguardianBaseURL: string;\n\tisExpanded: boolean;\n\tsetIsExpanded: Dispatch<SetStateAction<boolean>>;\n\tsetIsClosed: Dispatch<SetStateAction<boolean>>;\n\tabTestVariant: UsBannerTestVariantName;\n}\n\nconst hideBannerStyles = css`\n\tleft: -1200px;\n\ttransition: all 2.5s linear;\n`;\n\nconst stickyContainerStyles = css`\n\tposition: sticky;\n\ttop: 0;\n\tz-index: ${getZIndex('expandableMarketingCardOverlay')};\n\n\t/* The component slides in from the left-hand side */\n\tanimation: slidein 2.4s linear;\n\n\t@keyframes slidein {\n\t\tfrom {\n\t\t\ttranslate: -1200px 0;\n\t\t}\n\n\t\tto {\n\t\t\ttranslate: 0 0;\n\t\t}\n\t}\n`;\n\nconst absoluteContainerStyles = css`\n\tposition: absolute;\n\twidth: 100%;\n`;\n\nconst isClick = (\n\tpointerDownCoords: [number, number],\n\tpointerUpCoords: [number | null, number | null],\n) => {\n\tconst [lastDownXCoord, lastDownYCoord] = pointerDownCoords;\n\tconst [lastUpXCoord, lastUpYCoord] = pointerUpCoords;\n\n\tif (lastUpXCoord === null || lastUpYCoord === null) return false;\n\n\t/**\n\t * Allow a 5px margin of error to identify a click. We want to\n\t * err on the side of expanding the banner if it is touched.\n\t */\n\treturn (\n\t\tMath.abs(lastUpXCoord - lastDownXCoord) < 5 &&\n\t\tMath.abs(lastUpYCoord - lastDownYCoord) < 5\n\t);\n};\n\n/**\n * Provides a swipeable wrapper around the ExpandableMarketingCard component.\n * This component can be dismissed by swiping it to the left.\n */\nexport const ExpandableMarketingCardSwipeable = ({\n\tguardianBaseURL,\n\theading,\n\tkicker,\n\tisExpanded,\n\tsetIsExpanded,\n\tsetIsClosed,\n\tabTestVariant,\n}: Props) => {\n\tconst [lastDownXCoord, setLastDownXCoord] = useState<number | null>(null);\n\tconst [lastDownYCoord, setLastDownYCoord] = useState<number | null>(null);\n\tconst [isDown, setIsDown] = useState(false);\n\tconst [hasSwipedLeft, setHasSwipedLeft] = useState(false);\n\tconst [topOfBody, setTopOfBody] = useState<Element | null>(null);\n\n\t/**\n\t * On screen sizes below leftCol (<1140px), only display the card\n\t * when the user scrolls past the top of the article.\n\t */\n\tconst [shouldDisplayCard, setShouldDisplayCard] = useState(false);\n\n\t// The distance to the left from the pointer down and current pointer, whilst the pointer is still down.\n\tconst [dragLeftDistance, setDragLeftDistance] = useState(0);\n\n\tuseEffect(() => {\n\t\tsetTopOfBody(document.querySelector('[data-gu-name=\"body\"]'));\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!topOfBody) return;\n\n\t\t/**\n\t\t * It's possible that the viewport does not start at the top of the page.\n\t\t */\n\t\tif (isViewportBelowTopOfBody(topOfBody)) {\n\t\t\tsetShouldDisplayCard(true);\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Show the card when the top of the body moves out of the viewport.\n\t\t */\n\t\tconst observer = new window.IntersectionObserver(\n\t\t\t([entry]) => {\n\t\t\t\tif (!entry) return;\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tsetShouldDisplayCard(true);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ rootMargin: '0px 0px -100%' },\n\t\t);\n\n\t\tobserver.observe(topOfBody);\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [topOfBody]);\n\n\tuseEffect(() => {\n\t\tconst reportView = () => {\n\t\t\tvoid getOphan('Web').then((ophan) => {\n\t\t\t\tophan.record({\n\t\t\t\t\tinteraction: {\n\t\t\t\t\t\tcomponent: 'us-expandable-marketing-card',\n\t\t\t\t\t\tvalue: 'us-expandable-marketing-card visible',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\tif (shouldDisplayCard) {\n\t\t\treportView();\n\t\t}\n\t}, [shouldDisplayCard]);\n\n\tuseEffect(() => {\n\t\tif (isExpanded) {\n\t\t\tvoid submitComponentEvent(\n\t\t\t\t{\n\t\t\t\t\tcomponent: {\n\t\t\t\t\t\tcomponentType: 'CONTAINER',\n\t\t\t\t\t\tid: 'us-expandable-marketing-card',\n\t\t\t\t\t},\n\t\t\t\t\taction: 'EXPAND',\n\t\t\t\t\tabTest: {\n\t\t\t\t\t\tname: 'UsaExpandableMarketingCard',\n\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'Web',\n\t\t\t);\n\t\t}\n\t}, [abTestVariant, isExpanded]);\n\n\tuseEffect(() => {\n\t\tif (hasSwipedLeft) {\n\t\t\tvoid submitComponentEvent(\n\t\t\t\t{\n\t\t\t\t\tcomponent: {\n\t\t\t\t\t\tcomponentType: 'CONTAINER',\n\t\t\t\t\t\tid: 'us-expandable-marketing-card',\n\t\t\t\t\t},\n\t\t\t\t\taction: 'CLOSE',\n\t\t\t\t\tabTest: {\n\t\t\t\t\t\tname: 'UsaExpandableMarketingCard',\n\t\t\t\t\t\tvariant: abTestVariant,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'Web',\n\t\t\t);\n\t\t}\n\t}, [abTestVariant, hasSwipedLeft]);\n\n\tif (!shouldDisplayCard) {\n\t\treturn null;\n\t}\n\n\tif (!isExpanded) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tdata-component=\"us-expandable-marketing-card\"\n\t\t\t\tcss={[stickyContainerStyles]}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tabsoluteContainerStyles,\n\t\t\t\t\t\tisDown &&\n\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\tleft: ${dragLeftDistance}px;\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\thasSwipedLeft && hideBannerStyles,\n\t\t\t\t\t]}\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\tif (event.key === 'Enter') {\n\t\t\t\t\t\t\tsetIsExpanded(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (event.key === 'Escape') {\n\t\t\t\t\t\t\tsetIsClosed(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonPointerDown={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tsetIsDown(true);\n\n\t\t\t\t\t\tsetLastDownXCoord(event.clientX);\n\t\t\t\t\t\tsetLastDownYCoord(event.clientY);\n\t\t\t\t\t}}\n\t\t\t\t\tonPointerUp={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tsetIsDown(false);\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tisClick(\n\t\t\t\t\t\t\t\t[event.clientX, event.clientY],\n\t\t\t\t\t\t\t\t[lastDownXCoord, lastDownYCoord],\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tsetIsExpanded(true);\n\t\t\t\t\t\t} else if (isLeftSwipe(event.clientX, lastDownXCoord)) {\n\t\t\t\t\t\t\tsetHasSwipedLeft(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonPointerMove={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tif (isDown) {\n\t\t\t\t\t\t\tsetDragLeftDistance(\n\t\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tevent.clientX - (lastDownXCoord ?? 0),\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonTouchStart={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<ExpandableMarketingCard\n\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\tguardianBaseURL,\n\t\t\t\t\t\t\theading,\n\t\t\t\t\t\t\tkicker,\n\t\t\t\t\t\t\tisExpanded,\n\t\t\t\t\t\t\tsetIsExpanded,\n\t\t\t\t\t\t\tsetIsClosed,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tdata-component=\"us-expandable-marketing-card\"\n\t\t\tcss={[stickyContainerStyles]}\n\t\t>\n\t\t\t<div\n\t\t\t\tcss={[absoluteContainerStyles]}\n\t\t\t\trole=\"button\"\n\t\t\t\ttabIndex={0}\n\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\tif (event.key === 'Escape') {\n\t\t\t\t\t\tsetIsClosed(true);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ExpandableMarketingCard\n\t\t\t\t\tguardianBaseURL={guardianBaseURL}\n\t\t\t\t\theading={heading}\n\t\t\t\t\tkicker={kicker}\n\t\t\t\t\tisExpanded={isExpanded}\n\t\t\t\t\tsetIsClosed={setIsClosed}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import type { ABTestAPI } from '@guardian/ab-core';\nimport { getCookie } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport type { DailyArticle } from '../lib/dailyArticleCount';\nimport { getDailyArticleCount } from '../lib/dailyArticleCount';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport { useAB } from '../lib/useAB';\nimport { ExpandableMarketingCard } from './ExpandableMarketingCard';\nimport { ExpandableMarketingCardSwipeable } from './ExpandableMarketingCardSwipeable';\nimport { Hide } from './Hide';\n\nexport type UsBannerTestVariantName =\n\t| 'variant-free'\n\t| 'variant-bubble'\n\t| 'variant-billionaire';\n\ntype Variant = {\n\theading: string;\n\tkicker: string;\n};\n\nconst variantFree: Variant = {\n\theading: 'Yes, this story is free',\n\tkicker: 'Why the Guardian has no paywall',\n};\nconst variantBubble: Variant = {\n\theading: 'Pop your US news bubble',\n\tkicker: 'How the Guardian is different',\n};\nconst variantBillionaire: Variant = {\n\theading: 'No billionaire approved this',\n\tkicker: 'How the Guardian is different',\n};\n\nconst getVariant = (\n\tabTestAPI: ABTestAPI | undefined,\n): UsBannerTestVariantName | null => {\n\tif (!abTestAPI) {\n\t\treturn null;\n\t}\n\n\tconst isInVariantFree = abTestAPI.isUserInVariant(\n\t\t'UsaExpandableMarketingCard',\n\t\t'variant-free',\n\t);\n\tconst isInVariantBubble = abTestAPI.isUserInVariant(\n\t\t'UsaExpandableMarketingCard',\n\t\t'variant-bubble',\n\t);\n\tconst isInVariantBillionaire = abTestAPI.isUserInVariant(\n\t\t'UsaExpandableMarketingCard',\n\t\t'variant-billionaire',\n\t);\n\n\tif (isInVariantFree) {\n\t\treturn 'variant-free';\n\t}\n\n\tif (isInVariantBubble) {\n\t\treturn 'variant-bubble';\n\t}\n\n\tif (isInVariantBillionaire) {\n\t\treturn 'variant-billionaire';\n\t}\n\n\treturn null;\n};\n\nconst getVariantCopy = (variant: UsBannerTestVariantName): Variant => {\n\tif (variant === 'variant-free') {\n\t\treturn variantFree;\n\t}\n\n\tif (variant === 'variant-bubble') {\n\t\treturn variantBubble;\n\t}\n\n\treturn variantBillionaire;\n};\n\nconst isFirstOrSecondArticle = () => {\n\tconst [dailyCount = {} as DailyArticle] = getDailyArticleCount() ?? [];\n\treturn Object.keys(dailyCount).length === 0 || dailyCount.count <= 1;\n};\n\nconst isNewUSUser = async () => {\n\tconst isUserInUS = (await getLocaleCode()) === 'US';\n\tif (!isUserInUS) {\n\t\treturn false;\n\t}\n\n\t// Exclude users who have selected a non-US edition.\n\tconst editionCookie = getCookie({ name: 'GU_EDITION' });\n\tconst hasUserSelectedNonUSEdition =\n\t\t!!editionCookie && editionCookie !== 'US';\n\n\t// This check must happen AFTER we've ensured that the user is in the US.\n\tconst isNewUser = isFirstOrSecondArticle();\n\n\treturn !hasUserSelectedNonUSEdition && isNewUser;\n};\n\ninterface Props {\n\tguardianBaseURL: string;\n}\n\nexport const ExpandableMarketingCardWrapper = ({ guardianBaseURL }: Props) => {\n\tconst [isExpanded, setIsExpanded] = useState(false);\n\tconst [isClosed, setIsClosed] = useState(false);\n\tconst [isApplicableUser, setIsApplicableUser] = useState(false);\n\n\tconst abTestAPI = useAB()?.api;\n\tconst abTestVariant = getVariant(abTestAPI);\n\n\tuseEffect(() => {\n\t\tvoid isNewUSUser().then((show) => {\n\t\t\tif (show) {\n\t\t\t\tsetIsApplicableUser(true);\n\t\t\t}\n\t\t});\n\t}, []);\n\n\tif (!abTestVariant || !isApplicableUser || isClosed) {\n\t\treturn null;\n\t}\n\n\tconst { heading, kicker } = getVariantCopy(abTestVariant);\n\n\treturn (\n\t\t<>\n\t\t\t<Hide when=\"below\" breakpoint=\"leftCol\">\n\t\t\t\t<div\n\t\t\t\t\tdata-component=\"us-expandable-marketing-card\"\n\t\t\t\t\trole={!isExpanded ? 'button' : 'none'}\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\tif (event.key === 'Enter' && !isExpanded) {\n\t\t\t\t\t\t\tsetIsExpanded(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (event.key === 'Escape') {\n\t\t\t\t\t\t\tsetIsClosed(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t!isExpanded && setIsExpanded(true);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<ExpandableMarketingCard\n\t\t\t\t\t\tguardianBaseURL={guardianBaseURL}\n\t\t\t\t\t\theading={heading}\n\t\t\t\t\t\tkicker={kicker}\n\t\t\t\t\t\tisExpanded={isExpanded}\n\t\t\t\t\t\tsetIsClosed={setIsClosed}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Hide>\n\t\t\t<Hide when=\"above\" breakpoint=\"leftCol\">\n\t\t\t\t<ExpandableMarketingCardSwipeable\n\t\t\t\t\tguardianBaseURL={guardianBaseURL}\n\t\t\t\t\theading={heading}\n\t\t\t\t\tkicker={kicker}\n\t\t\t\t\tisExpanded={isExpanded}\n\t\t\t\t\tsetIsExpanded={setIsExpanded}\n\t\t\t\t\tsetIsClosed={setIsClosed}\n\t\t\t\t\tabTestVariant={abTestVariant}\n\t\t\t\t/>\n\t\t\t</Hide>\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { Breakpoint } from '@guardian/source/foundations';\nimport { from, until } from '@guardian/source/foundations';\n\ninterface Props {\n\tchildren: React.ReactNode;\n\twhen: 'above' | 'below';\n\tbreakpoint: Breakpoint;\n}\n\ninterface PropsSpan extends Props {\n\tel?: 'span';\n}\ninterface PropsLi extends Props {\n\tel: 'li';\n}\n\nexport const Hide = ({\n\tchildren,\n\twhen,\n\tbreakpoint,\n\tel,\n}: PropsSpan | PropsLi) => {\n\tlet whenToHide;\n\tif (when === 'below') {\n\t\twhenToHide = css`\n\t\t\t${until[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t} else {\n\t\twhenToHide = css`\n\t\t\t${from[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t}\n\treturn el === 'li' ? (\n\t\t<li css={whenToHide}>{children}</li>\n\t) : (\n\t\t<span css={whenToHide}>{children}</span>\n\t);\n};\n","import { isObject, storage } from '@guardian/libs';\n\nexport interface DailyArticle {\n\tday: number;\n\tcount: number;\n}\n\nexport type DailyArticleHistory = Array<DailyArticle>;\n\nexport const DailyArticleCountKey = 'gu.history.dailyArticleCount';\n\nconst isValidHistory = (history: unknown): history is DailyArticleHistory =>\n\tArray.isArray(history) &&\n\thistory.every(\n\t\t(daily) =>\n\t\t\tisObject(daily) &&\n\t\t\t'day' in daily &&\n\t\t\t'count' in daily &&\n\t\t\ttypeof daily.day === 'number' &&\n\t\t\ttypeof daily.count === 'number',\n\t);\n\n// Returns undefined if no daily article count in local storage\nexport const getDailyArticleCount = (): DailyArticleHistory | undefined => {\n\ttry {\n\t\tconst dailyCount = storage.local.get(DailyArticleCountKey);\n\n\t\tif (!isValidHistory(dailyCount)) {\n\t\t\tthrow new Error('Invalid gu.history.dailyArticleCount value');\n\t\t}\n\n\t\treturn dailyCount;\n\t} catch (e) {\n\t\t// error parsing the string, so remove the key\n\t\tstorage.local.remove(DailyArticleCountKey);\n\t\treturn undefined;\n\t}\n};\n\nexport const getToday = (): number => Math.floor(Date.now() / 86_400_000);\n\nexport const incrementDailyArticleCount = (): void => {\n\t// get the daily article count from local storage\n\tconst dailyArticleCount = getDailyArticleCount() ?? [];\n\n\t// calculate days since unix epoch for today date\n\tconst today = getToday();\n\n\t// check if latest day is today and increment if so\n\tif (dailyArticleCount[0]?.day === today) {\n\t\tdailyArticleCount[0].count += 1;\n\t} else {\n\t\t// else set new day\n\t\tdailyArticleCount.unshift({ day: today, count: 1 });\n\n\t\t// remove any days older than 60\n\t\tconst cutOff = today - 60;\n\n\t\tconst firstOldDayIndex = dailyArticleCount.findIndex(\n\t\t\t(dailyCount) => dailyCount.day && dailyCount.day < cutOff,\n\t\t);\n\n\t\tif (firstOldDayIndex > 0) {\n\t\t\tdailyArticleCount.splice(firstOldDayIndex);\n\t\t}\n\t}\n\n\t// set the latest article count\n\tstorage.local.set(DailyArticleCountKey, dailyArticleCount);\n};\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n\t// Modals will go here at the top\n\t'lightbox',\n\t'youTubeFullscreen',\n\n\t// Sticky video and button need to be above everything\n\t'sticky-video-button',\n\t'sticky-video',\n\t'banner',\n\t'dropdown',\n\t'burger',\n\t'mastheadVeggieBurgerExpandedMobile',\n\t'expanded-veggie-menu-wrapper',\n\t'expanded-veggie-menu',\n\n\t//header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n\t'fullPageInteractiveHeaderWrapper',\n\n\t// Mobile sticky appears below banners\n\t'mobileSticky',\n\n\t// Headers with sticky ads\n\t'stickyAdWrapperLabsHeader',\n\t'stickyAdWrapper',\n\t'stickyAdWrapperNav',\n\n\t// My Account dropdown in masthead - needs to be below stickyAdWrapper\n\t'mastheadMyAccountDropdown',\n\n\t// Edition selector in masthead - needs to be below stickyAdWrapper\n\t'mastheadEditionDropdown',\n\n\t// Edition selector in nav - needs to be below stickyAdWrapper\n\t'editionDropdown',\n\n\t// The content displayed by the Details component\n\t'summaryDetails',\n\n\t// Liveblog toast\n\t'toast',\n\n\t// Onwards Carousel (Related content etc)\n\t'onwardsCarousel',\n\n\t// Search link should be above The Guardian svg\n\t'myAccountDropdown',\n\t'searchHeaderLink',\n\t'TheGuardian',\n\n\t// The edition switcher banner needs to be below the Edition selector\n\t// and the myAccount dropdown in the nav\n\t'editionSwitcherBanner',\n\n\t// Overlay for expandable marketing card (currently US only)\n\t'expandableMarketingCardOverlay',\n\n\t// Sticky table of contents element\n\t'tableOfContents',\n\n\t// Article headline (should be above main media)\n\t'articleHeadline',\n\t'immersiveBlackBox',\n\n\t// Body\n\t'bodyArea',\n\t'rightColumnArea',\n\n\t// Main media\n\t'mainMedia',\n\n\t// Nested links in cards should sit above the main card link\n\t// See: https://www.sarasoueidan.com/blog/nested-links/\n\t'card-nested-link',\n\t'card-link',\n] as const;\n\n// Implementation code - you don't need to change this to get a new index\nexport type ZIndex = (typeof indices)[number];\n\nexport const getZIndex = (name: ZIndex): number => {\n\tconst index = indices.indexOf(name);\n\tif (index === -1) return -1; // indexOf returns -1 if there is no match\n\treturn indices.length - index; // reverse the indices: last item gets 1\n};\n","import type { ABTestAPI, Participations } from '@guardian/ab-core';\nimport { mutate } from 'swr';\nimport useSWRImmutable from 'swr/immutable';\n\ntype ABTests = {\n\tapi: ABTestAPI;\n\tparticipations: Participations;\n};\n\nconst apiPromise = new Promise<ABTests>(() => {});\nconst key = 'ab-tests';\n\n/**\n * A hook which returns the AB Test Api when available,\n * or undefined otherwise.\n *\n * Leverages an immutable SWR to satisfy all requests to the\n * AB Core. As soon as the tests are available, all instances of\n * the useAB hook will render.\n */\nexport const useAB = (): ABTests | undefined => {\n\tconst { data } = useSWRImmutable(key, () => apiPromise);\n\treturn data;\n};\n\nexport const setABTests = ({ api, participations }: ABTests): void => {\n\tvoid mutate(key, { api, participations }, false);\n};\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n","import { palette } from '../../__generated__/palette.js';\n\nconst {\n  brand,\n  brandAlt,\n  neutral,\n  error,\n  success,\n  news,\n  opinion,\n  sport,\n  culture,\n  lifestyle,\n  labs,\n  specialReport,\n  focus\n} = palette;\nconst background = {\n  primary: palette.neutral[100],\n  secondary: palette.neutral[97],\n  inverse: palette.neutral[10],\n  ctaPrimary: palette.brand[400],\n  ctaPrimaryHover: \"#234B8A\",\n  ctaSecondary: palette.brand[800],\n  ctaSecondaryHover: \"#ACC9F7\",\n  ctaTertiaryHover: \"#E5E5E5\",\n  input: palette.neutral[100],\n  inputChecked: palette.brand[500]\n};\nconst brandBackground = {\n  primary: palette.brand[400],\n  inputChecked: palette.neutral[100],\n  ctaPrimary: palette.neutral[100],\n  ctaPrimaryHover: \"#E0E0E0\",\n  ctaSecondary: palette.brand[600],\n  ctaSecondaryHover: \"#234B8A\",\n  ctaTertiaryHover: palette.brand[300]\n};\nconst brandAltBackground = {\n  primary: palette.brandAlt[400],\n  ctaPrimary: palette.neutral[7],\n  ctaPrimaryHover: \"#454545\",\n  ctaSecondary: palette.brandAlt[200],\n  ctaSecondaryHover: \"#F2AE00\",\n  ctaTertiaryHover: \"#FFD213\"\n};\nconst border = {\n  primary: palette.neutral[60],\n  secondary: palette.neutral[86],\n  success: palette.success[400],\n  error: palette.error[400],\n  ctaTertiary: palette.brand[400],\n  input: palette.neutral[60],\n  inputChecked: palette.brand[500],\n  inputHover: palette.brand[500],\n  inputActive: palette.brand[500],\n  focusHalo: palette.focus[400]\n};\nconst brandBorder = {\n  primary: palette.brand[600],\n  secondary: palette.brand[600],\n  success: palette.success[500],\n  error: palette.error[500],\n  ctaTertiary: palette.neutral[100],\n  input: palette.brand[800],\n  inputChecked: palette.neutral[100],\n  inputHover: palette.neutral[100]\n};\nconst brandAltBorder = {\n  ctaTertiary: palette.neutral[7]\n};\nconst line = {\n  primary: palette.neutral[86]\n};\nconst brandLine = {\n  primary: palette.brand[600]\n};\nconst brandAltLine = {\n  primary: palette.neutral[7]\n};\nconst text = {\n  primary: palette.neutral[7],\n  supporting: palette.neutral[46],\n  success: palette.success[400],\n  error: palette.error[400],\n  ctaPrimary: palette.neutral[100],\n  ctaSecondary: palette.brand[400],\n  ctaTertiary: palette.brand[400],\n  anchorPrimary: palette.brand[500],\n  anchorSecondary: palette.neutral[7],\n  userInput: palette.neutral[7],\n  inputLabel: palette.neutral[7],\n  inputError: palette.neutral[7],\n  inputLabelSupporting: palette.neutral[46],\n  inputChecked: palette.brand[400],\n  //choice card only\n  inputHover: palette.brand[400],\n  //choice card only\n  groupLabel: palette.neutral[7],\n  groupLabelSupporting: palette.neutral[46],\n  newsInverse: palette.news[550]\n};\nconst brandText = {\n  primary: palette.neutral[100],\n  supporting: palette.brand[800],\n  success: palette.success[500],\n  error: palette.error[500],\n  ctaPrimary: palette.brand[400],\n  ctaSecondary: palette.neutral[100],\n  ctaTertiary: palette.neutral[100],\n  anchorPrimary: palette.neutral[100],\n  anchorPrimaryHover: palette.brandAlt[400],\n  userInput: palette.neutral[100],\n  inputLabel: palette.neutral[100],\n  inputLabelSupporting: palette.brand[800]\n};\nconst brandAltText = {\n  primary: palette.neutral[7],\n  supporting: palette.neutral[60],\n  ctaPrimary: palette.neutral[100],\n  ctaSecondary: palette.neutral[7],\n  ctaTertiary: palette.neutral[7],\n  anchorPrimary: palette.neutral[7]\n};\n\nexport { background, border, brand, brandAlt, brandAltBackground, brandAltBorder, brandAltLine, brandAltText, brandBackground, brandBorder, brandLine, brandText, culture, error, focus, labs, lifestyle, line, neutral, news, opinion, specialReport, sport, success, text };\n","const breakpoints = {\n  desktop: 980,\n  leftCol: 1140,\n  mobile: 320,\n  mobileLandscape: 480,\n  mobileMedium: 375,\n  phablet: 660,\n  tablet: 740,\n  wide: 1300\n};\n\nexport { breakpoints };\n","import { breakpoints } from '../__generated__/breakpoints.js';\n\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n  mobile: minWidth(breakpoints.mobile),\n  mobileMedium: minWidth(breakpoints.mobileMedium),\n  mobileLandscape: minWidth(breakpoints.mobileLandscape),\n  phablet: minWidth(breakpoints.phablet),\n  tablet: minWidth(breakpoints.tablet),\n  desktop: minWidth(breakpoints.desktop),\n  leftCol: minWidth(breakpoints.leftCol),\n  wide: minWidth(breakpoints.wide)\n};\nconst until = {\n  mobile: maxWidth(breakpoints.mobile),\n  mobileMedium: maxWidth(breakpoints.mobileMedium),\n  mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n  phablet: maxWidth(breakpoints.phablet),\n  tablet: maxWidth(breakpoints.tablet),\n  desktop: maxWidth(breakpoints.desktop),\n  leftCol: maxWidth(breakpoints.leftCol),\n  wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n  mobile: {\n    and: {\n      mobileMedium: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileMedium\n      ),\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileMedium: {\n    and: {\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobileMedium,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileLandscape: {\n    and: {\n      phablet: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.phablet\n      ),\n      tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n      desktop: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.desktop\n      ),\n      leftCol: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.leftCol\n      ),\n      wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n    }\n  },\n  phablet: {\n    and: {\n      tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n    }\n  },\n  tablet: {\n    and: {\n      desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n    }\n  },\n  desktop: {\n    and: {\n      leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n    }\n  },\n  leftCol: {\n    and: {\n      wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n    }\n  }\n};\n\nexport { between, from, until };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"m1 7.224 10.498 10.498h1.004L23 7.224l-.98-.954L12 14.708 1.98 6.27z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgChevronDownSingle = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Expand to show more\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgChevronDownSingle };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M12.015 14.042 20.707 22 22 20.709 14.06 12 22 3.291 20.707 2l-8.692 7.958L3.293 2.03 2 3.321 9.97 12 2 20.679l1.293 1.291z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgCross = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Close\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgCross };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\n\nconst LinkButton = ({\n  priority,\n  size,\n  iconSide,\n  icon: iconSvg,\n  nudgeIcon,\n  hideLabel,\n  cssOverrides,\n  children,\n  theme,\n  ...props\n}) => /* @__PURE__ */ jsx(\n  \"a\",\n  {\n    css: buttonStyles({\n      size,\n      priority,\n      icon: iconSvg,\n      hideLabel,\n      iconSide,\n      nudgeIcon,\n      cssOverrides,\n      theme\n    }),\n    ...props,\n    children: buttonContents({\n      hideLabel,\n      iconSvg,\n      children\n    })\n  }\n);\n\nexport { LinkButton };\n"],"names":["smallIllustrationStyles","css","from","phablet","leftCol","largeIllustrationStyles","BannersIllustration","type","styles","assetOrigin","useConfig","smallSrc","largeSrc","img","src","alt","fillBarStyles","palette","desktop","contentStyles","space","neutral","summaryStyles","contractedSummaryStyles","headingStyles","headlineBold17","wide","headlineBold20","kickerStyles","textSans15","textSans14","arrowStyles","detailsStyles","sectionStyles","subheadingStyles","paragraphStyles","ctaCalloutStyles","textSansBold14","imageTopStyles","imageBottomStyles","buttonStyles","textSansBold12","ExpandableMarketingCard","guardianBaseURL","heading","kicker","isExpanded","setIsClosed","div","section","h2","button","data-link-name","onClick","SvgCross","h3","p","LinkButton","priority","size","href","cssOverrides","SvgChevronDownSingle","hideBannerStyles","stickyContainerStyles","getZIndex","absoluteContainerStyles","ExpandableMarketingCardSwipeable","setIsExpanded","abTestVariant","lastDownXCoord","setLastDownXCoord","useState","lastDownYCoord","setLastDownYCoord","isDown","setIsDown","hasSwipedLeft","setHasSwipedLeft","topOfBody","setTopOfBody","shouldDisplayCard","setShouldDisplayCard","dragLeftDistance","setDragLeftDistance","useEffect","document","querySelector","getBoundingClientRect","top","isViewportBelowTopOfBody","observer","window","IntersectionObserver","entry","isIntersecting","rootMargin","observe","disconnect","getOphan","then","ophan","record","interaction","component","value","submitComponentEvent","componentType","id","action","abTest","name","variant","data-component","role","tabIndex","onKeyDown","event","key","onPointerDown","preventDefault","clientX","clientY","onPointerUp","thisXCoord","prevXCoord","pointerDownCoords","pointerUpCoords","lastUpXCoord","lastUpYCoord","Math","abs","isClick","onPointerMove","min","onTouchStart","variantFree","variantBubble","variantBillionaire","ExpandableMarketingCardWrapper","useAB","isClosed","isApplicableUser","setIsApplicableUser","abTestAPI","isInVariantFree","isUserInVariant","isInVariantBubble","isInVariantBillionaire","getVariant","api","async","getLocaleCode","editionCookie","getCookie","hasUserSelectedNonUSEdition","isNewUser","getDailyArticleCount","dailyCount","Object","keys","length","count","isFirstOrSecondArticle","isNewUSUser","show","Hide","when","breakpoint","whenToHide","children","el","until","li","span","DailyArticleCountKey","storage","local","get","history","Array","isArray","every","daily","isObject","day","Error","e","remove","getToday","floor","Date","now","incrementDailyArticleCount","dailyArticleCount","today","unshift","cutOff","firstOldDayIndex","findIndex","splice","set","indices","index","indexOf","apiPromise","Promise","data","useSWRImmutable","setABTests","participations","mutate","colour","brand","brandAlt","error","success","news","opinion","sport","culture","lifestyle","labs","specialReport","focus","background","primary","secondary","inverse","ctaPrimary","ctaPrimaryHover","ctaSecondary","ctaSecondaryHover","ctaTertiaryHover","input","inputChecked","brandAltBackground","line","brandAltLine","text","supporting","ctaTertiary","anchorPrimary","anchorSecondary","userInput","inputLabel","inputError","inputLabelSupporting","inputHover","groupLabel","groupLabelSupporting","newsInverse","brandText","anchorPrimaryHover","brandAltText","breakpoints","mobile","mobileLandscape","mobileMedium","tablet","minWidth","from2","maxWidth","until2","minWidthMaxWidth","between","and","Svg","theme","jsx","width","iconSize","height","viewBox","xmlns","focusable","fillRule","clipRule","d","fill","isAnnouncedByScreenReader","jsxs","Fragment","visuallyHidden","iconSide","icon","iconSvg","nudgeIcon","hideLabel","props","buttonContents"],"sourceRoot":""}