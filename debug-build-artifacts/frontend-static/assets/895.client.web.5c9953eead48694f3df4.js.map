{"version":3,"file":"895.client.web.5c9953eead48694f3df4.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/BylineWithHeadshot.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/ContributionsEpicArticleCountAboveWithOptOut.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/ContributionsEpicSignInCta.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/ContributionsEpic.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/hooks/useArticleCountOptOut.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/lib/stage.ts"],"sourcesContent":["/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/BylineWithHeadshot.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tarticleBold17,\n\tarticleItalic17,\n\tpalette,\n} from '@guardian/source/foundations';\nimport type { BylineWithImage } from '@guardian/support-dotcom-components/dist/shared/types';\nimport type { ReactComponent } from '../lib/ReactComponent';\n\ninterface BylineWithHeadshotProps {\n\tbylineWithImage: BylineWithImage;\n\tisColourInTestVariant: boolean;\n}\n\nconst bylineWithImageContainer = css`\n\tmargin: 0;\n\tpadding: 0;\n\tposition: relative;\n\twidth: 100%;\n\theight: 130px;\n`;\n\nconst bylineCopyContainer = css`\n\twidth: 70%;\n\tposition: absolute;\n\tbottom: 20px;\n\tleft: 0;\n`;\n\nconst bylineImageContainer = css`\n\tmax-width: 30%;\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n`;\n\nconst bylineName = css`\n\t${articleBold17};\n\tmargin: 0;\n`;\n\nconst bylineDescription = css`\n\t${articleItalic17};\n\tmargin: 0;\n`;\n\nconst bylineHeadshotImage = css`\n\theight: 100%;\n\twidth: 100%;\n\tobject-fit: cover;\n`;\n\nconst bylineBottomDecoration = (isInTestVariant: boolean) => css`\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 100%;\n\tbackground-repeat: repeat-x;\n\tbackground-position: top;\n\tbackground-size: 1px calc(0.25rem * 4 + 1px);\n\theight: calc(0.25rem * 4 + 1px);\n\tbackground-image: repeating-linear-gradient(\n\t\tto bottom,\n\t\t${isInTestVariant ? palette.neutral[0] : palette.neutral[86]},\n\t\t${isInTestVariant ? palette.neutral[0] : palette.neutral[86]} 1px,\n\t\ttransparent 1px,\n\t\ttransparent 0.25rem\n\t);\n`;\n\nexport const BylineWithHeadshot: ReactComponent<BylineWithHeadshotProps> = ({\n\tbylineWithImage,\n\tisColourInTestVariant,\n}) => {\n\tconst { name, description, headshot } = bylineWithImage;\n\n\treturn (\n\t\t<div css={bylineWithImageContainer}>\n\t\t\t<div css={bylineCopyContainer}>\n\t\t\t\t<p css={bylineName}>{name}</p>\n\t\t\t\t<p css={bylineDescription}>{description}</p>\n\t\t\t</div>\n\t\t\t{headshot && (\n\t\t\t\t<>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={bylineBottomDecoration(isColourInTestVariant)}\n\t\t\t\t\t></div>\n\t\t\t\t\t<div css={bylineImageContainer}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={headshot.mainUrl}\n\t\t\t\t\t\t\talt={headshot.altText}\n\t\t\t\t\t\t\tcss={bylineHeadshotImage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/ContributionsEpicArticleCountAboveWithOptOut.tsx\n */\nimport { css } from '@emotion/react';\nimport type { OphanComponentEvent } from '@guardian/libs';\nimport {\n\tarticleBoldItalic15,\n\tarticleBoldItalic17,\n\tfrom,\n\ttextSans12,\n\ttextSans14,\n\ttextSans15,\n\ttextSansBold12,\n\ttextSansBold14,\n\ttextSansBold15,\n\tuntil,\n} from '@guardian/source/foundations';\nimport { palette, space } from '@guardian/source/foundations';\nimport { Button, ButtonLink } from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport {\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_IN,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_CLOSE,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_OPEN,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_STAY_IN,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_STAY_OUT,\n} from './utils/ophan';\n\nexport interface ContributionsEpicArticleCountAboveWithOptOutProps {\n\tcopy?: string;\n\tarticleCount: number;\n\tisArticleCountOn: boolean;\n\tonArticleCountOptOut: () => void;\n\tonArticleCountOptIn: () => void;\n\topenCmp?: () => void;\n\tsubmitComponentEvent?: (componentEvent: OphanComponentEvent) => void;\n}\n\nexport const ContributionsEpicArticleCountAboveWithOptOut: ReactComponent<\n\tContributionsEpicArticleCountAboveWithOptOutProps\n> = ({\n\tarticleCount,\n\tcopy,\n\tisArticleCountOn,\n\tonArticleCountOptOut,\n\tonArticleCountOptIn,\n\topenCmp,\n\tsubmitComponentEvent,\n}: ContributionsEpicArticleCountAboveWithOptOutProps) => {\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst onToggleClick = () => {\n\t\tsetIsOpen(!isOpen);\n\t\tsubmitComponentEvent?.(\n\t\t\tisOpen\n\t\t\t\t? OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_CLOSE\n\t\t\t\t: OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_OPEN,\n\t\t);\n\t};\n\n\tconst onStayInClick = () => {\n\t\tsetIsOpen(false);\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_STAY_IN);\n\t};\n\n\tconst onOptOutClick = () => {\n\t\tsetIsOpen(false);\n\t\tonArticleCountOptOut();\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT);\n\t};\n\n\tconst onOptInClick = () => {\n\t\tsetIsOpen(false);\n\t\tonArticleCountOptIn();\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_OPT_IN);\n\t};\n\n\tconst onStayOutClick = () => {\n\t\tsetIsOpen(false);\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_STAY_OUT);\n\t};\n\n\treturn (\n\t\t<div css={topContainer}>\n\t\t\t<ArticleCountWithToggle\n\t\t\t\tisArticleCountOn={isArticleCountOn}\n\t\t\t\tarticleCount={articleCount}\n\t\t\t\tonToggleClick={onToggleClick}\n\t\t\t\tcopy={copy}\n\t\t\t/>\n\n\t\t\t{isOpen && (\n\t\t\t\t<div css={articleCountDescriptionTopContainerStyles}>\n\t\t\t\t\t<div css={caretStyles}></div>\n\t\t\t\t\t<div css={articleCountDescriptionContainer}>\n\t\t\t\t\t\t{isArticleCountOn ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div css={articleCountBodyTextStyles}>\n\t\t\t\t\t\t\t\t\tMany readers tell us they enjoy seeing how\n\t\t\t\t\t\t\t\t\tmany pieces of Guardian journalism they’ve\n\t\t\t\t\t\t\t\t\tread, watched or listened to. So here’s your\n\t\t\t\t\t\t\t\t\tcount. Can we continue showing you this on\n\t\t\t\t\t\t\t\t\tsupport appeals like this?\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={articleCountCtasContainerStyles}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountDefaultCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onStayInClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tYes, that&apos;s OK\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountOptOutCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onOptOutClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tNo, opt me out\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div css={articleCountBodyTextStyles}>\n\t\t\t\t\t\t\t\t\tMany readers tell us they enjoy seeing how\n\t\t\t\t\t\t\t\t\tmany pieces of Guardian journalism they’ve\n\t\t\t\t\t\t\t\t\tread, watched or listened to. Can we start\n\t\t\t\t\t\t\t\t\tshowing you your article count on support\n\t\t\t\t\t\t\t\t\tappeals like this?\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={articleCountCtasContainerStyles}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountOptInCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onOptInClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tYes, opt me in\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountOptOutCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onStayOutClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tNo, thank you\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={trackingSettingsContainerStyles}>\n\t\t\t\t\t\tTo opt out of other tracking activity, manage your{' '}\n\t\t\t\t\t\t<ButtonLink\n\t\t\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\t\t\tcssOverrides={privacySettingsLinkStyles}\n\t\t\t\t\t\t\tonClick={openCmp}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrivacy Settings\n\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\n// --- Helper components --- //\n\ninterface ArticleCountWithToggleProps {\n\tarticleCount: number;\n\tisArticleCountOn: boolean;\n\tonToggleClick: () => void;\n\tcopy?: string;\n}\n\nconst ArticleCountWithToggle: ReactComponent<ArticleCountWithToggleProps> = ({\n\tisArticleCountOn,\n\tarticleCount,\n\tonToggleClick,\n\tcopy,\n}: ArticleCountWithToggleProps) => {\n\tif (isArticleCountOn && articleCount >= 5) {\n\t\treturn (\n\t\t\t<div css={articleCountOnHeaderContainerStyles}>\n\t\t\t\t<ArticleCount articleCount={articleCount} copy={copy} />\n\n\t\t\t\t<div css={articleCountWrapperStyles}>\n\t\t\t\t\t<div css={articleCountTextStyles}>Article count</div>\n\t\t\t\t\t<ButtonLink\n\t\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\t\tonClick={onToggleClick}\n\t\t\t\t\t\tcssOverrides={articleCountCtaStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\ton\n\t\t\t\t\t</ButtonLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (!isArticleCountOn) {\n\t\treturn (\n\t\t\t<div css={articleCountWrapperStyles}>\n\t\t\t\t<div css={articleCountTextStyles}>Article count</div>\n\t\t\t\t<ButtonLink\n\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\tonClick={onToggleClick}\n\t\t\t\t\tcssOverrides={articleCountCtaStyles}\n\t\t\t\t>\n\t\t\t\t\toff\n\t\t\t\t</ButtonLink>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn <></>;\n};\n\nconst ARTICLE_COUNT_TEMPLATE = '%%ARTICLE_COUNT%%';\nconst containsArticleCountTemplate = (copy: string): boolean =>\n\tcopy.includes(ARTICLE_COUNT_TEMPLATE);\n\ninterface CustomArticleCountCopyProps {\n\tarticleCount: number;\n\tcopy: string;\n}\n\nconst CustomArticleCountCopy: ReactComponent<CustomArticleCountCopyProps> = ({\n\tarticleCount,\n\tcopy,\n}) => {\n\tconst [copyHead, copyTail] = copy.split(ARTICLE_COUNT_TEMPLATE);\n\n\treturn (\n\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t{copyHead}\n\t\t\t<span css={optOutContainer}>{articleCount}&nbsp;articles</span>\n\t\t\t{copyTail?.substring(1, 9) === 'articles'\n\t\t\t\t? copyTail.substring(9)\n\t\t\t\t: copyTail}\n\t\t</div>\n\t);\n};\n\ninterface ArticleCountProps {\n\tarticleCount: number;\n\tcopy?: string;\n}\n\nconst ArticleCount: ReactComponent<ArticleCountProps> = ({\n\tarticleCount,\n\tcopy,\n}) => {\n\tif (copy && containsArticleCountTemplate(copy)) {\n\t\t// Custom article count message\n\t\treturn (\n\t\t\t<CustomArticleCountCopy articleCount={articleCount} copy={copy} />\n\t\t);\n\t} else if (articleCount >= 50) {\n\t\treturn (\n\t\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t\tCongratulations on being one of our top readers globally –\n\t\t\t\tyou&apos;ve read{' '}\n\t\t\t\t<span css={optOutContainer}>{articleCount} articles</span> in\n\t\t\t\tthe last year\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t\tYou&apos;ve read{' '}\n\t\t\t\t<span css={optOutContainer}>{articleCount} articles</span> in\n\t\t\t\tthe last year\n\t\t\t</div>\n\t\t);\n\t}\n};\n\n// --- Styles --- //\n\nconst topContainer = css`\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\n\t${from.tablet} {\n\t\tdisplay: block;\n\t\tmargin-top: 10px;\n\t}\n`;\n\nconst articleCountAboveContainerStyles = css`\n\t${articleBoldItalic15};\n\n\t${from.tablet} {\n\t\t${articleBoldItalic17};\n\t}\n`;\n\nconst optOutContainer = css`\n\tcolor: ${palette.opinion[400]};\n`;\n\nconst articleCountOnHeaderContainerStyles = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: column-reverse;\n\talign-items: flex-start;\n\n\t${from.tablet} {\n\t\tflex-direction: row;\n\t\talign-items: flex-start;\n\t}\n`;\n\nconst articleCountWrapperStyles = css`\n\tflex-shrink: 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: flex-start;\n\tmargin-right: ${space[2]}px;\n\tmargin-bottom: ${space[2]}px;\n\tjustify-content: start;\n\n\t${from.tablet} {\n\t\tmargin-left: ${space[5]}px;\n\t\tmargin-bottom: 0;\n\t\tjustify-content: flex-end;\n\t}\n`;\n\nconst articleCountTextStyles = css`\n\t${textSans12};\n\tmargin-right: ${space[1]}px;\n\n\t${from.tablet} {\n\t\t${textSans15};\n\t}\n`;\n\nconst articleCountCtaStyles = css`\n\tmargin-top: 0;\n\n\t${textSansBold12};\n\n\t${from.tablet} {\n\t\t${textSansBold15};\n\t}\n`;\n\nconst articleCountDescriptionTopContainerStyles = css`\n\tborder-bottom: 1px solid ${palette.neutral[46]};\n\tposition: relative;\n\tmargin-bottom: ${space[2]}px;\n\n\t${from.tablet} {\n\t\tmargin-top: ${space[4]}px;\n\t\tborder-top: 1px solid ${palette.neutral[0]};\n\t\tborder-bottom: 1px solid ${palette.neutral[0]};\n\t}\n`;\n\nconst articleCountDescriptionContainer = css`\n\talign-items: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: ${space[1]}px ${space[1]}px 0;\n\n\t${from.tablet} {\n\t\tflex-direction: row;\n\t\tpadding: ${space[1]}px 0;\n\t\talign-items: start;\n\t\tmargin-top: ${space[1]}px;\n\t}\n`;\n\nconst articleCountBodyTextStyles = css`\n\t${textSans15};\n\twidth: 100%;\n\n\t${from.tablet} {\n\t\twidth: 68%;\n\t}\n`;\n\nconst articleCountCtasContainerStyles = css`\n\tdisplay: flex;\n\talign-self: start;\n\tmargin-top: ${space[4]}px;\n\t> * + * {\n\t\tmargin-left: ${space[3]}px;\n\t}\n\n\t${from.tablet} {\n\t\tflex-direction: column;\n\t\tmargin-left: auto;\n\t\tmargin-top: ${space[2]}px;\n\t\tjustify-content: space-between;\n\t\t> * + * {\n\t\t\tmargin-top: ${space[3]}px;\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n`;\n\nconst articleCountOptInCtaStyles = css`\n\tbackground-color: ${palette.neutral[0]};\n`;\n\nconst articleCountDefaultCtaStyles = css`\n\tbackground-color: ${palette.neutral[0]};\n\tpadding: auto ${space[6]}px;\n\n\t${from.tablet} {\n\t\tpadding-left: ${space[5]}px;\n\t}\n`;\n\nconst articleCountOptOutCtaStyles = css`\n\tcolor: ${palette.neutral[0]};\n\tborder: 1px solid ${palette.neutral[0]};\n`;\n\nconst trackingSettingsContainerStyles = css`\n\tmargin: ${space[4]}px auto ${space[3]}px;\n\t${textSans12};\n\n\t${from.tablet} {\n\t\t${textSans14};\n\t}\n`;\n\nconst privacySettingsLinkStyles = css`\n\t${textSansBold12};\n\n\t${from.tablet} {\n\t\t${textSansBold14};\n\t}\n`;\n\nconst caretStyles = css`\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: -14px;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder: 7px solid transparent;\n\t\tborder-top-color: ${palette.neutral[46]};\n\n\t\t${from.tablet} {\n\t\t\tright: 5px;\n\t\t\tbottom: 100%;\n\t\t\tborder: 10px solid transparent;\n\t\t\tborder-bottom-color: ${palette.neutral[0]};\n\t\t}\n\n\t\t${until.tablet} {\n\t\t\tleft: 75px;\n\t\t}\n\t}\n\n\t&:after {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: -12px;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder: 6px solid transparent;\n\t\tborder-top-color: ${palette.neutral[97]};\n\n\t\t${from.tablet} {\n\t\t\tright: 6px;\n\t\t\tbottom: 100%;\n\t\t\tborder: 9px solid transparent;\n\t\t\tborder-bottom-color: ${palette.neutral[97]};\n\t\t}\n\n\t\t${until.tablet} {\n\t\t\tleft: 76px;\n\t\t}\n\t}\n`;\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/ContributionsEpicSignInCta.tsx\n */\nimport { css } from '@emotion/react';\nimport type { OphanComponentEvent } from '@guardian/libs';\nimport { articleBold17, neutral } from '@guardian/source/foundations';\nimport { Link } from '@guardian/source/react-components';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport { OPHAN_COMPONENT_SIGN_IN } from './utils/ophan';\n\nconst signInLink = css`\n\tmargin: 0;\n\tborder-top: 1px solid ${neutral[0]};\n`;\n\nconst signInLinkText = css`\n\t${articleBold17};\n`;\n\nconst signInUrl =\n\t'https://profile.theguardian.com/signin?utm_source=gdnwb&utm_medium=banner&utm_campaign=SigninEPIC_Existing&CMP_TU=mrtn&CMP_BUNIT=subs';\n\ninterface ContributionsEpicSignInProps {\n\tsubmitComponentEvent?: (event: OphanComponentEvent) => void;\n}\n\nexport const ContributionsEpicSignInCta: ReactComponent<\n\tContributionsEpicSignInProps\n> = ({ submitComponentEvent }: ContributionsEpicSignInProps) => {\n\tconst onSignInClick = () => {\n\t\tif (submitComponentEvent) {\n\t\t\tsubmitComponentEvent(OPHAN_COMPONENT_SIGN_IN);\n\t\t}\n\t};\n\n\treturn (\n\t\t<p css={[signInLink, signInLinkText]}>\n\t\t\tAlready a supporter?{' '}\n\t\t\t<Link\n\t\t\t\tonClick={onSignInClick}\n\t\t\t\thref={signInUrl}\n\t\t\t\tpriority=\"secondary\"\n\t\t\t\tcssOverrides={signInLinkText}\n\t\t\t>\n\t\t\t\tSign in\n\t\t\t</Link>{' '}\n\t\t\tand you’ll see far fewer of these messages.\n\t\t</p>\n\t);\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/ContributionsEpic.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tarticle17,\n\tarticleBold17,\n\tfrom,\n\theadlineBold20,\n\tpalette,\n\tspace,\n} from '@guardian/source/foundations';\nimport { Ticker } from '@guardian/source-development-kitchen/react-components';\nimport type { TickerSettings } from '@guardian/source-development-kitchen/react-components';\nimport {\n\tcontainsNonArticleCountPlaceholder,\n\tepicPropsSchema,\n\treplaceNonArticleCountPlaceholders,\n} from '@guardian/support-dotcom-components';\nimport type {\n\tEpicProps,\n\tStage,\n} from '@guardian/support-dotcom-components/dist/shared/types';\nimport { useEffect } from 'react';\nimport { useIsInView } from '../../../lib/useIsInView';\nimport { useArticleCountOptOut } from '../hooks/useArticleCountOptOut';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport { replaceArticleCount } from '../lib/replaceArticleCount';\nimport { isProd } from '../lib/stage';\nimport {\n\taddTrackingParamsToBodyLinks,\n\tcreateInsertEventFromTracking,\n\tcreateViewEventFromTracking,\n} from '../lib/tracking';\nimport { logEpicView } from '../lib/viewLog';\nimport type { OphanTracking } from '../shared/ArticleCountOptOutPopup';\nimport { BylineWithHeadshot } from './BylineWithHeadshot';\nimport { ContributionsEpicArticleCountAboveWithOptOut } from './ContributionsEpicArticleCountAboveWithOptOut';\nimport { ContributionsEpicNewsletterSignup } from './ContributionsEpicNewsletterSignup';\nimport { ContributionsEpicSignInCta } from './ContributionsEpicSignInCta';\nimport { ContributionsEpicCtasContainer } from './ctas/ContributionsEpicCtasContainer';\n\n// Hard-coded AB TEST - picking up ab test name and variant name from the tracking object\n// then applying a different colour if it matches, or the default colour if it doesn't.\nconst getVariantOrControlStyle = (\n\tisInTestVariant: boolean,\n\tvariant: string,\n\tcontrol: string,\n) => {\n\treturn isInTestVariant ? variant : control;\n};\n\n// CSS Styling\n// -------------------------------------------\nconst wrapperStyles = (isInTestVariant: boolean) => css`\n\tpadding: ${space[1]}px ${space[2]}px ${space[3]}px;\n\tborder-top: 1px solid\n\t\t${getVariantOrControlStyle(\n\t\t\tisInTestVariant,\n\t\t\tpalette.neutral[0],\n\t\t\tpalette.brandAlt[400],\n\t\t)};\n\tbackground-color: ${getVariantOrControlStyle(\n\t\tisInTestVariant,\n\t\t'#E2E3BF',\n\t\tpalette.neutral[97],\n\t)};\n\n\t* {\n\t\t::selection {\n\t\t\tbackground: ${palette.brandAlt[400]};\n\t\t}\n\t\t::-moz-selection {\n\t\t\tbackground: ${palette.brandAlt[400]};\n\t\t}\n\t}\n\n\tb,\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n`;\n\nconst headingStyles = css`\n\t${headlineBold20};\n\tmargin-top: 0;\n\tmargin-bottom: ${space[3]}px;\n`;\n\n// Custom styles for <a> tags in the Epic content\nconst linkStyles = css`\n\ta {\n\t\tcolor: ${palette.news[400]};\n\t\ttext-decoration: none;\n\t\tborder-bottom: 1px solid ${palette.news[400]};\n\t}\n`;\n\nconst bodyStyles = css`\n\tmargin: 0 auto ${space[2]}px;\n\t${article17};\n\t${linkStyles}\n`;\n\nconst highlightWrapperStyles = css`\n\t${articleBold17};\n\t${linkStyles};\n`;\n\nconst highlightStyles = (isInTestVariant: boolean) => css`\n\tpadding: 2px;\n\tbackground-color: ${getVariantOrControlStyle(\n\t\tisInTestVariant,\n\t\t'#C41C1C',\n\t\tpalette.brandAlt[400],\n\t)};\n\tcolor: ${getVariantOrControlStyle(\n\t\tisInTestVariant,\n\t\tpalette.neutral[100],\n\t\tpalette.neutral[7],\n\t)};\n`;\n\nconst imageWrapperStyles = css`\n\tmargin: ${space[3]}px 0 ${space[2]}px;\n\n\t${from.tablet} {\n\t\tmargin: 10px 0;\n\t}\n`;\n\nconst imageStyles = css`\n\theight: 100%;\n\twidth: 100%;\n\tobject-fit: cover;\n`;\n\nconst defaultTickerStylingSettings: TickerSettings['tickerStylingSettings'] = {\n\tfilledProgressColour: '#5056F5',\n\tprogressBarBackgroundColour: 'rgba(80, 86, 245, 0.35)',\n\theadlineColour: '#000000',\n\ttotalColour: '#5056F5',\n\tgoalColour: '#000000',\n};\nconst usEOYTickerStylingSettings: TickerSettings['tickerStylingSettings'] = {\n\tfilledProgressColour: '#C41C1C',\n\tprogressBarBackgroundColour: 'rgba(196, 28, 28, 0.30)',\n\theadlineColour: '#000000',\n\ttotalColour: '#C41C1C',\n\tgoalColour: '#000000',\n};\n\nconst articleCountAboveContainerStyles = css`\n\tmargin-bottom: ${space[4]}px;\n`;\n\nconst tickerContainerStyles = css`\n\tpadding-bottom: ${space[5]}px;\n\tpadding-top: ${space[1]}px;\n`;\n\n// EpicHeader - local component\n// -------------------------------------------\ninterface EpicHeaderProps {\n\ttext: string;\n\tnumArticles: number;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n}\n\nconst EpicHeader: ReactComponent<EpicHeaderProps> = ({\n\ttext,\n\tnumArticles,\n\ttracking,\n\tshowAboveArticleCount,\n}: EpicHeaderProps) => {\n\tconst elements = replaceArticleCount(\n\t\ttext,\n\t\tnumArticles,\n\t\t'epic',\n\t\ttracking,\n\t\t!showAboveArticleCount,\n\t);\n\treturn <h2 css={headingStyles}>{elements}</h2>;\n};\n\n// Highlighted - local component\n// -------------------------------------------\ntype HighlightedProps = {\n\thighlightedText: string;\n\tnumArticles: number;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n\tisColourInTestVariant: boolean;\n};\n\nconst Highlighted: ReactComponent<HighlightedProps> = ({\n\thighlightedText,\n\tnumArticles,\n\ttracking,\n\tshowAboveArticleCount,\n\tisColourInTestVariant,\n}: HighlightedProps) => {\n\tconst elements = replaceArticleCount(\n\t\thighlightedText,\n\t\tnumArticles,\n\t\t'epic',\n\t\ttracking,\n\t\t!showAboveArticleCount,\n\t);\n\n\treturn (\n\t\t<strong css={highlightWrapperStyles}>\n\t\t\t{' '}\n\t\t\t<span css={highlightStyles(isColourInTestVariant)}>{elements}</span>\n\t\t</strong>\n\t);\n};\n\n// EpicBodyParagraph - local component\n// -------------------------------------------\ninterface EpicBodyParagraphProps {\n\tparagraph: string;\n\tnumArticles: number;\n\thighlighted: JSX.Element | null;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n}\n\nconst EpicBodyParagraph: ReactComponent<EpicBodyParagraphProps> = ({\n\tparagraph,\n\tnumArticles,\n\thighlighted,\n\ttracking,\n\tshowAboveArticleCount,\n}: EpicBodyParagraphProps) => {\n\tconst elements = replaceArticleCount(\n\t\tparagraph,\n\t\tnumArticles,\n\t\t'epic',\n\t\ttracking,\n\t\t!showAboveArticleCount,\n\t);\n\n\treturn (\n\t\t<p css={bodyStyles}>\n\t\t\t{elements}\n\t\t\t{highlighted ? highlighted : null}\n\t\t</p>\n\t);\n};\n\n// EpicBody - local component\n// -------------------------------------------\ntype BodyProps = {\n\tparagraphs: string[];\n\thighlightedText?: string;\n\tnumArticles: number;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n\tisColourInTestVariant: boolean;\n};\n\nconst EpicBody: ReactComponent<BodyProps> = ({\n\tnumArticles,\n\tparagraphs,\n\thighlightedText,\n\ttracking,\n\tshowAboveArticleCount,\n\tisColourInTestVariant,\n}: BodyProps) => {\n\treturn (\n\t\t<>\n\t\t\t{paragraphs.map((paragraph, idx) => {\n\t\t\t\tconst paragraphElement = (\n\t\t\t\t\t<EpicBodyParagraph\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tparagraph={paragraph}\n\t\t\t\t\t\tnumArticles={numArticles}\n\t\t\t\t\t\thighlighted={\n\t\t\t\t\t\t\thighlightedText && idx === paragraphs.length - 1 ? (\n\t\t\t\t\t\t\t\t<Highlighted\n\t\t\t\t\t\t\t\t\thighlightedText={highlightedText}\n\t\t\t\t\t\t\t\t\tnumArticles={numArticles}\n\t\t\t\t\t\t\t\t\tshowAboveArticleCount={\n\t\t\t\t\t\t\t\t\t\tshowAboveArticleCount\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tisColourInTestVariant={\n\t\t\t\t\t\t\t\t\t\tisColourInTestVariant\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttracking={tracking}\n\t\t\t\t\t\tshowAboveArticleCount={showAboveArticleCount}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\treturn paragraphElement;\n\t\t\t})}\n\t\t</>\n\t);\n};\n\nconst sendEpicViewEvent = (\n\turl: string,\n\tabTestName: string,\n\tabTestVariant: string,\n\tstage?: Stage,\n\tcountryCode?: string,\n): void => {\n\tconst path = 'events/epic-view';\n\tconst host = isProd(stage)\n\t\t? 'https://contributions.guardianapis.com'\n\t\t: 'https://contributions.code.dev-guardianapis.com';\n\tconst eventBody = JSON.stringify({\n\t\turl,\n\t\tcountryCode,\n\t\tabTests: [{ name: abTestName, variant: abTestVariant }],\n\t});\n\n\tvoid fetch(`${host}/${path}`, {\n\t\tmethod: 'POST',\n\t\theaders: { 'Content-Type': 'application/json' },\n\t\tbody: eventBody,\n\t}).then((response) => {\n\t\tif (!response.ok) {\n\t\t\tconsole.log('Epic view event request failed', response);\n\t\t}\n\t});\n};\n\nconst ContributionsEpic: ReactComponent<EpicProps> = ({\n\tvariant,\n\ttracking,\n\tcountryCode,\n\tarticleCounts,\n\tonReminderOpen,\n\tfetchEmail,\n\tsubmitComponentEvent,\n\topenCmp,\n\thasConsentForArticleCount,\n\tstage,\n}: EpicProps) => {\n\tconst { image, tickerSettings, choiceCardAmounts, newsletterSignup } =\n\t\tvariant;\n\n\tconst isColourInTestVariant: boolean =\n\t\ttracking.abTestName.includes('_ARTICLE_EPIC_BG_COLOUR') &&\n\t\ttracking.abTestVariant === 'VARIANT';\n\n\tconst { hasOptedOut, onArticleCountOptIn, onArticleCountOptOut } =\n\t\tuseArticleCountOptOut();\n\n\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\tdebounce: true,\n\t\tthreshold: 0,\n\t});\n\n\tuseEffect(() => {\n\t\tif (hasBeenSeen) {\n\t\t\t// For the event stream\n\t\t\tif (!window.guardian.config.isDev && stage !== 'DEV') {\n\t\t\t\tsendEpicViewEvent(\n\t\t\t\t\ttracking.referrerUrl,\n\t\t\t\t\ttracking.abTestName,\n\t\t\t\t\ttracking.abTestVariant,\n\t\t\t\t\tstage,\n\t\t\t\t\tcountryCode,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// For epic view count\n\t\t\tlogEpicView(tracking.abTestName);\n\n\t\t\t// For ophan\n\t\t\tif (submitComponentEvent) {\n\t\t\t\tsubmitComponentEvent(\n\t\t\t\t\tcreateViewEventFromTracking(\n\t\t\t\t\t\ttracking,\n\t\t\t\t\t\ttracking.campaignCode,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [hasBeenSeen, submitComponentEvent, countryCode, stage, tracking]);\n\n\tuseEffect(() => {\n\t\tif (submitComponentEvent) {\n\t\t\tsubmitComponentEvent(\n\t\t\t\tcreateInsertEventFromTracking(tracking, tracking.campaignCode),\n\t\t\t);\n\t\t}\n\t}, [submitComponentEvent, tracking]);\n\n\tconst cleanHighlighted = replaceNonArticleCountPlaceholders(\n\t\tvariant.highlightedText,\n\t\tcountryCode,\n\t);\n\n\tconst cleanHeading = replaceNonArticleCountPlaceholders(\n\t\tvariant.heading,\n\t\tcountryCode,\n\t);\n\n\tconst cleanParagraphs = variant.paragraphs\n\t\t.map((paragraph) =>\n\t\t\treplaceNonArticleCountPlaceholders(paragraph, countryCode),\n\t\t)\n\t\t.map((paragraph) =>\n\t\t\taddTrackingParamsToBodyLinks(\n\t\t\t\tparagraph,\n\t\t\t\ttracking,\n\t\t\t\tarticleCounts.for52Weeks,\n\t\t\t\tcountryCode,\n\t\t\t),\n\t\t);\n\n\tif (\n\t\t[cleanHighlighted, cleanHeading, ...cleanParagraphs].some(\n\t\t\tcontainsNonArticleCountPlaceholder,\n\t\t)\n\t) {\n\t\treturn <></>; // quick exit if something goes wrong. Ideally we'd throw and caller would catch/log but TODO that separately\n\t}\n\n\tconst ophanTracking: OphanTracking | undefined = submitComponentEvent && {\n\t\tsubmitComponentEvent,\n\t\tcomponentType: 'ACQUISITIONS_EPIC',\n\t};\n\n\tconst showAboveArticleCount = !!(\n\t\tvariant.separateArticleCount?.type === 'above' &&\n\t\thasConsentForArticleCount\n\t);\n\n\treturn (\n\t\t<section ref={setNode} css={wrapperStyles(isColourInTestVariant)}>\n\t\t\t{showAboveArticleCount && (\n\t\t\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t\t\t<ContributionsEpicArticleCountAboveWithOptOut\n\t\t\t\t\t\tarticleCount={articleCounts.forTargetedWeeks}\n\t\t\t\t\t\tisArticleCountOn={!hasOptedOut}\n\t\t\t\t\t\tonArticleCountOptOut={onArticleCountOptOut}\n\t\t\t\t\t\tonArticleCountOptIn={onArticleCountOptIn}\n\t\t\t\t\t\topenCmp={openCmp}\n\t\t\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\t\t\tcopy={variant.separateArticleCount?.copy}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{tickerSettings?.tickerData && (\n\t\t\t\t<div css={tickerContainerStyles}>\n\t\t\t\t\t<Ticker\n\t\t\t\t\t\tcurrencySymbol={tickerSettings.currencySymbol}\n\t\t\t\t\t\tcopy={{\n\t\t\t\t\t\t\theadline: tickerSettings.copy.countLabel,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttickerData={tickerSettings.tickerData}\n\t\t\t\t\t\ttickerStylingSettings={\n\t\t\t\t\t\t\tisColourInTestVariant ||\n\t\t\t\t\t\t\ttickerSettings.name === 'AU'\n\t\t\t\t\t\t\t\t? usEOYTickerStylingSettings\n\t\t\t\t\t\t\t\t: defaultTickerStylingSettings\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsize={'medium'}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{image && (\n\t\t\t\t<div css={imageWrapperStyles}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={image.mainUrl}\n\t\t\t\t\t\tcss={imageStyles}\n\t\t\t\t\t\talt={image.altText}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{!!cleanHeading && (\n\t\t\t\t<EpicHeader\n\t\t\t\t\ttext={cleanHeading}\n\t\t\t\t\tnumArticles={articleCounts.forTargetedWeeks}\n\t\t\t\t\ttracking={ophanTracking}\n\t\t\t\t\tshowAboveArticleCount={showAboveArticleCount}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<EpicBody\n\t\t\t\tparagraphs={cleanParagraphs}\n\t\t\t\thighlightedText={cleanHighlighted}\n\t\t\t\tnumArticles={articleCounts.forTargetedWeeks}\n\t\t\t\ttracking={ophanTracking}\n\t\t\t\tshowAboveArticleCount={showAboveArticleCount}\n\t\t\t\tisColourInTestVariant={isColourInTestVariant}\n\t\t\t/>\n\n\t\t\t{variant.bylineWithImage && (\n\t\t\t\t<BylineWithHeadshot\n\t\t\t\t\tbylineWithImage={variant.bylineWithImage}\n\t\t\t\t\tisColourInTestVariant={isColourInTestVariant}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{newsletterSignup ? (\n\t\t\t\t<ContributionsEpicNewsletterSignup\n\t\t\t\t\tnewsletterId={newsletterSignup.newsletterId}\n\t\t\t\t\tsuccessDescription={newsletterSignup.successDescription}\n\t\t\t\t\ttracking={tracking}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<ContributionsEpicCtasContainer\n\t\t\t\t\tvariant={variant}\n\t\t\t\t\ttracking={tracking}\n\t\t\t\t\tcountryCode={countryCode}\n\t\t\t\t\tarticleCounts={articleCounts}\n\t\t\t\t\tonReminderOpen={onReminderOpen}\n\t\t\t\t\tfetchEmail={fetchEmail}\n\t\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\t\tamountsTestName={choiceCardAmounts?.testName}\n\t\t\t\t\tamountsVariantName={choiceCardAmounts?.variantName}\n\t\t\t\t\tisColourInTestVariant={isColourInTestVariant}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{variant.showSignInLink && <ContributionsEpicSignInCta />}\n\t\t</section>\n\t);\n};\n\nexport const validate = (props: unknown): props is EpicProps => {\n\tconst result = epicPropsSchema.safeParse(props);\n\treturn result.success;\n};\n\nexport const validatedEpic: ReactComponent<EpicProps> = (props) => {\n\tif (validate(props)) {\n\t\treturn <ContributionsEpic {...props} />;\n\t}\n\treturn <></>;\n};\n\nconst unValidatedEpic = ContributionsEpic;\nexport {\n\tvalidatedEpic as ContributionsEpic,\n\tunValidatedEpic as ContributionsEpicUnvalidated,\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/hooks/useArticleCountOptOut.ts\n */\nimport { useState } from 'react';\nimport {\n\taddArticleCountOptOutCookie,\n\thasArticleCountOptOutCookie,\n\tremoveArticleCountFromLocalStorage,\n\tremoveArticleCountOptOutCookie,\n} from '../lib/articleCountOptOut';\n\ninterface ArticleCountOptOut {\n\thasOptedOut: boolean;\n\tonArticleCountOptOut: () => void;\n\tonArticleCountOptIn: () => void;\n}\n\nexport function useArticleCountOptOut(): ArticleCountOptOut {\n\tconst [hasOptedOut, setHasOptedOut] = useState(\n\t\thasArticleCountOptOutCookie(),\n\t);\n\n\tfunction onArticleCountOptOut() {\n\t\tsetHasOptedOut(true);\n\t\taddArticleCountOptOutCookie();\n\t\tremoveArticleCountFromLocalStorage();\n\t}\n\n\tfunction onArticleCountOptIn() {\n\t\tsetHasOptedOut(false);\n\t\tremoveArticleCountOptOutCookie();\n\t}\n\n\treturn { hasOptedOut, onArticleCountOptOut, onArticleCountOptIn };\n}\n","// Default to PROD to avoid risk of showing test data to users\nexport const isProd = (stage?: string): boolean =>\n\t!(stage === 'CODE' || stage === 'DEV');\n"],"names":["bylineWithImageContainer","css","bylineCopyContainer","bylineImageContainer","bylineName","articleBold17","bylineDescription","articleItalic17","bylineHeadshotImage","BylineWithHeadshot","bylineWithImage","isColourInTestVariant","name","description","headshot","div","p","isInTestVariant","palette","neutral","img","src","mainUrl","alt","altText","ContributionsEpicArticleCountAboveWithOptOut","articleCount","copy","isArticleCountOn","onArticleCountOptOut","onArticleCountOptIn","openCmp","submitComponentEvent","isOpen","setIsOpen","useState","topContainer","ArticleCountWithToggle","onToggleClick","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_CLOSE","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_OPEN","articleCountDescriptionTopContainerStyles","caretStyles","articleCountDescriptionContainer","articleCountBodyTextStyles","articleCountCtasContainerStyles","Button","priority","size","cssOverrides","articleCountDefaultCtaStyles","onClick","OPHAN_COMPONENT_ARTICLE_COUNT_STAY_IN","articleCountOptOutCtaStyles","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT","articleCountOptInCtaStyles","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_IN","OPHAN_COMPONENT_ARTICLE_COUNT_STAY_OUT","trackingSettingsContainerStyles","ButtonLink","privacySettingsLinkStyles","articleCountOnHeaderContainerStyles","ArticleCount","articleCountWrapperStyles","articleCountTextStyles","articleCountCtaStyles","ARTICLE_COUNT_TEMPLATE","CustomArticleCountCopy","copyHead","copyTail","split","articleCountAboveContainerStyles","span","optOutContainer","substring","includes","containsArticleCountTemplate","from","tablet","articleBoldItalic15","articleBoldItalic17","opinion","space","textSans12","textSans15","textSansBold12","textSansBold15","textSans14","textSansBold14","until","signInLink","signInLinkText","ContributionsEpicSignInCta","Link","OPHAN_COMPONENT_SIGN_IN","href","getVariantOrControlStyle","variant","control","headingStyles","headlineBold20","linkStyles","news","bodyStyles","article17","highlightWrapperStyles","imageWrapperStyles","imageStyles","defaultTickerStylingSettings","filledProgressColour","progressBarBackgroundColour","headlineColour","totalColour","goalColour","usEOYTickerStylingSettings","tickerContainerStyles","EpicHeader","text","numArticles","tracking","showAboveArticleCount","elements","replaceArticleCount","h2","Highlighted","highlightedText","strong","brandAlt","EpicBodyParagraph","paragraph","highlighted","EpicBody","paragraphs","map","idx","length","ContributionsEpic","countryCode","articleCounts","onReminderOpen","fetchEmail","hasConsentForArticleCount","stage","image","tickerSettings","choiceCardAmounts","newsletterSignup","abTestName","abTestVariant","hasOptedOut","setHasOptedOut","hasArticleCountOptOutCookie","addArticleCountOptOutCookie","removeArticleCountFromLocalStorage","removeArticleCountOptOutCookie","useArticleCountOptOut","hasBeenSeen","setNode","useIsInView","debounce","threshold","useEffect","window","guardian","config","isDev","url","host","isProd","eventBody","JSON","stringify","abTests","fetch","path","method","headers","body","then","response","ok","console","log","sendEpicViewEvent","referrerUrl","logEpicView","createViewEventFromTracking","campaignCode","createInsertEventFromTracking","cleanHighlighted","replaceNonArticleCountPlaceholders","cleanHeading","heading","cleanParagraphs","addTrackingParamsToBodyLinks","for52Weeks","some","containsNonArticleCountPlaceholder","ophanTracking","componentType","separateArticleCount","type","section","ref","forTargetedWeeks","tickerData","Ticker","currencySymbol","headline","countLabel","tickerStylingSettings","ContributionsEpicNewsletterSignup","newsletterId","successDescription","ContributionsEpicCtasContainer","amountsTestName","testName","amountsVariantName","variantName","showSignInLink","validate","props","epicPropsSchema","safeParse","success","validatedEpic","unValidatedEpic"],"sourceRoot":""}