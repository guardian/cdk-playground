{"version":3,"file":"EditionSwitcherBanner-importable.client.web.9df760ae5e08a9e1f723.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/static/icons/x.svg","webpack://@guardian/dotcom-rendering/./src/components/EditionSwitcherBanner.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/lib/edition.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/lib/useEditionSwitcherBanner.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/button/LinkButton.js"],"sourcesContent":["var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgX = function SvgX(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.5 9L1 2l1-1 7 6.5L16 1l1 1-6.5 7 6.5 7-1 1-7-6.5L2 17l-1-1 6.5-7z\"\n  })));\n};\nexport default SvgX;","import { css } from '@emotion/react';\nimport { from, palette, space, textSans14 } from '@guardian/source/foundations';\nimport { LinkButton } from '@guardian/source/react-components';\nimport { center } from '../lib/center';\nimport {\n\ttype Edition,\n\ttype EditionId,\n\tgetEditionFromId,\n\tgetEditionFromPageId,\n} from '../lib/edition';\nimport { getZIndex } from '../lib/getZIndex';\nimport {\n\thideEditionSwitcherBanner,\n\tuseEditionSwitcherBanner,\n} from '../lib/useEditionSwitcherBanner';\nimport XIcon from '../static/icons/x.svg';\n\nconst container = css`\n\tposition: relative;\n\ttop: 0;\n\tbackground-color: ${palette.brand[800]};\n\tz-index: ${getZIndex('editionSwitcherBanner')};\n`;\n\nconst content = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 10px;\n\talign-items: flex-start;\n\t${center}\n\n\t${from.mobileLandscape} {\n\t\tpadding: 10px ${space[5]}px;\n\t}\n\n\t${from.phablet} {\n\t\talign-items: center;\n\t}\n`;\n\nconst textAndLink = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tgap: 10px;\n\t${textSans14};\n\n\t${from.phablet} {\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tgap: ${space[5]}px;\n\t}\n`;\n\nconst linkButton = css`\n\t${from.phablet} {\n\t\tpadding: 18px ${space[4]}px;\n\t}\n`;\n\nconst closeButton = css`\n\tcursor: pointer;\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 0;\n\tbackground-color: unset;\n\tborder: none;\n`;\n\ntype Props = {\n\tpageId: Edition['pageId'];\n\tedition: EditionId;\n};\n\n/**\n * Displays a banner between the header and main content on network fronts.\n * Provides a link to switch to the homepage of the user's preferred edition.\n *\n * See PR for details: https://github.com/guardian/dotcom-rendering/pull/11763\n */\nexport const EditionSwitcherBanner = ({ pageId, edition }: Props) => {\n\tconst { showBanner, isBannerClosed } = useEditionSwitcherBanner(\n\t\tpageId,\n\t\tedition,\n\t);\n\n\tconst suggestedPageId = getEditionFromId(edition).pageId;\n\tconst suggestedEdition = getEditionFromId(edition).title.replace(\n\t\t' edition',\n\t\t'',\n\t);\n\tconst defaultEdition = getEditionFromPageId(pageId);\n\tconst defaultEditionName = defaultEdition?.title.replace(' edition', '');\n\n\tif (isBannerClosed || !showBanner || !defaultEditionName) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<aside data-component=\"edition-switcher-banner\" css={container}>\n\t\t\t<div css={content}>\n\t\t\t\t<div css={textAndLink}>\n\t\t\t\t\t<p>You are viewing the {defaultEditionName} homepage</p>\n\t\t\t\t\t<LinkButton\n\t\t\t\t\t\thref={`/${suggestedPageId}`}\n\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\tcssOverrides={linkButton}\n\t\t\t\t\t\tdata-link-name=\"edition-switcher-banner switch-edition\"\n\t\t\t\t\t>\n\t\t\t\t\t\tView the {suggestedEdition} homepage\n\t\t\t\t\t</LinkButton>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tcss={closeButton}\n\t\t\t\t\tdata-link-name=\"edition-switcher-banner close-banner\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thideEditionSwitcherBanner();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<XIcon />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</aside>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\n\nexport const center = css`\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","import { isOneOf } from '@guardian/libs';\nimport { isTuple } from './tuple';\n\ntype EditionId = 'UK' | 'US' | 'AU' | 'INT' | 'EUR';\n\ntype Edition = (typeof editionList)[number];\n\nconst editionList = [\n\t{\n\t\turl: '/preference/edition/uk',\n\t\teditionId: 'UK',\n\t\tpageId: 'uk',\n\t\tlongTitle: 'UK edition',\n\t\ttitle: 'UK edition',\n\t\tdateLocale: 'en-gb',\n\t\ttimeZone: 'Europe/London',\n\t\tlangLocale: 'en-GB',\n\t\thasEditionalisedPages: true,\n\t\tshortTitle: 'UK',\n\t},\n\t{\n\t\turl: '/preference/edition/us',\n\t\teditionId: 'US',\n\t\tpageId: 'us',\n\t\tlongTitle: 'US edition',\n\t\ttitle: 'US edition',\n\t\tdateLocale: 'en-us',\n\t\ttimeZone: 'America/New_York',\n\t\tlangLocale: 'en-US',\n\t\thasEditionalisedPages: true,\n\t\tshortTitle: 'US',\n\t},\n\t{\n\t\turl: '/preference/edition/au',\n\t\teditionId: 'AU',\n\t\tpageId: 'au',\n\t\tlongTitle: 'Australia edition',\n\t\ttitle: 'AU edition',\n\t\tdateLocale: 'en-au',\n\t\ttimeZone: 'Australia/Sydney',\n\t\tlangLocale: 'en-AU',\n\t\thasEditionalisedPages: true,\n\t\tshortTitle: 'Aus',\n\t},\n\t{\n\t\turl: '/preference/edition/eur',\n\t\teditionId: 'EUR',\n\t\tpageId: 'europe',\n\t\tlongTitle: 'Europe edition',\n\t\ttitle: 'Europe edition',\n\t\tdateLocale: 'en-gb',\n\t\ttimeZone: 'Europe/Paris',\n\t\tlangLocale: 'en-EU',\n\t\thasEditionalisedPages: false,\n\t\tshortTitle: 'Eur',\n\t},\n\t{\n\t\turl: '/preference/edition/int',\n\t\teditionId: 'INT',\n\t\tpageId: 'international',\n\t\tlongTitle: 'International edition',\n\t\ttitle: 'International edition',\n\t\tdateLocale: 'en-gb',\n\t\ttimeZone: 'Europe/London',\n\t\tlangLocale: 'en',\n\t\thasEditionalisedPages: false,\n\t\tshortTitle: 'Int',\n\t},\n] as const satisfies ReadonlyArray<{\n\turl: string;\n\teditionId: EditionId;\n\tpageId: string;\n\tlongTitle: string;\n\ttitle: string;\n\tdateLocale: string;\n\ttimeZone: string;\n\tlangLocale?: string;\n\thasEditionalisedPages: boolean;\n\tshortTitle: string;\n}>;\n\nconst [ukEdition] = editionList;\n\n/**\n * The list of editionalised pages was copied from Frontend:\n * https://github.com/guardian/frontend/blob/60c6b55944d52d87039a2a844665cf39dc7fe437/common/app/common/Edition.scala#L20-L35\n */\nconst editionalisedPages = [\n\t'business',\n\t'business-to-business',\n\t'commentisfree',\n\t'culture',\n\t'money',\n\t'sport',\n\t'technology',\n\t'media',\n\t'environment',\n\t'film',\n\t'lifeandstyle',\n\t'travel',\n\t'tv-and-radio',\n] as const;\n\nconst getEditionFromId = (editionId: EditionId): Edition => {\n\treturn (\n\t\teditionList.find((edition) => edition.editionId === editionId) ??\n\t\tukEdition\n\t);\n};\n\nconst getEditionFromPageId = (pageId: string): Edition | undefined =>\n\teditionList.find((edition) => edition.pageId === pageId);\n\nconst getRemainingEditions = (editionId: EditionId): Edition[] => {\n\treturn editionList.filter((edition) => edition.editionId !== editionId);\n};\n\n/**\n * Determine if a string is one of the permitted edition strings\n *\n * @param s The string to test\n */\nconst isEditionId = isOneOf(editionList.map(({ editionId }) => editionId));\n\nconst isNetworkFront = (pageId: string): boolean =>\n\teditionList.some((edition) => edition.pageId === pageId);\n\n/**\n * Given an editionalised pageId such as 'uk/travel' split into ['uk', 'travel']\n * Checks:\n * a) the first section is a network front\n * b) the second section is an editionalised page\n */\nconst splitEditionalisedPage = (\n\tpageId: string,\n): undefined | [string, string] => {\n\tconst pageIdSplit = pageId.split('/');\n\tif (!isTuple(pageIdSplit, 2)) {\n\t\treturn undefined;\n\t}\n\tconst [networkId, pageIdSuffix] = pageIdSplit;\n\tif (!isNetworkFront(networkId)) {\n\t\treturn undefined;\n\t}\n\tconst hasMatch = editionalisedPages.some(\n\t\t(editionalisedPage) => editionalisedPage === pageIdSuffix,\n\t);\n\treturn hasMatch ? [networkId, pageIdSuffix] : undefined;\n};\n\nconst isEditionalisedPage = (pageId: string): boolean =>\n\t!!splitEditionalisedPage(pageId);\n\nexport {\n\tEditionId,\n\tEdition,\n\teditionList,\n\teditionalisedPages,\n\tgetEditionFromId,\n\tgetEditionFromPageId,\n\tgetRemainingEditions,\n\tisEditionId,\n\tisEditionalisedPage,\n\tisNetworkFront,\n\tsplitEditionalisedPage,\n};\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n\t// Modals will go here at the top\n\t'lightbox',\n\t'youTubeFullscreen',\n\n\t// Sticky video and button need to be above everything\n\t'sticky-video-button',\n\t'sticky-video',\n\t'banner',\n\t'dropdown',\n\t'burger',\n\t'mastheadVeggieBurgerExpandedMobile',\n\t'expanded-veggie-menu-wrapper',\n\t'expanded-veggie-menu',\n\n\t//header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n\t'fullPageInteractiveHeaderWrapper',\n\n\t// Mobile sticky appears below banners\n\t'mobileSticky',\n\n\t// Headers with sticky ads\n\t'stickyAdWrapperLabsHeader',\n\t'stickyAdWrapper',\n\t'stickyAdWrapperNav',\n\n\t// My Account dropdown in masthead - needs to be below stickyAdWrapper\n\t'mastheadMyAccountDropdown',\n\n\t// Edition selector in masthead - needs to be below stickyAdWrapper\n\t'mastheadEditionDropdown',\n\n\t// Edition selector in nav - needs to be below stickyAdWrapper\n\t'editionDropdown',\n\n\t// The content displayed by the Details component\n\t'summaryDetails',\n\n\t// Liveblog toast\n\t'toast',\n\n\t// Onwards Carousel (Related content etc)\n\t'onwardsCarousel',\n\n\t// Search link should be above The Guardian svg\n\t'myAccountDropdown',\n\t'searchHeaderLink',\n\t'TheGuardian',\n\n\t// The edition switcher banner needs to be below the Edition selector\n\t// and the myAccount dropdown in the nav\n\t'editionSwitcherBanner',\n\n\t// Overlay for expandable marketing card (currently US only)\n\t'expandableMarketingCardOverlay',\n\n\t// Sticky table of contents element\n\t'tableOfContents',\n\n\t// Article headline (should be above main media)\n\t'articleHeadline',\n\t'immersiveBlackBox',\n\n\t// Body\n\t'bodyArea',\n\t'rightColumnArea',\n\n\t// Main media\n\t'mainMedia',\n\n\t// Nested links in cards should sit above the main card link\n\t// See: https://www.sarasoueidan.com/blog/nested-links/\n\t'card-nested-link',\n\t'card-link',\n] as const;\n\n// Implementation code - you don't need to change this to get a new index\nexport type ZIndex = (typeof indices)[number];\n\nexport const getZIndex = (name: ZIndex): number => {\n\tconst index = indices.indexOf(name);\n\tif (index === -1) return -1; // indexOf returns -1 if there is no match\n\treturn indices.length - index; // reverse the indices: last item gets 1\n};\n","import { getCookie, removeCookie, setCookie } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport useSWR, { mutate } from 'swr';\nimport {\n\ttype EditionId as Edition,\n\tgetEditionFromPageId,\n\tisNetworkFront,\n} from './edition';\n\nconst key = 'edition-switcher-banner';\nconst apiPromise = new Promise<{ hidden: boolean }>(() => {\n\t/* this never resolves */\n});\n\nconst getBannerValueFromQueryParams = () => {\n\tconst queryParams = new URLSearchParams(window.location.search);\n\treturn queryParams.get('edition-switcher-banner');\n};\n\nconst addOrRemoveCookie = () => {\n\tconst value = getBannerValueFromQueryParams();\n\tif (value === 'hide') {\n\t\tsetCookie({\n\t\t\tname: 'gu_hide_edition_switcher_banner',\n\t\t\tvalue: 'true',\n\t\t});\n\t} else if (value === 'unhide') {\n\t\tremoveCookie({ name: 'gu_hide_edition_switcher_banner' });\n\t}\n};\n\nconst hideBannerThroughUserOverride = () => {\n\tconst queryStringValue = getBannerValueFromQueryParams();\n\tconst cookieValue = getCookie({\n\t\tname: 'gu_hide_edition_switcher_banner',\n\t});\n\n\treturn (\n\t\tqueryStringValue === 'hide' ||\n\t\t(cookieValue === 'true' && queryStringValue !== 'unhide')\n\t);\n};\n\ntype EditionSwitcherBanner = {\n\tshowBanner: boolean;\n\tisBannerClosed: boolean;\n};\n\n/**\n * Show an \"Edition Switcher\" banner if the user is on a network front\n * which is different to their preferred or default edition.\n *\n * This allows a user to quickly identify that they are not on the network front\n * for their edition and gives them a link to switch to it.\n */\nexport const useEditionSwitcherBanner = (\n\tpageId: string,\n\tuserEdition: Edition,\n): EditionSwitcherBanner => {\n\tconst pageEdition = getEditionFromPageId(pageId)?.editionId;\n\tconst isOnMismatchedNetworkFront =\n\t\tisNetworkFront(pageId) && pageEdition !== userEdition;\n\tconst [showBanner, setShowBanner] = useState(isOnMismatchedNetworkFront);\n\n\tconst { data } = useSWR(key, () => apiPromise);\n\tconst isBannerClosed = !!data?.hidden;\n\n\tuseEffect(() => {\n\t\tsetShowBanner(\n\t\t\tisOnMismatchedNetworkFront && !hideBannerThroughUserOverride(),\n\t\t);\n\t}, [isOnMismatchedNetworkFront]);\n\n\tuseEffect(() => {\n\t\taddOrRemoveCookie();\n\t}, []);\n\n\treturn { showBanner, isBannerClosed };\n};\n\nexport const hideEditionSwitcherBanner = (): void => {\n\tvoid mutate(key, { hidden: true }, false);\n};\n","const breakpoints = {\n  desktop: 980,\n  leftCol: 1140,\n  mobile: 320,\n  mobileLandscape: 480,\n  mobileMedium: 375,\n  phablet: 660,\n  tablet: 740,\n  wide: 1300\n};\n\nexport { breakpoints };\n","import { breakpoints } from '../__generated__/breakpoints.js';\n\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n  mobile: minWidth(breakpoints.mobile),\n  mobileMedium: minWidth(breakpoints.mobileMedium),\n  mobileLandscape: minWidth(breakpoints.mobileLandscape),\n  phablet: minWidth(breakpoints.phablet),\n  tablet: minWidth(breakpoints.tablet),\n  desktop: minWidth(breakpoints.desktop),\n  leftCol: minWidth(breakpoints.leftCol),\n  wide: minWidth(breakpoints.wide)\n};\nconst until = {\n  mobile: maxWidth(breakpoints.mobile),\n  mobileMedium: maxWidth(breakpoints.mobileMedium),\n  mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n  phablet: maxWidth(breakpoints.phablet),\n  tablet: maxWidth(breakpoints.tablet),\n  desktop: maxWidth(breakpoints.desktop),\n  leftCol: maxWidth(breakpoints.leftCol),\n  wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n  mobile: {\n    and: {\n      mobileMedium: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileMedium\n      ),\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileMedium: {\n    and: {\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobileMedium,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileLandscape: {\n    and: {\n      phablet: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.phablet\n      ),\n      tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n      desktop: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.desktop\n      ),\n      leftCol: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.leftCol\n      ),\n      wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n    }\n  },\n  phablet: {\n    and: {\n      tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n    }\n  },\n  tablet: {\n    and: {\n      desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n    }\n  },\n  desktop: {\n    and: {\n      leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n    }\n  },\n  leftCol: {\n    and: {\n      wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n    }\n  }\n};\n\nexport { between, from, until };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\n\nconst LinkButton = ({\n  priority,\n  size,\n  iconSide,\n  icon: iconSvg,\n  nudgeIcon,\n  hideLabel,\n  cssOverrides,\n  children,\n  theme,\n  ...props\n}) => /* @__PURE__ */ jsx(\n  \"a\",\n  {\n    css: buttonStyles({\n      size,\n      priority,\n      icon: iconSvg,\n      hideLabel,\n      iconSide,\n      nudgeIcon,\n      cssOverrides,\n      theme\n    }),\n    ...props,\n    children: buttonContents({\n      hideLabel,\n      iconSvg,\n      children\n    })\n  }\n);\n\nexport { LinkButton };\n"],"names":["_path","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","props","width","height","viewBox","d","container","css","palette","brand","getZIndex","content","center","from","mobileLandscape","space","phablet","textAndLink","textSans14","linkButton","closeButton","EditionSwitcherBanner","pageId","edition","showBanner","isBannerClosed","useEditionSwitcherBanner","suggestedPageId","getEditionFromId","suggestedEdition","title","replace","defaultEdition","getEditionFromPageId","defaultEditionName","aside","data-component","div","p","LinkButton","href","priority","size","cssOverrides","data-link-name","button","type","onClick","hideEditionSwitcherBanner","XIcon","tablet","desktop","leftCol","wide","editionList","url","editionId","longTitle","dateLocale","timeZone","langLocale","hasEditionalisedPages","shortTitle","ukEdition","find","isNetworkFront","isOneOf","map","some","indices","name","index","indexOf","key","apiPromise","Promise","getBannerValueFromQueryParams","URLSearchParams","window","location","search","get","userEdition","pageEdition","isOnMismatchedNetworkFront","setShowBanner","useState","data","useSWR","hidden","useEffect","queryStringValue","cookieValue","getCookie","hideBannerThroughUserOverride","value","setCookie","removeCookie","addOrRemoveCookie","mutate","breakpoints","mobile","mobileMedium","minWidth","from2","maxWidth","until2","minWidthMaxWidth","until","between","and","iconSide","icon","iconSvg","nudgeIcon","hideLabel","children","theme","jsx","buttonStyles","buttonContents"],"sourceRoot":""}