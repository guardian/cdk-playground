"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[829],{80227:(t,e,n)=>{n.r(e),n.d(e,{AudioAtomWrapper:()=>U});var r=n(22820),i=n(50484),o=n(63854),a=n(67400),d=n(24017),s=n(71653),c=n(62898),u=n(1954),l=(0,d.css)("width:100%;border-image:repeating-linear-gradient(\n\t\t\tto bottom,\n\t\t\t",(0,u.M)("--audio-atom-border"),",\n\t\t\t",(0,u.M)("--audio-atom-border")," 1px,\n\t\t\ttransparent 1px,\n\t\t\ttransparent 4px\n\t\t) 13;border-top:13px solid black;background-color:",(0,u.M)("--audio-atom-background"),";position:relative;padding-left:5px;padding-right:5px;padding-bottom:1px;margin:16px 0 36px;"),p=(0,d.css)("color:",(0,u.M)("--audio-atom-kicker"),";",s.ccz,";"),h=(0,d.css)(s.cYp,";"),x={name:"andpxo",styles:"display:flex;overflow:hidden"},f={name:"1xba9vx",styles:"height:0;vertical-align:baseline;width:300px"},m={name:"5l7bf1",styles:"box-sizing:content-box;padding:5px;width:50px;height:50px"},v=(0,d.css)("padding:0;border:0;outline:0;cursor:pointer;background-color:transparent;:focus{",c.b,";}height:50px;"),g={name:"gd1zp3",styles:"fill:currentColor;overflow:hidden;width:50px;height:auto"},b={name:"gd1zp3",styles:"fill:currentColor;overflow:hidden;width:50px;height:auto"},k={name:"15epsmk",styles:"align-items:center;display:flex;flex:1"},y={name:"175p6jk",styles:"min-width:75px;padding-top:6px;display:block"},j={name:"uzmz6h",styles:"flex:1;display:block"},w=(0,d.css)("width:100%;appearance:none;background-image:linear-gradient(\n\t\tto right,\n\t\t",(0,u.M)("--audio-atom-icons")," 0%,\n\t\t",(0,u.M)("--audio-atom-progress-bar")," 0%\n\t);height:6px;outline:0;cursor:pointer;margin-left:0;margin-right:0;:focus{",c.b,";}&::-webkit-slider-thumb{background:",(0,u.M)("--audio-atom-icons"),";-webkit-appearance:none;width:14px;height:14px;border-radius:50px;}&::-moz-range-thumb{background:",(0,u.M)("--audio-atom-icons"),";width:14px;height:14px;border:none;border-radius:50px;}&::-ms-thumb{background:",(0,u.M)("--audio-atom-icons"),";width:14px;height:14px;border:none;border-radius:50px;}"),M={name:"12iaw5a",styles:"min-width:65px;padding-top:6px;padding-left:10px;display:block"},E=(0,d.css)(s.PSs,";"),S=function(t){return t.toFixed(0).padStart(2,"0")},A=function(t){var e=Math.floor(t%60),n=Math.floor(t%3600/60),r=Math.floor(t/3600);return"".concat(S(r),":").concat(S(n),":").concat(S(e))},z=function(){return(0,i.jsx)("svg",{css:b,width:"30px",height:"30px",viewBox:"0 0 30 30",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{fill:(0,u.M)("--audio-atom-icons"),cx:"15",cy:"15",r:"15"}),(0,i.jsx)("path",{d:"M9.429 7.286h3.429v15.429h-3.43zm7.286 0h3.429v15.429h-3.43z",fill:(0,u.M)("--audio-atom-background")})]})})},C=function(){return(0,i.jsx)("svg",{css:g,width:"30px",height:"30px",viewBox:"0 0 30 30",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("circle",{fill:(0,u.M)("--audio-atom-icons"),cx:"15",cy:"15",r:"15"}),(0,i.jsx)("path",{fill:(0,u.M)("--audio-atom-background"),d:"M10.113 8.571l-.47.366V20.01l.472.347 13.456-5.593v-.598z"})]})})},_=function(t,e){return e?t.replace("https://","https://flex.acast.com/"):t},L={name:"nvudtm",styles:"padding-left:5px"},T=function(t){var e=t.id,n=t.trackUrl,o=t.kicker,d=t.title,s=t.shouldUseAcast,c=t.duration,u=(0,a.useRef)(null),g=(0,a.useState)(!1),b=(0,r.A)(g,2),S=b[0],T=b[1],U=(0,a.useState)(0),R=(0,r.A)(U,2),B=R[0],W=R[1],Y=(0,a.useState)(0),F=(0,r.A)(Y,2),I=F[0],N=F[1],O=(0,a.useState)(_(n,s)),P=(0,r.A)(O,2),V=P[0],X=P[1];(0,a.useEffect)((function(){var t,e=u.current,n=function(){var t,e,n=null===(t=u.current)||void 0===t?void 0:t.currentTime,r=null===(e=u.current)||void 0===e?void 0:e.duration;N(null!=n&&null!=r?n/r*100:0),W(null!=n?n:0)};return null===(t=u.current)||void 0===t||t.addEventListener("timeupdate",n),function(){return e?e.removeEventListener("timeupdate",n):void 0}}),[u,W,s]);var $=(0,a.useState)(c),q=(0,r.A)($,2),D=q[0],G=q[1];(0,a.useEffect)((function(){var t,e=u.current,n=function(){return G(u.current?u.current.duration:c)};return null===(t=u.current)||void 0===t||t.addEventListener("loadeddata",n),function(){return null==e?void 0:e.removeEventListener("loadeddata",n)}}),[u,G,c]);var H=(0,a.useRef)(null);return(0,a.useEffect)((function(){var t=function(t){39===t.keyCode&&document.activeElement===H.current&&u.current&&(u.current.currentTime+=15),37===t.keyCode&&document.activeElement===H.current&&u.current&&(u.current.currentTime-=15)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[u,H]),(0,a.useEffect)((function(){X(_(n,s))}),[s,n]),(0,i.jsxs)("div",{css:l,"data-atom-id":e,"data-atom-type":"audio",children:[(0,i.jsxs)("div",{css:L,children:[(0,i.jsx)("span",{css:p,children:o}),(0,i.jsx)("h4",{css:h,children:d})]}),(0,i.jsxs)("div",{css:x,children:[(0,i.jsx)("audio",{css:f,src:V,ref:u,preload:"none","data-component":"inarticle audio","data-duration":D,"data-media-id":null!=e?e:"_no_ids","data-title":h,children:(0,i.jsxs)("p",{children:["Sorry your browser does not support audio - but you can download here and listen $",V]})}),(0,i.jsx)("div",{css:m,children:(0,i.jsx)("button",{type:"button","data-testid":S?"pause-button":"play-button",onClick:function(){return S?(T(!1),void(null===(e=u.current)||void 0===e||e.pause())):(T(!0),void(null===(t=u.current)||void 0===t||t.play()));var t,e},css:v,children:S?(0,i.jsx)(z,{}):(0,i.jsx)(C,{})})}),(0,i.jsxs)("div",{css:k,children:[(0,i.jsx)("div",{css:y,children:(0,i.jsx)("span",{css:E,children:A(B)})}),(0,i.jsx)("div",{css:j,children:(0,i.jsx)("input",{css:w,ref:H,type:"range",min:"0",max:"100",step:"1",value:I,onClick:function(t){if(u.current){var e=t.nativeEvent.offsetX/t.currentTarget.offsetWidth*100;u.current.currentTime=u.current.duration/100*e}},readOnly:!0})}),(0,i.jsx)("div",{css:M,children:(0,i.jsx)("span",{css:E,children:A(D)})})]})]})]})},U=function(t){var e=t.id,n=t.trackUrl,d=t.kicker,s=t.title,c=t.duration,u=t.contentIsNotSensitive,l=t.aCastisEnabled,p=t.readerCanBeShownAds,h=(0,a.useState)(!1),x=(0,r.A)(h,2),f=x[0],m=x[1];return(0,a.useEffect)((function(){(0,o.Ym)((function(t){var e=(0,o.gS)("acast",t);l&&e&&p&&u&&m(!0)}))}),[u,l,p]),(0,i.jsx)(T,{id:e,trackUrl:n,kicker:d,title:s,duration:c,shouldUseAcast:f})}},1954:(t,e,n)=>{n.d(e,{M:()=>r});var r=function(t){return"var(".concat(t,")")}}}]);
//# sourceMappingURL=AudioAtomWrapper-importable.client.web.legacy.6902180063ca936c4c20.js.map