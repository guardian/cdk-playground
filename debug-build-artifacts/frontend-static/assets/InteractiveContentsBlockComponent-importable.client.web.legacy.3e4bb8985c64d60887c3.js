"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[8019],{23231:(e,t,n)=>{n.r(t),n.d(t,{InteractiveContentsBlockComponent:()=>T});var i=n(62335),r=n(22820),o=n(50484),a=n(24017),l=n(65656),d=n(50641),s=n(81477),c=n(71653),f=n(59648),p=n(95982),u=n(67400),b=n(24755),m=n(1954);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(0,a.css)("border-top:1px solid ",d.M.neutral[86],";border-top-width:1px;border-top-style:solid;border-top-color:",d.M.neutral[86],";:hover{background-color:",(0,m.M)("--interactive-contents-hover"),";}"),w=(0,a.css)(s.HT.mobileLandscape,"{border-right:1px solid ",d.M.neutral[86],";border-right-width:1px;border-right-style:solid;border-right-color:",d.M.neutral[86],";}"),y=(0,a.css)("display:flex;",c.fP9," padding-top:",f.x[2],"px;padding-bottom:",f.x[2],"px;padding-left:",f.x[3],"px;padding-right:",f.x[3],"px;text-decoration:inherit;color:inherit;"),k=(0,a.css)("padding-right:",f.x[2],"px;",c.aal,";"),C=(0,a.css)(c.r9N," padding-left:",f.x[3],"px;padding-bottom:",f.x[3],"px;"),M=(0,a.css)("width:90%;",s.HT.tablet,"{max-width:650px;margin-left:",f.x[4],"px;}background-color:",d.M.neutral[100],";border:1px solid ",d.M.neutral[86],";top:0;z-index:",(0,b.f)("banner"),";"),j=(0,a.css)("display:grid;",s.HT.mobileLandscape,"{grid-template-columns:1fr 1fr;}"),O=function(e){return(0,a.css)(M," top:0;position:fixed;margin-top:",f.x[12],"px;max-height:90vh;overflow-y:auto;display:none;",e&&"display: grid;",";")},L=(0,a.css)("margin-top:-5px;",s.HT.tablet,"{margin-left:-20px;width:calc(100% + 20px);}",s.HT.leftCol,"{margin-left:-10px;width:calc(100% + 10px);}"),A=(0,a.css)("height:",f.x[12],"px;padding:",f.x[4],"px;display:flex;align-items:center;",c.aal," ",s.TG.mobileLandscape,"{",c.ccz,";}position:fixed;cursor:pointer;border-top:0;box-shadow:0 4px 12px 0 rgb(0 0 0 / 5%);"),I=(0,a.css)("width:",f.x[5],"px;display:flex;margin-right:",f.x[2],"px;transform:translateY(-3px) rotate(0deg);transition:transform 250ms ease-out;"),S={name:"1uq443t",styles:"transform:translateY(-3px) rotate(180deg);transition:transform 250ms ease-out"},T=function(e){var t=e.subheadingLinks,n=e.endDocumentElementId,i=(0,u.useState)(!1),a=(0,r.A)(i,2),d=a[0],s=a[1],c=(0,u.useState)([]),f=(0,r.A)(c,2),b=f[0],m=f[1];(0,u.useEffect)((function(){m(t.map((function(e){return x(x({},e),{},{ref:document.getElementById(e.elementId)})})))}),[t,m]);var g=(0,u.useState)(),T=(0,r.A)(g,2),B=T[0],E=T[1],D=(0,u.useCallback)((function(e){e&&E(e.getBoundingClientRect().height)}),[]),H=(0,u.useState)(null),P=(0,r.A)(H,2),R=P[0],z=P[1];return(0,u.useEffect)((function(){if("IntersectionObserver"in window){var e,t=function(e){return b.findIndex((function(t){var n;return(null===(n=t.ref)||void 0===n?void 0:n.id)===e}))},i=new IntersectionObserver((function(e){var i=n?e.find((function(e){return e.target.id===n})):void 0;if(null!=i&&i.isIntersecting)return z(null);var o=e.find((function(e){return e.target.id===(null==R?void 0:R.elementId)}));if(o&&!o.isIntersecting&&o.boundingClientRect.y>0){var a,l=t(o.target.id);return z(null!==(a=b[l-1])&&void 0!==a?a:null)}var d,s=e.find((function(e){return e.isIntersecting}));if(null!=s&&s.target.id)return z(null!==(d=b[t(s.target.id)])&&void 0!==d?d:null);var c=b.slice(-1),f=(0,r.A)(c,1)[0];return i&&i.boundingClientRect.y>0&&null!=f&&f.ref&&f.ref.getBoundingClientRect().y<0?z(f):void 0}),{rootMargin:"0px 0px -100% 0px"}),o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(b);try{for(o.s();!(e=o.n()).done;){var a=e.value;a.ref&&i.observe(a.ref)}}catch(e){o.e(e)}finally{o.f()}if(n){var l=document.getElementById(n);l&&i.observe(l)}return function(){return i.disconnect()}}}),[b,z,R,n]),(0,o.jsxs)("div",{ref:D,css:L,style:(0,l.b)(B)?{}:{height:B},children:[(0,o.jsx)("h2",{css:C,children:"Contents"}),R&&(0,o.jsxs)("button",{type:"button",css:[M,A],onClick:function(){return s(!d)},children:[(0,o.jsx)("span",{css:[I,d&&S],children:(0,o.jsx)(p.o,{})}),R.html]}),(0,o.jsx)("ol",{"data-ignore":"global-ol-styling",css:[j,R&&O(d)],children:t.map((function(e,t){return(0,o.jsx)("li",{css:[v,t%2==0&&w],children:(0,o.jsxs)("a",{"data-ignore":"global-link-styling",css:y,href:"#".concat(e.elementId),"data-title":e.html,onClick:function(){return s(!1)},children:[(0,o.jsx)("span",{css:k,children:t+1}),e.html]})},e.elementId)}))})]})}},24755:(e,t,n)=>{n.d(t,{f:()=>r});var i=["lightbox","youTubeFullscreen","sticky-video-button","sticky-video","banner","dropdown","burger","mastheadVeggieBurgerExpandedMobile","expanded-veggie-menu-wrapper","expanded-veggie-menu","fullPageInteractiveHeaderWrapper","mobileSticky","stickyAdWrapperLabsHeader","stickyAdWrapper","stickyAdWrapperNav","mastheadMyAccountDropdown","mastheadEditionDropdown","editionDropdown","summaryDetails","toast","onwardsCarousel","myAccountDropdown","searchHeaderLink","TheGuardian","editionSwitcherBanner","expandableMarketingCardOverlay","tableOfContents","articleHeadline","immersiveBlackBox","bodyArea","rightColumnArea","mainMedia","card-nested-link","card-link"],r=function(e){var t=i.indexOf(e);return-1===t?-1:i.length-t}},1954:(e,t,n)=>{n.d(t,{M:()=>i});var i=function(e){return"var(".concat(e,")")}},84782:(e,t,n)=>{n.d(t,{f:()=>i});var i={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},72657:(e,t,n)=>{n.d(t,{Q:()=>i});var i="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},81477:(e,t,n)=>{n.d(t,{HT:()=>l,TG:()=>d,Tq:()=>s});var i=n(84782),r=function(e){return"@media (min-width: ".concat("".concat(e,"px"),")")},o=function(e){return"@media (max-width: ".concat("".concat(e-.1,"px"),")")},a=function(e,t){return"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ","".concat(t-.1,"px"),")")},l={mobile:r(i.f.mobile),mobileMedium:r(i.f.mobileMedium),mobileLandscape:r(i.f.mobileLandscape),phablet:r(i.f.phablet),tablet:r(i.f.tablet),desktop:r(i.f.desktop),leftCol:r(i.f.leftCol),wide:r(i.f.wide)},d={mobile:o(i.f.mobile),mobileMedium:o(i.f.mobileMedium),mobileLandscape:o(i.f.mobileLandscape),phablet:o(i.f.phablet),tablet:o(i.f.tablet),desktop:o(i.f.desktop),leftCol:o(i.f.leftCol),wide:o(i.f.wide)},s={mobile:{and:{mobileMedium:a(i.f.mobile,i.f.mobileMedium),mobileLandscape:a(i.f.mobile,i.f.mobileLandscape),phablet:a(i.f.mobile,i.f.phablet),tablet:a(i.f.mobile,i.f.tablet),desktop:a(i.f.mobile,i.f.desktop),leftCol:a(i.f.mobile,i.f.leftCol),wide:a(i.f.mobileMedium,i.f.wide)}},mobileMedium:{and:{mobileLandscape:a(i.f.mobileMedium,i.f.mobileLandscape),phablet:a(i.f.mobileMedium,i.f.phablet),tablet:a(i.f.mobileMedium,i.f.tablet),desktop:a(i.f.mobileMedium,i.f.desktop),leftCol:a(i.f.mobileMedium,i.f.leftCol),wide:a(i.f.mobileMedium,i.f.wide)}},mobileLandscape:{and:{phablet:a(i.f.mobileLandscape,i.f.phablet),tablet:a(i.f.mobileLandscape,i.f.tablet),desktop:a(i.f.mobileLandscape,i.f.desktop),leftCol:a(i.f.mobileLandscape,i.f.leftCol),wide:a(i.f.mobileLandscape,i.f.wide)}},phablet:{and:{tablet:a(i.f.phablet,i.f.tablet),desktop:a(i.f.phablet,i.f.desktop),leftCol:a(i.f.phablet,i.f.leftCol),wide:a(i.f.phablet,i.f.wide)}},tablet:{and:{desktop:a(i.f.tablet,i.f.desktop),leftCol:a(i.f.tablet,i.f.leftCol),wide:a(i.f.tablet,i.f.wide)}},desktop:{and:{leftCol:a(i.f.desktop,i.f.leftCol),wide:a(i.f.desktop,i.f.wide)}},leftCol:{and:{wide:a(i.f.leftCol,i.f.wide)}}}},95982:(e,t,n)=>{n.d(t,{o:()=>d});var i=n(50484),r=n(24017),o=n(72657),a=n(26633),l=function(e){var t=e.size,n=e.theme;return(0,i.jsx)("svg",{width:t?a.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m1 7.224 10.498 10.498h1.004L23 7.224l-.98-.954L12 14.708 1.98 6.27z",fill:null==n?void 0:n.fill})})},d=function(e){var t=e.size,n=e.theme,a=e.isAnnouncedByScreenReader,d=void 0!==a&&a;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{size:t,theme:n}),d?(0,i.jsx)("span",{css:(0,r.css)(o.Q,";"),children:"Expand to show more"}):""]})}}}]);
//# sourceMappingURL=InteractiveContentsBlockComponent-importable.client.web.legacy.3e4bb8985c64d60887c3.js.map