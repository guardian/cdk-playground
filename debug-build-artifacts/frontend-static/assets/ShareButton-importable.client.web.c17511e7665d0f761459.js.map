{"version":3,"file":"ShareButton-importable.client.web.c17511e7665d0f761459.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/ShareButton.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/articleFormat.ts","webpack://@guardian/dotcom-rendering/./src/lib/transparentColour.ts","webpack://@guardian/dotcom-rendering/./src/lib/useMatchMedia.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgCheckmark.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgShareWeb.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/button/Button.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/button/LinkButton.js"],"sourcesContent":["import { css } from '@emotion/react';\nimport { breakpoints, palette, until } from '@guardian/source/foundations';\nimport type { Size } from '@guardian/source/react-components';\nimport {\n\tButton,\n\tLinkButton,\n\tSvgCheckmark,\n\tSvgShareWeb,\n} from '@guardian/source/react-components';\nimport { useEffect, useMemo, useState } from 'react';\nimport { ArticleDesign, type ArticleFormat } from '../lib/articleFormat';\nimport { transparentColour } from '../lib/transparentColour';\nimport { useMatchMedia } from '../lib/useMatchMedia';\nimport { palette as themePalette } from '../palette';\n\ntype Props = {\n\tsize?: Size;\n\tpageId: string;\n\tblockId?: string;\n\twebTitle: string;\n\tformat: ArticleFormat;\n\tcontext: Context;\n};\n\ntype ButtonKind = 'native' | 'copy' | 'email';\n\ntype Context = 'ArticleMeta' | 'LiveBlock' | 'SubMeta';\n\nconst sharedButtonStyles = (sizeXSmall: boolean) => css`\n\ttransition: none;\n\tborder-color: ${sizeXSmall\n\t\t? themePalette('--share-button-xsmall-border')\n\t\t: themePalette('--share-button-border')};\n\theight: ${sizeXSmall ? '24px' : '36px'};\n`;\n\nconst copiedButtonStyles = (sizeXSmall: boolean) => css`\n\tcolor: ${themePalette('--share-button-copied')};\n\twidth: ${sizeXSmall ? '101px' : '132px'};\n\tpadding: ${sizeXSmall ? '0 4px' : '0 10px'};\n\t:hover {\n\t\tbackground-color: inherit;\n\t}\n\tsvg {\n\t\tfill: ${palette.success[400]};\n\t}\n`;\n\nconst buttonStyles = (sizeXSmall: boolean) => css`\n\tcolor: ${themePalette('--share-button')};\n\twidth: ${sizeXSmall ? '79px' : '105px'};\n\tpadding: ${sizeXSmall && '0 10px'};\n\tsvg {\n\t\tfill: ${themePalette('--share-button')};\n\t\ttransition: inherit;\n\t}\n\t:hover {\n\t\tbackground-color: ${themePalette('--share-button')};\n\t\tborder-color: ${themePalette('--share-button')};\n\t\tcolor: ${themePalette('--share-button-hover')};\n\t\tsvg {\n\t\t\tfill: ${themePalette('--share-button-hover')};\n\t\t}\n\t}\n`;\n\nconst hoverStyles = css`\n\t:hover {\n\t\tcolor: ${themePalette('--share-button-liveblog-mobile-meta')};\n\t\tbackground-color: ${palette.neutral[100]};\n\t\tborder-color: ${palette.neutral[100]};\n\t\tsvg {\n\t\t\tfill: ${themePalette('--share-button-liveblog-mobile-meta')};\n\t\t}\n\t}\n`;\n\nconst liveBlogMobileMeta = (isCopied: boolean) => css`\n\t${until.desktop} {\n\t\tcolor: ${palette.neutral[100]};\n\t\tborder-color: ${transparentColour(palette.neutral[100], 0.4)};\n\t\tsvg {\n\t\t\tfill: ${isCopied ? palette.success[500] : palette.neutral[100]};\n\t\t}\n\t\t${!isCopied && hoverStyles}\n\t}\n`;\n\nconst getUrl = ({ pageId, blockId }: { pageId: string; blockId?: string }) => {\n\tconst searchParams = new URLSearchParams({});\n\tsearchParams.append('CMP', 'share_btn_url');\n\tif (blockId) searchParams.append('page', `with:block-${blockId}`);\n\n\tconst blockHash = blockId ? `#block-${blockId}` : '';\n\tconst paramsString = searchParams.toString();\n\treturn new URL(\n\t\t`${pageId}${paramsString ? '?' + paramsString : ''}${blockHash}`,\n\t\t'https://www.theguardian.com/',\n\t).href;\n};\n\nexport const CopyNativeShareButton = ({\n\tonShare,\n\tsize,\n\tisLiveBlogMeta,\n\tisCopied,\n}: {\n\tonShare: () => void;\n\tsize?: Size;\n\tisLiveBlogMeta: boolean;\n\tisCopied: boolean;\n}) => {\n\tconst sizeXSmall = size === 'xsmall';\n\treturn (\n\t\t<Button\n\t\t\tonClick={onShare}\n\t\t\tsize={size}\n\t\t\ttype=\"button\"\n\t\t\tpriority=\"tertiary\"\n\t\t\ticonSide=\"left\"\n\t\t\ticon={isCopied ? <SvgCheckmark /> : <SvgShareWeb />}\n\t\t\tcssOverrides={css([\n\t\t\t\t...(isCopied\n\t\t\t\t\t? [copiedButtonStyles(sizeXSmall)]\n\t\t\t\t\t: [buttonStyles(sizeXSmall)]),\n\t\t\t\tsharedButtonStyles(sizeXSmall),\n\t\t\t\tisLiveBlogMeta && liveBlogMobileMeta(isCopied),\n\t\t\t])}\n\t\t>\n\t\t\t{isCopied ? 'Link copied' : 'Share'}\n\t\t</Button>\n\t);\n};\n\nexport const EmailLink = ({\n\thref,\n\tsize,\n\tisLiveBlogMeta,\n}: {\n\thref: string;\n\tsize?: Size;\n\tisLiveBlogMeta: boolean;\n}) => {\n\tconst sizeXSmall = size === 'xsmall';\n\treturn (\n\t\t<LinkButton\n\t\t\thref={href}\n\t\t\tsize={size}\n\t\t\ttype=\"button\"\n\t\t\tpriority=\"tertiary\"\n\t\t\ticonSide=\"left\"\n\t\t\ticon={<SvgShareWeb />}\n\t\t\tcssOverrides={css([\n\t\t\t\tbuttonStyles(sizeXSmall),\n\t\t\t\tsharedButtonStyles(sizeXSmall),\n\t\t\t\tisLiveBlogMeta && liveBlogMobileMeta(false),\n\t\t\t])}\n\t\t>\n\t\t\tShare\n\t\t</LinkButton>\n\t);\n};\n\n/**\n * A button or link for sharing articles:\n * - if `canShare` is supported, triggers native share\n * - otherwise if `clipboard` is supported, a copy button\n * - otherwise a `mailto:` link\n *\n * ## Why does this need to be an Island?\n *\n * We need JS to identify if the browser supports specific\n * features, and trigger share or clipboard copy.\n *\n * ---\n *\n * [`ShareButton` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-sharebutton&buildNumber=6976&k=65d716aedbc77e22153b20a9-1200px-interactive-true&h=13&b=-2)\n */\nexport const ShareButton = ({\n\tsize = 'small',\n\tpageId,\n\tblockId,\n\twebTitle,\n\tformat,\n\tcontext,\n}: Props) => {\n\tconst [isCopied, setIsCopied] = useState(false);\n\tconst [buttonKind, setButtonKind] = useState<ButtonKind>('email');\n\n\tconst isLiveBlogMeta =\n\t\tformat.design === ArticleDesign.LiveBlog && context === 'ArticleMeta';\n\n\tconst isDesktop = useMatchMedia(`(min-width: ${breakpoints.desktop}px)`);\n\n\tconst isLiveBlogBlockDesktop = isDesktop && context === 'LiveBlock';\n\n\tconst shareData = useMemo(\n\t\t() => ({\n\t\t\ttitle: webTitle,\n\t\t\ttext: webTitle,\n\t\t\turl: getUrl({\n\t\t\t\tpageId,\n\t\t\t\tblockId,\n\t\t\t}),\n\t\t}),\n\t\t[webTitle, pageId, blockId],\n\t);\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\t!isLiveBlogBlockDesktop &&\n\t\t\t'share' in navigator &&\n\t\t\tnavigator.canShare(shareData)\n\t\t) {\n\t\t\tsetButtonKind('native');\n\t\t} else if ('clipboard' in navigator) {\n\t\t\tsetButtonKind('copy');\n\t\t} else {\n\t\t\tsetButtonKind('email');\n\t\t}\n\t}, [shareData, isLiveBlogBlockDesktop]);\n\n\tuseEffect(() => {\n\t\tif (!isCopied) return;\n\t\tconst timer = setTimeout(() => {\n\t\t\tsetIsCopied(false);\n\t\t}, 3000);\n\t\treturn () => clearTimeout(timer);\n\t}, [isCopied]);\n\n\tswitch (buttonKind) {\n\t\tcase 'native':\n\t\t\treturn (\n\t\t\t\t<CopyNativeShareButton\n\t\t\t\t\tonShare={() => {\n\t\t\t\t\t\tnavigator.share(shareData).catch(console.error);\n\t\t\t\t\t}}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tisLiveBlogMeta={isLiveBlogMeta}\n\t\t\t\t\tisCopied={isCopied}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'copy':\n\t\t\treturn (\n\t\t\t\t<CopyNativeShareButton\n\t\t\t\t\tonShare={() => {\n\t\t\t\t\t\tnavigator.clipboard\n\t\t\t\t\t\t\t.writeText(\n\t\t\t\t\t\t\t\tgetUrl({\n\t\t\t\t\t\t\t\t\tpageId,\n\t\t\t\t\t\t\t\t\tblockId,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tsetIsCopied(true);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(console.error);\n\t\t\t\t\t}}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tisLiveBlogMeta={isLiveBlogMeta}\n\t\t\t\t\tisCopied={isCopied}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'email':\n\t\t\treturn (\n\t\t\t\t<EmailLink\n\t\t\t\t\thref={`mailto:?subject=${webTitle}&body=${getUrl({\n\t\t\t\t\t\tpageId,\n\t\t\t\t\t\tblockId,\n\t\t\t\t\t})}`}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tisLiveBlogMeta={isLiveBlogMeta}\n\t\t\t\t/>\n\t\t\t);\n\t}\n};\n","import { isString } from '@guardian/libs';\nimport type { FEDesign, FEDisplay, FEFormat, FETheme } from '../types/frontend';\n\nexport enum ArticleDesign {\n\tStandard,\n\tPicture,\n\tGallery,\n\tAudio,\n\tVideo,\n\tReview,\n\tAnalysis,\n\tExplainer,\n\tComment,\n\tLetter,\n\tFeature,\n\tLiveBlog,\n\tDeadBlog,\n\tRecipe,\n\tMatchReport,\n\tInterview,\n\tEditorial,\n\tQuiz,\n\tInteractive,\n\tPhotoEssay,\n\tObituary,\n\tCorrection,\n\tFullPageInteractive,\n\tNewsletterSignup,\n\tTimeline,\n\tProfile,\n}\n\nexport enum ArticleDisplay {\n\tStandard,\n\tImmersive,\n\tShowcase,\n\tNumberedList,\n}\n\nexport enum Pillar {\n\tNews = 0,\n\tOpinion = 1,\n\tSport = 2,\n\tCulture = 3,\n\tLifestyle = 4,\n}\n\nexport enum ArticleSpecial {\n\tSpecialReport = 5,\n\tLabs = 6,\n\tSpecialReportAlt = 7,\n}\n\nexport type ArticleTheme = Pillar | ArticleSpecial;\n\nexport interface ArticleFormat {\n\ttheme: ArticleTheme;\n\tdesign: ArticleDesign;\n\tdisplay: ArticleDisplay;\n}\n\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({ design }: Partial<FEFormat>): ArticleDesign => {\n\tswitch (design) {\n\t\tcase 'ArticleDesign':\n\t\t\treturn ArticleDesign.Standard;\n\t\tcase 'PictureDesign':\n\t\t\treturn ArticleDesign.Picture;\n\t\tcase 'GalleryDesign':\n\t\t\treturn ArticleDesign.Gallery;\n\t\tcase 'AudioDesign':\n\t\t\treturn ArticleDesign.Audio;\n\t\tcase 'VideoDesign':\n\t\t\treturn ArticleDesign.Video;\n\t\tcase 'ReviewDesign':\n\t\t\treturn ArticleDesign.Review;\n\t\tcase 'AnalysisDesign':\n\t\t\treturn ArticleDesign.Analysis;\n\t\tcase 'CommentDesign':\n\t\t\treturn ArticleDesign.Comment;\n\t\tcase 'LetterDesign':\n\t\t\treturn ArticleDesign.Letter;\n\t\tcase 'FeatureDesign':\n\t\t\treturn ArticleDesign.Feature;\n\t\tcase 'LiveBlogDesign':\n\t\t\treturn ArticleDesign.LiveBlog;\n\t\tcase 'DeadBlogDesign':\n\t\t\treturn ArticleDesign.DeadBlog;\n\t\tcase 'RecipeDesign':\n\t\t\treturn ArticleDesign.Recipe;\n\t\tcase 'MatchReportDesign':\n\t\t\treturn ArticleDesign.MatchReport;\n\t\tcase 'InterviewDesign':\n\t\t\treturn ArticleDesign.Interview;\n\t\tcase 'EditorialDesign':\n\t\t\treturn ArticleDesign.Editorial;\n\t\tcase 'QuizDesign':\n\t\t\treturn ArticleDesign.Quiz;\n\t\tcase 'InteractiveDesign':\n\t\t\treturn ArticleDesign.Interactive;\n\t\tcase 'PhotoEssayDesign':\n\t\t\treturn ArticleDesign.PhotoEssay;\n\t\tcase 'ObituaryDesign':\n\t\t\treturn ArticleDesign.Obituary;\n\t\tcase 'FullPageInteractiveDesign':\n\t\t\treturn ArticleDesign.FullPageInteractive;\n\t\tcase 'NewsletterSignupDesign':\n\t\t\treturn ArticleDesign.NewsletterSignup;\n\t\tcase 'ExplainerDesign':\n\t\t\treturn ArticleDesign.Explainer;\n\t\tcase 'TimelineDesign':\n\t\t\treturn ArticleDesign.Timeline;\n\t\tcase 'ProfileDesign':\n\t\t\treturn ArticleDesign.Profile;\n\t\tdefault:\n\t\t\treturn ArticleDesign.Standard;\n\t}\n};\n\nconst decideDisplay = ({\n\tdisplay,\n\tdesign,\n}: Partial<FEFormat>): ArticleDisplay => {\n\tswitch (display) {\n\t\tcase 'StandardDisplay':\n\t\t\treturn ArticleDisplay.Standard;\n\t\tcase 'ImmersiveDisplay':\n\t\t\t// Temporary hack until we can handle Immersive Comment pieces\n\t\t\treturn design === 'CommentDesign'\n\t\t\t\t? ArticleDisplay.Standard\n\t\t\t\t: ArticleDisplay.Immersive;\n\t\tcase 'ShowcaseDisplay':\n\t\t\treturn ArticleDisplay.Showcase;\n\t\tcase 'NumberedListDisplay':\n\t\t\treturn ArticleDisplay.NumberedList;\n\t\tdefault:\n\t\t\treturn ArticleDisplay.Standard;\n\t}\n};\n\nexport const decideTheme = ({ theme }: Partial<FEFormat>): ArticleTheme => {\n\tswitch (theme) {\n\t\tcase 'NewsPillar':\n\t\t\treturn Pillar.News;\n\t\tcase 'OpinionPillar':\n\t\t\treturn Pillar.Opinion;\n\t\tcase 'SportPillar':\n\t\t\treturn Pillar.Sport;\n\t\tcase 'CulturePillar':\n\t\t\treturn Pillar.Culture;\n\t\tcase 'LifestylePillar':\n\t\t\treturn Pillar.Lifestyle;\n\t\tcase 'SpecialReportTheme':\n\t\t\treturn ArticleSpecial.SpecialReport;\n\t\tcase 'SpecialReportAltTheme':\n\t\t\treturn ArticleSpecial.SpecialReportAlt;\n\t\tcase 'Labs':\n\t\t\treturn ArticleSpecial.Labs;\n\t\tdefault:\n\t\t\treturn Pillar.News;\n\t}\n};\n\nexport const decideFormat = (format: Partial<FEFormat>): ArticleFormat => ({\n\tdesign: decideDesign(format),\n\tdisplay: decideDisplay(format),\n\ttheme: decideTheme(format),\n});\n\nexport const getThemeNameAsString = (format: ArticleFormat): string => {\n\tconst themeName = Pillar[format.theme] ?? ArticleSpecial[format.theme];\n\tif (!themeName) throw new Error('Unknown theme');\n\treturn themeName;\n};\n\n/**\n * We need a type guard because TypeScript enums are (confusingly)\n * returning both strings and numbers.\n */\nconst isTheme = (theme: string | ArticleTheme): theme is ArticleTheme =>\n\t!isString(theme);\n\nconst isDesign = (design: string | ArticleDesign): design is ArticleDesign =>\n\t!isString(design);\n\nexport const getAllThemes = ({\n\tdisplay,\n\tdesign,\n}: {\n\tdisplay: ArticleDisplay;\n\tdesign: ArticleDesign;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...Pillar, ...ArticleSpecial })\n\t\t.filter(isTheme)\n\t\t.map((theme) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nexport const getAllDesigns = ({\n\tdisplay,\n\ttheme,\n}: {\n\tdisplay: ArticleDisplay;\n\ttheme: ArticleTheme;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...ArticleDesign })\n\t\t.filter(isDesign)\n\t\t.map((design) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nconst designToFEDesign = (design: ArticleDesign): FEDesign => {\n\tswitch (design) {\n\t\tcase ArticleDesign.Standard:\n\t\t// Correction doesn't exist in `FEFormat`.\n\t\tcase ArticleDesign.Correction:\n\t\t\treturn 'ArticleDesign';\n\t\tcase ArticleDesign.Picture:\n\t\t\treturn 'PictureDesign';\n\t\tcase ArticleDesign.Gallery:\n\t\t\treturn 'GalleryDesign';\n\t\tcase ArticleDesign.Audio:\n\t\t\treturn 'AudioDesign';\n\t\tcase ArticleDesign.Video:\n\t\t\treturn 'VideoDesign';\n\t\tcase ArticleDesign.Review:\n\t\t\treturn 'ReviewDesign';\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn 'AnalysisDesign';\n\t\tcase ArticleDesign.Explainer:\n\t\t\treturn 'ExplainerDesign';\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn 'CommentDesign';\n\t\tcase ArticleDesign.Letter:\n\t\t\treturn 'LetterDesign';\n\t\tcase ArticleDesign.Feature:\n\t\t\treturn 'FeatureDesign';\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn 'LiveBlogDesign';\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn 'DeadBlogDesign';\n\t\tcase ArticleDesign.Recipe:\n\t\t\treturn 'RecipeDesign';\n\t\tcase ArticleDesign.MatchReport:\n\t\t\treturn 'MatchReportDesign';\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn 'InterviewDesign';\n\t\tcase ArticleDesign.Editorial:\n\t\t\treturn 'EditorialDesign';\n\t\tcase ArticleDesign.Quiz:\n\t\t\treturn 'QuizDesign';\n\t\tcase ArticleDesign.Interactive:\n\t\t\treturn 'InteractiveDesign';\n\t\tcase ArticleDesign.PhotoEssay:\n\t\t\treturn 'PhotoEssayDesign';\n\t\tcase ArticleDesign.Obituary:\n\t\t\treturn 'ObituaryDesign';\n\t\tcase ArticleDesign.FullPageInteractive:\n\t\t\treturn 'FullPageInteractiveDesign';\n\t\tcase ArticleDesign.NewsletterSignup:\n\t\t\treturn 'NewsletterSignupDesign';\n\t\tcase ArticleDesign.Timeline:\n\t\t\treturn 'TimelineDesign';\n\t\tcase ArticleDesign.Profile:\n\t\t\treturn 'ProfileDesign';\n\t}\n};\n\nconst displayToFEDisplay = (display: ArticleDisplay): FEDisplay => {\n\tswitch (display) {\n\t\tcase ArticleDisplay.Standard:\n\t\t\treturn 'StandardDisplay';\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn 'ImmersiveDisplay';\n\t\tcase ArticleDisplay.Showcase:\n\t\t\treturn 'ShowcaseDisplay';\n\t\tcase ArticleDisplay.NumberedList:\n\t\t\treturn 'NumberedListDisplay';\n\t}\n};\n\nconst themeToFETheme = (theme: ArticleTheme): FETheme => {\n\tswitch (theme) {\n\t\tcase Pillar.News:\n\t\t\treturn 'NewsPillar';\n\t\tcase Pillar.Opinion:\n\t\t\treturn 'OpinionPillar';\n\t\tcase Pillar.Sport:\n\t\t\treturn 'SportPillar';\n\t\tcase Pillar.Culture:\n\t\t\treturn 'CulturePillar';\n\t\tcase Pillar.Lifestyle:\n\t\t\treturn 'LifestylePillar';\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'SpecialReportTheme';\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn 'Labs';\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn 'SpecialReportAltTheme';\n\t}\n};\n\nexport const formatToFEFormat = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): FEFormat => ({\n\tdesign: designToFEDesign(design),\n\tdisplay: displayToFEDisplay(display),\n\ttheme: themeToFETheme(theme),\n});\n\n/**\n * Creates a string representation of {@linkcode ArticleFormat}. Useful for\n * logging, storybook UI etc.\n *\n * @param format An {@linkcode ArticleFormat}\n * @returns A string representation of `ArticleFormat`\n */\nexport const formatToString = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): string =>\n\t[\n\t\t`${ArticleDesign[design]} Design`,\n\t\t`${ArticleDisplay[display]} Display`,\n\t\t`and ${Pillar[theme] ?? ArticleSpecial[theme]} Theme`,\n\t].join(', ');\n","const getColour = (string: string) => {\n\tswitch (string.length) {\n\t\tcase 2:\n\t\t\treturn parseInt(string, 16);\n\t\tcase 1:\n\t\t\treturn parseInt(string + string, 16);\n\t\tdefault:\n\t\t\treturn 127;\n\t}\n};\n\nconst fallback = 'rgba(127, 127, 127, 0.5)';\n\n/**\n * Transforms a hex colour to a transparent one of the same colour.\n *\n * The alternative [#RRGGBBAA notation is not well supported][caniuse],\n * so we used the more widely supported rgba() notation.\n *\n * [caniuse]: https://caniuse.com/css-rrggbbaa\n *\n * @param colour the hex string, e.g. #C70000\n * @param opacity optional opacity 0-1. Defaults to 0.5 (50%)\n * @returns an functional colour string, e.g. rgba(199, 0, 0, 0.5)\n */\nexport const transparentColour = (\n\tcolour: string,\n\topacity = 0.5,\n): `rgba(${number}, ${number}, ${number}, ${number})` => {\n\t// if we have an invalid string,\n\tif (!colour.startsWith('#') || ![4, 7].includes(colour.length)) {\n\t\treturn fallback;\n\t}\n\n\tconst hex = colour.length === 7 ? 2 : 1;\n\n\tconst r = getColour(colour.slice(1, 1 + hex));\n\tconst g = getColour(colour.slice(1 + hex, 1 + hex * 2));\n\tconst b = getColour(colour.slice(1 + hex * 2, 1 + hex * 3));\n\n\tif ([r, g, b].some(Number.isNaN)) return fallback;\n\n\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`;\n};\n","import { useEffect, useState, useSyncExternalStore } from 'react';\n\n/**\n * Stores constructed media queries by their query string, so they don't have\n * to be recreated on each render. Also allows multiple components to use the\n * same media query.\n */\nconst cachedQueries = new Map<string, MediaQueryList>();\n\nconst removeMediaRulePrefix = (query: string): string =>\n\tquery.replace('@media', '').trim();\n\n/**\n * A custom hook to test the provided media query. Will return a `boolean`\n * signifying whether the media query currently matches, and will trigger a\n * re-render whenever the match status changes in either direction;\n * e.g. from `true` to `false`, or from `false` to `true`.\n *\n * @param {string} query for use with `window.matchMedia`\n * @returns {boolean} whether the media query currently matches\n */\nconst useMatchMedia = (query: string): boolean => {\n\tconst [mediaQuery, setMediaQuery] = useState(cachedQueries.get(query));\n\n\tuseEffect(() => {\n\t\tif (mediaQuery) return;\n\t\tcachedQueries.set(query, window.matchMedia(query));\n\t\tsetMediaQuery(cachedQueries.get(query));\n\t}, [mediaQuery, query]);\n\n\t/** @see https://react.dev/reference/react/useSyncExternalStore */\n\treturn useSyncExternalStore(\n\t\t(callback) => {\n\t\t\tmediaQuery?.addEventListener('change', callback);\n\n\t\t\treturn () => {\n\t\t\t\tmediaQuery?.removeEventListener('change', callback);\n\t\t\t};\n\t\t},\n\t\t() => !!mediaQuery?.matches,\n\t\t() => false, // we cannot have media queries on the server\n\t);\n};\n\nexport { removeMediaRulePrefix, useMatchMedia };\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n","const breakpoints = {\n  desktop: 980,\n  leftCol: 1140,\n  mobile: 320,\n  mobileLandscape: 480,\n  mobileMedium: 375,\n  phablet: 660,\n  tablet: 740,\n  wide: 1300\n};\n\nexport { breakpoints };\n","import { breakpoints } from '../__generated__/breakpoints.js';\n\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n  mobile: minWidth(breakpoints.mobile),\n  mobileMedium: minWidth(breakpoints.mobileMedium),\n  mobileLandscape: minWidth(breakpoints.mobileLandscape),\n  phablet: minWidth(breakpoints.phablet),\n  tablet: minWidth(breakpoints.tablet),\n  desktop: minWidth(breakpoints.desktop),\n  leftCol: minWidth(breakpoints.leftCol),\n  wide: minWidth(breakpoints.wide)\n};\nconst until = {\n  mobile: maxWidth(breakpoints.mobile),\n  mobileMedium: maxWidth(breakpoints.mobileMedium),\n  mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n  phablet: maxWidth(breakpoints.phablet),\n  tablet: maxWidth(breakpoints.tablet),\n  desktop: maxWidth(breakpoints.desktop),\n  leftCol: maxWidth(breakpoints.leftCol),\n  wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n  mobile: {\n    and: {\n      mobileMedium: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileMedium\n      ),\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileMedium: {\n    and: {\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobileMedium,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileLandscape: {\n    and: {\n      phablet: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.phablet\n      ),\n      tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n      desktop: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.desktop\n      ),\n      leftCol: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.leftCol\n      ),\n      wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n    }\n  },\n  phablet: {\n    and: {\n      tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n    }\n  },\n  tablet: {\n    and: {\n      desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n    }\n  },\n  desktop: {\n    and: {\n      leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n    }\n  },\n  leftCol: {\n    and: {\n      wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n    }\n  }\n};\n\nexport { between, from, until };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M3.011 11.884 2 12.894l5.057 7.08h.48L22 5.006l-1.011-.986L7.537 16.207z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgCheckmark = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Checkmark\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgCheckmark };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M19 16c1.675 0 3 1.35 3 3 0 1.675-1.325 3-3 3a2.97 2.97 0 0 1-2.975-3c0-.125 0-.275.025-.375L7.1 14.15a2.9 2.9 0 0 1-2.075.825C3.325 14.975 2 13.65 2 12a3.004 3.004 0 0 1 3.025-3.025c.775 0 1.5.35 2.075.875l8.95-4.475c-.025-.1-.025-.225-.025-.4A2.966 2.966 0 0 1 19 2c1.675 0 3 1.325 3 2.975C22 6.65 20.675 8 19 8c-.8 0-1.475-.325-2.05-.825l-8.975 4.45C8 11.7 8 11.825 8 12s0 .3-.025.375l8.975 4.45c.575-.5 1.25-.825 2.05-.825m0-12.8c-.975 0-1.8.775-1.8 1.775S18.025 6.8 19 6.8c1 0 1.825-.825 1.825-1.825S20 3.2 19 3.2m0 17.6c1 0 1.825-.825 1.825-1.8 0-1-.825-1.8-1.825-1.8-.975 0-1.8.8-1.8 1.8 0 .975.825 1.8 1.8 1.8\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgShareWeb = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Share\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgShareWeb };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\n\nconst Button = ({\n  priority,\n  size,\n  icon: iconSvg,\n  iconSide,\n  hideLabel,\n  nudgeIcon,\n  type = \"button\",\n  isLoading = false,\n  loadingAnnouncement = \"Loading\",\n  cssOverrides,\n  children,\n  theme,\n  ...props\n}) => /* @__PURE__ */ jsx(\n  \"button\",\n  {\n    css: buttonStyles({\n      size,\n      priority,\n      icon: iconSvg,\n      hideLabel,\n      iconSide,\n      nudgeIcon,\n      cssOverrides,\n      isLoading,\n      theme\n    }),\n    type,\n    \"aria-live\": \"polite\",\n    \"aria-label\": isLoading ? loadingAnnouncement : void 0,\n    ...props,\n    children: buttonContents({\n      hideLabel,\n      iconSvg,\n      isLoading,\n      children\n    })\n  }\n);\n\nexport { Button };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\n\nconst LinkButton = ({\n  priority,\n  size,\n  iconSide,\n  icon: iconSvg,\n  nudgeIcon,\n  hideLabel,\n  cssOverrides,\n  children,\n  theme,\n  ...props\n}) => /* @__PURE__ */ jsx(\n  \"a\",\n  {\n    css: buttonStyles({\n      size,\n      priority,\n      icon: iconSvg,\n      hideLabel,\n      iconSide,\n      nudgeIcon,\n      cssOverrides,\n      theme\n    }),\n    ...props,\n    children: buttonContents({\n      hideLabel,\n      iconSvg,\n      children\n    })\n  }\n);\n\nexport { LinkButton };\n"],"names":["sharedButtonStyles","sizeXSmall","css","themePalette","copiedButtonStyles","palette","success","buttonStyles","hoverStyles","neutral","liveBlogMobileMeta","isCopied","until","desktop","transparentColour","getUrl","pageId","blockId","searchParams","URLSearchParams","append","blockHash","paramsString","toString","URL","href","CopyNativeShareButton","onShare","size","isLiveBlogMeta","Button","onClick","type","priority","iconSide","icon","SvgCheckmark","SvgShareWeb","cssOverrides","EmailLink","LinkButton","ShareButton","webTitle","format","context","setIsCopied","useState","buttonKind","setButtonKind","design","ArticleDesign","LiveBlog","isLiveBlogBlockDesktop","useMatchMedia","breakpoints","shareData","useMemo","title","text","url","useEffect","navigator","canShare","timer","setTimeout","clearTimeout","share","catch","console","error","clipboard","writeText","then","ArticleDisplay","Pillar","ArticleSpecial","decideDesign","decideDisplay","display","decideTheme","theme","decideFormat","getColour","string","length","parseInt","fallback","colour","opacity","startsWith","includes","hex","r","slice","g","b","some","Number","isNaN","cachedQueries","Map","removeMediaRulePrefix","query","replace","trim","mediaQuery","setMediaQuery","get","set","window","matchMedia","useSyncExternalStore","callback","addEventListener","removeEventListener","matches","leftCol","mobile","mobileLandscape","mobileMedium","phablet","tablet","wide","minWidth","from2","maxWidth","until2","minWidthMaxWidth","from","between","and","Svg","jsx","width","iconSize","height","viewBox","xmlns","focusable","children","fillRule","clipRule","d","fill","isAnnouncedByScreenReader","jsxs","Fragment","visuallyHidden","iconSvg","hideLabel","nudgeIcon","isLoading","loadingAnnouncement","props","buttonContents"],"sourceRoot":""}