{"version":3,"file":"SlotBodyEnd-importable.client.web.legacy.e58db60d76ed7b28fa67.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/Island.tsx","webpack://@guardian/dotcom-rendering/./src/components/SlotBodyEnd/BrazeEpic.tsx","webpack://@guardian/dotcom-rendering/./src/components/SlotBodyEnd/ReaderRevenueEpic.tsx","webpack://@guardian/dotcom-rendering/./src/components/SlotBodyEnd.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/articleFormat.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js"],"sourcesContent":["import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\n/**\n * Adds interactivity to the client by either hydrating or inserting content.\n *\n * Note. The component passed as children must follow the [MyComponent].importable.tsx\n * namimg convention\n *\n * @param {IslandProps} props - JSX Props\n * @param {JSX.Element} props.children - The component being inserted. Must be a single JSX Element\n */\nexport const Island = ({ priority, defer, children, role }) => {\n    const rootMargin = defer?.until === 'visible' ? defer.rootMargin : undefined;\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access -- Type definitions on children are limited\n    const name = String(children.type.name);\n    return (_jsx(\"gu-island\", { name: name, priority: priority, deferUntil: defer?.until, props: JSON.stringify(children.props), rootMargin: rootMargin, \"data-spacefinder-role\": role, children: children }));\n};\n","import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { useEffect, useRef, useState } from 'react';\nimport { submitComponentEvent } from '../../client/ophan/ophan';\nimport { getBrazeMetaFromUrlFragment } from '../../lib/braze/forceBrazeMessage';\nimport { suppressForTaylorReport } from '../../lib/braze/taylorReport';\nimport { lazyFetchEmailWithTimeout } from '../../lib/fetchEmail';\nimport { getOptionsHeadersWithOkta } from '../../lib/identity';\nimport { useAuthStatus } from '../../lib/useAuthStatus';\nimport { useIsInView } from '../../lib/useIsInView';\nimport { useOnce } from '../../lib/useOnce';\nimport { useConfig } from '../ConfigContext';\nconst wrapperMargins = css `\n\tmargin: 18px 0;\n`;\nconst COMPONENT_TYPE = 'RETENTION_EPIC';\nexport const canShowBrazeEpic = async (brazeMessages, brazeArticleContext, contentType, tags, shouldHideReaderRevenue) => {\n    if (contentType.toLowerCase() === 'interactive') {\n        return { show: false };\n    }\n    const forcedBrazeMeta = getBrazeMetaFromUrlFragment();\n    if (forcedBrazeMeta) {\n        return {\n            show: true,\n            meta: forcedBrazeMeta,\n        };\n    }\n    if (shouldHideReaderRevenue) {\n        return { show: false };\n    }\n    if (suppressForTaylorReport(tags)) {\n        return { show: false };\n    }\n    try {\n        const message = await brazeMessages.getMessageForEndOfArticle(brazeArticleContext);\n        if (message.extras) {\n            return {\n                show: true,\n                meta: {\n                    dataFromBraze: message.extras,\n                    logImpressionWithBraze: () => {\n                        message.logImpression();\n                    },\n                    logButtonClickWithBraze: (internalButtonId) => {\n                        message.logButtonClick(internalButtonId);\n                    },\n                },\n            };\n        }\n        return { show: false };\n    }\n    catch (e) {\n        return { show: false };\n    }\n};\nconst BrazeEpicWithSatisfiedDependencies = ({ BrazeComponent, meta, countryCode, idApiUrl, }) => {\n    const authStatus = useAuthStatus();\n    const [hasBeenSeen, setNode] = useIsInView({\n        rootMargin: '-18px',\n        threshold: 0,\n        debounce: true,\n    });\n    const epicRef = useRef(null);\n    const { renderingTarget } = useConfig();\n    useOnce(() => {\n        void submitComponentEvent({\n            component: {\n                componentType: COMPONENT_TYPE,\n                id: meta.dataFromBraze.ophanComponentId,\n            },\n            action: 'INSERT',\n        }, renderingTarget);\n    }, [meta.dataFromBraze, epicRef.current]);\n    useEffect(() => {\n        if (hasBeenSeen) {\n            meta.logImpressionWithBraze();\n            // Log VIEW event with Ophan\n            void submitComponentEvent({\n                component: {\n                    componentType: COMPONENT_TYPE,\n                    id: meta.dataFromBraze.ophanComponentId,\n                },\n                action: 'VIEW',\n            }, renderingTarget);\n        }\n    }, [hasBeenSeen, meta, renderingTarget]);\n    const componentName = meta.dataFromBraze.componentName;\n    if (!componentName)\n        return null;\n    const subscribeToNewsletter = async (newsletterId) => {\n        if (authStatus.kind == 'SignedInWithCookies' ||\n            authStatus.kind == 'SignedInWithOkta') {\n            const options = getOptionsHeadersWithOkta(authStatus);\n            await fetch(`${idApiUrl}/users/me/newsletters`, {\n                method: 'PATCH',\n                body: JSON.stringify({\n                    id: newsletterId,\n                    subscribed: true,\n                }),\n                ...options,\n            });\n        }\n    };\n    const fetchEmail = lazyFetchEmailWithTimeout(idApiUrl);\n    return (_jsx(\"div\", { ref: setNode, css: wrapperMargins, children: _jsx(\"div\", { ref: epicRef, children: _jsx(BrazeComponent, { componentName: componentName, brazeMessageProps: meta.dataFromBraze, subscribeToNewsletter: subscribeToNewsletter, countryCode: countryCode, logButtonClickWithBraze: meta.logButtonClickWithBraze, submitComponentEvent: (event) => void submitComponentEvent(event, renderingTarget), fetchEmail: fetchEmail }) }) }));\n};\nexport const MaybeBrazeEpic = ({ meta, countryCode, idApiUrl }) => {\n    const [BrazeComponent, setBrazeComponent] = useState();\n    useEffect(() => {\n        import(\n        /* webpackChunkName: \"guardian-braze-components-end-of-article\" */ '@guardian/braze-components/end-of-article')\n            .then((module) => {\n            setBrazeComponent(() => module.BrazeEndOfArticleComponent);\n        })\n            .catch((error) => window.guardian.modules.sentry.reportError(error, 'braze-epic'));\n    }, []);\n    return (_jsx(_Fragment, { children: BrazeComponent ? (_jsx(BrazeEpicWithSatisfiedDependencies, { BrazeComponent: BrazeComponent, meta: meta, countryCode: countryCode, idApiUrl: idApiUrl })) : (_jsx(\"div\", {})) }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { cmp, getCookie, startPerformanceMeasure, storage, } from '@guardian/libs';\nimport { getEpic, getEpicViewLog } from '@guardian/support-dotcom-components';\nimport { useEffect, useState } from 'react';\nimport { submitComponentEvent } from '../../client/ophan/ophan';\nimport { hasCmpConsentForBrowserId, hasCmpConsentForWeeklyArticleCount, hasOptedOutOfArticleCount, shouldHideSupportMessaging, } from '../../lib/contributions';\nimport { lazyFetchEmailWithTimeout } from '../../lib/fetchEmail';\nimport { setAutomat } from '../../lib/setAutomat';\nimport { useConfig } from '../ConfigContext';\nconst wrapperMargins = css `\n\tmargin: 18px 0;\n\tclear: both;\n`;\nconst buildPayload = async (data) => ({\n    tracking: {\n        ophanPageId: window.guardian.config.ophan.pageViewId,\n        platformId: 'GUARDIAN_WEB',\n        clientName: 'dcr',\n        referrerUrl: window.location.origin + window.location.pathname,\n    },\n    targeting: {\n        contentType: data.contentType,\n        sectionId: data.sectionId,\n        shouldHideReaderRevenue: data.shouldHideReaderRevenue,\n        isMinuteArticle: data.isMinuteArticle,\n        isPaidContent: data.isPaidContent,\n        tags: data.tags,\n        showSupportMessaging: !data.hideSupportMessagingForUser,\n        epicViewLog: getEpicViewLog(storage.local),\n        weeklyArticleHistory: await data.asyncArticleCount,\n        hasOptedOutOfArticleCount: await hasOptedOutOfArticleCount(),\n        mvtId: Number(getCookie({ name: 'GU_mvt_id', shouldMemoize: true })),\n        countryCode: data.countryCode,\n        url: window.location.origin + window.location.pathname,\n        browserId: (await hasCmpConsentForBrowserId())\n            ? data.browserId\n            : undefined,\n        isSignedIn: data.isSignedIn,\n    },\n});\nexport const canShowReaderRevenueEpic = async (data) => {\n    const { isSignedIn, shouldHideReaderRevenue, isPaidContent, contributionsServiceUrl, idApiUrl, stage, } = data;\n    const hideSupportMessagingForUser = shouldHideSupportMessaging(isSignedIn);\n    if (hideSupportMessagingForUser === 'Pending') {\n        // We don't yet know the user's supporter status\n        return Promise.resolve({ show: false });\n    }\n    if (shouldHideReaderRevenue || isPaidContent) {\n        // We never serve Reader Revenue epics in this case\n        return Promise.resolve({ show: false });\n    }\n    const { endPerformanceMeasure } = startPerformanceMeasure('supporterRevenue', 'contributions-epic-data');\n    const contributionsPayload = await buildPayload({\n        ...data,\n        hideSupportMessagingForUser,\n    });\n    const response = await getEpic(contributionsServiceUrl, contributionsPayload);\n    const module = response.data?.module;\n    endPerformanceMeasure();\n    if (!module) {\n        return { show: false };\n    }\n    const fetchEmail = isSignedIn\n        ? lazyFetchEmailWithTimeout(idApiUrl)\n        : undefined;\n    const hasConsentForArticleCount = await hasCmpConsentForWeeklyArticleCount();\n    return {\n        show: true,\n        meta: {\n            module,\n            fetchEmail,\n            hasConsentForArticleCount,\n            stage,\n        },\n    };\n};\nexport const ReaderRevenueEpic = ({ module, fetchEmail, hasConsentForArticleCount, stage, }) => {\n    const [Epic, setEpic] = useState(null);\n    const { renderingTarget } = useConfig();\n    const openCmp = () => {\n        cmp.showPrivacyManager();\n    };\n    useEffect(() => {\n        setAutomat();\n        const { endPerformanceMeasure } = startPerformanceMeasure('supporterRevenue', 'contributions-epic-module');\n        import(\n        /* webpackChunkName: \"contributions-epic\" */ `../marketing/epics/ContributionsEpic`)\n            .then((epicModule) => {\n            endPerformanceMeasure();\n            setEpic(() => epicModule.ContributionsEpic); // useState requires functions to be wrapped\n        })\n            .catch((error) => {\n            const msg = error instanceof Error\n                ? `Error importing RR epic: ${error.message}`\n                : 'Unknown error';\n            console.log(msg);\n            window.guardian.modules.sentry.reportError(new Error(msg), 'rr-epic');\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    if (Epic !== null) {\n        return (_jsx(\"div\", { css: wrapperMargins, children: _jsx(Epic, { ...module.props, fetchEmail: fetchEmail, submitComponentEvent: (event) => void submitComponentEvent(event, renderingTarget), openCmp: openCmp, hasConsentForArticleCount: hasConsentForArticleCount, stage: stage }) }));\n    }\n    return null;\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { adSizes } from '@guardian/commercial';\nimport { getCookie, isString, isUndefined } from '@guardian/libs';\nimport { palette } from '@guardian/source/foundations';\nimport { useEffect, useState } from 'react';\nimport { getArticleCounts } from '../lib/articleCount';\nimport { pickMessage } from '../lib/messagePicker';\nimport { useAB } from '../lib/useAB';\nimport { useIsSignedIn } from '../lib/useAuthStatus';\nimport { useBraze } from '../lib/useBraze';\nimport { useCountryCode } from '../lib/useCountryCode';\nimport { AdSlot } from './AdSlot.web';\nimport { useConfig } from './ConfigContext';\nimport { canShowBrazeEpic, MaybeBrazeEpic } from './SlotBodyEnd/BrazeEpic';\nimport { canShowReaderRevenueEpic, ReaderRevenueEpic, } from './SlotBodyEnd/ReaderRevenueEpic';\nconst slotStyles = css `\n\tcolor: ${palette.neutral[7]};\n`;\nconst buildReaderRevenueEpicConfig = (canShowData) => {\n    return {\n        candidate: {\n            id: 'reader-revenue-banner',\n            canShow: () => canShowReaderRevenueEpic(canShowData),\n            show: (meta) => () => {\n                return _jsx(ReaderRevenueEpic, { ...meta });\n            },\n        },\n        timeoutMillis: null,\n    };\n};\nconst buildBrazeEpicConfig = (brazeMessages, countryCode, idApiUrl, contentType, brazeArticleContext, tags, shouldHideReaderRevenue) => {\n    return {\n        candidate: {\n            id: 'braze-epic',\n            canShow: () => canShowBrazeEpic(brazeMessages, brazeArticleContext, contentType, tags, shouldHideReaderRevenue),\n            show: (meta) => () => (_jsx(MaybeBrazeEpic, { meta: meta, countryCode: countryCode, idApiUrl: idApiUrl })),\n        },\n        timeoutMillis: 2000,\n    };\n};\nconst useBrowserId = () => {\n    const [browserId, setBrowserId] = useState();\n    useEffect(() => {\n        const cookie = getCookie({ name: 'bwid', shouldMemoize: true });\n        const id = isString(cookie) ? cookie : 'no-browser-id-available';\n        setBrowserId(id);\n    }, []);\n    return browserId;\n};\nexport const SlotBodyEnd = ({ contentType, sectionId, shouldHideReaderRevenue, isMinuteArticle, isPaidContent, tags, contributionsServiceUrl, idApiUrl, stage, pageId, renderAds, isLabs, articleEndSlot, }) => {\n    const { renderingTarget } = useConfig();\n    const { brazeMessages } = useBraze(idApiUrl, renderingTarget);\n    const countryCode = useCountryCode('slot-body-end');\n    const isSignedIn = useIsSignedIn();\n    const browserId = useBrowserId();\n    const [SelectedEpic, setSelectedEpic] = useState();\n    const [asyncArticleCount, setAsyncArticleCount] = useState();\n    const showPublicGood = countryCode === 'US';\n    const abTests = useAB();\n    const abTestsApi = abTests?.api;\n    const mpuWhenNoEpicEnabled = (abTestsApi?.isUserInVariant('MpuWhenNoEpic', 'variant') &&\n        countryCode === 'GB') ??\n        false;\n    const showArticleEndSlot = renderAds &&\n        !isLabs &&\n        (showPublicGood || mpuWhenNoEpicEnabled) &&\n        articleEndSlot;\n    useEffect(() => {\n        setAsyncArticleCount(getArticleCounts(pageId, tags, contentType).then((counts) => counts?.weeklyArticleHistory));\n    }, [contentType, tags, pageId]);\n    useEffect(() => {\n        // Wait for the following dependencies before checking for Braze + RRCP messages\n        if (isUndefined(countryCode) ||\n            isUndefined(brazeMessages) ||\n            isUndefined(asyncArticleCount) ||\n            isUndefined(browserId) ||\n            isSignedIn === 'Pending') {\n            return;\n        }\n        const readerRevenueEpic = buildReaderRevenueEpicConfig({\n            isSignedIn,\n            countryCode,\n            contentType,\n            sectionId,\n            shouldHideReaderRevenue,\n            isMinuteArticle,\n            isPaidContent,\n            tags,\n            contributionsServiceUrl,\n            idApiUrl,\n            stage,\n            asyncArticleCount,\n            browserId,\n        });\n        const brazeArticleContext = {\n            section: sectionId,\n        };\n        const brazeEpic = buildBrazeEpicConfig(brazeMessages, countryCode, idApiUrl, contentType, brazeArticleContext, tags, shouldHideReaderRevenue);\n        const epicConfig = {\n            candidates: [brazeEpic, readerRevenueEpic],\n            name: 'slotBodyEnd',\n        };\n        pickMessage(epicConfig, renderingTarget)\n            .then((PickedEpic) => setSelectedEpic(PickedEpic))\n            .catch((e) => console.error(`SlotBodyEnd pickMessage - error: ${String(e)}`));\n    }, [\n        isSignedIn,\n        countryCode,\n        brazeMessages,\n        asyncArticleCount,\n        browserId,\n        contentType,\n        contributionsServiceUrl,\n        idApiUrl,\n        isMinuteArticle,\n        isPaidContent,\n        renderingTarget,\n        sectionId,\n        shouldHideReaderRevenue,\n        stage,\n        tags,\n    ]);\n    useEffect(() => {\n        if (SelectedEpic === null && showArticleEndSlot) {\n            const additionalSizes = () => {\n                if (mpuWhenNoEpicEnabled) {\n                    return {\n                        desktop: [\n                            adSizes.outstreamDesktop,\n                            adSizes.outstreamGoogleDesktop,\n                        ],\n                    };\n                }\n                else if (showPublicGood) {\n                    return { mobile: [adSizes.fluid] };\n                }\n                return {};\n            };\n            document.dispatchEvent(new CustomEvent('gu.commercial.slot.fill', {\n                detail: {\n                    slotId: 'dfp-ad--article-end',\n                    additionalSizes: additionalSizes(),\n                },\n            }));\n        }\n    }, [\n        SelectedEpic,\n        showArticleEndSlot,\n        mpuWhenNoEpicEnabled,\n        showPublicGood,\n    ]);\n    if (SelectedEpic !== null && !isUndefined(SelectedEpic)) {\n        return (_jsx(\"div\", { id: \"slot-body-end\", css: slotStyles, children: _jsx(SelectedEpic, {}) }));\n    }\n    else if (SelectedEpic === null && showArticleEndSlot) {\n        return (_jsx(\"div\", { id: \"slot-body-end\", css: slotStyles, children: _jsx(AdSlot, { \"data-print-layout\": \"hide\", position: \"article-end\" }) }));\n    }\n    return null;\n};\n","import { isString } from '@guardian/libs';\nexport var ArticleDesign;\n(function (ArticleDesign) {\n    ArticleDesign[ArticleDesign[\"Standard\"] = 0] = \"Standard\";\n    ArticleDesign[ArticleDesign[\"Picture\"] = 1] = \"Picture\";\n    ArticleDesign[ArticleDesign[\"Gallery\"] = 2] = \"Gallery\";\n    ArticleDesign[ArticleDesign[\"Audio\"] = 3] = \"Audio\";\n    ArticleDesign[ArticleDesign[\"Video\"] = 4] = \"Video\";\n    ArticleDesign[ArticleDesign[\"Review\"] = 5] = \"Review\";\n    ArticleDesign[ArticleDesign[\"Analysis\"] = 6] = \"Analysis\";\n    ArticleDesign[ArticleDesign[\"Explainer\"] = 7] = \"Explainer\";\n    ArticleDesign[ArticleDesign[\"Comment\"] = 8] = \"Comment\";\n    ArticleDesign[ArticleDesign[\"Letter\"] = 9] = \"Letter\";\n    ArticleDesign[ArticleDesign[\"Feature\"] = 10] = \"Feature\";\n    ArticleDesign[ArticleDesign[\"LiveBlog\"] = 11] = \"LiveBlog\";\n    ArticleDesign[ArticleDesign[\"DeadBlog\"] = 12] = \"DeadBlog\";\n    ArticleDesign[ArticleDesign[\"Recipe\"] = 13] = \"Recipe\";\n    ArticleDesign[ArticleDesign[\"MatchReport\"] = 14] = \"MatchReport\";\n    ArticleDesign[ArticleDesign[\"Interview\"] = 15] = \"Interview\";\n    ArticleDesign[ArticleDesign[\"Editorial\"] = 16] = \"Editorial\";\n    ArticleDesign[ArticleDesign[\"Quiz\"] = 17] = \"Quiz\";\n    ArticleDesign[ArticleDesign[\"Interactive\"] = 18] = \"Interactive\";\n    ArticleDesign[ArticleDesign[\"PhotoEssay\"] = 19] = \"PhotoEssay\";\n    ArticleDesign[ArticleDesign[\"Obituary\"] = 20] = \"Obituary\";\n    ArticleDesign[ArticleDesign[\"Correction\"] = 21] = \"Correction\";\n    ArticleDesign[ArticleDesign[\"FullPageInteractive\"] = 22] = \"FullPageInteractive\";\n    ArticleDesign[ArticleDesign[\"NewsletterSignup\"] = 23] = \"NewsletterSignup\";\n    ArticleDesign[ArticleDesign[\"Timeline\"] = 24] = \"Timeline\";\n    ArticleDesign[ArticleDesign[\"Profile\"] = 25] = \"Profile\";\n})(ArticleDesign || (ArticleDesign = {}));\nexport var ArticleDisplay;\n(function (ArticleDisplay) {\n    ArticleDisplay[ArticleDisplay[\"Standard\"] = 0] = \"Standard\";\n    ArticleDisplay[ArticleDisplay[\"Immersive\"] = 1] = \"Immersive\";\n    ArticleDisplay[ArticleDisplay[\"Showcase\"] = 2] = \"Showcase\";\n    ArticleDisplay[ArticleDisplay[\"NumberedList\"] = 3] = \"NumberedList\";\n})(ArticleDisplay || (ArticleDisplay = {}));\nexport var Pillar;\n(function (Pillar) {\n    Pillar[Pillar[\"News\"] = 0] = \"News\";\n    Pillar[Pillar[\"Opinion\"] = 1] = \"Opinion\";\n    Pillar[Pillar[\"Sport\"] = 2] = \"Sport\";\n    Pillar[Pillar[\"Culture\"] = 3] = \"Culture\";\n    Pillar[Pillar[\"Lifestyle\"] = 4] = \"Lifestyle\";\n})(Pillar || (Pillar = {}));\nexport var ArticleSpecial;\n(function (ArticleSpecial) {\n    ArticleSpecial[ArticleSpecial[\"SpecialReport\"] = 5] = \"SpecialReport\";\n    ArticleSpecial[ArticleSpecial[\"Labs\"] = 6] = \"Labs\";\n    ArticleSpecial[ArticleSpecial[\"SpecialReportAlt\"] = 7] = \"SpecialReportAlt\";\n})(ArticleSpecial || (ArticleSpecial = {}));\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({ design }) => {\n    switch (design) {\n        case 'ArticleDesign':\n            return ArticleDesign.Standard;\n        case 'PictureDesign':\n            return ArticleDesign.Picture;\n        case 'GalleryDesign':\n            return ArticleDesign.Gallery;\n        case 'AudioDesign':\n            return ArticleDesign.Audio;\n        case 'VideoDesign':\n            return ArticleDesign.Video;\n        case 'ReviewDesign':\n            return ArticleDesign.Review;\n        case 'AnalysisDesign':\n            return ArticleDesign.Analysis;\n        case 'CommentDesign':\n            return ArticleDesign.Comment;\n        case 'LetterDesign':\n            return ArticleDesign.Letter;\n        case 'FeatureDesign':\n            return ArticleDesign.Feature;\n        case 'LiveBlogDesign':\n            return ArticleDesign.LiveBlog;\n        case 'DeadBlogDesign':\n            return ArticleDesign.DeadBlog;\n        case 'RecipeDesign':\n            return ArticleDesign.Recipe;\n        case 'MatchReportDesign':\n            return ArticleDesign.MatchReport;\n        case 'InterviewDesign':\n            return ArticleDesign.Interview;\n        case 'EditorialDesign':\n            return ArticleDesign.Editorial;\n        case 'QuizDesign':\n            return ArticleDesign.Quiz;\n        case 'InteractiveDesign':\n            return ArticleDesign.Interactive;\n        case 'PhotoEssayDesign':\n            return ArticleDesign.PhotoEssay;\n        case 'ObituaryDesign':\n            return ArticleDesign.Obituary;\n        case 'FullPageInteractiveDesign':\n            return ArticleDesign.FullPageInteractive;\n        case 'NewsletterSignupDesign':\n            return ArticleDesign.NewsletterSignup;\n        case 'ExplainerDesign':\n            return ArticleDesign.Explainer;\n        case 'TimelineDesign':\n            return ArticleDesign.Timeline;\n        case 'ProfileDesign':\n            return ArticleDesign.Profile;\n        default:\n            return ArticleDesign.Standard;\n    }\n};\nconst decideDisplay = ({ display, design, }) => {\n    switch (display) {\n        case 'StandardDisplay':\n            return ArticleDisplay.Standard;\n        case 'ImmersiveDisplay':\n            // Temporary hack until we can handle Immersive Comment pieces\n            return design === 'CommentDesign'\n                ? ArticleDisplay.Standard\n                : ArticleDisplay.Immersive;\n        case 'ShowcaseDisplay':\n            return ArticleDisplay.Showcase;\n        case 'NumberedListDisplay':\n            return ArticleDisplay.NumberedList;\n        default:\n            return ArticleDisplay.Standard;\n    }\n};\nexport const decideTheme = ({ theme }) => {\n    switch (theme) {\n        case 'NewsPillar':\n            return Pillar.News;\n        case 'OpinionPillar':\n            return Pillar.Opinion;\n        case 'SportPillar':\n            return Pillar.Sport;\n        case 'CulturePillar':\n            return Pillar.Culture;\n        case 'LifestylePillar':\n            return Pillar.Lifestyle;\n        case 'SpecialReportTheme':\n            return ArticleSpecial.SpecialReport;\n        case 'SpecialReportAltTheme':\n            return ArticleSpecial.SpecialReportAlt;\n        case 'Labs':\n            return ArticleSpecial.Labs;\n        default:\n            return Pillar.News;\n    }\n};\nexport const decideFormat = (format) => ({\n    design: decideDesign(format),\n    display: decideDisplay(format),\n    theme: decideTheme(format),\n});\nexport const getThemeNameAsString = (format) => {\n    const themeName = Pillar[format.theme] ?? ArticleSpecial[format.theme];\n    if (!themeName)\n        throw new Error('Unknown theme');\n    return themeName;\n};\n/**\n * We need a type guard because TypeScript enums are (confusingly)\n * returning both strings and numbers.\n */\nconst isTheme = (theme) => !isString(theme);\nconst isDesign = (design) => !isString(design);\nexport const getAllThemes = ({ display, design, }) => Object.values({ ...Pillar, ...ArticleSpecial })\n    .filter(isTheme)\n    .map((theme) => ({\n    theme,\n    display,\n    design,\n}));\nexport const getAllDesigns = ({ display, theme, }) => Object.values({ ...ArticleDesign })\n    .filter(isDesign)\n    .map((design) => ({\n    theme,\n    display,\n    design,\n}));\nconst designToFEDesign = (design) => {\n    switch (design) {\n        case ArticleDesign.Standard:\n        // Correction doesn't exist in `FEFormat`.\n        case ArticleDesign.Correction:\n            return 'ArticleDesign';\n        case ArticleDesign.Picture:\n            return 'PictureDesign';\n        case ArticleDesign.Gallery:\n            return 'GalleryDesign';\n        case ArticleDesign.Audio:\n            return 'AudioDesign';\n        case ArticleDesign.Video:\n            return 'VideoDesign';\n        case ArticleDesign.Review:\n            return 'ReviewDesign';\n        case ArticleDesign.Analysis:\n            return 'AnalysisDesign';\n        case ArticleDesign.Explainer:\n            return 'ExplainerDesign';\n        case ArticleDesign.Comment:\n            return 'CommentDesign';\n        case ArticleDesign.Letter:\n            return 'LetterDesign';\n        case ArticleDesign.Feature:\n            return 'FeatureDesign';\n        case ArticleDesign.LiveBlog:\n            return 'LiveBlogDesign';\n        case ArticleDesign.DeadBlog:\n            return 'DeadBlogDesign';\n        case ArticleDesign.Recipe:\n            return 'RecipeDesign';\n        case ArticleDesign.MatchReport:\n            return 'MatchReportDesign';\n        case ArticleDesign.Interview:\n            return 'InterviewDesign';\n        case ArticleDesign.Editorial:\n            return 'EditorialDesign';\n        case ArticleDesign.Quiz:\n            return 'QuizDesign';\n        case ArticleDesign.Interactive:\n            return 'InteractiveDesign';\n        case ArticleDesign.PhotoEssay:\n            return 'PhotoEssayDesign';\n        case ArticleDesign.Obituary:\n            return 'ObituaryDesign';\n        case ArticleDesign.FullPageInteractive:\n            return 'FullPageInteractiveDesign';\n        case ArticleDesign.NewsletterSignup:\n            return 'NewsletterSignupDesign';\n        case ArticleDesign.Timeline:\n            return 'TimelineDesign';\n        case ArticleDesign.Profile:\n            return 'ProfileDesign';\n    }\n};\nconst displayToFEDisplay = (display) => {\n    switch (display) {\n        case ArticleDisplay.Standard:\n            return 'StandardDisplay';\n        case ArticleDisplay.Immersive:\n            return 'ImmersiveDisplay';\n        case ArticleDisplay.Showcase:\n            return 'ShowcaseDisplay';\n        case ArticleDisplay.NumberedList:\n            return 'NumberedListDisplay';\n    }\n};\nconst themeToFETheme = (theme) => {\n    switch (theme) {\n        case Pillar.News:\n            return 'NewsPillar';\n        case Pillar.Opinion:\n            return 'OpinionPillar';\n        case Pillar.Sport:\n            return 'SportPillar';\n        case Pillar.Culture:\n            return 'CulturePillar';\n        case Pillar.Lifestyle:\n            return 'LifestylePillar';\n        case ArticleSpecial.SpecialReport:\n            return 'SpecialReportTheme';\n        case ArticleSpecial.Labs:\n            return 'Labs';\n        case ArticleSpecial.SpecialReportAlt:\n            return 'SpecialReportAltTheme';\n    }\n};\nexport const formatToFEFormat = ({ design, display, theme, }) => ({\n    design: designToFEDesign(design),\n    display: displayToFEDisplay(display),\n    theme: themeToFETheme(theme),\n});\n/**\n * Creates a string representation of {@linkcode ArticleFormat}. Useful for\n * logging, storybook UI etc.\n *\n * @param format An {@linkcode ArticleFormat}\n * @returns A string representation of `ArticleFormat`\n */\nexport const formatToString = ({ design, display, theme, }) => [\n    `${ArticleDesign[design]} Design`,\n    `${ArticleDisplay[display]} Display`,\n    `and ${Pillar[theme] ?? ArticleSpecial[theme]} Theme`,\n].join(', ');\n","/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour) => `var(${colour})`;\n// ----- Exports ----- //\nexport { palette };\n","const breakpoints = {\n    desktop: 980,\n    leftCol: 1140,\n    mobile: 320,\n    mobileLandscape: 480,\n    mobileMedium: 375,\n    phablet: 660,\n    tablet: 740,\n    wide: 1300\n};\nexport { breakpoints };\n","import { breakpoints } from '../__generated__/breakpoints.js';\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide)\n};\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n        }\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n        }\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n        }\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n        }\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n        }\n    }\n};\nexport { between, from, until };\n"],"names":["Island","_ref","priority","defer","children","role","rootMargin","until","undefined","name","String","type","_jsx","deferUntil","props","JSON","stringify","wrapperMargins","styles","COMPONENT_TYPE","canShowBrazeEpic","_asyncToGenerator","_regeneratorRuntime","_callee","brazeMessages","brazeArticleContext","contentType","tags","shouldHideReaderRevenue","forcedBrazeMeta","message","_context","prev","next","toLowerCase","abrupt","show","getBrazeMetaFromUrlFragment","meta","suppressForTaylorReport","getMessageForEndOfArticle","sent","extras","dataFromBraze","logImpressionWithBraze","logImpression","logButtonClickWithBraze","internalButtonId","logButtonClick","t0","stop","_x","_x2","_x3","_x4","_x5","apply","arguments","BrazeEpicWithSatisfiedDependencies","_ref2","BrazeComponent","countryCode","idApiUrl","authStatus","useAuthStatus","_useIsInView","useIsInView","threshold","debounce","_useIsInView2","_slicedToArray","hasBeenSeen","setNode","epicRef","useRef","renderingTarget","useConfig","useOnce","submitComponentEvent","component","componentType","id","ophanComponentId","action","current","useEffect","componentName","subscribeToNewsletter","_ref3","_callee2","newsletterId","options","_context2","kind","getOptionsHeadersWithOkta","fetch","concat","_objectSpread","method","body","subscribed","_x6","fetchEmail","lazyFetchEmailWithTimeout","ref","css","brazeMessageProps","event","MaybeBrazeEpic","_ref4","_useState","useState","_useState2","setBrazeComponent","then","module","BrazeEndOfArticleComponent","catch","error","window","guardian","modules","sentry","reportError","_Fragment","buildPayload","data","ophanPageId","config","ophan","pageViewId","platformId","clientName","referrerUrl","location","origin","pathname","t1","t2","sectionId","t3","t4","isMinuteArticle","t5","isPaidContent","t6","t7","hideSupportMessagingForUser","t8","getEpicViewLog","storage","local","asyncArticleCount","t9","hasOptedOutOfArticleCount","t10","t11","Number","getCookie","shouldMemoize","t12","t13","hasCmpConsentForBrowserId","t14","browserId","t15","t16","isSignedIn","t17","showSupportMessaging","epicViewLog","weeklyArticleHistory","mvtId","url","tracking","targeting","canShowReaderRevenueEpic","_response$data","contributionsServiceUrl","stage","_startPerformanceMeas","endPerformanceMeasure","contributionsPayload","response","hasConsentForArticleCount","shouldHideSupportMessaging","Promise","resolve","startPerformanceMeasure","getEpic","hasCmpConsentForWeeklyArticleCount","ReaderRevenueEpic","Epic","setEpic","setAutomat","epicModule","ContributionsEpic","msg","Error","console","log","openCmp","cmp","showPrivacyManager","slotStyles","palette","neutral","SlotBodyEnd","pageId","renderAds","isLabs","articleEndSlot","useBraze","useCountryCode","useIsSignedIn","setBrowserId","cookie","isString","useBrowserId","_useState3","_useState4","SelectedEpic","setSelectedEpic","_useState5","_useState6","setAsyncArticleCount","showPublicGood","abTests","useAB","abTestsApi","api","mpuWhenNoEpicEnabled","isUserInVariant","showArticleEndSlot","getArticleCounts","counts","isUndefined","readerRevenueEpic","canShowData","candidate","canShow","timeoutMillis","brazeEpic","buildBrazeEpicConfig","section","epicConfig","candidates","pickMessage","PickedEpic","e","document","dispatchEvent","CustomEvent","detail","slotId","additionalSizes","desktop","adSizes","outstreamDesktop","outstreamGoogleDesktop","mobile","fluid","AdSlot","position","ArticleDesign","ArticleDisplay","Pillar","ArticleSpecial","decideDesign","design","Standard","Picture","Gallery","Audio","Video","Review","Analysis","Comment","Letter","Feature","LiveBlog","DeadBlog","Recipe","MatchReport","Interview","Editorial","Quiz","Interactive","PhotoEssay","Obituary","FullPageInteractive","NewsletterSignup","Explainer","Timeline","Profile","decideDisplay","display","Immersive","Showcase","NumberedList","decideTheme","theme","News","Opinion","Sport","Culture","Lifestyle","SpecialReport","SpecialReportAlt","Labs","decideFormat","format","colour","breakpoints","leftCol","mobileLandscape","mobileMedium","phablet","tablet","wide","minWidth","from2","maxWidth","until2","minWidthMaxWidth","from","between","and"],"sourceRoot":""}