"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[3585],{77797:(e,t,i)=>{i.r(t),i.d(t,{FollowWrapper:()=>h});var o=i(22820),n=i(50484),l=i(24017),r=i(10864),a=i(16346),d=i(65656),s=i(59648),c=i(81477),f=i(67400),p=i(55044),u=i(48485),m=i(47916),h=function(e){var t=e.id,i=e.displayName,h=(0,f.useState)(void 0),b=(0,o.A)(h,2),w=b[0],g=b[1],v=(0,f.useState)(void 0),x=(0,o.A)(v,2),y=x[0],C=x[1],k=(0,f.useState)(!1),j=(0,o.A)(k,2),M=j[0],R=j[1],E=function(){var e=(0,f.useState)(void 0),t=(0,o.A)(e,2),i=t[0],n=t[1];return(0,f.useEffect)((function(){(0,p.Dq)().isMyGuardianEnabled().then(n).catch((function(e){n(!1),(0,a.Rm)("dotcom","isMyGuardianEnabled check failed:",e)}))}),[]),i}(),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.0.0",t=(0,f.useState)(void 0),i=(0,o.A)(t,2),n=i[0],l=i[1];return(0,f.useEffect)((function(){(0,p.Dq)().nativeThriftPackageVersion().then((function(t){l((0,u.U)(t,e,">="))})).catch((function(e){l(!1),console.log("nativeThriftPackageVersion",{error:e})}))}),[e]),n}("2.5.0");return z&&E&&R(!0),(0,f.useEffect)((function(){var e=new r.Topic({id:t,displayName:i,type:"tag-contributor"});(0,p.U)().isFollowing(e).then(g).catch((function(e){window.guardian.modules.sentry.reportError(e,"bridget-getNotificationsClient-isFollowing-error"),(0,a.Rm)("dotcom","Bridget getNotificationsClient.isFollowing Error:",e)})),(0,p.yV)().isFollowing(e).then(C).catch((function(e){window.guardian.modules.sentry.reportError(e,"bridget-getTagClient-isFollowing-error"),(0,a.Rm)("dotcom","Bridget getTagClient.isFollowing Error:",e)}))}),[t,i]),(0,n.jsxs)("div",{css:(0,l.css)("min-height:",s.x[6],"px;",c.HT.phablet,"{display:inline-flex;flex-direction:column;button:first-of-type{margin-right:",s.x[5],"px;}}"),children:[M&&(0,n.jsx)(m.K,{isFollowing:null!=y&&y,displayName:i,onClickHandler:(0,d.b)(y)?function(){}:function(){var e=new r.Topic({id:t,displayName:i,type:"tag-contributor"});y?(0,p.yV)().unfollow(e).then((function(e){e&&C(!1)})).catch((function(e){window.guardian.modules.sentry.reportError(e,"bridget-getTagClient-unfollow-error"),(0,a.Rm)("dotcom","Bridget getTagClient.unfollow Error:",e)})):(0,p.yV)().follow(e).then((function(e){e&&C(!0)})).catch((function(e){window.guardian.modules.sentry.reportError(e,"bridget-getTagClient-follow-error"),(0,a.Rm)("dotcom","Bridget getTagClient.follow Error:",e)}))},withExtraBottomMargin:!0}),(0,n.jsx)(m.I,{isFollowing:null!=w&&w,onClickHandler:(0,d.b)(w)?function(){}:function(){var e=new r.Topic({id:t,displayName:i,type:"tag-contributor"});w?(0,p.U)().unfollow(e).then((function(e){e&&g(!1)})).catch((function(e){window.guardian.modules.sentry.reportError(e,"briidget-getNotificationsClient-unfollow-error"),(0,a.Rm)("dotcom","Bridget getNotificationsClient.unfollow Error:",e)})):(0,p.U)().follow(e).then((function(e){e&&g(!0)})).catch((function(e){window.guardian.modules.sentry.reportError(e,"bridget-getNotificationsClient-follow-error"),(0,a.Rm)("dotcom","Bridget getNotificationsClient.follow Error:",e)}))}})]})}},48485:(e,t,i)=>{i.d(t,{U:()=>s});const o=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(o);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},l=e=>"*"===e||"x"===e||"X"===e,r=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},a=(e,t)=>{if(l(e)||l(t))return 0;const[i,o]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(r(e),r(t));return i>o?1:i<o?-1:0},d=(e,t)=>{for(let i=0;i<Math.max(e.length,t.length);i++){const o=a(e[i]||"0",t[i]||"0");if(0!==o)return o}return 0},s=(e,t,i)=>{p(i);const o=((e,t)=>{const i=n(e),o=n(t),l=i.pop(),r=o.pop(),a=d(i,o);return 0!==a?a:l&&r?d(l.split("."),r.split(".")):l||r?l?-1:1:0})(e,t);return c[i].includes(o)},c={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},f=Object.keys(c),p=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===f.indexOf(e))throw new Error(`Invalid operator, expected one of ${f.join("|")}`)}},84782:(e,t,i)=>{i.d(t,{f:()=>o});var o={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},72657:(e,t,i)=>{i.d(t,{Q:()=>o});var o="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},81477:(e,t,i)=>{i.d(t,{HT:()=>a,TG:()=>d,Tq:()=>s});var o=i(84782),n=function(e){return"@media (min-width: ".concat("".concat(e,"px"),")")},l=function(e){return"@media (max-width: ".concat("".concat(e-.1,"px"),")")},r=function(e,t){return"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ","".concat(t-.1,"px"),")")},a={mobile:n(o.f.mobile),mobileMedium:n(o.f.mobileMedium),mobileLandscape:n(o.f.mobileLandscape),phablet:n(o.f.phablet),tablet:n(o.f.tablet),desktop:n(o.f.desktop),leftCol:n(o.f.leftCol),wide:n(o.f.wide)},d={mobile:l(o.f.mobile),mobileMedium:l(o.f.mobileMedium),mobileLandscape:l(o.f.mobileLandscape),phablet:l(o.f.phablet),tablet:l(o.f.tablet),desktop:l(o.f.desktop),leftCol:l(o.f.leftCol),wide:l(o.f.wide)},s={mobile:{and:{mobileMedium:r(o.f.mobile,o.f.mobileMedium),mobileLandscape:r(o.f.mobile,o.f.mobileLandscape),phablet:r(o.f.mobile,o.f.phablet),tablet:r(o.f.mobile,o.f.tablet),desktop:r(o.f.mobile,o.f.desktop),leftCol:r(o.f.mobile,o.f.leftCol),wide:r(o.f.mobileMedium,o.f.wide)}},mobileMedium:{and:{mobileLandscape:r(o.f.mobileMedium,o.f.mobileLandscape),phablet:r(o.f.mobileMedium,o.f.phablet),tablet:r(o.f.mobileMedium,o.f.tablet),desktop:r(o.f.mobileMedium,o.f.desktop),leftCol:r(o.f.mobileMedium,o.f.leftCol),wide:r(o.f.mobileMedium,o.f.wide)}},mobileLandscape:{and:{phablet:r(o.f.mobileLandscape,o.f.phablet),tablet:r(o.f.mobileLandscape,o.f.tablet),desktop:r(o.f.mobileLandscape,o.f.desktop),leftCol:r(o.f.mobileLandscape,o.f.leftCol),wide:r(o.f.mobileLandscape,o.f.wide)}},phablet:{and:{tablet:r(o.f.phablet,o.f.tablet),desktop:r(o.f.phablet,o.f.desktop),leftCol:r(o.f.phablet,o.f.leftCol),wide:r(o.f.phablet,o.f.wide)}},tablet:{and:{desktop:r(o.f.tablet,o.f.desktop),leftCol:r(o.f.tablet,o.f.leftCol),wide:r(o.f.tablet,o.f.wide)}},desktop:{and:{leftCol:r(o.f.desktop,o.f.leftCol),wide:r(o.f.desktop,o.f.wide)}},leftCol:{and:{wide:r(o.f.leftCol,o.f.wide)}}}},40292:(e,t,i)=>{i.d(t,{Q:()=>d});var o=i(50484),n=i(24017),l=i(72657),r=i(26633),a=function(e){var t=e.size,i=e.theme;return(0,o.jsx)("svg",{width:t?r.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.011 11.884 2 12.894l5.057 7.08h.48L22 5.006l-1.011-.986L7.537 16.207z",fill:null==i?void 0:i.fill})})},d=function(e){var t=e.size,i=e.theme,r=e.isAnnouncedByScreenReader,d=void 0!==r&&r;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{size:t,theme:i}),d?(0,o.jsx)("span",{css:(0,n.css)(l.Q,";"),children:"Checkmark"}):""]})}},31308:(e,t,i)=>{i.d(t,{W:()=>d});var o=i(50484),n=i(24017),l=i(72657),r=i(26633),a=function(e){var t=e.size,i=e.theme;return(0,o.jsx)("svg",{width:t?r.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.672 11.924c0 2.656.935 5.09 2.435 7.057l-.517.516A9.74 9.74 0 0 1 0 11.924 9.74 9.74 0 0 1 3.59 4.35l.517.516c-1.5 1.968-2.435 4.402-2.435 7.058m20.607 0c0-2.656-.861-5.09-2.435-7.058l.566-.516A9.74 9.74 0 0 1 24 11.924a9.74 9.74 0 0 1-3.59 7.573l-.566-.516c1.574-1.967 2.435-4.402 2.435-7.057m-17.09 0c0 1.574.467 2.975 1.278 4.13l-.664.64c-1.254-1.254-1.967-2.901-1.967-4.77 0-1.87.713-3.59 1.967-4.77l.664.614a7.23 7.23 0 0 0-1.278 4.156m13.622 0a7.4 7.4 0 0 0-1.254-4.156l.615-.615c1.254 1.18 1.992 2.902 1.992 4.77 0 1.87-.738 3.517-1.992 4.771l-.615-.64a7.26 7.26 0 0 0 1.254-4.13m-2.877 0A3.915 3.915 0 0 1 12 15.858a3.915 3.915 0 0 1-3.934-3.934A3.915 3.915 0 0 1 12 7.989a3.915 3.915 0 0 1 3.934 3.935m-1.475 0c0-1.353-1.131-2.46-2.459-2.46a2.435 2.435 0 0 0-2.459 2.46A2.435 2.435 0 0 0 12 14.383c1.328 0 2.459-1.107 2.459-2.46",fill:null==i?void 0:i.fill})})},d=function(e){var t=e.size,i=e.theme,r=e.isAnnouncedByScreenReader,d=void 0!==r&&r;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{size:t,theme:i}),d?(0,o.jsx)("span",{css:(0,n.css)(l.Q,";"),children:"Notification off"}):""]})}},5744:(e,t,i)=>{i.d(t,{M:()=>d});var o=i(50484),n=i(24017),l=i(72657),r=i(26633),a=function(e){var t=e.size,i=e.theme;return(0,o.jsx)("svg",{width:t?r.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.672 11.924c0 2.656.935 5.09 2.435 7.057l-.517.516A9.74 9.74 0 0 1 0 11.924 9.74 9.74 0 0 1 3.59 4.35l.517.516c-1.5 1.968-2.435 4.402-2.435 7.058m20.607 0c0-2.656-.861-5.09-2.435-7.058l.566-.516A9.74 9.74 0 0 1 24 11.924a9.74 9.74 0 0 1-3.59 7.573l-.566-.516c1.574-1.967 2.435-4.402 2.435-7.057m-17.09 0c0 1.574.467 2.975 1.278 4.13l-.664.64c-1.254-1.254-1.967-2.901-1.967-4.77 0-1.87.713-3.59 1.967-4.77l.664.614a7.23 7.23 0 0 0-1.278 4.156m13.622 0a7.4 7.4 0 0 0-1.254-4.156l.615-.615c1.254 1.18 1.992 2.902 1.992 4.77 0 1.87-.738 3.517-1.992 4.771l-.615-.64a7.26 7.26 0 0 0 1.254-4.13m-2.877 0A3.915 3.915 0 0 0 12 7.989a3.915 3.915 0 0 0-3.934 3.935A3.915 3.915 0 0 0 12 15.858a3.915 3.915 0 0 0 3.934-3.934",fill:null==i?void 0:i.fill})})},d=function(e){var t=e.size,i=e.theme,r=e.isAnnouncedByScreenReader,d=void 0!==r&&r;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{size:t,theme:i}),d?(0,o.jsx)("span",{css:(0,n.css)(l.Q,";"),children:"Notification on"}):""]})}},32437:(e,t,i)=>{i.d(t,{D:()=>d});var o=i(50484),n=i(24017),l=i(72657),r=i(26633),a=function(e){var t=e.size,i=e.theme;return(0,o.jsx)("svg",{width:t?r.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.8 13.2.425 9.8h1.525l.45-9.8 9.8-.45v-1.525l-9.8-.425-.45-9.8h-1.525l-.425 9.8-9.8.425v1.525z",fill:null==i?void 0:i.fill})})},d=function(e){var t=e.size,i=e.theme,r=e.isAnnouncedByScreenReader,d=void 0!==r&&r;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{size:t,theme:i}),d?(0,o.jsx)("span",{css:(0,n.css)(l.Q,";"),children:"Plus sign"}):""]})}}}]);
//# sourceMappingURL=FollowWrapper-importable.client.web.legacy.67474b27824f354f3164.js.map