{"version":3,"file":"3956.client.web.legacy.7254e5c4fe6a841503a2.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/utils/localStorage.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/utils/withCloseable.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/hooks/useEscapeShortcut.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/common/BannerWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerArticleCountOptOut.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/CustomArticleCountCopy.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerArticleCount.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/BannerText.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerBody.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerCloseButton.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerCtas.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/shared/ResponsiveImage.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerVisual.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerHeader.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerReminderSignedOut.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/components/DesignableBannerReminder.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/styles/templateStyles.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/banners/designableBanner/DesignableBanner.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/hooks/useReminder.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/hooks/useContributionsReminderEmailForm.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/hooks/useContributionsReminderSignup.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/lib/reminders.ts","webpack://@guardian/dotcom-rendering/./src/lib/useMatchMedia.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/toArray.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__deprecated__/colour/palette.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgCross.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgTickRound.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/button/Button.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/label/Label.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/text-input/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/text-input/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/text-input/TextInput.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/user-feedback/InlineSuccess.js"],"sourcesContent":["/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/localStorage.ts\n */\nimport { storage } from '@guardian/libs';\nconst setBannerClosedTimestamp = (name) => storage.local.set(`gu.prefs.${name}`, new Date().toISOString());\nconst bannerChannelToLastClosedMap = {\n    contributions: 'engagementBannerLastClosedAt',\n    subscriptions: 'subscriptionBannerLastClosedAt',\n    signIn: 'signInBannerLastClosedAt',\n    abandonedBasket: 'abandonedBasketLastClosedAt',\n};\nexport const setChannelClosedTimestamp = (channel) => {\n    setBannerClosedTimestamp(bannerChannelToLastClosedMap[channel]);\n};\n","import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { useState } from 'react';\nimport { useEscapeShortcut } from '../../hooks/useEscapeShortcut';\nimport { setChannelClosedTimestamp } from './localStorage';\nconst withCloseable = (CloseableBanner) => {\n    const Banner = (bannerProps) => {\n        const [isOpen, setIsOpen] = useState(true);\n        const onClose = () => {\n            setChannelClosedTimestamp(bannerProps.bannerChannel);\n            setIsOpen(false);\n            document.body.focus();\n        };\n        useEscapeShortcut(onClose);\n        return isOpen ? (_jsx(CloseableBanner, { onClose: onClose, ...bannerProps })) : (_jsx(_Fragment, {}));\n    };\n    return Banner;\n};\nexport { withCloseable };\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/hooks/useEscapeShortcut.ts\n */\nimport { useEffect } from 'react';\n// Pass a function to run when the user hits the escape key\n// Useful for enabling a keyboard shortcut for dismissing banners\nexport function useEscapeShortcut(eventHandler) {\n    useEffect(() => {\n        function handleEscapeKeydown(event) {\n            // IE key name is 'Esc', because IE\n            const isEscapeKey = event.key === 'Escape' || event.key === 'Esc';\n            if (isEscapeKey) {\n                eventHandler(event);\n            }\n        }\n        window.addEventListener('keydown', handleEscapeKeydown);\n        return () => window.removeEventListener('keydown', handleEscapeKeydown);\n    }, [eventHandler]);\n}\n","import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/common/BannerWrapper.tsx\n */\nimport { bannerSchema, containsNonArticleCountPlaceholder, getReminderFields, replaceNonArticleCountPlaceholders, SecondaryCtaType, } from '@guardian/support-dotcom-components';\nimport { useEffect } from 'react';\nimport { useIsInView } from '../../../../lib/useIsInView';\nimport { replaceArticleCount } from '../../lib/replaceArticleCount';\nimport { addAbandonedBasketAndTrackingParamsToUrl, addRegionIdAndTrackingParamsToSupportUrl, addTrackingParamsToProfileUrl, createClickEventFromTracking, createInsertEventFromTracking, createViewEventFromTracking, isProfileUrl, } from '../../lib/tracking';\nimport { withCloseable } from '../utils/withCloseable';\nfunction getComponentIds(bannerId) {\n    return {\n        close: `${bannerId} : close`,\n        cta: `${bannerId} : cta`,\n        secondaryCta: `${bannerId} : secondary-cta`,\n        notNow: `${bannerId} : not now`,\n        signIn: `${bannerId} : sign in`,\n        reminderCta: `${bannerId} : reminder-cta`,\n        reminderSet: `${bannerId} : reminder-set`,\n        reminderClose: `${bannerId} : reminder-close`,\n    };\n}\nexport const getParagraphsOrMessageText = (paras, text) => {\n    const bodyCopy = [];\n    if (paras != null) {\n        bodyCopy.push(...paras);\n    }\n    else if (text != null) {\n        bodyCopy.push(text);\n    }\n    return bodyCopy;\n};\nconst withBannerData = (Banner, bannerId) => (bannerProps) => {\n    const { tracking, submitComponentEvent, onClose, content, mobileContent, countryCode, prices, fetchEmail, articleCounts, tickerSettings, isSupporter, separateArticleCount, separateArticleCountSettings, choiceCardAmounts, design, bannerChannel, abandonedBasket, } = bannerProps;\n    const [hasBeenSeen, setNode] = useIsInView({\n        debounce: true,\n        threshold: 0,\n    });\n    useEffect(() => {\n        if (hasBeenSeen && submitComponentEvent) {\n            submitComponentEvent(createViewEventFromTracking(tracking, tracking.campaignCode));\n        }\n    }, [hasBeenSeen, submitComponentEvent, tracking]);\n    useEffect(() => {\n        if (submitComponentEvent) {\n            submitComponentEvent(createInsertEventFromTracking(tracking, tracking.campaignCode));\n        }\n    }, [submitComponentEvent, tracking]);\n    const numArticles = articleCounts.forTargetedWeeks;\n    const cleanParagraphsOrMessageText = (paras, text) => {\n        const originalCopy = getParagraphsOrMessageText(paras, text);\n        return originalCopy.map((p) => replaceNonArticleCountPlaceholders(p, countryCode, prices).trim());\n    };\n    const finaliseParagraphs = (paras) => {\n        return paras.map((p) => replaceArticleCount(p, numArticles, 'banner'));\n    };\n    const paragraphsContainNonArticleCountPlaceholder = (paras) => paras.some((p) => containsNonArticleCountPlaceholder(p));\n    const componentIds = getComponentIds(bannerId);\n    // For safety, this function throws if not all placeholders are replaced\n    const buildRenderedContent = (bannerContent) => {\n        const buildEnrichedCta = (cta) => {\n            if (isProfileUrl(cta.baseUrl)) {\n                return {\n                    ctaUrl: addTrackingParamsToProfileUrl(cta.baseUrl, tracking),\n                    ctaText: cta.text,\n                };\n            }\n            if (bannerChannel === 'abandonedBasket' && abandonedBasket) {\n                return {\n                    ctaUrl: addAbandonedBasketAndTrackingParamsToUrl(cta.baseUrl, abandonedBasket, tracking),\n                    ctaText: cta.text,\n                };\n            }\n            return {\n                ctaUrl: addRegionIdAndTrackingParamsToSupportUrl(cta.baseUrl, tracking, numArticles, countryCode),\n                ctaText: cta.text,\n            };\n        };\n        const buildEnrichedSecondaryCta = (secondaryCta) => {\n            if (secondaryCta.type === SecondaryCtaType.Custom) {\n                return {\n                    type: SecondaryCtaType.Custom,\n                    cta: buildEnrichedCta(secondaryCta.cta),\n                };\n            }\n            return {\n                type: SecondaryCtaType.ContributionsReminder,\n                reminderFields: getReminderFields(countryCode),\n            };\n        };\n        const primaryCta = bannerContent.cta\n            ? buildEnrichedCta(bannerContent.cta)\n            : null;\n        const secondaryCta = bannerContent.secondaryCta\n            ? buildEnrichedSecondaryCta(bannerContent.secondaryCta)\n            : null;\n        const cleanHighlightedText = bannerContent.highlightedText &&\n            replaceNonArticleCountPlaceholders(bannerContent.highlightedText, countryCode, prices).trim();\n        const cleanHeading = replaceNonArticleCountPlaceholders(bannerContent.heading, countryCode, prices).trim();\n        const cleanParagraphs = cleanParagraphsOrMessageText(bannerContent.paragraphs, bannerContent.messageText);\n        const copyHasPlaceholder = paragraphsContainNonArticleCountPlaceholder(cleanParagraphs) ||\n            (!!cleanHighlightedText &&\n                containsNonArticleCountPlaceholder(cleanHighlightedText)) ||\n            (!!cleanHeading &&\n                containsNonArticleCountPlaceholder(cleanHeading));\n        const headingWithArticleCount = cleanHeading\n            ? replaceArticleCount(cleanHeading, numArticles, 'banner')\n            : null;\n        const highlightedTextWithArticleCount = cleanHighlightedText\n            ? replaceArticleCount(cleanHighlightedText, numArticles, 'banner')\n            : null;\n        if (copyHasPlaceholder) {\n            throw Error('Banner copy contains placeholders, abandoning.');\n        }\n        return {\n            highlightedText: highlightedTextWithArticleCount,\n            paragraphs: finaliseParagraphs(cleanParagraphs),\n            heading: headingWithArticleCount,\n            primaryCta,\n            secondaryCta,\n        };\n    };\n    const clickHandlerFor = (componentId, close) => {\n        return () => {\n            const componentClickEvent = createClickEventFromTracking(tracking, componentId);\n            if (submitComponentEvent) {\n                submitComponentEvent(componentClickEvent);\n            }\n            if (close) {\n                onClose();\n            }\n        };\n    };\n    const onCtaClick = clickHandlerFor(componentIds.cta, true);\n    const onSecondaryCtaClick = clickHandlerFor(componentIds.secondaryCta, true);\n    const onReminderCtaClick = clickHandlerFor(componentIds.reminderCta, false);\n    const onReminderSetClick = clickHandlerFor(componentIds.reminderSet, false);\n    const onReminderCloseClick = clickHandlerFor(componentIds.reminderClose, false);\n    const onCloseClick = clickHandlerFor(componentIds.close, true);\n    const onNotNowClick = clickHandlerFor(componentIds.notNow, true);\n    const onSignInClick = clickHandlerFor(componentIds.signIn, false);\n    try {\n        const renderedContent = content && buildRenderedContent(content);\n        const renderedMobileContent = mobileContent && buildRenderedContent(mobileContent);\n        if (renderedContent) {\n            const props = {\n                onCtaClick,\n                onSecondaryCtaClick,\n                reminderTracking: {\n                    onReminderCtaClick,\n                    onReminderSetClick,\n                    onReminderCloseClick,\n                },\n                onCloseClick,\n                onSignInClick,\n                onNotNowClick,\n                content: {\n                    mainContent: renderedContent,\n                    mobileContent: renderedMobileContent ?? renderedContent,\n                },\n                countryCode,\n                fetchEmail,\n                tickerSettings,\n                isSupporter,\n                articleCounts,\n                separateArticleCount,\n                separateArticleCountSettings,\n                choiceCardAmounts,\n                tracking,\n                submitComponentEvent,\n                design,\n            };\n            return (_jsx(\"div\", { ref: setNode, children: _jsx(Banner, { ...props }) }));\n        }\n    }\n    catch (err) {\n        console.log(err);\n    }\n    return _jsx(_Fragment, {});\n};\nexport const bannerWrapper = (Banner, bannerId) => withCloseable(withBannerData(Banner, bannerId));\nconst validate = (props) => {\n    const result = bannerSchema.safeParse(props);\n    return result.success;\n};\nexport const validatedBannerWrapper = (Banner, bannerId) => {\n    return (props) => {\n        if (validate(props)) {\n            const Module = bannerWrapper(Banner, bannerId);\n            return _jsx(Module, { ...props });\n        }\n        return _jsx(_Fragment, {});\n    };\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerArticleCountOptOut.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, neutral, space, textSans14, textSans15, textSans17, textSansBold17, } from '@guardian/source/foundations';\nimport { Button, SvgCross } from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport { addArticleCountOptOutCookie, removeArticleCountFromLocalStorage, } from '../../../lib/articleCountOptOut';\nimport { buttonStyles } from '../styles/buttonStyles';\nexport const DesignableBannerArticleCountOptOut = ({ numArticles, nextWord, settings, }) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [hasOptedOut, setHasOptedOut] = useState(false);\n    const onOptOut = () => {\n        addArticleCountOptOutCookie();\n        removeArticleCountFromLocalStorage();\n        setHasOptedOut(true);\n    };\n    const onOpen = () => {\n        setIsOpen(true);\n    };\n    const onClose = () => {\n        setIsOpen(false);\n    };\n    const onToggle = () => (isOpen ? onClose() : onOpen());\n    return (_jsxs(\"div\", { css: styles.optOutContainer, children: [_jsx(\"button\", { css: styles.articleCountButton, onClick: onToggle, children: `${numArticles}${nextWord ? nextWord : ''}` }), isOpen && (_jsx(\"div\", { css: styles.overlayContainer, children: _jsx(Overlay, { hasOptedOut: hasOptedOut, onOptOut: onOptOut, onClose: onClose, settings: settings }) }))] }));\n};\nconst Overlay = ({ hasOptedOut, onClose, onOptOut, settings, }) => {\n    return (_jsxs(\"div\", { css: overlayStyles.overlayContainer(settings.containerSettings.backgroundColour, settings.articleCountTextColour), children: [_jsxs(\"div\", { css: overlayStyles.overlayHeader, children: [_jsx(\"div\", { css: overlayStyles.overlayHeaderText, children: hasOptedOut ? \"You've opted out\" : \"What's this?\" }), _jsx(Button, { onClick: onClose, icon: _jsx(SvgCross, {}), hideLabel: true, size: \"xsmall\", priority: \"tertiary\", cssOverrides: buttonStyles(settings.closeButtonSettings), children: \"Close\" })] }), _jsx(\"div\", { css: overlayStyles.overlayBody, children: hasOptedOut\n                    ? \"Starting from your next page view, we won't count the articles you read or show you this message for three months.\"\n                    : 'We would like to remind you how many Guardian articles you’ve enjoyed on this device. Can we continue showing you this?' }), !hasOptedOut && (_jsxs(\"div\", { css: overlayStyles.overlayCtaContainer, children: [_jsx(Button, { onClick: onClose, priority: \"primary\", size: \"xsmall\", cssOverrides: buttonStyles(settings.primaryCtaSettings), children: \"Yes, that's OK\" }), _jsx(Button, { onClick: onOptOut, priority: \"tertiary\", size: \"xsmall\", cssOverrides: buttonStyles(settings.secondaryCtaSettings), children: \"No, opt me out\" })] })), _jsx(\"div\", { css: overlayStyles.overlayNote(settings.articleCountTextColour), children: hasOptedOut ? (_jsxs(\"span\", { children: [\"If you have any questions, please\", ' ', _jsx(\"a\", { href: \"https://www.theguardian.com/help/contact-us\", children: \"contact us.\" })] })) : (\"Please note that opting out is a permanent action and can't be reversed\") })] }));\n};\n// ---- Styles ---- //\nconst styles = {\n    optOutContainer: css `\n\t\tdisplay: inline-block;\n\t`,\n    articleCountButton: css `\n\t\tbackground: none;\n\t\tborder: none;\n\t\tpadding: 0;\n\t\tcursor: pointer;\n\t\tborder-bottom: 1px solid;\n\t\t/* stylelint-disable property-disallowed-list */\n\t\tfont-family: inherit;\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tfont-style: inherit;\n\t\tcolor: inherit;\n\t`,\n    overlayContainer: css `\n\t\tposition: absolute;\n\t\tz-index: 100;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\t\tdisplay: block;\n\n\t\t${from.tablet} {\n\t\t\ttop: 10px;\n\t\t\tleft: 10px;\n\t\t\twidth: 450px;\n\t\t}\n\t`,\n};\nconst overlayStyles = {\n    overlayContainer: (backgroundColour, textColour = neutral[0]) => css `\n\t\t${textSans17}\n\t\tpadding: ${space[2]}px;\n\t\tbackground-color: ${backgroundColour};\n\t\tborder: 1px solid ${textColour};\n\t\tbox-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n\t\tcolor: ${textColour};\n\t`,\n    overlayHeader: css `\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t`,\n    overlayHeaderText: css `\n\t\t${textSansBold17};\n\t`,\n    overlayBody: css `\n\t\tmargin-top: ${space[1]}px;\n\t\t${textSans15};\n\t`,\n    overlayCtaContainer: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\n\t\t> * + * {\n\t\t\tmargin-left: ${space[2]}px;\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\t> * + * {\n\t\t\t\tmargin-left: ${space[3]}px;\n\t\t\t}\n\t\t}\n\t`,\n    overlayNote: (textColour = neutral[0]) => css `\n\t\tmargin-top: ${space[2]}px;\n\t\t${textSans14}\n\t\tfont-style: italic;\n\n\t\ta {\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\tcolor: ${textColour} !important;\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\ttext-decoration: underline !important;\n\t\t}\n\t`,\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/CustomArticleCountCopy.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, headlineBold15, headlineBold17, space, } from '@guardian/source/foundations';\nimport { DesignableBannerArticleCountOptOut } from './DesignableBannerArticleCountOptOut';\nconst styles = {\n    container: css `\n\t\t${headlineBold15}\n\t\tmargin: 0 0 ${space[1]}px;\n\n\t\t${from.tablet} {\n\t\t\t${headlineBold17}\n\t\t}\n\t`,\n};\nexport function CustomArticleCountCopy({ copy, numArticles, settings, }) {\n    /**\n     * E.g. the string:\n     *   \"You’ve read %%ARTICLE_COUNT%% articles in the last few weeks.\"\n     * needs to be split into:\n     * - \"You’ve read\"\n     * - \"articles\"\n     * - \"in the last few weeks.\"\n     */\n    const [copyHead, copyTail] = copy.split('%%ARTICLE_COUNT%%');\n    const [nextWord, ...rest] = (copyTail ?? '').trim().split(' ');\n    return (_jsxs(\"p\", { css: styles.container, children: [copyHead, ' ', _jsx(DesignableBannerArticleCountOptOut, { numArticles: numArticles, nextWord: ` ${nextWord}`, settings: settings }), ' ', rest.join(' ')] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerArticleCount.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, headlineBold15, headlineBold17, } from '@guardian/source/foundations';\nimport { CustomArticleCountCopy } from './CustomArticleCountCopy';\nimport { DesignableBannerArticleCountOptOut } from './DesignableBannerArticleCountOptOut';\nexport const containsArticleCountTemplate = (copy) => copy.includes('%%ARTICLE_COUNT%%');\nexport function DesignableBannerArticleCount({ copy, numArticles, settings, }) {\n    if (copy && containsArticleCountTemplate(copy)) {\n        // Custom article count message\n        return (_jsx(CustomArticleCountCopy, { numArticles: numArticles, copy: copy, settings: settings }));\n    }\n    else if (numArticles >= 50) {\n        return (_jsxs(\"div\", { css: styles.container(settings.articleCountTextColour), children: [\"Congratulations on being one of our top readers globally \\u2013 you've read\", ' ', _jsx(DesignableBannerArticleCountOptOut, { numArticles: numArticles, nextWord: \" articles\", settings: settings }), ' ', \"in the last year\"] }));\n    }\n    else {\n        return (_jsxs(\"div\", { css: styles.container(settings.articleCountTextColour), children: [\"You've read\", ' ', _jsx(DesignableBannerArticleCountOptOut, { numArticles: numArticles, nextWord: \" articles\", settings: settings }), ' ', \"in the last year\"] }));\n    }\n}\n// ---- Styles ---- //\nconst styles = {\n    container: (textColor = 'inherit') => css `\n\t\tmargin: 0;\n\t\tcolor: ${textColor};\n\t\t${headlineBold15}\n\t\t${from.desktop} {\n\t\t\t${headlineBold17}\n\t\t}\n\t`,\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nconst styles = {\n    paragraphs: css `\n\t\t> :first-child {\n\t\t\tmargin-top: 0;\n\t\t}\n\t\t> :last-child {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t`,\n};\nexport const createBannerBodyCopy = (paragraphs, highlightedText, renderStyles) => {\n    const paragraphsToProcess = Array.isArray(paragraphs)\n        ? paragraphs\n        : [paragraphs];\n    const numberOfNonFinalParagraphs = paragraphsToProcess.length - 1;\n    // To cover situations where there are no paragraphs to process\n    if (numberOfNonFinalParagraphs < 0) {\n        return (_jsx(\"div\", { css: styles.paragraphs, children: highlightedText && (_jsx(\"p\", { children: _jsx(\"span\", { css: renderStyles.highlightedText, children: highlightedText }) })) }));\n    }\n    return (_jsx(\"div\", { css: styles.paragraphs, children: paragraphsToProcess.map((p, index) => {\n            if (index < numberOfNonFinalParagraphs) {\n                return _jsx(\"p\", { children: p }, index);\n            }\n            return (_jsxs(\"p\", { children: [p, ' ', highlightedText && (_jsx(\"span\", { css: renderStyles.highlightedText, children: highlightedText }))] }, index));\n        }) }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerBody.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, textEgyptian15, textEgyptian17, textEgyptianBold15, textEgyptianBold17, } from '@guardian/source/foundations';\nimport { removeMediaRulePrefix, useMatchMedia, } from '../../../../../lib/useMatchMedia';\nimport { createBannerBodyCopy } from './BannerText';\nexport function DesignableBannerBody({ mainContent, mobileContent, highlightedTextSettings, }) {\n    const styles = getStyles(highlightedTextSettings);\n    const isTabletOrAbove = useMatchMedia(removeMediaRulePrefix(from.tablet));\n    return (_jsx(\"div\", { css: styles.container, children: isTabletOrAbove\n            ? createBannerBodyCopy(mainContent.paragraphs, mainContent.highlightedText, styles)\n            : createBannerBodyCopy(mobileContent.paragraphs, mobileContent.highlightedText, styles) }));\n}\nconst getStyles = (settings) => ({\n    container: css `\n\t\tp {\n\t\t\tmargin: 0 0 0.5em 0;\n\t\t}\n\t\t${textEgyptian15};\n\t\t${from.desktop} {\n\t\t\t${textEgyptian17};\n\t\t}\n\t`,\n    highlightedText: css `\n\t\tdisplay: inline;\n\t\tcolor: ${settings.textColour};\n\n\t\t${settings.highlightColour\n        ? `\n            background: ${settings.highlightColour};\n            box-shadow: 2px 0 0 ${settings.highlightColour}, -2px 0 0 ${settings.highlightColour};\n            box-decoration-break: clone;\n        `\n        : ''}\n\n\t\t${textEgyptianBold15};\n\t\t${from.desktop} {\n\t\t\t${textEgyptianBold17};\n\t\t}\n\t`,\n});\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { Button, SvgCross } from '@guardian/source/react-components';\nimport { buttonStyles } from '../styles/buttonStyles';\nexport function DesignableBannerCloseButton({ onCloseClick, settings, styleOverides, }) {\n    return (_jsx(\"div\", { css: css `\n\t\t\t\t${styles.container} ${styleOverides ?? ''}\n\t\t\t`, children: _jsx(Button, { onClick: onCloseClick, cssOverrides: buttonStyles(settings, styles.closeButtonOverrides), icon: _jsx(SvgCross, {}), size: \"small\", hideLabel: true, children: \"Close\" }) }));\n}\nconst styles = {\n    container: css `\n\t\tdisplay: flex;\n\t\tjustify-self: end;\n\t\tz-index: 100;\n\t`,\n    closeButtonOverrides: css `\n\t\theight: 40px;\n\t\tmin-height: 40px;\n\t\twidth: 40px;\n\t\tmin-width: 40px;\n\t`,\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerCtas.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, space } from '@guardian/source/foundations';\nimport { LinkButton } from '@guardian/source/react-components';\nimport { SecondaryCtaType } from '@guardian/support-dotcom-components';\nimport { isSupportUrl } from '../../../lib/tracking';\nimport { PaymentCards } from '../../common/PaymentCards';\nimport { buttonStyles } from '../styles/buttonStyles';\nexport function DesignableBannerCtas({ mainOrMobileContent, onPrimaryCtaClick, onSecondaryCtaClick, primaryCtaSettings, secondaryCtaSettings, }) {\n    const { primaryCta, secondaryCta } = mainOrMobileContent;\n    const hasSupportCta = primaryCta ? isSupportUrl(primaryCta.ctaUrl) : false;\n    return (_jsxs(\"div\", { css: styles.container, children: [primaryCta && (_jsx(LinkButton, { href: primaryCta?.ctaUrl, onClick: onPrimaryCtaClick, size: \"small\", priority: \"primary\", cssOverrides: buttonStyles(primaryCtaSettings), children: primaryCta?.ctaText })), secondaryCta?.type === SecondaryCtaType.Custom && (_jsx(LinkButton, { href: secondaryCta?.cta.ctaUrl, onClick: onSecondaryCtaClick, size: \"small\", priority: \"tertiary\", cssOverrides: buttonStyles(secondaryCtaSettings), children: secondaryCta.cta.ctaText })), primaryCta && hasSupportCta && _jsx(PaymentCards, {})] }));\n}\nconst styles = {\n    container: css `\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: ${space[4]}px;\n\t\tjustify-content: center;\n\n\t\t> a {\n\t\t\tflex: 1 0 100%;\n\t\t\tjustify-content: center;\n\n\t\t\t${from.tablet} {\n\t\t\t\tflex: 0 1 auto;\n\t\t\t}\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\tjustify-content: start;\n\t\t}\n\t`,\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nfunction createSource(image) {\n    return _jsx(\"source\", { media: image.media, srcSet: image.url }, image.url);\n}\nexport const ResponsiveImage = ({ images, baseImage, bannerId, cssOverrides, }) => {\n    return (_jsxs(\"picture\", { id: bannerId, css: cssOverrides, children: [images.map(createSource), _jsx(\"img\", { src: baseImage.url, alt: baseImage.alt })] }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerVisual.tsx\n */\nimport { css } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\nimport { ResponsiveImage } from '../../../shared/ResponsiveImage';\nexport function DesignableBannerVisual({ settings, bannerId, isHeaderImage, }) {\n    const baseImage = {\n        url: settings.mainUrl,\n        media: '',\n        alt: settings.altText,\n    };\n    const images = [];\n    const styles = getStyles(isHeaderImage);\n    if (settings.mobileUrl) {\n        images.push({ url: settings.mobileUrl, media: '(max-width: 739px)' });\n    }\n    if (settings.tabletUrl) {\n        images.push({ url: settings.tabletUrl, media: '(max-width: 979px)' });\n    }\n    if (settings.desktopUrl) {\n        images.push({ url: settings.desktopUrl, media: '(max-width: 1139px)' });\n    }\n    if (settings.leftColUrl) {\n        images.push({ url: settings.leftColUrl, media: '(max-width: 1299px)' });\n    }\n    if (settings.wideUrl) {\n        images.push({ url: settings.wideUrl, media: '' });\n    }\n    return (_jsx(ResponsiveImage, { baseImage: baseImage, images: images, bannerId: bannerId, cssOverrides: styles.container }));\n}\n// ---- Styles ---- //\nconst getStyles = (isHeaderImage = false) => {\n    if (isHeaderImage) {\n        return {\n            container: css `\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\n\t\t\t\timg {\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: contain;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tmargin-left: -10px;\n\t\t\t\t\tmargin-right: -10px;\n\t\t\t\t\twidth: calc(100% + 20px);\n\t\t\t\t}\n\t\t\t`,\n        };\n    }\n    return {\n        container: css `\n\t\t\tdisplay: block;\n\t\t\twidth: calc(100% + 20px);\n\t\t\tmargin-left: -10px;\n\t\t\tmargin-right: -10px;\n\n\t\t\timg {\n\t\t\t\twidth: 100%;\n\t\t\t\tobject-fit: contain;\n\t\t\t\tdisplay: block;\n\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tmax-height: none;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t${from.tablet} {\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-left: 0;\n\t\t\t\tmargin-right: 0;\n\t\t\t}\n\t\t`,\n    };\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerHeader.tsx\n */\nimport { css } from '@emotion/react';\nimport { from, headlineBold24, headlineBold28, headlineBold34, headlineMedium17, neutral, space, } from '@guardian/source/foundations';\nimport { removeMediaRulePrefix, useMatchMedia, } from '../../../../../lib/useMatchMedia';\nimport { DesignableBannerVisual } from './DesignableBannerVisual';\nexport function DesignableBannerHeader({ heading, mobileHeading, headerSettings, headlineSize, }) {\n    const isTabletOrAbove = useMatchMedia(removeMediaRulePrefix(from.tablet));\n    const styles = getStyles(headerSettings, headlineSize);\n    const resolveImage = (settings) => {\n        return (_jsx(DesignableBannerVisual, { settings: settings, isHeaderImage: true }));\n    };\n    const resolveCopy = () => {\n        return _jsx(\"h2\", { children: isTabletOrAbove ? heading : mobileHeading });\n    };\n    return (_jsx(\"div\", { css: styles.container, children: _jsxs(\"header\", { css: styles.header, children: [headerSettings?.headerImage &&\n                    resolveImage(headerSettings.headerImage), (heading ?? mobileHeading) && resolveCopy()] }) }));\n}\nconst getStyles = (headerSettings, headlineSize) => {\n    const color = headerSettings?.textColour ?? neutral[0];\n    const copyTopMargin = headerSettings?.headerImage ? space[6] : space[3];\n    const containerMargin = headerSettings?.headerImage ? `${space[6]}px` : '0';\n    return {\n        container: css `\n\t\t\tposition: relative;\n\t\t\tmargin-bottom: ${containerMargin};\n\t\t`,\n        header: css `\n\t\t\th2 {\n\t\t\t\tmargin: ${copyTopMargin}px 0 ${space[3]}px;\n\t\t\t\tcolor: ${color};\n\n\t\t\t\t${headlineSize === 'small' ? headlineMedium17 : headlineBold24}\n\t\t\t\t${from.tablet} {\n\t\t\t\t\t${headlineBold28}\n\t\t\t\t\tmargin-bottom: ${space[6]}px;\n\t\t\t\t}\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\t${headlineBold34}\n\t\t\t\t}\n\t\t\t}\n\t\t`,\n    };\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerReminderSignedOut.tsx\n */\nimport { css } from '@emotion/react';\nimport { error, from, neutral, space, textSans15, textSansBold15, textSansBold17, } from '@guardian/source/foundations';\nimport { Button, TextInput } from '@guardian/source/react-components';\nimport { useContributionsReminderEmailForm } from '../../../hooks/useContributionsReminderEmailForm';\nimport { ensureHasPreposition, ReminderStatus } from '../../../lib/reminders';\nimport { buttonStyles } from '../styles/buttonStyles';\n// ---- Thank you component ---- //\nconst dfltTextColor = neutral[0];\nexport function ThankYou({ reminderLabelWithPreposition, thankyouColor, contactUsColor, }) {\n    return (_jsxs(\"div\", { children: [_jsx(\"header\", { children: _jsx(\"h3\", { css: styles.thankYouHeaderCopy(thankyouColor ?? dfltTextColor), children: \"Thank you! Your reminder is set\" }) }), _jsxs(\"div\", { css: styles.thankYouBodyCopy(thankyouColor ?? dfltTextColor), children: [\"We will be in touch to invite you to contribute. Look out for a message in your inbox \", reminderLabelWithPreposition, \". If you have any questions about contributing, please\", ' ', _jsx(\"a\", { href: \"mailto:contribution.support@theguardian.com\", css: styles.contactLink(contactUsColor ?? dfltTextColor), children: \"contact us\" })] })] }));\n}\nexport function InfoCopy({ reminderLabelWithPreposition, privacyLinkColor, }) {\n    return (_jsxs(\"div\", { css: styles.infoCopy, children: [\"We will send you a maximum of two emails\", ' ', reminderLabelWithPreposition, \". To find out what personal data we collect and how we use it, view our\", ' ', _jsx(\"a\", { css: styles.privacyLink(privacyLinkColor ?? dfltTextColor), href: \"https://www.theguardian.com/help/privacy-policy\", target: \"_blank\", rel: \"noopener noreferrer\", children: \"Privacy policy\" })] }));\n}\n// ---- Error component ---- //\nexport function ErrorCopy() {\n    return (_jsx(\"div\", { css: styles.errorCopy, children: \"Sorry we couldn't set a reminder for you this time. Please try again later.\" }));\n}\nexport function DesignableBannerReminderSignedOut({ reminderCta, reminderStatus, onReminderSetClick, setReminderCtaSettings, }) {\n    const reminderLabelWithPreposition = ensureHasPreposition(reminderCta.reminderFields.reminderLabel);\n    return (_jsx(_Fragment, { children: reminderStatus === ReminderStatus.Completed ? (_jsx(ThankYou, { reminderLabelWithPreposition: reminderLabelWithPreposition })) : (_jsx(Signup, { reminderLabelWithPreposition: reminderLabelWithPreposition, reminderStatus: reminderStatus, onSubmit: onReminderSetClick, setReminderCtaSettings: setReminderCtaSettings })) }));\n}\nfunction Signup({ reminderLabelWithPreposition, reminderStatus, onSubmit, setReminderCtaSettings, }) {\n    const { email, inputError, updateEmail, handleSubmit } = useContributionsReminderEmailForm();\n    return (_jsxs(_Fragment, { children: [_jsx(\"header\", { children: _jsxs(\"h3\", { css: styles.headerCopy, children: [\"Remind me to support \", reminderLabelWithPreposition, \" please\"] }) }), _jsxs(\"form\", { css: styles.form, onSubmit: handleSubmit(() => onSubmit(email)), children: [_jsx(TextInput, { label: \"Email address\", hideLabel: true, onChange: updateEmail, error: inputError, value: email, width: 30, placeholder: \"Enter your email\" }), _jsx(\"div\", { css: styles.ctaContainer, children: _jsx(Button, { type: \"submit\", iconSide: \"right\", priority: \"primary\", disabled: reminderStatus === ReminderStatus.Submitting, cssOverrides: css `\n\t\t\t\t\t\t\t${styles.button}\n\t\t\t\t\t\t\t${setReminderCtaSettings &&\n                                buttonStyles(setReminderCtaSettings)}\n\t\t\t\t\t\t`, children: \"Set reminder\" }) }), reminderStatus === ReminderStatus.Error && (_jsx(\"div\", { css: styles.errorCopyContainer, children: _jsx(ErrorCopy, {}) }))] }), _jsx(\"div\", { css: styles.infoCopyContainer, children: _jsx(InfoCopy, { reminderLabelWithPreposition: reminderLabelWithPreposition }) })] }));\n}\n// ---- Styles ---- //\nconst styles = {\n    headerCopy: css `\n\t\t${textSansBold17};\n\t\tmargin: 0;\n\t`,\n    form: css `\n\t\tmargin-top: ${space[2]}px;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t${from.tablet} {\n\t\t\tflex-direction: row;\n\t\t\talign-items: flex-end;\n\t\t}\n\n\t\t> input {\n\t\t\tmin-width: 100%;\n\n\t\t\t${from.tablet} {\n\t\t\t\tmin-width: auto;\n\t\t\t}\n\t\t}\n\t`,\n    ctaContainer: css `\n\t\tmargin-top: ${space[3]}px;\n\n\t\t${from.tablet} {\n\t\t\tmargin-top: 0;\n\t\t\tmargin-left: ${space[3]}px;\n\t\t}\n\t`,\n    errorCopyContainer: css `\n\t\tmargin-top: ${space[1]}px;\n\t`,\n    infoCopyContainer: css `\n\t\tmargin-top: ${space[3]}px;\n\t`,\n    button: css `\n\t\twidth: 100%;\n\t\tjustify-content: center;\n\n\t\t${from.tablet} {\n\t\t\twidth: auto;\n\t\t}\n\t`,\n    errorCopy: css `\n\t\t${textSansBold15};\n\t\tcolor: ${error[400]};\n\t\tfont-style: italic;\n\t`,\n    infoCopy: css `\n\t\t${textSans15}\n\t\tfont-size: 12px;\n\t`,\n    privacyLink: (foreColor) => css `\n\t\tfont-weight: bold;\n\t\tcolor: ${foreColor};\n\t`,\n    thankYouHeaderCopy: (foreColor) => css `\n\t\t${textSansBold15}\n\t\tmargin: 0;\n\t\tmargin-bottom: ${space[3]}px;\n\t\tcolor: ${foreColor};\n\t`,\n    thankYouBodyCopy: (foreColor) => css `\n\t\t${textSans15}\n\t\tcolor: ${foreColor};\n\t`,\n    contactLink: (foreColor) => css `\n\t\tfont-weight: bold;\n\t\tcolor: ${foreColor};\n\t`,\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/components/DesignableBannerReminder.tsx\n */\nimport { css } from '@emotion/react';\nimport { space } from '@guardian/source/foundations';\nimport React from 'react';\nimport { useContributionsReminderSignup } from '../../../hooks/useContributionsReminderSignup';\nimport { DesignableBannerReminderSignedOut } from './DesignableBannerReminderSignedOut';\nconst styles = {\n    container: css `\n\t\tgrid-row: 4;\n\t\tgrid-column: 1 / span 2;\n\t\torder: 5;\n\t\tmargin-top: ${space[3]}px;\n\t`,\n};\nexport function DesignableBannerReminder({ reminderCta, trackReminderSetClick, setReminderCtaSettings, mobileReminderRef, }) {\n    const { reminderStatus, createReminder } = useContributionsReminderSignup(reminderCta.reminderFields.reminderPeriod, 'WEB', 'BANNER', 'PRE', reminderCta.reminderFields.reminderOption);\n    const onReminderSetClick = (email) => {\n        trackReminderSetClick();\n        createReminder(email);\n    };\n    return (_jsx(\"div\", { ref: mobileReminderRef, css: styles.container, children: _jsx(DesignableBannerReminderSignedOut, { reminderCta: reminderCta, reminderStatus: reminderStatus, onReminderSetClick: onReminderSetClick, setReminderCtaSettings: setReminderCtaSettings }) }));\n}\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/styles/templateStyles.ts\n */\nimport { css } from '@emotion/react';\nimport { from, space } from '@guardian/source/foundations';\nconst templateSpacing = {\n    bannerContainer: css `\n\t\tmargin-bottom: ${space[4]}px;\n\n\t\t${from.tablet} {\n\t\t\tmargin-bottom: ${space[3]}px;\n\t\t}\n\t`,\n    bannerHeader: css `\n\t\tmargin: 0;\n\t`,\n    bannerBodyCopy: css `\n\t\tmargin-bottom: ${space[4]}px;\n\n\t\t${from.tablet} {\n\t\t\tmargin-bottom: ${space[6]}px;\n\t\t}\n\t`,\n    bannerTicker: css `\n\t\tmargin-bottom: ${space[4]}px;\n\t`,\n    bannerCloseButton: css `\n\t\ttop: ${space[3]}px;\n\t\tright: ${space[3]}px;\n\t\tmargin-left: ${space[3]}px;\n\t`,\n};\nexport { templateSpacing };\n","import { Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/modules/banners/designableBanner/DesignableBanner.tsx\n */\nimport { css } from '@emotion/react';\nimport { between, from, neutral, space, specialReport, textEgyptian15, textSans17, textSansBold17, until, } from '@guardian/source/foundations';\nimport { Button, SvgGuardianLogo } from '@guardian/source/react-components';\nimport { Ticker } from '@guardian/source-development-kitchen/react-components';\nimport { hexColourToString, SecondaryCtaType, } from '@guardian/support-dotcom-components';\nimport { useEffect, useState } from 'react';\nimport { removeMediaRulePrefix, useMatchMedia, } from '../../../../lib/useMatchMedia';\nimport { useChoiceCards } from '../../hooks/useChoiceCards';\nimport { useReminder } from '../../hooks/useReminder';\nimport { bannerWrapper, validatedBannerWrapper } from '../common/BannerWrapper';\nimport { ChoiceCards } from './components/choiceCards/ChoiceCards';\nimport { DesignableBannerArticleCount } from './components/DesignableBannerArticleCount';\nimport { DesignableBannerBody } from './components/DesignableBannerBody';\nimport { DesignableBannerCloseButton } from './components/DesignableBannerCloseButton';\nimport { DesignableBannerCtas } from './components/DesignableBannerCtas';\nimport { DesignableBannerHeader } from './components/DesignableBannerHeader';\nimport { DesignableBannerReminder } from './components/DesignableBannerReminder';\nimport { DesignableBannerVisual } from './components/DesignableBannerVisual';\nimport { buttonStyles } from './styles/buttonStyles';\nimport { templateSpacing } from './styles/templateStyles';\nconst buildImageSettings = (design) => {\n    return {\n        mainUrl: design.mobileUrl,\n        mobileUrl: design.mobileUrl,\n        tabletUrl: design.tabletUrl,\n        desktopUrl: design.desktopUrl,\n        wideUrl: design.desktopUrl,\n        altText: design.altText,\n    };\n};\nconst buildMainImageSettings = (design) => {\n    if (design.visual?.kind === 'Image') {\n        return buildImageSettings(design.visual);\n    }\n    return undefined;\n};\nconst buildHeaderImageSettings = (design) => {\n    if (design.headerImage) {\n        return buildImageSettings(design.headerImage);\n    }\n    return undefined;\n};\nconst buildChoiceCardSettings = (design) => {\n    if (design.visual?.kind === 'ChoiceCards') {\n        const { buttonColour, buttonTextColour, buttonBorderColour, buttonSelectColour, buttonSelectTextColour, buttonSelectBorderColour, } = design.visual;\n        return {\n            buttonColour: buttonColour\n                ? hexColourToString(buttonColour)\n                : undefined,\n            buttonTextColour: buttonTextColour\n                ? hexColourToString(buttonTextColour)\n                : undefined,\n            buttonBorderColour: buttonBorderColour\n                ? hexColourToString(buttonBorderColour)\n                : undefined,\n            buttonSelectColour: buttonSelectColour\n                ? hexColourToString(buttonSelectColour)\n                : undefined,\n            buttonSelectTextColour: buttonSelectTextColour\n                ? hexColourToString(buttonSelectTextColour)\n                : undefined,\n            buttonSelectBorderColour: buttonSelectBorderColour\n                ? hexColourToString(buttonSelectBorderColour)\n                : undefined,\n        };\n    }\n    return undefined;\n};\nconst DesignableBanner = ({ content, onCloseClick, articleCounts, onCtaClick, onSecondaryCtaClick, reminderTracking, separateArticleCount, // legacy field\nseparateArticleCountSettings, tickerSettings, choiceCardAmounts, countryCode, submitComponentEvent, design, }) => {\n    const isTabletOrAbove = useMatchMedia(removeMediaRulePrefix(from.tablet));\n    const { isReminderActive, onReminderCtaClick, mobileReminderRef } = useReminder(reminderTracking);\n    // We can use this to shorten the banner if the \"open in app\" banner is present\n    const [iosAppBannerPresent, setIosAppBannerPresent] = useState(false);\n    useEffect(() => {\n        setIosAppBannerPresent(window.innerHeight != window.document.documentElement.clientHeight);\n    }, []);\n    useEffect(() => {\n        if (iosAppBannerPresent) {\n            // send ophan event\n            if (submitComponentEvent) {\n                submitComponentEvent({\n                    component: {\n                        componentType: 'ACQUISITIONS_OTHER',\n                        id: 'safari-ios-banner-present',\n                    },\n                    action: 'VIEW',\n                });\n            }\n        }\n    }, [iosAppBannerPresent, submitComponentEvent]);\n    const { choiceCardSelection, setChoiceCardSelection, getCtaText, getCtaUrl, currencySymbol, } = useChoiceCards(choiceCardAmounts, countryCode, content.mainContent.primaryCta, content.mobileContent.primaryCta);\n    // We can't render anything without a design\n    if (!design) {\n        return _jsx(_Fragment, {});\n    }\n    const { basic, primaryCta, secondaryCta, highlightedText, closeButton, ticker, } = design.colours;\n    const imageSettings = buildMainImageSettings(design);\n    const choiceCardSettings = buildChoiceCardSettings(design);\n    const templateSettings = {\n        containerSettings: {\n            backgroundColour: hexColourToString(basic.background),\n            textColor: hexColourToString(basic.bodyText),\n        },\n        headerSettings: {\n            textColour: hexColourToString(basic.headerText),\n            headerImage: buildHeaderImageSettings(design),\n        },\n        primaryCtaSettings: {\n            default: {\n                backgroundColour: hexColourToString(primaryCta.default.background),\n                textColour: hexColourToString(primaryCta.default.text),\n            },\n            hover: {\n                backgroundColour: hexColourToString(primaryCta.hover.background),\n                textColour: hexColourToString(primaryCta.hover.text),\n            },\n        },\n        secondaryCtaSettings: {\n            default: {\n                backgroundColour: hexColourToString(secondaryCta.default.background),\n                textColour: hexColourToString(secondaryCta.default.text),\n                border: `1px solid ${secondaryCta.default.border\n                    ? hexColourToString(secondaryCta.default.border)\n                    : undefined}`,\n            },\n            hover: {\n                backgroundColour: hexColourToString(secondaryCta.hover.background),\n                textColour: hexColourToString(secondaryCta.hover.text),\n                border: `1px solid ${secondaryCta.hover.border\n                    ? hexColourToString(secondaryCta.hover.border)\n                    : undefined}`,\n            },\n        },\n        closeButtonSettings: {\n            default: {\n                backgroundColour: hexColourToString(closeButton.default.background),\n                textColour: hexColourToString(closeButton.default.text),\n                border: `1px solid ${closeButton.default.border\n                    ? hexColourToString(closeButton.default.border)\n                    : specialReport[100]}`,\n            },\n            hover: {\n                backgroundColour: hexColourToString(closeButton.hover.background),\n                textColour: hexColourToString(closeButton.hover.text),\n                border: `1px solid ${closeButton.hover.border\n                    ? hexColourToString(closeButton.hover.border)\n                    : neutral[100]}`,\n            },\n        },\n        highlightedTextSettings: {\n            textColour: hexColourToString(highlightedText.text),\n            highlightColour: hexColourToString(highlightedText.highlight),\n        },\n        articleCountTextColour: hexColourToString(basic.articleCountText),\n        choiceCardSettings,\n        imageSettings,\n        bannerId: 'designable-banner',\n        tickerStylingSettings: {\n            filledProgressColour: hexColourToString(ticker.filledProgress),\n            progressBarBackgroundColour: hexColourToString(ticker.progressBarBackground),\n            headlineColour: hexColourToString(ticker.headlineColour),\n            totalColour: hexColourToString(ticker.totalColour),\n            goalColour: hexColourToString(ticker.goalColour),\n        },\n    };\n    // const isTabletOrAbove = useMediaQuery(from.tablet);\n    const mainOrMobileContent = isTabletOrAbove\n        ? content.mainContent\n        : content.mobileContent;\n    const showChoiceCards = !!(templateSettings.choiceCardSettings &&\n        choiceCardAmounts?.amountsCardData);\n    const getHeaderContainerCss = () => {\n        if (templateSettings?.headerSettings?.headerImage) {\n            return styles.headerWithImageContainer(templateSettings.containerSettings.backgroundColour);\n        }\n        return styles.headerContainer(templateSettings.containerSettings.backgroundColour, !!templateSettings.imageSettings);\n    };\n    const showReminder = mainOrMobileContent.secondaryCta?.type ===\n        SecondaryCtaType.ContributionsReminder;\n    const showAboveArticleCount = (separateArticleCountSettings?.type === 'above' ||\n        separateArticleCount) &&\n        articleCounts.forTargetedWeeks >= 5;\n    return (_jsxs(\"div\", { css: styles.outerContainer(templateSettings.containerSettings.backgroundColour, iosAppBannerPresent, templateSettings.containerSettings.textColor), children: [_jsxs(\"div\", { css: styles.containerOverrides, children: [_jsx(\"div\", { css: getHeaderContainerCss(), children: _jsx(DesignableBannerHeader, { heading: content.mainContent.heading, mobileHeading: content.mobileContent.heading, headerSettings: templateSettings.headerSettings, headlineSize: design.fonts?.heading.size ?? 'medium' }) }), _jsxs(\"div\", { css: styles.contentContainer(showReminder), children: [showAboveArticleCount && (_jsx(DesignableBannerArticleCount, { numArticles: articleCounts.forTargetedWeeks, settings: templateSettings, copy: separateArticleCountSettings?.copy })), tickerSettings?.tickerData &&\n                                templateSettings.tickerStylingSettings && (_jsx(\"div\", { css: templateSpacing.bannerTicker, children: _jsx(Ticker, { currencySymbol: tickerSettings.currencySymbol, copy: {\n                                        headline: tickerSettings.copy.countLabel,\n                                    }, tickerData: tickerSettings.tickerData, tickerStylingSettings: templateSettings.tickerStylingSettings, size: 'medium' }) })), _jsx(\"div\", { css: templateSpacing.bannerBodyCopy, children: _jsx(DesignableBannerBody, { mainContent: content.mainContent, mobileContent: content.mobileContent, highlightedTextSettings: templateSettings.highlightedTextSettings }) }), !showChoiceCards && (_jsx(DesignableBannerCtas, { mainOrMobileContent: mainOrMobileContent, onPrimaryCtaClick: onCtaClick, onSecondaryCtaClick: onSecondaryCtaClick, primaryCtaSettings: templateSettings.primaryCtaSettings, secondaryCtaSettings: templateSettings.secondaryCtaSettings }))] }), templateSettings.imageSettings ? (_jsxs(\"div\", { css: styles.bannerVisualContainer(templateSettings.containerSettings.backgroundColour), children: [_jsx(DesignableBannerCloseButton, { onCloseClick: onCloseClick, settings: templateSettings.closeButtonSettings, styleOverides: styles.closeButtonOverrides(false) }), _jsx(DesignableBannerVisual, { settings: templateSettings.imageSettings, bannerId: templateSettings.bannerId }), templateSettings.alternativeVisual] })) : (_jsx(DesignableBannerCloseButton, { onCloseClick: onCloseClick, settings: templateSettings.closeButtonSettings, styleOverides: styles.closeButtonOverrides(true) })), showChoiceCards && (_jsx(\"div\", { css: styles.choiceCardsContainer(templateSettings.containerSettings.backgroundColour), children: _jsx(ChoiceCards, { setSelectionsCallback: setChoiceCardSelection, selection: choiceCardSelection, submitComponentEvent: submitComponentEvent, currencySymbol: currencySymbol, componentId: 'contributions-banner-choice-cards', amountsTest: choiceCardAmounts, design: templateSettings.choiceCardSettings, getCtaText: getCtaText, getCtaUrl: getCtaUrl, cssCtaOverides: buttonStyles(templateSettings.primaryCtaSettings), onCtaClick: onCtaClick }) })), _jsx(\"div\", { css: styles.guardianLogoContainer, children: _jsx(SvgGuardianLogo, { textColor: hexColourToString(basic.logo) }) }), showReminder && (_jsxs(\"div\", { css: styles.reminderContainer, children: [_jsxs(\"span\", { css: styles.reminderText, children: [\"Not ready to support today?\", ' '] }), _jsx(Button, { priority: \"subdued\", onClick: onReminderCtaClick, cssOverrides: styles.reminderCta(templateSettings.secondaryCtaSettings), children: \"Remind me later\" })] }))] }), isReminderActive && (_jsx(\"div\", { css: styles.reminderFormContainer, children: _jsx(\"div\", { css: styles.containerOverrides, children: _jsx(DesignableBannerReminder, { reminderCta: mainOrMobileContent.secondaryCta, trackReminderSetClick: reminderTracking.onReminderSetClick, setReminderCtaSettings: templateSettings.secondaryCtaSettings, mobileReminderRef: isTabletOrAbove ? null : mobileReminderRef }) }) }))] }));\n};\nconst styles = {\n    outerContainer: (background, limitHeight, textColor = 'inherit') => css `\n\t\tbackground: ${background};\n\t\tcolor: ${textColor};\n\t\t${limitHeight ? 'max-height: 70vh;' : ''}\n\t\toverflow: auto;\n\t\t* {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\t\t${from.tablet} {\n\t\t\tborder-top: 1px solid ${neutral[0]};\n\t\t}\n\t\tb,\n\t\tstrong {\n\t\t\tfont-weight: bold;\n\t\t}\n\t`,\n    containerOverrides: css `\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tposition: relative;\n\t\tpadding: 0 10px;\n\t\t${from.tablet} {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 1fr 280px;\n\t\t\tgrid-template-rows: auto 1fr auto;\n\t\t\tcolumn-gap: ${space[5]}px;\n\t\t\twidth: 100%;\n\t\t\tmax-width: 1300px;\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 0 ${space[5]}px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\tcolumn-gap: 60px;\n\t\t\tgrid-template-columns: 1fr 460px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tcolumn-gap: 100px;\n\t\t}\n\t\t${templateSpacing.bannerContainer};\n\t`,\n    closeButtonOverrides: (isGridCell) => css `\n\t\t${until.tablet} {\n\t\t\tposition: fixed;\n\t\t\tmargin-top: ${space[3]}px;\n\t\t\tpadding-right: 10px;\n\t\t\tright: 0;\n\t\t}\n\t\t${from.tablet} {\n\t\t\tmargin-top: ${space[3]}px;\n\n\t\t\t${isGridCell\n        ? css `\n\t\t\t\t\t\tgrid-column: 2;\n\t\t\t\t\t\tgrid-row: 1;\n\t\t\t\t  `\n        : css `\n\t\t\t\t\t\tmargin-bottom: ${space[3]}px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: flex-end;\n\t\t\t\t  `}\n\t\t}\n\t`,\n    headerContainer: (background, bannerHasImage) => css `\n\t\torder: ${bannerHasImage ? '2' : '1'};\n\t\t${until.tablet} {\n\t\t\t${bannerHasImage\n        ? ''\n        : `max-width: calc(100% - 40px - ${space[3]}px);`}\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t\tbackground: ${background};\n\t\t}\n\n\t\t${templateSpacing.bannerHeader}\n\t`,\n    headerWithImageContainer: (background) => css `\n\t\torder: 1;\n\t\tmax-width: '100%';\n\t\t${between.mobileMedium.and.tablet} {\n\t\t\torder: '2';\n\t\t}\n\t\t${from.tablet} {\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t\tbackground: ${background};\n\t\t}\n\t\t${templateSpacing.bannerHeader}\n\t`,\n    contentContainer: (showRemindMeLater) => css `\n\t\torder: 2;\n\t\t${from.tablet} {\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: ${showRemindMeLater ? '2' : '2 / span 2'};\n\t\t}\n\t`,\n    bannerVisualContainer: (background) => css `\n\t\torder: 1;\n\t\tbackground: ${background};\n\t\t${from.tablet} {\n\t\t\tgrid-column: 2;\n\t\t\tgrid-row: 1 / span 2;\n\t\t\talign-self: flex-start;\n\t\t}\n\t`,\n    choiceCardsContainer: (background) => css `\n\t\torder: 3;\n\t\tbackground: ${background};\n\t\t${from.tablet} {\n\t\t\tgrid-column: 2;\n\t\t\tgrid-row: 2;\n\t\t\talign-self: flex-start;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: flex-end;\n\t\t}\n\t`,\n    guardianLogoContainer: css `\n\t\tdisplay: none;\n\t\t${from.tablet} {\n\t\t\tdisplay: block;\n\t\t\twidth: 100px;\n\t\t}\n\t\tgrid-column: 2;\n\t\tgrid-row: 3;\n\t\tjustify-self: end;\n\t\tpadding-top: ${space[3]}px;\n\t`,\n    reminderContainer: css `\n\t\t${textEgyptian15};\n\t\tgrid-column: 1;\n\t\tgrid-row: 3;\n\t\torder: 4;\n\t\talign-self: center;\n\t\tmargin-top: ${space[2]}px;\n\n\t\t${from.tablet} {\n\t\t\talign-self: end;\n\t\t}\n\t`,\n    reminderText: css `\n\t\t${textSans17};\n\t\tdisplay: none;\n\n\t\t${from.tablet} {\n\t\t\tdisplay: inline;\n\t\t}\n\t`,\n    reminderCta: ({ default: defaultSettings }) => css `\n\t\t${textSansBold17};\n\t\tcolor: ${defaultSettings.backgroundColour};\n\t\tdisplay: inline;\n\t\theight: auto;\n\t\tmin-height: auto;\n\t`,\n    reminderFormContainer: css `\n\t\tborder-top: 2px solid ${neutral[0]};\n\t\tmargin-top: ${space[3]}px;\n\t`,\n};\nconst unvalidated = bannerWrapper(DesignableBanner, 'designable-banner');\nconst validated = validatedBannerWrapper(DesignableBanner, 'designable-banner');\nexport { validated as DesignableBanner, unvalidated as DesignableBannerUnvalidated, };\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/0a2439b701586a7a2cc60dce10b4d96cf7a828db/packages/modules/src/hooks/useReminder.ts\n */\nimport { useEffect, useRef, useState } from 'react';\nconst useReminder = (reminderTracking) => {\n    const [isReminderActive, setIsReminderActive] = useState(false);\n    const onReminderCtaClick = () => {\n        reminderTracking.onReminderCtaClick();\n        setIsReminderActive(!isReminderActive);\n    };\n    const mobileReminderRef = useRef(null);\n    useEffect(() => {\n        if (mobileReminderRef.current && isReminderActive) {\n            mobileReminderRef.current.scrollIntoView({ behavior: 'smooth' });\n        }\n    }, [isReminderActive]);\n    return { isReminderActive, onReminderCtaClick, mobileReminderRef };\n};\nexport { useReminder };\n","import { useState } from 'react';\nimport { emailIsShortEnoughForIdentity, isValidEmail } from '../lib/reminders';\nexport function useContributionsReminderEmailForm() {\n    const [isDirty, setIsDirty] = useState(false);\n    const [email, setEmail] = useState('');\n    const updateEmail = (e) => {\n        setEmail(e.target.value);\n        if (isDirty) {\n            setIsDirty(false);\n        }\n    };\n    const isEmpty = email.trim().length === 0;\n    const isValid = isValidEmail(email) && emailIsShortEnoughForIdentity(email);\n    let inputError;\n    if (isDirty && isEmpty) {\n        inputError = 'Please enter your email address';\n    }\n    else if (isDirty && !isValid) {\n        inputError = 'Please enter a valid email address';\n    }\n    const handleSubmit = (onSubmit) => {\n        const handler = (e) => {\n            e.preventDefault();\n            if (isValid) {\n                onSubmit();\n            }\n            else {\n                setIsDirty(true);\n            }\n        };\n        return handler;\n    };\n    return { email, inputError, updateEmail, handleSubmit };\n}\n","import { useState } from 'react';\nimport { addContributionReminderCookie, ReminderStatus, } from '../lib/reminders';\nconst CREATE_ONE_OFF_REMINDER_ENDPOINT = 'https://support.theguardian.com/reminders/create/one-off';\nexport function useContributionsReminderSignup(reminderPeriod, reminderPlatform, reminderComponent, reminderStage, reminderOption) {\n    const [reminderStatus, setReminderStatus] = useState(ReminderStatus.Editing);\n    const createReminder = (email) => {\n        const reminderSignupData = {\n            email,\n            reminderPeriod,\n            reminderPlatform,\n            reminderComponent,\n            reminderStage,\n            reminderOption,\n        };\n        setReminderStatus(ReminderStatus.Submitting);\n        fetch(CREATE_ONE_OFF_REMINDER_ENDPOINT, {\n            body: JSON.stringify(reminderSignupData),\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n            .then((response) => {\n            if (!response.ok) {\n                setReminderStatus(ReminderStatus.Error);\n            }\n            else {\n                setReminderStatus(ReminderStatus.Completed);\n                addContributionReminderCookie(reminderPeriod);\n            }\n        })\n            .catch(() => setReminderStatus(ReminderStatus.Error));\n    };\n    return { reminderStatus, createReminder };\n}\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/9c3eae7cb0b159db4a1c40679d6b37710b0bb937/packages/modules/src/modules/utils/reminders.ts\n */\nimport { getCookie, setCookie } from '@guardian/libs';\nexport var ReminderStatus;\n(function (ReminderStatus) {\n    ReminderStatus[\"Editing\"] = \"Editing\";\n    ReminderStatus[\"Submitting\"] = \"Submitting\";\n    ReminderStatus[\"Error\"] = \"Error\";\n    ReminderStatus[\"Completed\"] = \"Completed\";\n})(ReminderStatus || (ReminderStatus = {}));\n// --- Cookie utils --- //\nconst dateDiff = (start, end) => {\n    const twentyFourHours = 86400000;\n    return Math.round((end.valueOf() - start.valueOf()) / twentyFourHours);\n};\nexport const addContributionReminderCookie = (reminderDateString) => {\n    const today = new Date();\n    const reminderDate = new Date(Date.parse(reminderDateString));\n    setCookie({\n        name: 'gu_epic_contribution_reminder',\n        value: '1',\n        daysToLive: dateDiff(today, reminderDate),\n    });\n};\nexport const hasSetReminder = () => {\n    return !!getCookie({ name: 'gu_epic_contribution_reminder' });\n};\n// --- Text utils --- //\nconst PREPOSITION_REGEX = /^(on|in)/;\nconst containsPreposition = (text) => PREPOSITION_REGEX.test(text);\nconst addPreposition = (text) => 'in ' + text;\nexport const ensureHasPreposition = (text) => containsPreposition(text) ? text : addPreposition(text);\n// --- Validation utils --- //\nexport const isValidEmail = (email) => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n};\nexport const emailIsShortEnoughForIdentity = (email) => {\n    // Identity errors on email addresses longer than 100 characters\n    return email.length <= 100;\n};\n","import { useEffect, useState, useSyncExternalStore } from 'react';\n/**\n * Stores constructed media queries by their query string, so they don't have\n * to be recreated on each render. Also allows multiple components to use the\n * same media query.\n */\nconst cachedQueries = new Map();\nconst removeMediaRulePrefix = (query) => query.replace('@media', '').trim();\n/**\n * A custom hook to test the provided media query. Will return a `boolean`\n * signifying whether the media query currently matches, and will trigger a\n * re-render whenever the match status changes in either direction;\n * e.g. from `true` to `false`, or from `false` to `true`.\n *\n * @param {string} query for use with `window.matchMedia`\n * @returns {boolean} whether the media query currently matches\n */\nconst useMatchMedia = (query) => {\n    const [mediaQuery, setMediaQuery] = useState(cachedQueries.get(query));\n    useEffect(() => {\n        if (mediaQuery)\n            return;\n        cachedQueries.set(query, window.matchMedia(query));\n        setMediaQuery(cachedQueries.get(query));\n    }, [mediaQuery, query]);\n    /** @see https://react.dev/reference/react/useSyncExternalStore */\n    return useSyncExternalStore((callback) => {\n        mediaQuery?.addEventListener('change', callback);\n        return () => {\n            mediaQuery?.removeEventListener('change', callback);\n        };\n    }, () => !!mediaQuery?.matches, () => false);\n};\nexport { removeMediaRulePrefix, useMatchMedia };\n","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _toArray(r) {\n  return arrayWithHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableRest();\n}\nexport { _toArray as default };","import { palette } from '../../__generated__/palette.js';\nconst { brand, brandAlt, neutral, error, success, news, opinion, sport, culture, lifestyle, labs, specialReport, focus } = palette;\nconst background = {\n    primary: palette.neutral[100],\n    secondary: palette.neutral[97],\n    inverse: palette.neutral[10],\n    ctaPrimary: palette.brand[400],\n    ctaPrimaryHover: \"#234B8A\",\n    ctaSecondary: palette.brand[800],\n    ctaSecondaryHover: \"#ACC9F7\",\n    ctaTertiaryHover: \"#E5E5E5\",\n    input: palette.neutral[100],\n    inputChecked: palette.brand[500]\n};\nconst brandBackground = {\n    primary: palette.brand[400],\n    inputChecked: palette.neutral[100],\n    ctaPrimary: palette.neutral[100],\n    ctaPrimaryHover: \"#E0E0E0\",\n    ctaSecondary: palette.brand[600],\n    ctaSecondaryHover: \"#234B8A\",\n    ctaTertiaryHover: palette.brand[300]\n};\nconst brandAltBackground = {\n    primary: palette.brandAlt[400],\n    ctaPrimary: palette.neutral[7],\n    ctaPrimaryHover: \"#454545\",\n    ctaSecondary: palette.brandAlt[200],\n    ctaSecondaryHover: \"#F2AE00\",\n    ctaTertiaryHover: \"#FFD213\"\n};\nconst border = {\n    primary: palette.neutral[60],\n    secondary: palette.neutral[86],\n    success: palette.success[400],\n    error: palette.error[400],\n    ctaTertiary: palette.brand[400],\n    input: palette.neutral[60],\n    inputChecked: palette.brand[500],\n    inputHover: palette.brand[500],\n    inputActive: palette.brand[500],\n    focusHalo: palette.focus[400]\n};\nconst brandBorder = {\n    primary: palette.brand[600],\n    secondary: palette.brand[600],\n    success: palette.success[500],\n    error: palette.error[500],\n    ctaTertiary: palette.neutral[100],\n    input: palette.brand[800],\n    inputChecked: palette.neutral[100],\n    inputHover: palette.neutral[100]\n};\nconst brandAltBorder = {\n    ctaTertiary: palette.neutral[7]\n};\nconst line = {\n    primary: palette.neutral[86]\n};\nconst brandLine = {\n    primary: palette.brand[600]\n};\nconst brandAltLine = {\n    primary: palette.neutral[7]\n};\nconst text = {\n    primary: palette.neutral[7],\n    supporting: palette.neutral[46],\n    success: palette.success[400],\n    error: palette.error[400],\n    ctaPrimary: palette.neutral[100],\n    ctaSecondary: palette.brand[400],\n    ctaTertiary: palette.brand[400],\n    anchorPrimary: palette.brand[500],\n    anchorSecondary: palette.neutral[7],\n    userInput: palette.neutral[7],\n    inputLabel: palette.neutral[7],\n    inputError: palette.neutral[7],\n    inputLabelSupporting: palette.neutral[46],\n    inputChecked: palette.brand[400],\n    //choice card only\n    inputHover: palette.brand[400],\n    //choice card only\n    groupLabel: palette.neutral[7],\n    groupLabelSupporting: palette.neutral[46],\n    newsInverse: palette.news[550]\n};\nconst brandText = {\n    primary: palette.neutral[100],\n    supporting: palette.brand[800],\n    success: palette.success[500],\n    error: palette.error[500],\n    ctaPrimary: palette.brand[400],\n    ctaSecondary: palette.neutral[100],\n    ctaTertiary: palette.neutral[100],\n    anchorPrimary: palette.neutral[100],\n    anchorPrimaryHover: palette.brandAlt[400],\n    userInput: palette.neutral[100],\n    inputLabel: palette.neutral[100],\n    inputLabelSupporting: palette.brand[800]\n};\nconst brandAltText = {\n    primary: palette.neutral[7],\n    supporting: palette.neutral[60],\n    ctaPrimary: palette.neutral[100],\n    ctaSecondary: palette.neutral[7],\n    ctaTertiary: palette.neutral[7],\n    anchorPrimary: palette.neutral[7]\n};\nexport { background, border, brand, brandAlt, brandAltBackground, brandAltBorder, brandAltLine, brandAltText, brandBackground, brandBorder, brandLine, brandText, culture, error, focus, labs, lifestyle, line, neutral, news, opinion, specialReport, sport, success, text };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\"svg\", {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M12.015 14.042 20.707 22 22 20.709 14.06 12 22 3.291 20.707 2l-8.692 7.958L3.293 2.03 2 3.321 9.97 12 2 20.679l1.293 1.291z\",\n        fill: theme?.fill\n    })\n});\nconst SvgCross = ({ size, theme, isAnnouncedByScreenReader = false }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Svg, { size, theme }),\n        isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\"span\", {\n            css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n            children: \"Close\"\n        }) : \"\"\n    ] });\nexport { SvgCross };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\"svg\", {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10m-1.773-7.853-2.27-2.17-.8.8 2.709 3.791h.454l7.455-7.716-.82-.8z\",\n        fill: theme?.fill\n    })\n});\nconst SvgTickRound = ({ size, theme, isAnnouncedByScreenReader = false }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Svg, { size, theme }),\n        isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\"span\", {\n            css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n            children: \"Ticked\"\n        }) : \"\"\n    ] });\nexport { SvgTickRound };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\nconst Button = ({ priority, size, icon: iconSvg, iconSide, hideLabel, nudgeIcon, type = \"button\", isLoading = false, loadingAnnouncement = \"Loading\", cssOverrides, children, theme, ...props }) => /* @__PURE__ */ jsx(\"button\", {\n    css: buttonStyles({\n        size,\n        priority,\n        icon: iconSvg,\n        hideLabel,\n        iconSide,\n        nudgeIcon,\n        cssOverrides,\n        isLoading,\n        theme\n    }),\n    type,\n    \"aria-live\": \"polite\",\n    \"aria-label\": isLoading ? loadingAnnouncement : void 0,\n    ...props,\n    children: buttonContents({\n        hideLabel,\n        iconSvg,\n        isLoading,\n        children\n    })\n});\nexport { Button };\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { SupportingText } from './SupportingText.js';\nimport { Text } from './Text.js';\nconst Label = ({ text, supporting, optional = false, hideLabel = false, size, cssOverrides, children, theme, ...props }) => {\n    return /* @__PURE__ */ jsxs(\"label\", { css: cssOverrides, ...props, children: [\n            /* @__PURE__ */ jsx(Text, {\n                hideLabel,\n                text,\n                optional,\n                size,\n                theme\n            }),\n            supporting ? /* @__PURE__ */ jsx(SupportingText, { hideLabel, theme, children: supporting }) : \"\",\n            children\n        ] });\n};\nexport { Label };\n","import { css } from '@emotion/react';\nimport { size } from '../../foundations/__generated__/size.js';\nimport { space } from '../../foundations/__generated__/space.js';\nimport { focusHalo } from '../../foundations/accessibility/focus-halo.js';\nimport { textSans17, textSans14 } from '../../foundations/__generated__/typography.js';\nconst inputSizeMedium = css `\n\t${textSans17};\n\theight: ${size.medium}px;\n`;\nconst inputSizeSmall = css `\n\t${textSans14};\n\theight: ${size.small}px;\n`;\nconst inputSize = {\n    medium: inputSizeMedium,\n    small: inputSizeSmall\n};\nconst errorInput = (textInput2) => css `\n\tborder: 2px solid ${textInput2.borderError};\n\tborder-radius: 4px;\n\tcolor: ${textInput2.textError};\n\tmargin-top: 0;\n`;\nconst successInput = (textInput2) => css `\n\tborder: 2px solid ${textInput2.borderSuccess};\n\tborder-radius: 4px;\n\tcolor: ${textInput2.textSuccess};\n\tmargin-top: 0;\n`;\nconst textInput = (textInput2, size2) => css `\n\tbox-sizing: border-box;\n\t${inputSize[size2]};\n\tcolor: ${textInput2.textUserInput};\n\tbackground-color: ${textInput2.backgroundInput};\n\tborder: 1px solid ${textInput2.border};\n\tborder-radius: 4px;\n\tpadding: 0 ${space[2]}px;\n\n\t&:focus {\n\t\t${focusHalo}\n\t}\n\n\t&:invalid {\n\t\t/* Remove styling of invalid input elements that gets applied in Firefox */\n\t\tbox-shadow: none;\n\n\t\t/*\n\t\t\tWe automatically apply error styling to fields in an invalid state,\n\t\t\tbut stop short of applying it to empty required fields.\n\t\t\t*/\n\t\t&[value]:not([value='']) {\n\t\t\t${errorInput(textInput2)};\n\t\t}\n\t}\n`;\nconst labelMargin = css `\n\tmargin-top: ${space[1]}px;\n`;\nconst supportingTextMargin = css `\n\tmargin-top: 6px;\n`;\nconst inlineMessageMargin = css `\n\tmargin-top: 2px;\n`;\nconst widthFluid = css `\n\twidth: 100%;\n`;\nconst width30 = css `\n\twidth: 40ex;\n\tmax-width: 100%; /* prevent overflow on narrow viewports */\n`;\nconst width10 = css `\n\twidth: 18ex;\n`;\nconst width4 = css `\n\twidth: 9ex;\n`;\nexport { errorInput, inlineMessageMargin, labelMargin, successInput, supportingTextMargin, textInput, width10, width30, width4, widthFluid };\n","import { userFeedbackThemeDefault } from '../user-feedback/theme.js';\nimport { palette } from '../../foundations/__generated__/palette.js';\nconst themeTextInput = {\n    textUserInput: palette.neutral[7],\n    textLabel: palette.neutral[7],\n    textOptional: palette.neutral[46],\n    textSupporting: palette.neutral[46],\n    textError: palette.neutral[7],\n    textSuccess: palette.success[400],\n    backgroundInput: palette.neutral[100],\n    border: palette.neutral[46],\n    borderError: palette.error[400],\n    borderSuccess: palette.success[400]\n};\nconst textInputThemeDefault = {\n    textInput: {\n        textUserInput: palette.neutral[7],\n        textLabel: palette.neutral[7],\n        textLabelOptional: palette.neutral[46],\n        textLabelSupporting: palette.neutral[46],\n        textError: palette.neutral[7],\n        textSuccess: palette.success[400],\n        backgroundInput: palette.neutral[100],\n        border: palette.neutral[46],\n        borderActive: palette.focus[400],\n        borderError: palette.error[400],\n        borderSuccess: palette.success[400]\n    },\n    ...userFeedbackThemeDefault\n};\nexport { textInputThemeDefault, themeTextInput };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { useId } from 'react';\nimport { Label } from '../label/Label.js';\nimport { InlineError } from '../user-feedback/InlineError.js';\nimport { InlineSuccess } from '../user-feedback/InlineSuccess.js';\nimport { mergeThemes } from '../utils/themes.js';\nimport { inlineMessageMargin, widthFluid, textInput, supportingTextMargin, labelMargin, errorInput, successInput, width30, width10, width4 } from './styles.js';\nimport { themeTextInput } from './theme.js';\nimport { descriptionId } from '../../foundations/accessibility/description-id.js';\nconst widths = {\n    30: width30,\n    10: width10,\n    4: width4\n};\nconst TextInput = ({ id, label: labelText, optional = false, hideLabel = false, supporting, size = \"medium\", width, error, success, theme, cssOverrides, ...props }) => {\n    const defaultId = useId();\n    const textInputId = id ?? defaultId;\n    const mergedTheme = (providerTheme) => mergeThemes(themeTextInput, theme, providerTheme.textInput);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n            /* @__PURE__ */ jsxs(Label, {\n                text: labelText,\n                optional: !!optional,\n                hideLabel,\n                supporting,\n                theme,\n                size,\n                htmlFor: textInputId,\n                children: [\n                    error && /* @__PURE__ */ jsx(\"div\", { css: inlineMessageMargin, children: /* @__PURE__ */ jsx(InlineError, {\n                            id: descriptionId(textInputId),\n                            theme,\n                            size,\n                            children: error\n                        }) }),\n                    !error && success && /* @__PURE__ */ jsx(\"div\", { css: inlineMessageMargin, children: /* @__PURE__ */ jsx(InlineSuccess, {\n                            id: descriptionId(textInputId),\n                            theme,\n                            size,\n                            children: success\n                        }) })\n                ]\n            }),\n            /* @__PURE__ */ jsx(\"input\", {\n                css: (providerTheme) => [\n                    width ? widths[width] : widthFluid,\n                    textInput(mergedTheme(providerTheme), size),\n                    supporting ? supportingTextMargin : labelMargin,\n                    error ? errorInput(mergedTheme(providerTheme)) : \"\",\n                    !error && success ? successInput(mergedTheme(providerTheme)) : \"\",\n                    cssOverrides\n                ],\n                type: \"text\",\n                id: textInputId,\n                \"aria-required\": !optional,\n                \"aria-invalid\": !!error,\n                \"aria-describedby\": error ?? success ? descriptionId(textInputId) : \"\",\n                required: !optional,\n                ...props\n            })\n        ] });\n};\nexport { TextInput };\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { SvgTickRound } from '../__generated__/icons/SvgTickRound.js';\nimport { mergedTheme } from './shared.js';\nimport { inlineSuccess } from './styles.js';\nconst InlineSuccess = ({ children, size = \"medium\", cssOverrides, theme, ...props }) => /* @__PURE__ */ jsxs(\"span\", {\n    css: (providerTheme) => [\n        inlineSuccess(mergedTheme(providerTheme.userFeedback, theme), size),\n        cssOverrides\n    ],\n    role: \"alert\",\n    ...props,\n    children: [\n        /* @__PURE__ */ jsx(SvgTickRound, {}),\n        children\n    ]\n});\nexport { InlineSuccess };\n"],"names":["bannerChannelToLastClosedMap","contributions","subscriptions","signIn","abandonedBasket","withCloseable","CloseableBanner","bannerProps","eventHandler","_useState","useState","_useState2","_slicedToArray","isOpen","setIsOpen","onClose","channel","name","bannerChannel","storage","local","set","concat","Date","toISOString","document","body","focus","useEffect","handleEscapeKeydown","event","key","window","addEventListener","removeEventListener","_jsx","_objectSpread","_Fragment","withBannerData","Banner","bannerId","tracking","submitComponentEvent","content","mobileContent","countryCode","prices","fetchEmail","articleCounts","tickerSettings","isSupporter","separateArticleCount","separateArticleCountSettings","choiceCardAmounts","design","_useIsInView","useIsInView","debounce","threshold","_useIsInView2","hasBeenSeen","setNode","createViewEventFromTracking","campaignCode","createInsertEventFromTracking","numArticles","forTargetedWeeks","finaliseParagraphs","paras","map","p","replaceArticleCount","componentIds","close","cta","secondaryCta","notNow","reminderCta","reminderSet","reminderClose","getComponentIds","buildRenderedContent","bannerContent","text","buildEnrichedCta","isProfileUrl","baseUrl","ctaUrl","addTrackingParamsToProfileUrl","ctaText","addAbandonedBasketAndTrackingParamsToUrl","addRegionIdAndTrackingParamsToSupportUrl","primaryCta","type","SecondaryCtaType","Custom","ContributionsReminder","reminderFields","getReminderFields","buildEnrichedSecondaryCta","cleanHighlightedText","highlightedText","replaceNonArticleCountPlaceholders","trim","cleanHeading","heading","cleanParagraphs","paragraphs","messageText","bodyCopy","push","apply","_toConsumableArray","getParagraphsOrMessageText","copyHasPlaceholder","some","containsNonArticleCountPlaceholder","headingWithArticleCount","highlightedTextWithArticleCount","Error","clickHandlerFor","componentId","componentClickEvent","createClickEventFromTracking","onCtaClick","onSecondaryCtaClick","onReminderCtaClick","onReminderSetClick","onReminderCloseClick","onCloseClick","onNotNowClick","onSignInClick","renderedContent","renderedMobileContent","props","reminderTracking","mainContent","ref","children","err","console","log","bannerWrapper","validatedBannerWrapper","bannerSchema","safeParse","success","validate","Module","DesignableBannerArticleCountOptOut","_ref","nextWord","settings","_useState3","_useState4","hasOptedOut","setHasOptedOut","_jsxs","css","styles","optOutContainer","articleCountButton","onClick","overlayContainer","Overlay","onOptOut","addArticleCountOptOutCookie","removeArticleCountFromLocalStorage","_ref2","overlayStyles","containerSettings","backgroundColour","articleCountTextColour","overlayHeader","overlayHeaderText","Button","icon","SvgCross","hideLabel","size","priority","cssOverrides","buttonStyles","closeButtonSettings","overlayBody","overlayCtaContainer","primaryCtaSettings","secondaryCtaSettings","overlayNote","href","from","tablet","textColour","arguments","length","undefined","neutral","textSans17","space","textSansBold17","textSans15","textSans14","container","headlineBold15","headlineBold17","CustomArticleCountCopy","copy","_copy$split","split","_copy$split2","copyHead","copyTail","_trim$split","_trim$split2","_toArray","rest","slice","join","DesignableBannerArticleCount","includes","containsArticleCountTemplate","textColor","desktop","createBannerBodyCopy","renderStyles","paragraphsToProcess","Array","isArray","numberOfNonFinalParagraphs","index","DesignableBannerBody","highlightedTextSettings","getStyles","isTabletOrAbove","useMatchMedia","removeMediaRulePrefix","textEgyptian15","textEgyptian17","highlightColour","textEgyptianBold15","textEgyptianBold17","DesignableBannerCloseButton","styleOverides","closeButtonOverrides","DesignableBannerCtas","mainOrMobileContent","onPrimaryCtaClick","hasSupportCta","isSupportUrl","LinkButton","PaymentCards","createSource","image","media","srcSet","url","ResponsiveImage","images","baseImage","id","src","alt","DesignableBannerVisual","isHeaderImage","mainUrl","altText","mobileUrl","tabletUrl","desktopUrl","leftColUrl","wideUrl","DesignableBannerHeader","mobileHeading","headerSettings","headlineSize","header","headerImage","_headerSettings$textC","color","copyTopMargin","containerMargin","headlineMedium17","headlineBold24","headlineBold28","leftCol","headlineBold34","dfltTextColor","ThankYou","reminderLabelWithPreposition","thankyouColor","contactUsColor","thankYouHeaderCopy","thankYouBodyCopy","contactLink","InfoCopy","privacyLinkColor","infoCopy","privacyLink","target","rel","ErrorCopy","errorCopy","DesignableBannerReminderSignedOut","_ref3","reminderStatus","setReminderCtaSettings","ensureHasPreposition","reminderLabel","ReminderStatus","Completed","Signup","onSubmit","_ref4","_useContributionsRemi","useContributionsReminderEmailForm","email","inputError","updateEmail","handleSubmit","headerCopy","form","TextInput","label","onChange","error","value","width","placeholder","ctaContainer","iconSide","disabled","Submitting","button","errorCopyContainer","infoCopyContainer","textSansBold15","foreColor","DesignableBannerReminder","trackReminderSetClick","mobileReminderRef","useContributionsReminderSignup","reminderPeriod","reminderOption","createReminder","templateSpacing","bannerContainer","bannerHeader","bannerBodyCopy","bannerTicker","bannerCloseButton","buildImageSettings","buildHeaderImageSettings","DesignableBanner","_mainOrMobileContent$","_design$fonts$heading","_design$fonts","_useReminder","isReminderActive","setIsReminderActive","useRef","current","scrollIntoView","behavior","useReminder","iosAppBannerPresent","setIosAppBannerPresent","innerHeight","documentElement","clientHeight","component","componentType","action","_useChoiceCards","useChoiceCards","choiceCardSelection","setChoiceCardSelection","getCtaText","getCtaUrl","currencySymbol","_templateSettings$hea","_design$colours","colours","basic","closeButton","ticker","imageSettings","_design$visual","visual","kind","buildMainImageSettings","choiceCardSettings","_design$visual2","_design$visual3","buttonColour","buttonTextColour","buttonBorderColour","buttonSelectColour","buttonSelectTextColour","buttonSelectBorderColour","hexColourToString","buildChoiceCardSettings","templateSettings","background","bodyText","headerText","default","hover","border","specialReport","highlight","articleCountText","tickerStylingSettings","filledProgressColour","filledProgress","progressBarBackgroundColour","progressBarBackground","headlineColour","totalColour","goalColour","showChoiceCards","amountsCardData","showReminder","showAboveArticleCount","outerContainer","containerOverrides","headerWithImageContainer","headerContainer","fonts","contentContainer","tickerData","Ticker","headline","countLabel","bannerVisualContainer","alternativeVisual","choiceCardsContainer","ChoiceCards","setSelectionsCallback","selection","amountsTest","cssCtaOverides","guardianLogoContainer","SvgGuardianLogo","logo","reminderContainer","reminderText","reminderFormContainer","limitHeight","wide","isGridCell","until","bannerHasImage","between","mobileMedium","and","showRemindMeLater","defaultSettings","unvalidated","validated","isDirty","setIsDirty","setEmail","isEmpty","isValid","isValidEmail","emailIsShortEnoughForIdentity","e","preventDefault","CREATE_ONE_OFF_REMINDER_ENDPOINT","reminderPlatform","reminderComponent","reminderStage","Editing","setReminderStatus","reminderSignupData","fetch","JSON","stringify","method","headers","then","response","ok","addContributionReminderCookie","catch","reminderDateString","start","end","today","reminderDate","parse","setCookie","daysToLive","Math","round","valueOf","hasSetReminder","getCookie","PREPOSITION_REGEX","test","containsPreposition","addPreposition","String","toLowerCase","cachedQueries","Map","query","replace","get","mediaQuery","setMediaQuery","matchMedia","useSyncExternalStore","callback","matches","r","brand","palette","brandAlt","news","opinion","sport","culture","lifestyle","labs","primary","secondary","inverse","ctaPrimary","ctaPrimaryHover","ctaSecondary","ctaSecondaryHover","ctaTertiaryHover","input","inputChecked","brandAltBackground","line","brandAltLine","supporting","ctaTertiary","anchorPrimary","anchorSecondary","userInput","inputLabel","inputLabelSupporting","inputHover","groupLabel","groupLabelSupporting","newsInverse","brandText","anchorPrimaryHover","brandAltText","Svg","theme","jsx","iconSize","height","viewBox","xmlns","focusable","fillRule","clipRule","d","fill","_ref2$isAnnouncedBySc","isAnnouncedByScreenReader","jsxs","Fragment","visuallyHidden","SvgTickRound","iconSvg","nudgeIcon","_ref$type","_ref$isLoading","isLoading","_ref$loadingAnnouncem","loadingAnnouncement","_objectWithoutProperties","_excluded","buttonContents","Label","_ref$optional","optional","_ref$hideLabel","Text","SupportingText","inputSize","medium","small","errorInput","textInput2","borderError","textError","successInput","borderSuccess","textSuccess","labelMargin","supportingTextMargin","inlineMessageMargin","widthFluid","themeTextInput","textUserInput","textLabel","textOptional","textSupporting","backgroundInput","textInput","textLabelOptional","textLabelSupporting","borderActive","userFeedbackThemeDefault","widths","labelText","_ref$size","defaultId","useId","textInputId","mergedTheme","providerTheme","mergeThemes","htmlFor","InlineError","descriptionId","InlineSuccess","size2","focusHalo","required","inlineSuccess","userFeedback","role"],"sourceRoot":""}