"use strict";
exports.id = 2599;
exports.ids = [2599];
exports.modules = {

/***/ 12599:
/*!**********************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/ng.js + 12 modules ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ NPM_dist_ng)
});

;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/transmit.js
const ophanRemoteHost=window?.ophanRemoteHost||"https://ophan.theguardian.com";const generatePageViewId=()=>{return`${new Date().getTime().toString(36)}${"xxxxxxxxxxxx".replace(/x/g,()=>Math.floor(Math.random()*36).toString(36))}`};let viewId;if(typeof guardian!=="undefined"){viewId=guardian.config?.ophan?.pageViewId??generatePageViewId()}else{viewId=generatePageViewId()}const bumpViewId=()=>{viewId=generatePageViewId()};const sendInitial=obj=>{send(`${ophanRemoteHost}/img/1?${buildQueryString(obj)}`)};const smartEncode=value=>{if(typeof value==="string"||typeof value==="number"){return encodeURIComponent(value)}else{return encodeURIComponent(JSON.stringify(value))}};const sendMore=(obj,f)=>{if(!JSON)return;const values=[];for(const prop in obj){if(obj.hasOwnProperty(prop)&&isDefined(obj[prop])){values.push(`${encodeURIComponent(prop)}=${smartEncode(obj[prop])}`)}}if(values.length===0){return}const url=`${ophanRemoteHost}/img/2?viewId=${viewId}&${values.join("&")}`;send(url,f)};const isDefined=v=>{if(Array.isArray(v)){return!!v.length}else{return v!=null}};const buildQueryString=obj=>{obj.viewId=viewId;const values=[];for(const prop in obj){if(obj.hasOwnProperty(prop)&&obj[prop]!=null){values.push(`${encodeURIComponent(prop)}=${encodeURIComponent(obj[prop])}`)}}return values.join("&")};const send=(url,f)=>{if(typeof fetch==="function"){fetch(url,{method:"GET",mode:"no-cors",keepalive:true,credentials:"include"}).then(()=>f?.())}else{const image=new Image;const checker=setInterval(()=>{if(image.complete){if(typeof f==="function"){f()}clearInterval(checker)}},10);image.src=url}};/* harmony default export */ const transmit = ({sendInitial,sendMore,viewId,bumpViewId});const _testExports={generatePageViewId,smartEncode,isDefined,buildQueryString};
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/visibility.js
/* harmony default export */ const visibility = ({state:()=>document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState,changeEvent:getChangeEvent()});function getChangeEvent(){if(document.visibilityState){return"visibilitychange"}else if(document.webkitVisibilityState){return"webkitvisibilitychange"}else if(document.mozVisibilityState){return"mozvisibilitychange"}else if(document.msVisibilityState){return"msvisibilitychange"}return undefined}
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/vendor/adBlockDetectionLib.js
var init=function(){var ofs="offset",cl="client";var noop=function(){};var testedOnce=false;var testExecuting=false;var isOldIEevents=window.addEventListener===undefined;var _options={loopDelay:50,maxLoop:5,debug:false,found:noop,notfound:noop,complete:noop};var listeners=[];var baitNode=null;var quickBait={cssClass:"ad-slot pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"};var baitTriggers={nullProps:[ofs+"Parent"],zeroProps:[]};baitTriggers.zeroProps=[ofs+"Height",ofs+"Left",ofs+"Top",ofs+"Width",ofs+"Height",cl+"Height",cl+"Width"];var exeResult={quick:null,remote:null};var findResult=null;var timerIds={test:0,download:0};function isFunc(fn){return typeof fn=="function"}function makeEl(tag,attributes){var k,v,el,attr=attributes;var d=document;el=d.createElement(tag);if(attr){for(k in attr){if(attr.hasOwnProperty(k)){el.setAttribute(k,attr[k])}}}return el}function attachEventListener(dom,eventName,handler){if(isOldIEevents){dom.attachEvent("on"+eventName,handler)}else{dom.addEventListener(eventName,handler,false)}}function log(message,isError){if(!_options.debug&&!isError){return}if(window.console&&window.console.log){if(isError){console.error("[ABD] "+message)}else{console.log("[ABD] "+message)}}}function beginTest(bait){log("start beginTest");if(findResult==true){return}testExecuting=true;castBait(bait);exeResult.quick="testing";timerIds.test=setTimeout(function(){reelIn(bait,1)},5)}function castBait(bait){var i,d=document,b=d.body;var t;var baitStyle="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(bait==null||typeof bait=="string"){log("invalid bait being cast");return}if(bait.style!=null){baitStyle+=bait.style}baitNode=makeEl("div",{class:bait.cssClass,style:baitStyle});log("adding bait node to DOM");b.appendChild(baitNode);for(i=0;i<baitTriggers.nullProps.length;i++){t=baitNode[baitTriggers.nullProps[i]]}for(i=0;i<baitTriggers.zeroProps.length;i++){t=baitNode[baitTriggers.zeroProps[i]]}}function reelIn(bait,attemptNum){var i,k,v;var body=document.body;var found=false;if(baitNode==null){log("recast bait");castBait(bait||quickBait)}if(typeof bait=="string"){log("invalid bait used",true);if(clearBaitNode()){setTimeout(function(){testExecuting=false},5)}return}if(timerIds.test>0){clearTimeout(timerIds.test);timerIds.test=0}if(body.getAttribute("abp")!==null){log("found adblock body attribute");found=true}for(i=0;i<baitTriggers.nullProps.length;i++){if(baitNode[baitTriggers.nullProps[i]]==null){if(attemptNum>4)found=true;log("found adblock null attr: "+baitTriggers.nullProps[i]);break}if(found==true){break}}for(i=0;i<baitTriggers.zeroProps.length;i++){if(found==true){break}if(baitNode[baitTriggers.zeroProps[i]]==0){if(attemptNum>4)found=true;log("found adblock zero attr: "+baitTriggers.zeroProps[i])}}if(window.getComputedStyle!==undefined){var baitTemp=window.getComputedStyle(baitNode,null);if(baitTemp.getPropertyValue("display")=="none"||baitTemp.getPropertyValue("visibility")=="hidden"){if(attemptNum>4)found=true;log("found adblock computedStyle indicator")}}testedOnce=true;if(found||attemptNum++>=_options.maxLoop){findResult=found;log("exiting test loop - value: "+findResult);notifyListeners();if(clearBaitNode()){setTimeout(function(){testExecuting=false},5)}}else{timerIds.test=setTimeout(function(){reelIn(bait,attemptNum)},_options.loopDelay)}}function clearBaitNode(){if(baitNode===null){return true}try{if(isFunc(baitNode.remove)){baitNode.remove()}document.body.removeChild(baitNode)}catch(ex){}baitNode=null;return true}function stopFishing(){if(timerIds.test>0){clearTimeout(timerIds.test)}if(timerIds.download>0){clearTimeout(timerIds.download)}clearBaitNode()}function notifyListeners(){var i,funcs;if(findResult===null){return}for(i=0;i<listeners.length;i++){funcs=listeners[i];try{if(funcs!=null){if(isFunc(funcs["complete"])){funcs["complete"](findResult)}if(findResult&&isFunc(funcs["found"])){funcs["found"]()}else if(findResult===false&&isFunc(funcs["notfound"])){funcs["notfound"]()}}}catch(ex){log("Failure in notify listeners "+ex.Message,true)}}}function attachOrFire(){var fireNow=false;var fn;if(document.readyState){if(document.readyState=="complete"){fireNow=true}}fn=function(){beginTest(quickBait,false)};if(fireNow){fn()}else{attachEventListener(window,"load",fn)}}return function(options){var k,v,funcs;if(!options){return}funcs={complete:noop,found:noop,notfound:noop};for(k in options){if(options.hasOwnProperty(k)){if(k=="complete"||k=="found"||k=="notFound"){funcs[k.toLowerCase()]=options[k]}else{_options[k]=options[k]}}}listeners.push(funcs);attachOrFire()}};/* harmony default export */ const adBlockDetectionLib = ({init:init()});
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/adblock-detection.js
/* harmony default export */ const adblock_detection = ({run(){return new Promise((resolve,reject)=>{if(adBlockDetectionLib.init){try{adBlockDetectionLib.init({complete:resolve})}catch(error){reject(error)}}else{reject(new Error("Failed to initialise adblock detection"))}})}});
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/core.js
let core_init,sendInitialEvent,storeDataToSendOnNextEvent,hasProp={}.hasOwnProperty;const VERSION=17;let doc=window.document;const canStoreEventsInLocalStorage=window.localStorage!=null&&typeof JSON!=="undefined"&&JSON!==null;let platform=null;const MaximumComponentNameLength=50;core_init=function(servingPlatform,httpStatus){platform=servingPlatform;if(visibility.state()!=="prerender"){return sendInitialEvent(httpStatus)}else{if(visibility.changeEvent){return doc.addEventListener(visibility.changeEvent,function(){if(visibility.state()==="visible"){return sendInitialEvent(httpStatus)}},false)}}};const getQueryParameterValue=paramName=>{const queryString=window.location.search.substring(1);const queryParams=queryString.split("&");for(const param of queryParams){const[key,value]=param.split("=");if(key===paramName){return decodeURIComponent(value)}}};const getReferrer=referrer=>{return referrer||getQueryParameterValue("pre-auth-ref")||""};const getNavigationType=()=>{if(window.performance?.getEntriesByType){const entries=window.performance.getEntriesByType("navigation");if(entries.length>0){return entries[0].type}}return null};sendInitialEvent=function(httpStatus,url=location.href,referrer=window.document.referrer){const navigationType=getNavigationType();const event={v:VERSION,platform:platform,url:url,ref:getReferrer(referrer),visibilityState:visibility.state(),isModernBrowser:typeof guardian!=="undefined"&&guardian!==null?guardian.isModernBrowser:void 0,httpStatus:httpStatus,tz:new Date().getTimezoneOffset()};if(navigationType!=null){event.navigationType=navigationType}appendContentType(event);appendDataFromLocalStorageToEvent(event);transmit.sendInitial(event);return adblock_detection.run().then(function(adBlockerEnabled){return transmit.sendMore({adUnitWasHidden:adBlockerEnabled})})};const onLoadCaptures=[];const onLoadCapture=dataCapture=>{if(document.readyState==="complete"){const msg={...dataCapture()};transmit.sendMore(msg)}else{onLoadCaptures.push(dataCapture)}};const processCaptures=()=>{const msg={};for(const capture of onLoadCaptures){const captureData=capture();for(const key in captureData){if(captureData.hasOwnProperty(key)){msg[key]=captureData[key]}}}if(platform==="next-gen"){appendComponentDataToEvent(msg)}transmit.sendMore(msg)};window.addEventListener?.("load",processCaptures,false);const appendDataFromLocalStorageToEvent=event=>{if(canStoreEventsInLocalStorage){const localStorageItems=JSON.parse(window.localStorage.getItem("ophan_follow"));if(localStorageItems!=null){for(const key in localStorageItems){if(localStorageItems.hasOwnProperty(key)){event[key]=localStorageItems[key]}}}window.localStorage.removeItem("ophan_follow")}};const trimComponentNamesToUrlSafeLength=componentNames=>{return componentNames.map(componentName=>componentName.length>MaximumComponentNameLength?componentName.substring(0,MaximumComponentNameLength).concat("â€¦"):componentName)};const appendComponentDataToEvent=event=>{const componentElements=document.querySelectorAll("[data-component]");const componentNames=Array.prototype.slice.call(componentElements).map(el=>el.getAttribute("data-component"));if(componentNames.length>0){const trimmedComponentNames=trimComponentNamesToUrlSafeLength(componentNames);const uniqueComponents=new Set(trimmedComponentNames);event.renderedComponents=[...uniqueComponents]}};storeDataToSendOnNextEvent=function(newData){let existingData,key,value;if(canStoreEventsInLocalStorage){existingData=JSON.parse(window.localStorage.getItem("ophan_follow"))||{};for(key in newData){if(!hasProp.call(newData,key))continue;value=newData[key];existingData[key]=value}return window.localStorage.setItem("ophan_follow",JSON.stringify(existingData))}};const appendContentType=(event,platform,guardian1)=>{const contentType=platform==="next-gen"||platform==="embed"?guardian1?.config?.page?.contentType:guardian1?.page?.contentTypes;if(contentType){event.contentType=contentType.toLowerCase()}};/* harmony default export */ const core = ({init:core_init,storeDataToSendOnNextEvent:storeDataToSendOnNextEvent,onLoadCapture:onLoadCapture,servingPlatform:function(){return platform},viewId:transmit.viewId,sendInitialEvent:sendInitialEvent});const core_testExports={appendComponentDataToEvent,trimComponentNamesToUrlSafeLength,getQueryParameterValue,onLoadCaptures,onLoadCapture,processCaptures,appendContentType};
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/components.js
const components=[];let eventEmitter=null;class Component{constructor(name,element,visibilityThreshold1,reportingInterval1){this.name=name;this.element=element;this.visibilityThreshold=visibilityThreshold1;this.reportingInterval=reportingInterval1;this.visible=false;this.totalAttentionMs=0;this.unrecordedAttentionStarted=null;this.reportedTotalAttentionMs=0;this.usingEmitter=false;this.visCheck=this.checkVisibility.bind(this);if(eventEmitter!=null){this.usingEmitter=true;eventEmitter.on("window:throttledScroll",this.visCheck)}else{window.addEventListener("scroll",this.visCheck)}window.addEventListener("resize",this.visCheck)}isVisible(threshold=1){if(!this.element.offsetParent){return false}const box=this.element.getBoundingClientRect();const width=box.width;const height=box.height;const windowHeight=window.innerHeight||document.documentElement.clientHeight;const windowWidth=window.innerWidth||document.documentElement.clientWidth;return box.left>=-(width*(1-threshold))&&box.top>=-(height*(1-threshold))&&box.right<=windowWidth+width*(1-threshold)&&box.bottom<=windowHeight+height*(1-threshold)}visibilityHasChanged(){const wasVisible=this.visible;this.visible=this.isVisible(this.visibilityThreshold);return wasVisible!==this.visible}rebindToEventEmitter(){if(!this.usingEmitter&&eventEmitter!=null){window.removeEventListener("scroll",this.visCheck);this.usingEmitter=true;return eventEmitter.on("window:throttledScroll",this.visCheck)}}checkVisibility(){this.rebindToEventEmitter();if(this.visibilityHasChanged()){return this.visible?this.makeActive():this.makeInactive()}}makeActive(){return this.unrecordedAttentionStarted!=null?this.unrecordedAttentionStarted:this.unrecordedAttentionStarted=performance.now()}makeInactive(){this.incrementTotalAttentionTimeByUnrecordedAmount();return this.unrecordedAttentionStarted=null}hadAttentionSinceLastGet(){this.incrementTotalAttentionTimeByUnrecordedAmount();return this.totalAttentionMs!==this.reportedTotalAttentionMs}getAttentionTime(){this.incrementTotalAttentionTimeByUnrecordedAmount();this.reportedTotalAttentionMs=this.totalAttentionMs;return this.totalAttentionMs}incrementTotalAttentionTimeByUnrecordedAmount(){if(this.unrecordedAttentionStarted!=null){const now=performance.now();const unrecordedMs=Math.min(now-this.unrecordedAttentionStarted,this.reportingInterval);this.totalAttentionMs+=unrecordedMs;return this.unrecordedAttentionStarted=now}}}const startMonitoring=()=>{return components.filter(component=>component.isVisible()).map(component=>component.makeActive())};const stopMonitoring=()=>{return components.map(component=>component.makeInactive())};const getAttentionTimes=()=>{const obj={};for(const component of components){if(component.hadAttentionSinceLastGet()){obj[component.name]=Math.round(component.getAttentionTime())}}return obj};/* harmony default export */ const NPM_dist_components = ({setEventEmitter:function(emitter){return eventEmitter=emitter},startMonitoring,stopMonitoring,getAttentionTimes,registerComponent:function(name,el,visibilityThreshold,reportingInterval){return components.push(new Component(name,el,visibilityThreshold,reportingInterval))}});
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/attention.js
const ATTENTIONDECAY=5e3;const EVENTS=["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keyup","keydown"];const REPORTINGINTERVAL=1e4;let totalAttentionMs=0;let unrecordedAttentionStarted=null;let reportedTotalAttentionMs=null;let decayTimerId=null;let videoPlaying=false;const cancelDecayTimer=()=>{if(decayTimerId!=null){window.clearTimeout(decayTimerId)}decayTimerId=null};const makeActive=()=>{if(unrecordedAttentionStarted==null){unrecordedAttentionStarted=performance.now()}NPM_dist_components.startMonitoring();cancelDecayTimer();decayTimerId=window.setTimeout(()=>{if(!videoPlaying){makeInactive()}},ATTENTIONDECAY)};const incrementTotalAttentionTimeByUnrecordedAmount=()=>{if(unrecordedAttentionStarted!=null){const now=performance.now();const unrecordedMs=Math.min(now-unrecordedAttentionStarted,REPORTINGINTERVAL);totalAttentionMs+=unrecordedMs;unrecordedAttentionStarted=now}};const makeInactive=()=>{cancelDecayTimer();NPM_dist_components.stopMonitoring();incrementTotalAttentionTimeByUnrecordedAmount();unrecordedAttentionStarted=null};const reporter=()=>{incrementTotalAttentionTimeByUnrecordedAmount();if(totalAttentionMs!==reportedTotalAttentionMs){const report={attentionMs:Math.round(totalAttentionMs)};const componentAttentionTimes=NPM_dist_components.getAttentionTimes();if(Object.keys(componentAttentionTimes).length){report.componentAttentionMs=componentAttentionTimes}transmit.sendMore(report);reportedTotalAttentionMs=totalAttentionMs}};const initComponent=(name,el,visibilityThreshold=.5)=>{NPM_dist_components.registerComponent(name,el,visibilityThreshold,REPORTINGINTERVAL)};const initAttention=visibility=>{EVENTS.forEach(event=>{window.addEventListener(event,makeActive)});document.addEventListener(visibility.changeEvent,()=>{if(visibility.state()==="visible"){makeActive()}else{makeInactive()}},false);document.addEventListener("videoPlaying",()=>{videoPlaying=true;makeActive()});document.addEventListener("videoEnded",()=>{videoPlaying=false;makeInactive()});document.addEventListener("videoPause",()=>{videoPlaying=false;makeInactive()});window.setTimeout(reporter,100);window.setInterval(reporter,REPORTINGINTERVAL)};const setEventEmitter=emitter=>{NPM_dist_components.setEventEmitter(emitter)};/* harmony default export */ const attention = ({init:initAttention,initComponent:initComponent,setEventEmitter:setEventEmitter});
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/privatebrowsing.js
const privateBrowsingMode=callback=>{const reportNormalMode=()=>callback(false);const reportPrivateMode=()=>callback(true);const tryLocalStorage=()=>{try{if(localStorage.length){reportNormalMode()}else{localStorage.x=1;localStorage.removeItem("x");reportNormalMode()}}catch(error){reportPrivateMode()}};const tryIndexedDB=()=>{try{const db=indexedDB.open("test");db.onsuccess=reportNormalMode;db.onerror=reportPrivateMode}catch(error){reportPrivateMode()}};if(window.webkitRequestFileSystem){window.webkitRequestFileSystem(window.TEMPORARY,1,reportNormalMode,reportPrivateMode)}else if("MozAppearance"in document.documentElement.style){tryIndexedDB()}else if(/constructor/i.test(window.HTMLElement)){tryLocalStorage()}else if(!window.indexedDB&&(window.PointerEvent||window.MSPointerEvent)){reportPrivateMode()}else{reportNormalMode()}};/* harmony default export */ const privatebrowsing = ({init(){privateBrowsingMode(value=>{const report={inPrivateBrowsingMode:value};transmit.sendMore(report)})},privateBrowsingMode});
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/heatmap.js
let heatmapFired=false;const heatmap_init=()=>{const addHeatmap=()=>{let heatmapParam;if(typeof localStorage!=="undefined"&&localStorage!==null&&!heatmapFired){heatmapFired=true;heatmapParam=window.location.search.replace(/^(?:.*[&\?]heatmap(?:\=([^&]*))?)?.*$/,"$1");if(heatmapParam==="experimental"){return document.body.appendChild(document.createElement("script")).src="//dashboard.ophan.co.uk/assets/js/react/heatphan/index.js"}if(heatmapParam==="true"||heatmapParam==="false"){localStorage["ophan_heatmap"]=heatmapParam}if(localStorage["ophan_heatmap"]==="true"||heatmapParam==="show"){return document.body.appendChild(document.createElement("script")).src="//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js"}}};if(document.readyState==="complete"){return addHeatmap()}else{return typeof window.addEventListener==="function"?window.addEventListener("load",function(){return addHeatmap()},false):void 0}};/* harmony default export */ const heatmap = ({init: heatmap_init});
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/click-path-capture.js
const validAncestorAnchorElement=el=>{if(!el||el.nodeName?.toLowerCase()==="body")return null;return el.nodeName.toLowerCase()==="a"?el:validAncestorAnchorElement(el.parentNode)};const getContainingComponent=el=>{if(!el||el.nodeName?.toLowerCase()==="body")return null;return el.getAttribute("data-component")||getContainingComponent(el.parentNode)};const getDataLinkNames=(el,dataLinkNames=[])=>{if(!el||el===document.body||el===document)return dataLinkNames;const dataLinkName=el.getAttribute("data-link-name");if(dataLinkName)dataLinkNames.push(dataLinkName);return getDataLinkNames(el.parentNode,dataLinkNames)};if(typeof document.addEventListener==="function"){document.addEventListener("click",function(e){let target=e.target;let info;const anchorTarget=validAncestorAnchorElement(target);const nonTrackableElements=["div","span","p","section","article","main","header","footer","nav"];if(nonTrackableElements.includes(target.tagName.toLowerCase())&&!anchorTarget){return}const trackingTarget=anchorTarget||target;info={from:[location.protocol,"//",location.host,location.pathname].join(""),to:trackingTarget.href||undefined,referringComponent:getContainingComponent(trackingTarget),referringDataLinkNames:getDataLinkNames(trackingTarget),refPlatform:core.servingPlatform(),refViewId:core.viewId};if(info.referringDataLinkNames&&info.referringDataLinkNames.length>0){transmit.sendMore({clickComponent:info.referringComponent,clickLinkNames:info.referringDataLinkNames})}if(anchorTarget){return core.storeDataToSendOnNextEvent(info)}},false)}/* harmony default export */ const click_path_capture = ({getDataLinkNames:getDataLinkNames});
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/perf.js
const perf=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;const sendTimingData=()=>{const t=perf?.timing;if(t){return{performance:{dns:t.domainLookupEnd-t.domainLookupStart,connection:t.connectEnd-t.connectStart,firstByte:t.responseStart-t.connectEnd,lastByte:t.responseEnd-t.responseStart,domContentLoadedEvent:t.domContentLoadedEventStart-t.responseEnd,loadEvent:t.loadEventStart-t.domContentLoadedEventStart,navType:perf.navigation.type,redirectCount:perf.navigation.redirectCount}}}else{return{}}};core.onLoadCapture(sendTimingData);/* harmony default export */ const NPM_dist_perf = ((/* unused pure expression or super */ null && (perf)));
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/iframe-tracking.js
const validIframeDomains=[".theguardian.com",".dev-theguardian.com",".thegulocal.com"];const handleIframeMessage=messageEvent=>{const originDomain=retrieveOriginDomain(messageEvent.origin);if(originDomain&&validIframeDomains.some(domain=>originDomain.endsWith(domain))){if(messageEvent.data.type==="ophan-iframe-click-event"){const eventObject=messageEvent.data.value;const iFrame=document.getElementById(messageEvent.data.iframeId);recordIframeClickEvent(iFrame,eventObject)}else if(messageEvent.data.type==="ophan-iframe-component-event"){const eventObject=messageEvent.data.value;recordIframeComponentEvent(eventObject)}}};const retrieveOriginDomain=eventOrigin=>{try{const originURL=new URL(eventOrigin);return originURL.host}catch(error){if(error instanceof TypeError){return null}else{throw error}}};const recordIframeClickEvent=(iFrame,clickEvent)=>{if(iFrame){clickEvent.clickLinkNames=click_path_capture.getDataLinkNames(iFrame,clickEvent.clickLinkNames)||clickEvent.clickLinkNames}window.guardian.ophan.record(clickEvent)};const componentEventIsValid=eventObject=>{return eventObject&&typeof eventObject==="object"&&eventObject.componentEvent&&typeof eventObject.componentEvent==="object"};const recordIframeComponentEvent=eventObject=>{if(!componentEventIsValid(eventObject)){return}window.guardian.ophan.record(eventObject)};window.addEventListener("message",handleIframeMessage,false);
;// ../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/ng.js
let ng;if(window.guardian&&window.guardian.ophan){ng=window.guardian.ophan}else{core.init("next-gen");privatebrowsing.init();heatmap.init();if(window.addEventListener){attention.init(visibility)}if(!window.guardian){window.guardian={}}window.guardian.ophan={setEventEmitter:attention.setEventEmitter,trackComponentAttention:attention.initComponent,record:transmit.sendMore,viewId:transmit.viewId,pageViewId:transmit.viewId};ng=window.guardian.ophan}/* harmony default export */ const NPM_dist_ng = (ng);

/***/ })

};
;
//# sourceMappingURL=2599.js.map