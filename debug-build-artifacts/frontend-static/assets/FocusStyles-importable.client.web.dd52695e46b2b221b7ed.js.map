{"version":3,"file":"FocusStyles-importable.client.web.dd52695e46b2b221b7ed.js","mappings":"0KAAA,IAAIA,EAAYC,OAAOC,eAEnBC,EAAgB,CAACC,EAAKC,EAAKC,IADT,EAACF,EAAKC,EAAKC,IAAUD,KAAOD,EAAMJ,EAAUI,EAAKC,EAAK,CAAEE,YAAY,EAAMC,cAAc,EAAMC,UAAU,EAAMH,UAAWF,EAAIC,GAAOC,EACjHI,CAAgBN,EAAoB,iBAARC,EAAmBA,EAAM,GAAKA,EAAKC,GAExG,MAAMK,EAqBJC,QAAAA,GACE,OAAOC,KAAKC,SACd,CAEAC,KAAAA,GACEF,KAAKG,UAAUC,iBAAiB,YAAaJ,KAAKK,iBAClDL,KAAKC,WAAY,CACnB,CAEAK,IAAAA,GACEN,KAAKO,QACLP,KAAKC,WAAY,CACnB,CACAM,KAAAA,GACEP,KAAKG,UAAUK,UAAUC,OAAOT,KAAKU,WACrCV,KAAKG,UAAUQ,oBACb,UACAX,KAAKY,eAEPZ,KAAKG,UAAUQ,oBAAoB,YAAaX,KAAKK,gBACvD,CAxCAQ,WAAAA,CAAYV,EAAWO,GACrBV,KAAKG,UAAYA,EACjBH,KAAKU,UAAYA,EACjBpB,EAAcU,KAAM,aAAa,GACjCV,EAAcU,KAAM,iBAAkBc,IANrB,IAOXA,EAAEC,QACJf,KAAKO,QACLP,KAAKG,UAAUC,iBAAiB,YAAaJ,KAAKK,iBACpD,IAEFf,EAAcU,KAAM,mBAAmB,KACrCA,KAAKO,QACLP,KAAKG,UAAUK,UAAUQ,IAAIhB,KAAKU,WAClCV,KAAKG,UAAUC,iBACb,UACAJ,KAAKY,cAAa,GAGxB,EAyBF,IAAIK,EACJ,MASMC,EAGiB,KAXhBD,IACHA,EAAe,IAAInB,EACjBqB,SAASC,gBALQ,uBASdH,GAKkCf,Q,eC1DpC,MAAMmB,EAAc,MAI1BC,EAAAA,EAAAA,YAAU,KACTJ,GAAuC,GACrC,IAEI,K","sources":["webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/focus-style-manager.js","webpack://@guardian/dotcom-rendering/./src/components/FocusStyles.importable.tsx"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst TAB_KEY_CODE = 9;\nclass InteractionModeEngine {\n  constructor(container, className) {\n    this.container = container;\n    this.className = className;\n    __publicField(this, \"isRunning\", false);\n    __publicField(this, \"handleKeyDown\", (e) => {\n      if (e.which === TAB_KEY_CODE) {\n        this.reset();\n        this.container.addEventListener(\"mousedown\", this.handleMouseDown);\n      }\n    });\n    __publicField(this, \"handleMouseDown\", () => {\n      this.reset();\n      this.container.classList.add(this.className);\n      this.container.addEventListener(\n        \"keydown\",\n        this.handleKeyDown\n      );\n    });\n  }\n  /** Returns whether the engine is currently running. */\n  isActive() {\n    return this.isRunning;\n  }\n  /** Enable behavior which applies the given className when in mouse mode. */\n  start() {\n    this.container.addEventListener(\"mousedown\", this.handleMouseDown);\n    this.isRunning = true;\n  }\n  /** Disable interaction mode behavior and remove className from container. */\n  stop() {\n    this.reset();\n    this.isRunning = false;\n  }\n  reset() {\n    this.container.classList.remove(this.className);\n    this.container.removeEventListener(\n      \"keydown\",\n      this.handleKeyDown\n    );\n    this.container.removeEventListener(\"mousedown\", this.handleMouseDown);\n  }\n}\nconst FOCUS_DISABLED = \"src-focus-disabled\";\nlet _focusEngine;\nconst focusEngine = () => {\n  if (!_focusEngine) {\n    _focusEngine = new InteractionModeEngine(\n      document.documentElement,\n      FOCUS_DISABLED\n    );\n  }\n  return _focusEngine;\n};\nconst FocusStyleManager = {\n  alwaysShowFocus: () => focusEngine().stop(),\n  isActive: () => focusEngine().isActive(),\n  onlyShowFocusOnTabs: () => focusEngine().start()\n};\n\nexport { FocusStyleManager, InteractionModeEngine };\n","import { FocusStyleManager } from '@guardian/source/foundations';\nimport { useEffect } from 'react';\n\nexport const FocusStyles = () => {\n\t// Ensure the focus state of any buttons/inputs in any of the Source\n\t// components are only applied when navigating via keyboard.\n\t// READ: https://www.theguardian.design/2a1e5182b/p/6691bb-accessibility/t/32e9fb\n\tuseEffect(() => {\n\t\tFocusStyleManager.onlyShowFocusOnTabs();\n\t}, []);\n\t// Nothing is rendered by this component\n\treturn null;\n};\n"],"names":["__defProp","Object","defineProperty","__publicField","obj","key","value","enumerable","configurable","writable","__defNormalProp","InteractionModeEngine","isActive","this","isRunning","start","container","addEventListener","handleMouseDown","stop","reset","classList","remove","className","removeEventListener","handleKeyDown","constructor","e","which","add","_focusEngine","FocusStyleManager","document","documentElement","FocusStyles","useEffect"],"sourceRoot":""}