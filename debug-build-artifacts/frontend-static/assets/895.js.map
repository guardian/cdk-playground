{"version":3,"file":"895.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/marketing/hooks/useArticleCountOptOut.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/lib/stage.ts","webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/BylineWithHeadshot.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/ContributionsEpicArticleCountAboveWithOptOut.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/ContributionsEpicSignInCta.tsx","webpack://@guardian/dotcom-rendering/./src/components/marketing/epics/ContributionsEpic.tsx"],"sourcesContent":["/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/hooks/useArticleCountOptOut.ts\n */\nimport { useState } from 'react';\nimport {\n\taddArticleCountOptOutCookie,\n\thasArticleCountOptOutCookie,\n\tremoveArticleCountFromLocalStorage,\n\tremoveArticleCountOptOutCookie,\n} from '../lib/articleCountOptOut';\n\ninterface ArticleCountOptOut {\n\thasOptedOut: boolean;\n\tonArticleCountOptOut: () => void;\n\tonArticleCountOptIn: () => void;\n}\n\nexport function useArticleCountOptOut(): ArticleCountOptOut {\n\tconst [hasOptedOut, setHasOptedOut] = useState(\n\t\thasArticleCountOptOutCookie(),\n\t);\n\n\tfunction onArticleCountOptOut() {\n\t\tsetHasOptedOut(true);\n\t\taddArticleCountOptOutCookie();\n\t\tremoveArticleCountFromLocalStorage();\n\t}\n\n\tfunction onArticleCountOptIn() {\n\t\tsetHasOptedOut(false);\n\t\tremoveArticleCountOptOutCookie();\n\t}\n\n\treturn { hasOptedOut, onArticleCountOptOut, onArticleCountOptIn };\n}\n","// Default to PROD to avoid risk of showing test data to users\nexport const isProd = (stage?: string): boolean =>\n\t!(stage === 'CODE' || stage === 'DEV');\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/BylineWithHeadshot.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tarticleBold17,\n\tarticleItalic17,\n\tpalette,\n} from '@guardian/source/foundations';\nimport type { BylineWithImage } from '@guardian/support-dotcom-components/dist/shared/types';\nimport type { ReactComponent } from '../lib/ReactComponent';\n\ninterface BylineWithHeadshotProps {\n\tbylineWithImage: BylineWithImage;\n\tisColourInTestVariant: boolean;\n}\n\nconst bylineWithImageContainer = css`\n\tmargin: 0;\n\tpadding: 0;\n\tposition: relative;\n\twidth: 100%;\n\theight: 130px;\n`;\n\nconst bylineCopyContainer = css`\n\twidth: 70%;\n\tposition: absolute;\n\tbottom: 20px;\n\tleft: 0;\n`;\n\nconst bylineImageContainer = css`\n\tmax-width: 30%;\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n`;\n\nconst bylineName = css`\n\t${articleBold17};\n\tmargin: 0;\n`;\n\nconst bylineDescription = css`\n\t${articleItalic17};\n\tmargin: 0;\n`;\n\nconst bylineHeadshotImage = css`\n\theight: 100%;\n\twidth: 100%;\n\tobject-fit: cover;\n`;\n\nconst bylineBottomDecoration = (isInTestVariant: boolean) => css`\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 100%;\n\tbackground-repeat: repeat-x;\n\tbackground-position: top;\n\tbackground-size: 1px calc(0.25rem * 4 + 1px);\n\theight: calc(0.25rem * 4 + 1px);\n\tbackground-image: repeating-linear-gradient(\n\t\tto bottom,\n\t\t${isInTestVariant ? palette.neutral[0] : palette.neutral[86]},\n\t\t${isInTestVariant ? palette.neutral[0] : palette.neutral[86]} 1px,\n\t\ttransparent 1px,\n\t\ttransparent 0.25rem\n\t);\n`;\n\nexport const BylineWithHeadshot: ReactComponent<BylineWithHeadshotProps> = ({\n\tbylineWithImage,\n\tisColourInTestVariant,\n}) => {\n\tconst { name, description, headshot } = bylineWithImage;\n\n\treturn (\n\t\t<div css={bylineWithImageContainer}>\n\t\t\t<div css={bylineCopyContainer}>\n\t\t\t\t<p css={bylineName}>{name}</p>\n\t\t\t\t<p css={bylineDescription}>{description}</p>\n\t\t\t</div>\n\t\t\t{headshot && (\n\t\t\t\t<>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={bylineBottomDecoration(isColourInTestVariant)}\n\t\t\t\t\t></div>\n\t\t\t\t\t<div css={bylineImageContainer}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={headshot.mainUrl}\n\t\t\t\t\t\t\talt={headshot.altText}\n\t\t\t\t\t\t\tcss={bylineHeadshotImage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/ContributionsEpicArticleCountAboveWithOptOut.tsx\n */\nimport { css } from '@emotion/react';\nimport type { OphanComponentEvent } from '@guardian/libs';\nimport {\n\tarticleBoldItalic15,\n\tarticleBoldItalic17,\n\tfrom,\n\ttextSans12,\n\ttextSans14,\n\ttextSans15,\n\ttextSansBold12,\n\ttextSansBold14,\n\ttextSansBold15,\n\tuntil,\n} from '@guardian/source/foundations';\nimport { palette, space } from '@guardian/source/foundations';\nimport { Button, ButtonLink } from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport {\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_IN,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_CLOSE,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_OPEN,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_STAY_IN,\n\tOPHAN_COMPONENT_ARTICLE_COUNT_STAY_OUT,\n} from './utils/ophan';\n\nexport interface ContributionsEpicArticleCountAboveWithOptOutProps {\n\tcopy?: string;\n\tarticleCount: number;\n\tisArticleCountOn: boolean;\n\tonArticleCountOptOut: () => void;\n\tonArticleCountOptIn: () => void;\n\topenCmp?: () => void;\n\tsubmitComponentEvent?: (componentEvent: OphanComponentEvent) => void;\n}\n\nexport const ContributionsEpicArticleCountAboveWithOptOut: ReactComponent<\n\tContributionsEpicArticleCountAboveWithOptOutProps\n> = ({\n\tarticleCount,\n\tcopy,\n\tisArticleCountOn,\n\tonArticleCountOptOut,\n\tonArticleCountOptIn,\n\topenCmp,\n\tsubmitComponentEvent,\n}: ContributionsEpicArticleCountAboveWithOptOutProps) => {\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst onToggleClick = () => {\n\t\tsetIsOpen(!isOpen);\n\t\tsubmitComponentEvent?.(\n\t\t\tisOpen\n\t\t\t\t? OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_CLOSE\n\t\t\t\t: OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_OPEN,\n\t\t);\n\t};\n\n\tconst onStayInClick = () => {\n\t\tsetIsOpen(false);\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_STAY_IN);\n\t};\n\n\tconst onOptOutClick = () => {\n\t\tsetIsOpen(false);\n\t\tonArticleCountOptOut();\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT);\n\t};\n\n\tconst onOptInClick = () => {\n\t\tsetIsOpen(false);\n\t\tonArticleCountOptIn();\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_OPT_IN);\n\t};\n\n\tconst onStayOutClick = () => {\n\t\tsetIsOpen(false);\n\t\tsubmitComponentEvent?.(OPHAN_COMPONENT_ARTICLE_COUNT_STAY_OUT);\n\t};\n\n\treturn (\n\t\t<div css={topContainer}>\n\t\t\t<ArticleCountWithToggle\n\t\t\t\tisArticleCountOn={isArticleCountOn}\n\t\t\t\tarticleCount={articleCount}\n\t\t\t\tonToggleClick={onToggleClick}\n\t\t\t\tcopy={copy}\n\t\t\t/>\n\n\t\t\t{isOpen && (\n\t\t\t\t<div css={articleCountDescriptionTopContainerStyles}>\n\t\t\t\t\t<div css={caretStyles}></div>\n\t\t\t\t\t<div css={articleCountDescriptionContainer}>\n\t\t\t\t\t\t{isArticleCountOn ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div css={articleCountBodyTextStyles}>\n\t\t\t\t\t\t\t\t\tMany readers tell us they enjoy seeing how\n\t\t\t\t\t\t\t\t\tmany pieces of Guardian journalism they’ve\n\t\t\t\t\t\t\t\t\tread, watched or listened to. So here’s your\n\t\t\t\t\t\t\t\t\tcount. Can we continue showing you this on\n\t\t\t\t\t\t\t\t\tsupport appeals like this?\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={articleCountCtasContainerStyles}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountDefaultCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onStayInClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tYes, that&apos;s OK\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountOptOutCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onOptOutClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tNo, opt me out\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div css={articleCountBodyTextStyles}>\n\t\t\t\t\t\t\t\t\tMany readers tell us they enjoy seeing how\n\t\t\t\t\t\t\t\t\tmany pieces of Guardian journalism they’ve\n\t\t\t\t\t\t\t\t\tread, watched or listened to. Can we start\n\t\t\t\t\t\t\t\t\tshowing you your article count on support\n\t\t\t\t\t\t\t\t\tappeals like this?\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={articleCountCtasContainerStyles}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountOptInCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onOptInClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tYes, opt me in\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tpriority=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\tcssOverrides={\n\t\t\t\t\t\t\t\t\t\t\tarticleCountOptOutCtaStyles\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={onStayOutClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tNo, thank you\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={trackingSettingsContainerStyles}>\n\t\t\t\t\t\tTo opt out of other tracking activity, manage your{' '}\n\t\t\t\t\t\t<ButtonLink\n\t\t\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\t\t\tcssOverrides={privacySettingsLinkStyles}\n\t\t\t\t\t\t\tonClick={openCmp}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrivacy Settings\n\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\n// --- Helper components --- //\n\ninterface ArticleCountWithToggleProps {\n\tarticleCount: number;\n\tisArticleCountOn: boolean;\n\tonToggleClick: () => void;\n\tcopy?: string;\n}\n\nconst ArticleCountWithToggle: ReactComponent<ArticleCountWithToggleProps> = ({\n\tisArticleCountOn,\n\tarticleCount,\n\tonToggleClick,\n\tcopy,\n}: ArticleCountWithToggleProps) => {\n\tif (isArticleCountOn && articleCount >= 5) {\n\t\treturn (\n\t\t\t<div css={articleCountOnHeaderContainerStyles}>\n\t\t\t\t<ArticleCount articleCount={articleCount} copy={copy} />\n\n\t\t\t\t<div css={articleCountWrapperStyles}>\n\t\t\t\t\t<div css={articleCountTextStyles}>Article count</div>\n\t\t\t\t\t<ButtonLink\n\t\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\t\tonClick={onToggleClick}\n\t\t\t\t\t\tcssOverrides={articleCountCtaStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\ton\n\t\t\t\t\t</ButtonLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (!isArticleCountOn) {\n\t\treturn (\n\t\t\t<div css={articleCountWrapperStyles}>\n\t\t\t\t<div css={articleCountTextStyles}>Article count</div>\n\t\t\t\t<ButtonLink\n\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\tonClick={onToggleClick}\n\t\t\t\t\tcssOverrides={articleCountCtaStyles}\n\t\t\t\t>\n\t\t\t\t\toff\n\t\t\t\t</ButtonLink>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn <></>;\n};\n\nconst ARTICLE_COUNT_TEMPLATE = '%%ARTICLE_COUNT%%';\nconst containsArticleCountTemplate = (copy: string): boolean =>\n\tcopy.includes(ARTICLE_COUNT_TEMPLATE);\n\ninterface CustomArticleCountCopyProps {\n\tarticleCount: number;\n\tcopy: string;\n}\n\nconst CustomArticleCountCopy: ReactComponent<CustomArticleCountCopyProps> = ({\n\tarticleCount,\n\tcopy,\n}) => {\n\tconst [copyHead, copyTail] = copy.split(ARTICLE_COUNT_TEMPLATE);\n\n\treturn (\n\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t{copyHead}\n\t\t\t<span css={optOutContainer}>{articleCount}&nbsp;articles</span>\n\t\t\t{copyTail?.substring(1, 9) === 'articles'\n\t\t\t\t? copyTail.substring(9)\n\t\t\t\t: copyTail}\n\t\t</div>\n\t);\n};\n\ninterface ArticleCountProps {\n\tarticleCount: number;\n\tcopy?: string;\n}\n\nconst ArticleCount: ReactComponent<ArticleCountProps> = ({\n\tarticleCount,\n\tcopy,\n}) => {\n\tif (copy && containsArticleCountTemplate(copy)) {\n\t\t// Custom article count message\n\t\treturn (\n\t\t\t<CustomArticleCountCopy articleCount={articleCount} copy={copy} />\n\t\t);\n\t} else if (articleCount >= 50) {\n\t\treturn (\n\t\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t\tCongratulations on being one of our top readers globally –\n\t\t\t\tyou&apos;ve read{' '}\n\t\t\t\t<span css={optOutContainer}>{articleCount} articles</span> in\n\t\t\t\tthe last year\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t\tYou&apos;ve read{' '}\n\t\t\t\t<span css={optOutContainer}>{articleCount} articles</span> in\n\t\t\t\tthe last year\n\t\t\t</div>\n\t\t);\n\t}\n};\n\n// --- Styles --- //\n\nconst topContainer = css`\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\n\t${from.tablet} {\n\t\tdisplay: block;\n\t\tmargin-top: 10px;\n\t}\n`;\n\nconst articleCountAboveContainerStyles = css`\n\t${articleBoldItalic15};\n\n\t${from.tablet} {\n\t\t${articleBoldItalic17};\n\t}\n`;\n\nconst optOutContainer = css`\n\tcolor: ${palette.opinion[400]};\n`;\n\nconst articleCountOnHeaderContainerStyles = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: column-reverse;\n\talign-items: flex-start;\n\n\t${from.tablet} {\n\t\tflex-direction: row;\n\t\talign-items: flex-start;\n\t}\n`;\n\nconst articleCountWrapperStyles = css`\n\tflex-shrink: 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: flex-start;\n\tmargin-right: ${space[2]}px;\n\tmargin-bottom: ${space[2]}px;\n\tjustify-content: start;\n\n\t${from.tablet} {\n\t\tmargin-left: ${space[5]}px;\n\t\tmargin-bottom: 0;\n\t\tjustify-content: flex-end;\n\t}\n`;\n\nconst articleCountTextStyles = css`\n\t${textSans12};\n\tmargin-right: ${space[1]}px;\n\n\t${from.tablet} {\n\t\t${textSans15};\n\t}\n`;\n\nconst articleCountCtaStyles = css`\n\tmargin-top: 0;\n\n\t${textSansBold12};\n\n\t${from.tablet} {\n\t\t${textSansBold15};\n\t}\n`;\n\nconst articleCountDescriptionTopContainerStyles = css`\n\tborder-bottom: 1px solid ${palette.neutral[46]};\n\tposition: relative;\n\tmargin-bottom: ${space[2]}px;\n\n\t${from.tablet} {\n\t\tmargin-top: ${space[4]}px;\n\t\tborder-top: 1px solid ${palette.neutral[0]};\n\t\tborder-bottom: 1px solid ${palette.neutral[0]};\n\t}\n`;\n\nconst articleCountDescriptionContainer = css`\n\talign-items: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: ${space[1]}px ${space[1]}px 0;\n\n\t${from.tablet} {\n\t\tflex-direction: row;\n\t\tpadding: ${space[1]}px 0;\n\t\talign-items: start;\n\t\tmargin-top: ${space[1]}px;\n\t}\n`;\n\nconst articleCountBodyTextStyles = css`\n\t${textSans15};\n\twidth: 100%;\n\n\t${from.tablet} {\n\t\twidth: 68%;\n\t}\n`;\n\nconst articleCountCtasContainerStyles = css`\n\tdisplay: flex;\n\talign-self: start;\n\tmargin-top: ${space[4]}px;\n\t> * + * {\n\t\tmargin-left: ${space[3]}px;\n\t}\n\n\t${from.tablet} {\n\t\tflex-direction: column;\n\t\tmargin-left: auto;\n\t\tmargin-top: ${space[2]}px;\n\t\tjustify-content: space-between;\n\t\t> * + * {\n\t\t\tmargin-top: ${space[3]}px;\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n`;\n\nconst articleCountOptInCtaStyles = css`\n\tbackground-color: ${palette.neutral[0]};\n`;\n\nconst articleCountDefaultCtaStyles = css`\n\tbackground-color: ${palette.neutral[0]};\n\tpadding: auto ${space[6]}px;\n\n\t${from.tablet} {\n\t\tpadding-left: ${space[5]}px;\n\t}\n`;\n\nconst articleCountOptOutCtaStyles = css`\n\tcolor: ${palette.neutral[0]};\n\tborder: 1px solid ${palette.neutral[0]};\n`;\n\nconst trackingSettingsContainerStyles = css`\n\tmargin: ${space[4]}px auto ${space[3]}px;\n\t${textSans12};\n\n\t${from.tablet} {\n\t\t${textSans14};\n\t}\n`;\n\nconst privacySettingsLinkStyles = css`\n\t${textSansBold12};\n\n\t${from.tablet} {\n\t\t${textSansBold14};\n\t}\n`;\n\nconst caretStyles = css`\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: -14px;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder: 7px solid transparent;\n\t\tborder-top-color: ${palette.neutral[46]};\n\n\t\t${from.tablet} {\n\t\t\tright: 5px;\n\t\t\tbottom: 100%;\n\t\t\tborder: 10px solid transparent;\n\t\t\tborder-bottom-color: ${palette.neutral[0]};\n\t\t}\n\n\t\t${until.tablet} {\n\t\t\tleft: 75px;\n\t\t}\n\t}\n\n\t&:after {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: -12px;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder: 6px solid transparent;\n\t\tborder-top-color: ${palette.neutral[97]};\n\n\t\t${from.tablet} {\n\t\t\tright: 6px;\n\t\t\tbottom: 100%;\n\t\t\tborder: 9px solid transparent;\n\t\t\tborder-bottom-color: ${palette.neutral[97]};\n\t\t}\n\n\t\t${until.tablet} {\n\t\t\tleft: 76px;\n\t\t}\n\t}\n`;\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/ContributionsEpicSignInCta.tsx\n */\nimport { css } from '@emotion/react';\nimport type { OphanComponentEvent } from '@guardian/libs';\nimport { articleBold17, neutral } from '@guardian/source/foundations';\nimport { Link } from '@guardian/source/react-components';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport { OPHAN_COMPONENT_SIGN_IN } from './utils/ophan';\n\nconst signInLink = css`\n\tmargin: 0;\n\tborder-top: 1px solid ${neutral[0]};\n`;\n\nconst signInLinkText = css`\n\t${articleBold17};\n`;\n\nconst signInUrl =\n\t'https://profile.theguardian.com/signin?utm_source=gdnwb&utm_medium=banner&utm_campaign=SigninEPIC_Existing&CMP_TU=mrtn&CMP_BUNIT=subs';\n\ninterface ContributionsEpicSignInProps {\n\tsubmitComponentEvent?: (event: OphanComponentEvent) => void;\n}\n\nexport const ContributionsEpicSignInCta: ReactComponent<\n\tContributionsEpicSignInProps\n> = ({ submitComponentEvent }: ContributionsEpicSignInProps) => {\n\tconst onSignInClick = () => {\n\t\tif (submitComponentEvent) {\n\t\t\tsubmitComponentEvent(OPHAN_COMPONENT_SIGN_IN);\n\t\t}\n\t};\n\n\treturn (\n\t\t<p css={[signInLink, signInLinkText]}>\n\t\t\tAlready a supporter?{' '}\n\t\t\t<Link\n\t\t\t\tonClick={onSignInClick}\n\t\t\t\thref={signInUrl}\n\t\t\t\tpriority=\"secondary\"\n\t\t\t\tcssOverrides={signInLinkText}\n\t\t\t>\n\t\t\t\tSign in\n\t\t\t</Link>{' '}\n\t\t\tand you’ll see far fewer of these messages.\n\t\t</p>\n\t);\n};\n","/**\n * @file\n * This file was migrated from:\n * https://github.com/guardian/support-dotcom-components/blob/a482b35a25ca59f66501c4de02de817046206298/packages/modules/src/modules/epics/ContributionsEpic.tsx\n */\nimport { css } from '@emotion/react';\nimport {\n\tarticle17,\n\tarticleBold17,\n\tfrom,\n\theadlineBold20,\n\tpalette,\n\tspace,\n} from '@guardian/source/foundations';\nimport { Ticker } from '@guardian/source-development-kitchen/react-components';\nimport type { TickerSettings } from '@guardian/source-development-kitchen/react-components';\nimport {\n\tcontainsNonArticleCountPlaceholder,\n\tepicPropsSchema,\n\treplaceNonArticleCountPlaceholders,\n} from '@guardian/support-dotcom-components';\nimport type {\n\tEpicProps,\n\tStage,\n} from '@guardian/support-dotcom-components/dist/shared/types';\nimport { useEffect } from 'react';\nimport { useIsInView } from '../../../lib/useIsInView';\nimport { useArticleCountOptOut } from '../hooks/useArticleCountOptOut';\nimport type { ReactComponent } from '../lib/ReactComponent';\nimport { replaceArticleCount } from '../lib/replaceArticleCount';\nimport { isProd } from '../lib/stage';\nimport {\n\taddTrackingParamsToBodyLinks,\n\tcreateInsertEventFromTracking,\n\tcreateViewEventFromTracking,\n} from '../lib/tracking';\nimport { logEpicView } from '../lib/viewLog';\nimport type { OphanTracking } from '../shared/ArticleCountOptOutPopup';\nimport { BylineWithHeadshot } from './BylineWithHeadshot';\nimport { ContributionsEpicArticleCountAboveWithOptOut } from './ContributionsEpicArticleCountAboveWithOptOut';\nimport { ContributionsEpicNewsletterSignup } from './ContributionsEpicNewsletterSignup';\nimport { ContributionsEpicSignInCta } from './ContributionsEpicSignInCta';\nimport { ContributionsEpicCtasContainer } from './ctas/ContributionsEpicCtasContainer';\n\n// Hard-coded AB TEST - picking up ab test name and variant name from the tracking object\n// then applying a different colour if it matches, or the default colour if it doesn't.\nconst getVariantOrControlStyle = (\n\tisInTestVariant: boolean,\n\tvariant: string,\n\tcontrol: string,\n) => {\n\treturn isInTestVariant ? variant : control;\n};\n\n// CSS Styling\n// -------------------------------------------\nconst wrapperStyles = (isInTestVariant: boolean) => css`\n\tpadding: ${space[1]}px ${space[2]}px ${space[3]}px;\n\tborder-top: 1px solid\n\t\t${getVariantOrControlStyle(\n\t\t\tisInTestVariant,\n\t\t\tpalette.neutral[0],\n\t\t\tpalette.brandAlt[400],\n\t\t)};\n\tbackground-color: ${getVariantOrControlStyle(\n\t\tisInTestVariant,\n\t\t'#E2E3BF',\n\t\tpalette.neutral[97],\n\t)};\n\n\t* {\n\t\t::selection {\n\t\t\tbackground: ${palette.brandAlt[400]};\n\t\t}\n\t\t::-moz-selection {\n\t\t\tbackground: ${palette.brandAlt[400]};\n\t\t}\n\t}\n\n\tb,\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n`;\n\nconst headingStyles = css`\n\t${headlineBold20};\n\tmargin-top: 0;\n\tmargin-bottom: ${space[3]}px;\n`;\n\n// Custom styles for <a> tags in the Epic content\nconst linkStyles = css`\n\ta {\n\t\tcolor: ${palette.news[400]};\n\t\ttext-decoration: none;\n\t\tborder-bottom: 1px solid ${palette.news[400]};\n\t}\n`;\n\nconst bodyStyles = css`\n\tmargin: 0 auto ${space[2]}px;\n\t${article17};\n\t${linkStyles}\n`;\n\nconst highlightWrapperStyles = css`\n\t${articleBold17};\n\t${linkStyles};\n`;\n\nconst highlightStyles = (isInTestVariant: boolean) => css`\n\tpadding: 2px;\n\tbackground-color: ${getVariantOrControlStyle(\n\t\tisInTestVariant,\n\t\t'#C41C1C',\n\t\tpalette.brandAlt[400],\n\t)};\n\tcolor: ${getVariantOrControlStyle(\n\t\tisInTestVariant,\n\t\tpalette.neutral[100],\n\t\tpalette.neutral[7],\n\t)};\n`;\n\nconst imageWrapperStyles = css`\n\tmargin: ${space[3]}px 0 ${space[2]}px;\n\n\t${from.tablet} {\n\t\tmargin: 10px 0;\n\t}\n`;\n\nconst imageStyles = css`\n\theight: 100%;\n\twidth: 100%;\n\tobject-fit: cover;\n`;\n\nconst defaultTickerStylingSettings: TickerSettings['tickerStylingSettings'] = {\n\tfilledProgressColour: '#5056F5',\n\tprogressBarBackgroundColour: 'rgba(80, 86, 245, 0.35)',\n\theadlineColour: '#000000',\n\ttotalColour: '#5056F5',\n\tgoalColour: '#000000',\n};\nconst usEOYTickerStylingSettings: TickerSettings['tickerStylingSettings'] = {\n\tfilledProgressColour: '#C41C1C',\n\tprogressBarBackgroundColour: 'rgba(196, 28, 28, 0.30)',\n\theadlineColour: '#000000',\n\ttotalColour: '#C41C1C',\n\tgoalColour: '#000000',\n};\n\nconst articleCountAboveContainerStyles = css`\n\tmargin-bottom: ${space[4]}px;\n`;\n\nconst tickerContainerStyles = css`\n\tpadding-bottom: ${space[5]}px;\n\tpadding-top: ${space[1]}px;\n`;\n\n// EpicHeader - local component\n// -------------------------------------------\ninterface EpicHeaderProps {\n\ttext: string;\n\tnumArticles: number;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n}\n\nconst EpicHeader: ReactComponent<EpicHeaderProps> = ({\n\ttext,\n\tnumArticles,\n\ttracking,\n\tshowAboveArticleCount,\n}: EpicHeaderProps) => {\n\tconst elements = replaceArticleCount(\n\t\ttext,\n\t\tnumArticles,\n\t\t'epic',\n\t\ttracking,\n\t\t!showAboveArticleCount,\n\t);\n\treturn <h2 css={headingStyles}>{elements}</h2>;\n};\n\n// Highlighted - local component\n// -------------------------------------------\ntype HighlightedProps = {\n\thighlightedText: string;\n\tnumArticles: number;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n\tisColourInTestVariant: boolean;\n};\n\nconst Highlighted: ReactComponent<HighlightedProps> = ({\n\thighlightedText,\n\tnumArticles,\n\ttracking,\n\tshowAboveArticleCount,\n\tisColourInTestVariant,\n}: HighlightedProps) => {\n\tconst elements = replaceArticleCount(\n\t\thighlightedText,\n\t\tnumArticles,\n\t\t'epic',\n\t\ttracking,\n\t\t!showAboveArticleCount,\n\t);\n\n\treturn (\n\t\t<strong css={highlightWrapperStyles}>\n\t\t\t{' '}\n\t\t\t<span css={highlightStyles(isColourInTestVariant)}>{elements}</span>\n\t\t</strong>\n\t);\n};\n\n// EpicBodyParagraph - local component\n// -------------------------------------------\ninterface EpicBodyParagraphProps {\n\tparagraph: string;\n\tnumArticles: number;\n\thighlighted: JSX.Element | null;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n}\n\nconst EpicBodyParagraph: ReactComponent<EpicBodyParagraphProps> = ({\n\tparagraph,\n\tnumArticles,\n\thighlighted,\n\ttracking,\n\tshowAboveArticleCount,\n}: EpicBodyParagraphProps) => {\n\tconst elements = replaceArticleCount(\n\t\tparagraph,\n\t\tnumArticles,\n\t\t'epic',\n\t\ttracking,\n\t\t!showAboveArticleCount,\n\t);\n\n\treturn (\n\t\t<p css={bodyStyles}>\n\t\t\t{elements}\n\t\t\t{highlighted ? highlighted : null}\n\t\t</p>\n\t);\n};\n\n// EpicBody - local component\n// -------------------------------------------\ntype BodyProps = {\n\tparagraphs: string[];\n\thighlightedText?: string;\n\tnumArticles: number;\n\ttracking?: OphanTracking;\n\tshowAboveArticleCount: boolean;\n\tisColourInTestVariant: boolean;\n};\n\nconst EpicBody: ReactComponent<BodyProps> = ({\n\tnumArticles,\n\tparagraphs,\n\thighlightedText,\n\ttracking,\n\tshowAboveArticleCount,\n\tisColourInTestVariant,\n}: BodyProps) => {\n\treturn (\n\t\t<>\n\t\t\t{paragraphs.map((paragraph, idx) => {\n\t\t\t\tconst paragraphElement = (\n\t\t\t\t\t<EpicBodyParagraph\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tparagraph={paragraph}\n\t\t\t\t\t\tnumArticles={numArticles}\n\t\t\t\t\t\thighlighted={\n\t\t\t\t\t\t\thighlightedText && idx === paragraphs.length - 1 ? (\n\t\t\t\t\t\t\t\t<Highlighted\n\t\t\t\t\t\t\t\t\thighlightedText={highlightedText}\n\t\t\t\t\t\t\t\t\tnumArticles={numArticles}\n\t\t\t\t\t\t\t\t\tshowAboveArticleCount={\n\t\t\t\t\t\t\t\t\t\tshowAboveArticleCount\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tisColourInTestVariant={\n\t\t\t\t\t\t\t\t\t\tisColourInTestVariant\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttracking={tracking}\n\t\t\t\t\t\tshowAboveArticleCount={showAboveArticleCount}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\treturn paragraphElement;\n\t\t\t})}\n\t\t</>\n\t);\n};\n\nconst sendEpicViewEvent = (\n\turl: string,\n\tabTestName: string,\n\tabTestVariant: string,\n\tstage?: Stage,\n\tcountryCode?: string,\n): void => {\n\tconst path = 'events/epic-view';\n\tconst host = isProd(stage)\n\t\t? 'https://contributions.guardianapis.com'\n\t\t: 'https://contributions.code.dev-guardianapis.com';\n\tconst eventBody = JSON.stringify({\n\t\turl,\n\t\tcountryCode,\n\t\tabTests: [{ name: abTestName, variant: abTestVariant }],\n\t});\n\n\tvoid fetch(`${host}/${path}`, {\n\t\tmethod: 'POST',\n\t\theaders: { 'Content-Type': 'application/json' },\n\t\tbody: eventBody,\n\t}).then((response) => {\n\t\tif (!response.ok) {\n\t\t\tconsole.log('Epic view event request failed', response);\n\t\t}\n\t});\n};\n\nconst ContributionsEpic: ReactComponent<EpicProps> = ({\n\tvariant,\n\ttracking,\n\tcountryCode,\n\tarticleCounts,\n\tonReminderOpen,\n\tfetchEmail,\n\tsubmitComponentEvent,\n\topenCmp,\n\thasConsentForArticleCount,\n\tstage,\n}: EpicProps) => {\n\tconst { image, tickerSettings, choiceCardAmounts, newsletterSignup } =\n\t\tvariant;\n\n\tconst isColourInTestVariant: boolean =\n\t\ttracking.abTestName.includes('_ARTICLE_EPIC_BG_COLOUR') &&\n\t\ttracking.abTestVariant === 'VARIANT';\n\n\tconst { hasOptedOut, onArticleCountOptIn, onArticleCountOptOut } =\n\t\tuseArticleCountOptOut();\n\n\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\tdebounce: true,\n\t\tthreshold: 0,\n\t});\n\n\tuseEffect(() => {\n\t\tif (hasBeenSeen) {\n\t\t\t// For the event stream\n\t\t\tif (!window.guardian.config.isDev && stage !== 'DEV') {\n\t\t\t\tsendEpicViewEvent(\n\t\t\t\t\ttracking.referrerUrl,\n\t\t\t\t\ttracking.abTestName,\n\t\t\t\t\ttracking.abTestVariant,\n\t\t\t\t\tstage,\n\t\t\t\t\tcountryCode,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// For epic view count\n\t\t\tlogEpicView(tracking.abTestName);\n\n\t\t\t// For ophan\n\t\t\tif (submitComponentEvent) {\n\t\t\t\tsubmitComponentEvent(\n\t\t\t\t\tcreateViewEventFromTracking(\n\t\t\t\t\t\ttracking,\n\t\t\t\t\t\ttracking.campaignCode,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [hasBeenSeen, submitComponentEvent, countryCode, stage, tracking]);\n\n\tuseEffect(() => {\n\t\tif (submitComponentEvent) {\n\t\t\tsubmitComponentEvent(\n\t\t\t\tcreateInsertEventFromTracking(tracking, tracking.campaignCode),\n\t\t\t);\n\t\t}\n\t}, [submitComponentEvent, tracking]);\n\n\tconst cleanHighlighted = replaceNonArticleCountPlaceholders(\n\t\tvariant.highlightedText,\n\t\tcountryCode,\n\t);\n\n\tconst cleanHeading = replaceNonArticleCountPlaceholders(\n\t\tvariant.heading,\n\t\tcountryCode,\n\t);\n\n\tconst cleanParagraphs = variant.paragraphs\n\t\t.map((paragraph) =>\n\t\t\treplaceNonArticleCountPlaceholders(paragraph, countryCode),\n\t\t)\n\t\t.map((paragraph) =>\n\t\t\taddTrackingParamsToBodyLinks(\n\t\t\t\tparagraph,\n\t\t\t\ttracking,\n\t\t\t\tarticleCounts.for52Weeks,\n\t\t\t\tcountryCode,\n\t\t\t),\n\t\t);\n\n\tif (\n\t\t[cleanHighlighted, cleanHeading, ...cleanParagraphs].some(\n\t\t\tcontainsNonArticleCountPlaceholder,\n\t\t)\n\t) {\n\t\treturn <></>; // quick exit if something goes wrong. Ideally we'd throw and caller would catch/log but TODO that separately\n\t}\n\n\tconst ophanTracking: OphanTracking | undefined = submitComponentEvent && {\n\t\tsubmitComponentEvent,\n\t\tcomponentType: 'ACQUISITIONS_EPIC',\n\t};\n\n\tconst showAboveArticleCount = !!(\n\t\tvariant.separateArticleCount?.type === 'above' &&\n\t\thasConsentForArticleCount\n\t);\n\n\treturn (\n\t\t<section ref={setNode} css={wrapperStyles(isColourInTestVariant)}>\n\t\t\t{showAboveArticleCount && (\n\t\t\t\t<div css={articleCountAboveContainerStyles}>\n\t\t\t\t\t<ContributionsEpicArticleCountAboveWithOptOut\n\t\t\t\t\t\tarticleCount={articleCounts.forTargetedWeeks}\n\t\t\t\t\t\tisArticleCountOn={!hasOptedOut}\n\t\t\t\t\t\tonArticleCountOptOut={onArticleCountOptOut}\n\t\t\t\t\t\tonArticleCountOptIn={onArticleCountOptIn}\n\t\t\t\t\t\topenCmp={openCmp}\n\t\t\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\t\t\tcopy={variant.separateArticleCount?.copy}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{tickerSettings?.tickerData && (\n\t\t\t\t<div css={tickerContainerStyles}>\n\t\t\t\t\t<Ticker\n\t\t\t\t\t\tcurrencySymbol={tickerSettings.currencySymbol}\n\t\t\t\t\t\tcopy={{\n\t\t\t\t\t\t\theadline: tickerSettings.copy.countLabel,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttickerData={tickerSettings.tickerData}\n\t\t\t\t\t\ttickerStylingSettings={\n\t\t\t\t\t\t\tisColourInTestVariant ||\n\t\t\t\t\t\t\ttickerSettings.name === 'AU'\n\t\t\t\t\t\t\t\t? usEOYTickerStylingSettings\n\t\t\t\t\t\t\t\t: defaultTickerStylingSettings\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsize={'medium'}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{image && (\n\t\t\t\t<div css={imageWrapperStyles}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={image.mainUrl}\n\t\t\t\t\t\tcss={imageStyles}\n\t\t\t\t\t\talt={image.altText}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{!!cleanHeading && (\n\t\t\t\t<EpicHeader\n\t\t\t\t\ttext={cleanHeading}\n\t\t\t\t\tnumArticles={articleCounts.forTargetedWeeks}\n\t\t\t\t\ttracking={ophanTracking}\n\t\t\t\t\tshowAboveArticleCount={showAboveArticleCount}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<EpicBody\n\t\t\t\tparagraphs={cleanParagraphs}\n\t\t\t\thighlightedText={cleanHighlighted}\n\t\t\t\tnumArticles={articleCounts.forTargetedWeeks}\n\t\t\t\ttracking={ophanTracking}\n\t\t\t\tshowAboveArticleCount={showAboveArticleCount}\n\t\t\t\tisColourInTestVariant={isColourInTestVariant}\n\t\t\t/>\n\n\t\t\t{variant.bylineWithImage && (\n\t\t\t\t<BylineWithHeadshot\n\t\t\t\t\tbylineWithImage={variant.bylineWithImage}\n\t\t\t\t\tisColourInTestVariant={isColourInTestVariant}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{newsletterSignup ? (\n\t\t\t\t<ContributionsEpicNewsletterSignup\n\t\t\t\t\tnewsletterId={newsletterSignup.newsletterId}\n\t\t\t\t\tsuccessDescription={newsletterSignup.successDescription}\n\t\t\t\t\ttracking={tracking}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<ContributionsEpicCtasContainer\n\t\t\t\t\tvariant={variant}\n\t\t\t\t\ttracking={tracking}\n\t\t\t\t\tcountryCode={countryCode}\n\t\t\t\t\tarticleCounts={articleCounts}\n\t\t\t\t\tonReminderOpen={onReminderOpen}\n\t\t\t\t\tfetchEmail={fetchEmail}\n\t\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\t\tamountsTestName={choiceCardAmounts?.testName}\n\t\t\t\t\tamountsVariantName={choiceCardAmounts?.variantName}\n\t\t\t\t\tisColourInTestVariant={isColourInTestVariant}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{variant.showSignInLink && <ContributionsEpicSignInCta />}\n\t\t</section>\n\t);\n};\n\nexport const validate = (props: unknown): props is EpicProps => {\n\tconst result = epicPropsSchema.safeParse(props);\n\treturn result.success;\n};\n\nexport const validatedEpic: ReactComponent<EpicProps> = (props) => {\n\tif (validate(props)) {\n\t\treturn <ContributionsEpic {...props} />;\n\t}\n\treturn <></>;\n};\n\nconst unValidatedEpic = ContributionsEpic;\nexport {\n\tvalidatedEpic as ContributionsEpic,\n\tunValidatedEpic as ContributionsEpicUnvalidated,\n};\n"],"names":["useState","addArticleCountOptOutCookie","hasArticleCountOptOutCookie","removeArticleCountFromLocalStorage","removeArticleCountOptOutCookie","useArticleCountOptOut","hasOptedOut","setHasOptedOut","onArticleCountOptOut","onArticleCountOptIn","isProd","stage","css","articleBold17","articleItalic17","palette","bylineWithImageContainer","bylineCopyContainer","bylineImageContainer","bylineName","bylineDescription","bylineHeadshotImage","bylineBottomDecoration","isInTestVariant","neutral","BylineWithHeadshot","bylineWithImage","isColourInTestVariant","name","description","headshot","div","p","img","src","mainUrl","alt","altText","articleBoldItalic15","articleBoldItalic17","from","textSans12","textSans14","textSans15","textSansBold12","textSansBold14","textSansBold15","until","space","Button","ButtonLink","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_IN","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_CLOSE","OPHAN_COMPONENT_ARTICLE_COUNT_OPT_OUT_OPEN","OPHAN_COMPONENT_ARTICLE_COUNT_STAY_IN","OPHAN_COMPONENT_ARTICLE_COUNT_STAY_OUT","ContributionsEpicArticleCountAboveWithOptOut","articleCount","copy","isArticleCountOn","openCmp","submitComponentEvent","isOpen","setIsOpen","onToggleClick","onStayInClick","onOptOutClick","onOptInClick","onStayOutClick","topContainer","ArticleCountWithToggle","articleCountDescriptionTopContainerStyles","caretStyles","articleCountDescriptionContainer","articleCountBodyTextStyles","articleCountCtasContainerStyles","priority","size","cssOverrides","articleCountDefaultCtaStyles","onClick","articleCountOptOutCtaStyles","articleCountOptInCtaStyles","trackingSettingsContainerStyles","privacySettingsLinkStyles","articleCountOnHeaderContainerStyles","ArticleCount","articleCountWrapperStyles","articleCountTextStyles","articleCountCtaStyles","ARTICLE_COUNT_TEMPLATE","containsArticleCountTemplate","includes","CustomArticleCountCopy","copyHead","copyTail","split","articleCountAboveContainerStyles","span","optOutContainer","substring","tablet","opinion","Link","OPHAN_COMPONENT_SIGN_IN","signInLink","signInLinkText","signInUrl","ContributionsEpicSignInCta","onSignInClick","href","article17","headlineBold20","Ticker","containsNonArticleCountPlaceholder","epicPropsSchema","replaceNonArticleCountPlaceholders","useEffect","useIsInView","replaceArticleCount","addTrackingParamsToBodyLinks","createInsertEventFromTracking","createViewEventFromTracking","logEpicView","ContributionsEpicNewsletterSignup","ContributionsEpicCtasContainer","getVariantOrControlStyle","variant","control","wrapperStyles","brandAlt","headingStyles","linkStyles","news","bodyStyles","highlightWrapperStyles","highlightStyles","imageWrapperStyles","imageStyles","defaultTickerStylingSettings","filledProgressColour","progressBarBackgroundColour","headlineColour","totalColour","goalColour","usEOYTickerStylingSettings","tickerContainerStyles","EpicHeader","text","numArticles","tracking","showAboveArticleCount","elements","h2","Highlighted","highlightedText","strong","EpicBodyParagraph","paragraph","highlighted","EpicBody","paragraphs","map","idx","paragraphElement","length","sendEpicViewEvent","url","abTestName","abTestVariant","countryCode","path","host","eventBody","JSON","stringify","abTests","fetch","method","headers","body","then","response","ok","console","log","ContributionsEpic","articleCounts","onReminderOpen","fetchEmail","hasConsentForArticleCount","image","tickerSettings","choiceCardAmounts","newsletterSignup","hasBeenSeen","setNode","debounce","threshold","window","guardian","config","isDev","referrerUrl","campaignCode","cleanHighlighted","cleanHeading","heading","cleanParagraphs","for52Weeks","some","ophanTracking","componentType","separateArticleCount","type","section","ref","forTargetedWeeks","tickerData","currencySymbol","headline","countLabel","tickerStylingSettings","newsletterId","successDescription","amountsTestName","testName","amountsVariantName","variantName","showSignInLink","validate","props","result","safeParse","success","validatedEpic","unValidatedEpic","ContributionsEpicUnvalidated"],"sourceRoot":""}