{"version":3,"file":"TopBar-importable.client.web.1ea7ed99982d829be93d.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/lodash.debounce@4.0.8/node_modules/lodash.debounce/index.js","webpack://@guardian/dotcom-rendering/./src/components/Masthead/Titlepiece/Grid.tsx","webpack://@guardian/dotcom-rendering/./src/components/TopBarLink.tsx","webpack://@guardian/dotcom-rendering/./src/lib/notification.ts","webpack://@guardian/dotcom-rendering/./src/static/icons/profile.svg","webpack://@guardian/dotcom-rendering/./src/components/TopBarMyAccount.tsx","webpack://@guardian/dotcom-rendering/./src/components/TopBar.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/TopBarSupport.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/acquisitions.ts","webpack://@guardian/dotcom-rendering/./src/lib/contributions.ts","webpack://@guardian/dotcom-rendering/./src/lib/getIdapiUserData.ts","webpack://@guardian/dotcom-rendering/./src/lib/identity-component-event.ts","webpack://@guardian/dotcom-rendering/./src/lib/ophan-helpers.ts","webpack://@guardian/dotcom-rendering/./src/lib/querystring.ts","webpack://@guardian/dotcom-rendering/./src/lib/setAutomat.ts","webpack://@guardian/dotcom-rendering/./src/lib/useApi.ts","webpack://@guardian/dotcom-rendering/./src/lib/useAuthStatus.ts","webpack://@guardian/dotcom-rendering/./src/lib/hasCurrentBrazeUser.ts","webpack://@guardian/dotcom-rendering/./src/lib/getBrazeUuid.ts","webpack://@guardian/dotcom-rendering/./src/lib/braze/hasRequiredConsents.ts","webpack://@guardian/dotcom-rendering/./src/lib/braze/checkBrazeDependencies.ts","webpack://@guardian/dotcom-rendering/./src/lib/braze/initialiseAppboy.ts","webpack://@guardian/dotcom-rendering/./src/lib/braze/buildBrazeMessaging.ts","webpack://@guardian/dotcom-rendering/./src/lib/useBraze.ts","webpack://@guardian/dotcom-rendering/./src/lib/useCountryCode.ts","webpack://@guardian/dotcom-rendering/./src/lib/usePageViewId.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/visually-hidden.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/hide/Hide.js"],"sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import type { SerializedStyles } from '@emotion/react';\nimport { css, jsx } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\nimport type { CSSProperties, PropsWithChildren } from 'react';\n\nconst grid = css`\n\tdisplay: grid;\n\tgrid-auto-rows: auto;\n\n\tgrid-template-columns:\n\t\t[viewport-start]\n\t\t0\n\t\t[content-start main-column-start]\n\t\trepeat(4, minmax(0, 1fr))\n\t\t[content-end main-column-end]\n\t\t0\n\t\t[viewport-end];\n\n\tcolumn-gap: 10px;\n\n\t${from.mobileLandscape} {\n\t\tcolumn-gap: 20px;\n\t}\n\n\t${from.tablet} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 40px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t${from.desktop} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n`;\n\nconst gridBeyondDesktop = css`\n\t${from.leftCol} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(2, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t${from.wide} {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(3, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[main-column-end]\n\t\t\trepeat(1, 60px)\n\t\t\t[content-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n`;\n\n/**\n * Create a CSS grid container.\n * Use jointly with Content, LeftCol & RightCol.\n *\n * @see https://theguardian.design/2a1e5182b/p/41be19-grids\n */\nexport const Grid = ({\n\ttype = 'div',\n\tstyle,\n\thasPageSkin,\n\tchildren,\n}: PropsWithChildren<{\n\ttype: keyof JSX.IntrinsicElements;\n\thasPageSkin?: boolean;\n\tstyle?: CSSProperties;\n}>) =>\n\tjsx(\n\t\ttype,\n\t\t{ css: [grid, !hasPageSkin && gridBeyondDesktop], style },\n\t\tchildren,\n\t);\n\n/** Spans the entire width of the grid */\nexport const Content = ({\n\tchildren,\n\tstyles,\n}: PropsWithChildren<{ styles?: SerializedStyles }>) => (\n\t<section style={{ gridColumn: 'content' }} css={styles}>\n\t\t{children}\n\t</section>\n);\n\nexport const MainColumn = ({\n\tchildren,\n\tstyles,\n}: PropsWithChildren<{ styles?: SerializedStyles }>) => (\n\t<section\n\t\tstyle={{ gridColumn: 'main-column', gridRowStart: 1 }}\n\t\tcss={styles}\n\t>\n\t\t{children}\n\t</section>\n);\n\nconst hideUntilLeftCol = css`\n\tdisplay: none;\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t}\n`;\n/** Only visible from leftCol / 1140px */\nexport const LeftColumn = ({ children }: PropsWithChildren) => (\n\t<section\n\t\tstyle={{ gridColumn: 'left-column', gridRowStart: 1 }}\n\t\tcss={hideUntilLeftCol}\n\t>\n\t\t{children}\n\t</section>\n);\n\nconst hideUntilDesktop = css`\n\tdisplay: none;\n\t${from.leftCol} {\n\t\tdisplay: block;\n\t}\n`;\n/** Only visible from desktop / 980px */\nexport const RightColumn = ({ children }: PropsWithChildren) => (\n\t<section style={{ gridColumn: 'right-column' }} css={hideUntilDesktop}>\n\t\t{children}\n\t</section>\n);\n","import { css } from '@emotion/react';\nimport { space, textSansBold17 } from '@guardian/source/foundations';\nimport { palette as themePalette } from '../palette';\n\ntype Props = {\n\thref: string;\n\tdataLinkName: string;\n\tchildren: React.ReactNode;\n};\n\nexport const topBarLinkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${textSansBold17};\n\n\tcolor: ${themePalette('--masthead-top-bar-link-text')};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\n\tpadding: ${space[1]}px;\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 ${space[1]}px 0 0;\n\t}\n`;\n\nexport const TopBarLink = ({ href, dataLinkName, children }: Props) => {\n\treturn (\n\t\t<a href={href} css={topBarLinkStyles} data-link-name={dataLinkName}>\n\t\t\t{children}\n\t\t</a>\n\t);\n};\n","import type { BrazeCard } from '@guardian/braze-components';\nimport type { DropdownLinkType } from '../components/Dropdown.importable';\n\nexport interface Notification {\n\tid: string;\n\ttarget: string;\n\tmessage: string;\n\tophanLabel: string;\n\tlogImpression?: () => void;\n}\n\nconst hasTargetAndMessage = (\n\tcard: BrazeCard,\n): card is BrazeCard & { extras: Notification } =>\n\tBoolean(card.extras.message) &&\n\tBoolean(card.extras.target) &&\n\tBoolean(card.extras.ophanLabel);\n\nexport const mapBrazeCardsToNotifications = (\n\tcards: BrazeCard[],\n): Notification[] => {\n\treturn cards.filter(hasTargetAndMessage).map((card) => {\n\t\treturn {\n\t\t\tid: card.id,\n\t\t\ttarget: card.extras.target,\n\t\t\tmessage: card.extras.message,\n\t\t\tophanLabel: card.extras.ophanLabel,\n\t\t\tlogImpression: () => {\n\t\t\t\tcard.logImpression();\n\t\t\t},\n\t\t};\n\t});\n};\n\nconst groupNotificationsByTarget = (\n\tnotifications: Notification[],\n): { [k: string]: Notification[] } => {\n\treturn notifications.reduce<{ [k: string]: Notification[] }>(\n\t\t(groupings, notification) => {\n\t\t\tgroupings[notification.target] = (\n\t\t\t\tgroupings[notification.target] ?? []\n\t\t\t).concat(notification);\n\n\t\t\treturn groupings;\n\t\t},\n\t\t{},\n\t);\n};\n\nexport const addNotificationsToDropdownLinks = (\n\tlinks: DropdownLinkType[],\n\tnotifications: Notification[],\n): DropdownLinkType[] => {\n\tconst notificationsByTarget = groupNotificationsByTarget(notifications);\n\n\tconst linksWithNotifications = links.map((link) => {\n\t\tconst newNotifications = (link.notifications ?? []).concat(\n\t\t\tnotificationsByTarget[link.id] ?? [],\n\t\t);\n\n\t\tif (newNotifications.length === 0) {\n\t\t\treturn link;\n\t\t}\n\n\t\treturn {\n\t\t\t...link,\n\t\t\tnotifications: newNotifications,\n\t\t};\n\t});\n\n\treturn linksWithNotifications;\n};\n","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgProfile = function SvgProfile(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 14,\n    viewBox: \"0 0 14 14\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 0C3.1 0 0 3.1 0 7c0 2 .9 3.9 2.4 5.2C3.6 13.4 5.3 14 7 14c1.7 0 3.4-.6 4.7-1.8C13.2 10.9 14 9 14 7c0-3.9-3.1-7-7-7zm0 1.8c1.3 0 2.1.8 2.1 2.1S8 6.3 7 6.3c-.8 0-2-1.1-2-2.4 0-1.4.7-2.1 2-2.1zm0 11.6c-1.7 0-3.3-.7-4.5-1.8l.8-3.2.5-.5c1-.4 2.1-.5 3.1-.5 1.1 0 2.1.2 3.1.5l.5.5.9 3.2c-1.1 1.2-2.7 1.8-4.4 1.8z\"\n  })));\n};\nexport default SvgProfile;","/**\n * @file\n * This was largely copied from https://github.com/guardian/dotcom-rendering/blob/68224f48e7b5f3a465884e3f53607a2227eb9494/dotcom-rendering/src/components/HeaderTopBarMyAccount.tsx\n * For more Git history, please refer to the original file\n */\nimport { css } from '@emotion/react';\nimport { joinUrl } from '@guardian/libs';\nimport {\n\tfrom,\n\tspace,\n\ttextSansBold17,\n\tuntil,\n} from '@guardian/source/foundations';\nimport { useEffect, useState } from 'react';\nimport type { UserProfile } from '../lib/discussion';\nimport { getZIndex } from '../lib/getZIndex';\nimport type {\n\tAuthStatus,\n\tSignedInWithCookies,\n\tSignedInWithOkta,\n} from '../lib/identity';\nimport { createAuthenticationEventParams } from '../lib/identity-component-event';\nimport {\n\taddNotificationsToDropdownLinks,\n\tmapBrazeCardsToNotifications,\n} from '../lib/notification';\nimport type { Notification } from '../lib/notification';\nimport { nestedOphanComponents } from '../lib/ophan-helpers';\nimport { useApi } from '../lib/useApi';\nimport { useBraze } from '../lib/useBraze';\nimport { palette as themePalette } from '../palette';\nimport ProfileIcon from '../static/icons/profile.svg';\nimport type { RenderingTarget } from '../types/renderingTarget';\nimport { useConfig } from './ConfigContext';\nimport type { DropdownLinkType } from './Dropdown.importable';\nimport { Dropdown } from './Dropdown.importable';\n\ninterface MyAccountProps {\n\tmmaUrl: string;\n\tidUrl: string;\n\tdiscussionApiUrl: string;\n\tidApiUrl: string;\n\tauthStatus: AuthStatus;\n}\n\n// when SignedIn, authStatus can only be one of the two SignedIn states\ntype SignedInProps = MyAccountProps & {\n\tauthStatus: SignedInWithCookies | SignedInWithOkta;\n\trenderingTarget: RenderingTarget;\n};\n\nconst myAccountLinkStyles = css`\n\tdisplay: flex;\n\t/** Required to absolutely position the dropdown menu */\n\tposition: relative;\n\talign-items: center;\n\t${textSansBold17};\n\n\tcolor: ${themePalette('--masthead-top-bar-link-text')};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\n\tpadding: ${space[1]}px 0 ${space[1]}px ${space[1]}px;\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 ${space[1]}px 0 0;\n\t}\n\n\tz-index: ${getZIndex('mastheadMyAccountDropdown')};\n`;\n\nexport const buildIdentityLinks = (\n\tmmaUrl: string,\n\tidUrl: string,\n\tuserId: string,\n): DropdownLinkType[] => {\n\t/**\n\t * Note: the IDs in here are used by Braze to target notifications so should\n\t * be unique. Please check with Marketing Tools/TX before changing!\n\t */\n\tconst links = [\n\t\t{\n\t\t\tid: 'account_overview',\n\t\t\turl: `${mmaUrl}/`,\n\t\t\ttitle: 'Account overview',\n\t\t},\n\t\t{\n\t\t\tid: 'billing',\n\t\t\turl: `${mmaUrl}/billing`,\n\t\t\ttitle: 'Billing',\n\t\t},\n\t\t{\n\t\t\tid: 'edit_profile',\n\t\t\turl: `${mmaUrl}/public-settings`,\n\t\t\ttitle: 'Profile',\n\t\t},\n\t\t{\n\t\t\tid: 'email_prefs',\n\t\t\turl: `${mmaUrl}/email-prefs`,\n\t\t\ttitle: 'Emails & marketing',\n\t\t},\n\t\t{\n\t\t\tid: 'data_privacy',\n\t\t\turl: `${mmaUrl}/data-privacy`,\n\t\t\ttitle: 'Data privacy',\n\t\t},\n\t\t{\n\t\t\tid: 'settings',\n\t\t\turl: `${mmaUrl}/account-settings`,\n\t\t\ttitle: 'Settings',\n\t\t},\n\t\t{\n\t\t\tid: 'help',\n\t\t\turl: `${mmaUrl}/help`,\n\t\t\ttitle: 'Help',\n\t\t},\n\t\t{\n\t\t\tid: 'comment_activity',\n\t\t\turl: `${idUrl}/user/id/${userId}`,\n\t\t\ttitle: 'Comments & replies',\n\t\t},\n\t\t{\n\t\t\tid: 'sign_out',\n\t\t\turl: `${idUrl}/signout`,\n\t\t\ttitle: 'Sign out',\n\t\t},\n\t] as const;\n\n\treturn links.map((link) => ({\n\t\t...link,\n\t\tdataLinkName: nestedOphanComponents(\n\t\t\t'header',\n\t\t\t'topbar',\n\t\t\tlink.id.replaceAll('_', ' '),\n\t\t),\n\t}));\n};\n\nconst SignIn = ({ idUrl }: { idUrl: string }) => (\n\t<a\n\t\tcss={myAccountLinkStyles}\n\t\thref={`${idUrl}/signin?INTCMP=DOTCOM_NEWHEADER_SIGNIN&ABCMP=ab-sign-in&${createAuthenticationEventParams(\n\t\t\t'guardian_signin_header',\n\t\t)}`}\n\t\tdata-link-name={nestedOphanComponents('header', 'topbar', 'signin')}\n\t>\n\t\t<ProfileIcon /> Sign in\n\t</a>\n);\n\nexport const dropDownOverrides = css`\n\tcolor: ${themePalette('--masthead-top-bar-link-text')};\n\tpadding-right: 0;\n\tpadding-bottom: 0;\n\tmargin-top: 0;\n\n\tfont-weight: bold;\n\n\t&:not(ul):hover {\n\t\tcolor: ${themePalette('--masthead-top-bar-link-text')};\n\t\ttext-decoration: underline;\n\t}\n\n\t/** Handles case of *new* top bar being 52px high until tablet */\n\t&:not(button) {\n\t\t${until.tablet} {\n\t\t\ttop: 44px;\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\tright: 0;\n\t\t\ttop: 52px;\n\t\t}\n\n\t\t${from.desktop} {\n\t\t\ttop: 56px;\n\t\t}\n\t}\n`;\n\ninterface SignedInWithNotificationsProps {\n\tmmaUrl: string;\n\tidUrl: string;\n\tdiscussionApiUrl: string;\n\tnotifications: Notification[];\n\tauthStatus: SignedInWithCookies | SignedInWithOkta;\n}\n\nconst SignedInWithNotifications = ({\n\tmmaUrl,\n\tidUrl,\n\tdiscussionApiUrl,\n\tnotifications,\n\tauthStatus,\n}: SignedInWithNotificationsProps) => {\n\tlet userId: string | undefined;\n\n\t// TODO Okta: Remove the useApi and status === 'NotInTest' when at 100% in Okta oktaVariant\n\t// If we encounter an error or don't have user data display sign in to the user.\n\t// SWR will retry in the background if the request failed\n\tconst { data, error } = useApi<{ userProfile: UserProfile }>(\n\t\tauthStatus.kind === 'SignedInWithCookies'\n\t\t\t? joinUrl(\n\t\t\t\t\tdiscussionApiUrl,\n\t\t\t\t\t'profile/me?strict_sanctions_check=false',\n\t\t\t  )\n\t\t\t: undefined,\n\n\t\t{},\n\t\t{\n\t\t\tcredentials: 'include',\n\t\t},\n\t);\n\tif (authStatus.kind === 'SignedInWithCookies' && data) {\n\t\tuserId = data.userProfile.userId;\n\t}\n\n\tif (authStatus.kind === 'SignedInWithOkta') {\n\t\tuserId = authStatus.idToken.claims.legacy_identity_id;\n\t}\n\n\tif (!userId || error) return <SignIn idUrl={idUrl} />;\n\n\tconst identityLinks = buildIdentityLinks(mmaUrl, idUrl, userId);\n\n\tconst identityLinksWithNotifications = addNotificationsToDropdownLinks(\n\t\tidentityLinks,\n\t\tnotifications,\n\t);\n\n\treturn (\n\t\t<div css={myAccountLinkStyles}>\n\t\t\t<ProfileIcon />\n\t\t\t<Dropdown\n\t\t\t\tlabel=\"My account\"\n\t\t\t\tlinks={identityLinksWithNotifications}\n\t\t\t\tid=\"topbar-my-account\"\n\t\t\t\tdataLinkName={nestedOphanComponents(\n\t\t\t\t\t'header',\n\t\t\t\t\t'topbar',\n\t\t\t\t\t'my account',\n\t\t\t\t)}\n\t\t\t\tcssOverrides={dropDownOverrides}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst SignedIn = ({\n\tidApiUrl,\n\tauthStatus,\n\trenderingTarget,\n\t...props\n}: SignedInProps) => {\n\tconst { brazeCards } = useBraze(idApiUrl, renderingTarget);\n\tconst [brazeNotifications, setBrazeNotifications] = useState<\n\t\tNotification[]\n\t>([]);\n\n\tuseEffect(() => {\n\t\tif (brazeCards) {\n\t\t\tconst cards = brazeCards.getCardsForProfileBadge();\n\t\t\tconst cardsToNotifications = mapBrazeCardsToNotifications(cards);\n\t\t\tif (cardsToNotifications.length) {\n\t\t\t\tsetBrazeNotifications(cardsToNotifications);\n\t\t\t}\n\t\t}\n\t}, [brazeCards]);\n\n\treturn (\n\t\t<SignedInWithNotifications\n\t\t\t{...props}\n\t\t\tnotifications={brazeNotifications}\n\t\t\tauthStatus={authStatus}\n\t\t/>\n\t);\n};\n\nexport const TopBarMyAccount = ({\n\tmmaUrl,\n\tidUrl,\n\tdiscussionApiUrl,\n\tidApiUrl,\n\tauthStatus,\n}: MyAccountProps) => {\n\tconst { renderingTarget } = useConfig();\n\n\treturn (\n\t\t<>\n\t\t\t{authStatus.kind === 'SignedInWithOkta' ||\n\t\t\tauthStatus.kind === 'SignedInWithCookies' ? (\n\t\t\t\t<SignedIn\n\t\t\t\t\tmmaUrl={mmaUrl}\n\t\t\t\t\tidUrl={idUrl}\n\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t\tauthStatus={authStatus}\n\t\t\t\t\trenderingTarget={renderingTarget}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<SignIn idUrl={idUrl} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","/**\n * @file\n * This file is rework of https://github.com/guardian/dotcom-rendering/blob/94957ccdefe180ce6c292cb81de528cb616676e5/dotcom-rendering/src/components/HeaderTopBar.importable.tsx\n * and includes the previously separated out `HeaderTopBarPrintSubscriptions` and `HeaderTopBarSearchJobs` components.\n * This is intended to replace the existing `HeaderTopBar` component after being AB tested.\n */\nimport { css } from '@emotion/react';\nimport { from, space } from '@guardian/source/foundations';\nimport { Hide } from '@guardian/source/react-components';\nimport { useEffect, useState } from 'react';\nimport { addTrackingCodesToUrl } from '../lib/acquisitions';\nimport type { EditionId } from '../lib/edition';\nimport { nestedOphanComponents } from '../lib/ophan-helpers';\nimport { useAuthStatus } from '../lib/useAuthStatus';\nimport { usePageViewId } from '../lib/usePageViewId';\nimport { palette as themePalette } from '../palette';\nimport { useConfig } from './ConfigContext';\nimport { Grid } from './Masthead/Titlepiece/Grid';\nimport { TopBarLink } from './TopBarLink';\nimport { TopBarMyAccount } from './TopBarMyAccount';\nimport { TopBarSupport } from './TopBarSupport.importable';\n\ninterface Props {\n\teditionId: EditionId;\n\tidUrl?: string;\n\tmmaUrl?: string;\n\tdiscussionApiUrl: string;\n\tidApiUrl: string;\n\tcontributionsServiceUrl: string;\n\thasPageSkin?: boolean;\n}\n\nconst topBarStyles = css`\n\tgrid-column: content-start / main-column-end;\n\tbackground-color: ${themePalette('--masthead-top-bar-background')};\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-end;\n\tbox-sizing: border-box;\n\theight: 52px;\n\t${from.tablet} {\n\t\theight: 60px;\n\t}\n\t${from.desktop} {\n\t\theight: 64px;\n\t}\n`;\n\nconst topBarLinkContainerStyles = css`\n\theight: 100%;\n\tdisplay: flex;\n`;\n\nconst alignLeftStyles = css`\n\tmargin-right: auto;\n`;\n\nconst verticalDividerStyles = css`\n\t${from.desktop} {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tborder-left: 1px solid\n\t\t\t\t${themePalette('--masthead-top-bar-vertical-divider')};\n\t\t\theight: 38px;\n\t\t}\n\t}\n`;\n\nconst TopBarLinkContainer = ({\n\talignLeft = false,\n\tshowVerticalDivider = true,\n\tisLastChild = false,\n\tchildren,\n}: {\n\talignLeft?: boolean;\n\tshowVerticalDivider?: boolean;\n\tisLastChild?: boolean;\n\tchildren: React.ReactNode;\n}) => (\n\t<div\n\t\tcss={[\n\t\t\ttopBarLinkContainerStyles,\n\t\t\talignLeft && alignLeftStyles,\n\t\t\tshowVerticalDivider\n\t\t\t\t? verticalDividerStyles\n\t\t\t\t: css`\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t  `,\n\t\t]}\n\t\tstyle={{ paddingRight: isLastChild ? 0 : `${space[3]}px` }}\n\t>\n\t\t{children}\n\t</div>\n);\n\n/**\n * The _new and improved_ slim dark blue top bar at the very top of Guardian pages\n *\n * ## Why does this need to be an Island?\n *\n * - We need to check if a user is signed in to show them the right header.\n * - We track clicks on print subscription with a page view ID\n *\n * ---\n *\n * [`TopBar` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-topbar)\n */\nexport const TopBar = ({\n\teditionId,\n\tidUrl,\n\tmmaUrl,\n\tdiscussionApiUrl,\n\tidApiUrl,\n\tcontributionsServiceUrl,\n\thasPageSkin = false,\n}: Props) => {\n\tconst authStatus = useAuthStatus();\n\tconst { renderingTarget } = useConfig();\n\tconst pageViewId = usePageViewId(renderingTarget);\n\n\tconst [referrerUrl, setReferrerUrl] = useState('');\n\n\tuseEffect(() => {\n\t\tsetReferrerUrl(window.location.origin + window.location.pathname);\n\t}, []);\n\n\tconst printSubscriptionsHref = addTrackingCodesToUrl({\n\t\tbase: `https://support.theguardian.com/subscribe${\n\t\t\teditionId === 'UK' ? '' : '/weekly'\n\t\t}`,\n\t\tcomponentType: 'ACQUISITIONS_HEADER',\n\t\tcomponentId: 'PrintSubscriptionsHeaderLink',\n\t\tpageViewId,\n\t\treferrerUrl,\n\t});\n\n\treturn (\n\t\t<Grid type=\"div\" hasPageSkin={hasPageSkin}>\n\t\t\t<div css={topBarStyles}>\n\t\t\t\t<TopBarLinkContainer\n\t\t\t\t\tshowVerticalDivider={false}\n\t\t\t\t\talignLeft={true}\n\t\t\t\t>\n\t\t\t\t\t<TopBarSupport\n\t\t\t\t\t\tcontributionsServiceUrl={contributionsServiceUrl}\n\t\t\t\t\t/>\n\t\t\t\t</TopBarLinkContainer>\n\n\t\t\t\t<Hide until=\"desktop\">\n\t\t\t\t\t<TopBarLinkContainer>\n\t\t\t\t\t\t<TopBarLink\n\t\t\t\t\t\t\tdataLinkName={nestedOphanComponents(\n\t\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t\t'topbar',\n\t\t\t\t\t\t\t\t'printsubs',\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\thref={printSubscriptionsHref}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrint subscriptions\n\t\t\t\t\t\t</TopBarLink>\n\t\t\t\t\t</TopBarLinkContainer>\n\t\t\t\t</Hide>\n\n\t\t\t\t<Hide until=\"desktop\">\n\t\t\t\t\t<TopBarLinkContainer>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/** We replace \"Search jobs\" with \"Newsletters\" for AU and US editions */\n\t\t\t\t\t\t\t['AU', 'US'].includes(editionId) ? (\n\t\t\t\t\t\t\t\t<TopBarLink\n\t\t\t\t\t\t\t\t\tdataLinkName={nestedOphanComponents(\n\t\t\t\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t\t\t\t'topbar',\n\t\t\t\t\t\t\t\t\t\t'newsletters',\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\thref=\"/email-newsletters\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNewsletters\n\t\t\t\t\t\t\t\t</TopBarLink>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<TopBarLink\n\t\t\t\t\t\t\t\t\tdataLinkName={nestedOphanComponents(\n\t\t\t\t\t\t\t\t\t\t'header',\n\t\t\t\t\t\t\t\t\t\t'topbar',\n\t\t\t\t\t\t\t\t\t\t'job-cta',\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\thref=\"https://jobs.theguardian.com\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSearch jobs\n\t\t\t\t\t\t\t\t</TopBarLink>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</TopBarLinkContainer>\n\t\t\t\t</Hide>\n\n\t\t\t\t<TopBarLinkContainer isLastChild={true}>\n\t\t\t\t\t<TopBarMyAccount\n\t\t\t\t\t\tmmaUrl={mmaUrl ?? 'https://manage.theguardian.com'}\n\t\t\t\t\t\tidUrl={idUrl ?? 'https://profile.theguardian.com'}\n\t\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t\t\tauthStatus={authStatus}\n\t\t\t\t\t/>\n\t\t\t\t</TopBarLinkContainer>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n};\n","/**\n * @file\n * This file was largely lifted from https://github.com/guardian/dotcom-rendering/blob/b3ef504acd00d48e765e0656be5ffbad88981a39/dotcom-rendering/src/components/SupportTheG.importable.tsx\n */\nimport { css } from '@emotion/react';\nimport type { OphanComponentEvent } from '@guardian/libs';\nimport { getCookie, isUndefined } from '@guardian/libs';\nimport { getHeader } from '@guardian/support-dotcom-components';\nimport type {\n\tHeaderPayload,\n\tModuleData,\n\tModuleDataResponse,\n} from '@guardian/support-dotcom-components/dist/dotcom/types';\nimport { useEffect, useState } from 'react';\nimport { submitComponentEvent } from '../client/ophan/ophan';\nimport {\n\tgetPurchaseInfo,\n\tshouldHideSupportMessaging,\n} from '../lib/contributions';\nimport { setAutomat } from '../lib/setAutomat';\nimport { useIsSignedIn } from '../lib/useAuthStatus';\nimport { useCountryCode } from '../lib/useCountryCode';\nimport { usePageViewId } from '../lib/usePageViewId';\nimport { useConfig } from './ConfigContext';\n\ntype Props = {\n\tcontributionsServiceUrl: string;\n};\n\nconst headerStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\toverflow-wrap: nowrap;\n`;\n\ntype ReaderRevenueLinksRemoteProps = {\n\tcountryCode: string;\n\tpageViewId: string;\n\tcontributionsServiceUrl: string;\n};\n\nconst ReaderRevenueLinksRemote = ({\n\tcountryCode,\n\tpageViewId,\n\tcontributionsServiceUrl,\n}: ReaderRevenueLinksRemoteProps) => {\n\tconst [supportHeaderResponse, setSupportHeaderResponse] =\n\t\tuseState<ModuleData | null>(null);\n\tconst [SupportHeader, setSupportHeader] =\n\t\tuseState<React.ElementType | null>(null);\n\tconst isSignedIn = useIsSignedIn();\n\n\tconst { renderingTarget } = useConfig();\n\n\tuseEffect((): void => {\n\t\tif (isUndefined(countryCode) || isSignedIn === 'Pending') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst hideSupportMessagingForUser =\n\t\t\tshouldHideSupportMessaging(isSignedIn);\n\t\tif (hideSupportMessagingForUser === 'Pending') {\n\t\t\t// We don't yet know the user's supporter status\n\t\t\treturn;\n\t\t}\n\n\t\tsetAutomat();\n\n\t\tconst requestData: HeaderPayload = {\n\t\t\ttracking: {\n\t\t\t\tophanPageId: pageViewId,\n\t\t\t\tplatformId: 'GUARDIAN_WEB',\n\t\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t\t\tclientName: 'dcr',\n\t\t\t},\n\t\t\ttargeting: {\n\t\t\t\tshowSupportMessaging: !hideSupportMessagingForUser,\n\t\t\t\tcountryCode,\n\t\t\t\tmvtId: Number(\n\t\t\t\t\tgetCookie({ name: 'GU_mvt_id', shouldMemoize: true }),\n\t\t\t\t),\n\t\t\t\tpurchaseInfo: getPurchaseInfo(),\n\t\t\t\tisSignedIn,\n\t\t\t},\n\t\t};\n\n\t\tgetHeader(contributionsServiceUrl, requestData)\n\t\t\t.then((response: ModuleDataResponse) => {\n\t\t\t\tif (!response.data) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst { module } = response.data;\n\t\t\t\tsetSupportHeaderResponse(module);\n\n\t\t\t\treturn (\n\t\t\t\t\tmodule.name === 'SignInPromptHeader'\n\t\t\t\t\t\t? /* webpackChunkName: \"sign-in-prompt-header\" */\n\t\t\t\t\t\t  import(`./marketing/header/SignInPromptHeader`)\n\t\t\t\t\t\t: /* webpackChunkName: \"header\" */\n\t\t\t\t\t\t  import(`./marketing/header/Header`)\n\t\t\t\t).then((headerModule: { [key: string]: React.ElementType }) => {\n\t\t\t\t\tsetSupportHeader(() => headerModule[module.name] ?? null);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst msg = `Error importing RR header links: ${String(error)}`;\n\n\t\t\t\tconsole.log(msg);\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\t'rr-header-links',\n\t\t\t\t);\n\t\t\t});\n\t}, [countryCode, isSignedIn, contributionsServiceUrl, pageViewId]);\n\n\tif (SupportHeader !== null && supportHeaderResponse) {\n\t\treturn (\n\t\t\t<div css={headerStyles}>\n\t\t\t\t{}\n\t\t\t\t<SupportHeader\n\t\t\t\t\tsubmitComponentEvent={(\n\t\t\t\t\t\tcomponentEvent: OphanComponentEvent,\n\t\t\t\t\t) =>\n\t\t\t\t\t\tvoid submitComponentEvent(\n\t\t\t\t\t\t\tcomponentEvent,\n\t\t\t\t\t\t\trenderingTarget,\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t{...supportHeaderResponse.props}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n\n/**\n * Shows support messaging and a CTA (call to action) button in the top bar\n * Messaging comes from the RRCP (reader revenue control panel) via the\n * contributions service\n *\n * ## Why does this need to be an Island?\n *\n * Reader revenue links are entirely client-side and specific to a unique\n * page view. They also relying on getting a country code.\n *\n * ---\n *\n * (No visual story exists)\n */\nexport const TopBarSupport = ({ contributionsServiceUrl }: Props) => {\n\tconst { renderingTarget } = useConfig();\n\tconst countryCode = useCountryCode('support-the-Guardian');\n\tconst pageViewId = usePageViewId(renderingTarget);\n\n\tif (isUndefined(countryCode) || isUndefined(pageViewId)) return null;\n\n\treturn (\n\t\t<ReaderRevenueLinksRemote\n\t\t\tcountryCode={countryCode}\n\t\t\tpageViewId={pageViewId}\n\t\t\tcontributionsServiceUrl={contributionsServiceUrl}\n\t\t/>\n\t);\n};\n","import type { OphanComponentType } from '@guardian/libs';\nimport { constructQuery } from '../lib/querystring';\n\ntype AcquisitionLinkParams = {\n\tbase: string;\n\tcomponentType: OphanComponentType;\n\tcomponentId: string;\n\tcampaignCode?: string;\n\tabTest?: { name: string; variant: string };\n\tpageViewId: string | undefined;\n\treferrerUrl: string;\n};\n\n// Adds acquisition tracking codes if it is a support url\nexport const addTrackingCodesToUrl = ({\n\tbase,\n\tcomponentType,\n\tcomponentId,\n\tcampaignCode,\n\tabTest,\n\tpageViewId,\n\treferrerUrl,\n}: AcquisitionLinkParams): string => {\n\tconst isSupportUrl =\n\t\tbase.search(\n\t\t\t/(support.theguardian.com)(\\/[a-z]*)?\\/(contribute|subscribe)/,\n\t\t) >= 0;\n\n\tif (isSupportUrl) {\n\t\tconst acquisitionData = {\n\t\t\tsource: 'GUARDIAN_WEB',\n\t\t\tcomponentId,\n\t\t\tcomponentType,\n\t\t\tcampaignCode,\n\t\t\tabTest,\n\t\t\treferrerPageviewId: pageViewId,\n\t\t\treferrerUrl,\n\t\t};\n\n\t\tconst params = {\n\t\t\tREFPVID: pageViewId,\n\t\t\tINTCMP: campaignCode,\n\t\t\tacquisitionData: JSON.stringify(acquisitionData),\n\t\t};\n\n\t\treturn `${base}${base.includes('?') ? '&' : '?'}${constructQuery(\n\t\t\tparams,\n\t\t)}`;\n\t}\n\n\treturn base;\n};\n","import {\n\tgetCookie,\n\tisUndefined,\n\tonConsentChange,\n\tstorage,\n} from '@guardian/libs';\nimport type { HeaderPayload } from '@guardian/support-dotcom-components/dist/dotcom/types';\nimport { useEffect, useState } from 'react';\nimport type { ArticleDeprecated } from '../types/article';\nimport type { DCRFrontType } from '../types/front';\nimport type { DCRNewslettersPageType } from '../types/newslettersPage';\nimport type { DCRTagPageType } from '../types/tagPage';\n\n// User Attributes API cookies (created on sign-in)\nexport const HIDE_SUPPORT_MESSAGING_COOKIE = 'gu_hide_support_messaging';\nexport const RECURRING_CONTRIBUTOR_COOKIE = 'gu_recurring_contributor';\nexport const OPT_OUT_OF_ARTICLE_COUNT_COOKIE = 'gu_article_count_opt_out';\n\n// Support Frontend cookie (created when a contribution is made)\nexport const SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE =\n\t'gu.contributions.contrib-timestamp';\n\n//  Local storage keys\nconst WEEKLY_ARTICLE_COUNT_KEY = 'gu.history.weeklyArticleCount';\nexport const NO_RR_BANNER_KEY = 'gu.noRRBanner';\n\n// See https://github.com/guardian/support-dotcom-components/blob/main/module-versions.md\nexport const MODULES_VERSION = 'v3';\n\n// Returns true if we should hide support messaging because the user is a supporter.\n// Checks the cookie that is set by the User Attributes API upon signing in.\n// Value computed server-side and looks at all of the user's active products,\n// including but not limited to recurring & one-off contributions,\n// paper & digital subscriptions, as well as user tiers (GU supporters/staff/partners/patrons).\n// https://github.com/guardian/members-data-api/blob/3a72dc00b9389968d91e5930686aaf34d8040c52/membership-attribute-service/app/models/Attributes.scala\nexport const hasSupporterCookie = (\n\tisSignedIn: boolean,\n): boolean | 'Pending' => {\n\tconst cookie = getCookie({ name: HIDE_SUPPORT_MESSAGING_COOKIE });\n\tswitch (cookie) {\n\t\tcase 'true':\n\t\t\treturn true;\n\t\tcase 'false':\n\t\t\treturn false;\n\t\tdefault:\n\t\t\t/**\n\t\t\t * If cookie is not present but user is signed in, we do not want to show any messaging.\n\t\t\t * This is because of a race condition on the first page view after signing in, where\n\t\t\t * we may be awaiting the response from the API to find out if they're a supporter.\n\t\t\t */\n\t\t\tif (isSignedIn) {\n\t\t\t\treturn 'Pending';\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t}\n};\n\n// looks at the SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE (set by support-frontend when making one-off contribution)\n// and returns a Unix epoch int of the date if it exists.\nexport const getLastOneOffContributionTimestamp = (): number | undefined => {\n\t// Support cookies - expects Unix epoch\n\tconst contributionDateFromSupport = getCookie({\n\t\tname: SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE,\n\t});\n\n\tif (!contributionDateFromSupport) {\n\t\treturn undefined;\n\t}\n\n\t// Parse dates into common a number\n\tconst parsedDateFromSupport = contributionDateFromSupport\n\t\t? parseInt(contributionDateFromSupport, 10)\n\t\t: 0;\n\n\treturn parsedDateFromSupport || undefined; // This guards against 'parsedDateFromSupport' being NaN\n};\n\nconst dateDiffDays = (from: number, to: number): number => {\n\tconst oneDayMs = 1000 * 60 * 60 * 24;\n\tconst diffMs = to - from;\n\treturn Math.floor(diffMs / oneDayMs);\n};\n\nconst AskPauseDays = 90;\n\nexport const isRecentOneOffContributor = (): boolean => {\n\tconst lastContributionDate = getLastOneOffContributionTimestamp();\n\tif (!isUndefined(lastContributionDate)) {\n\t\tconst now = Date.now();\n\t\treturn dateDiffDays(lastContributionDate, now) <= AskPauseDays;\n\t}\n\n\treturn false;\n};\n\nexport const shouldHideSupportMessaging = (\n\tisSignedIn: boolean,\n): boolean | 'Pending' => {\n\tconst hasCookie = hasSupporterCookie(isSignedIn);\n\tif (hasCookie === 'Pending') {\n\t\treturn 'Pending';\n\t} else {\n\t\treturn hasCookie || isRecentOneOffContributor();\n\t}\n};\n\nexport const REQUIRED_CONSENTS_FOR_ARTICLE_COUNT = [1, 3, 7];\nconst REQUIRED_CONSENTS_FOR_BROWSER_ID = [1, 3, 5, 7];\n\nexport const hasArticleCountOptOutCookie = (): boolean =>\n\tgetCookie({ name: OPT_OUT_OF_ARTICLE_COUNT_COOKIE }) !== null;\n\nconst removeWeeklyArticleCountsFromLocalStorage = () =>\n\tstorage.local.remove(WEEKLY_ARTICLE_COUNT_KEY);\n\nexport const hasCmpConsentForWeeklyArticleCount = (): Promise<boolean> => {\n\treturn new Promise((resolve) => {\n\t\tif (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n\t\t\tresolve(true);\n\t\t}\n\t\tonConsentChange(({ usnat, tcfv2, aus }) => {\n\t\t\tif (usnat ?? aus) {\n\t\t\t\tresolve(true);\n\t\t\t} else if (tcfv2) {\n\t\t\t\tconst hasRequiredConsents =\n\t\t\t\t\tREQUIRED_CONSENTS_FOR_ARTICLE_COUNT.every(\n\t\t\t\t\t\t(consent) => tcfv2.consents[consent],\n\t\t\t\t\t);\n\n\t\t\t\tif (!hasRequiredConsents) {\n\t\t\t\t\tremoveWeeklyArticleCountsFromLocalStorage();\n\t\t\t\t}\n\t\t\t\tresolve(hasRequiredConsents);\n\t\t\t}\n\t\t});\n\t});\n};\n\nexport const hasOptedOutOfArticleCount = async (): Promise<boolean> => {\n\tconst hasCmpConsent = await hasCmpConsentForWeeklyArticleCount();\n\treturn !hasCmpConsent || hasArticleCountOptOutCookie();\n};\n\nexport const hasOptedOutOfWeeklyArticleCount = async (): Promise<boolean> => {\n\tconst hasCmpConsent = await hasCmpConsentForWeeklyArticleCount();\n\treturn !hasCmpConsent || hasArticleCountOptOutCookie();\n};\n\n// A hook to find out if a user has opted out of article counting\nexport const useHasOptedOutOfArticleCount = (): boolean | 'Pending' => {\n\tconst [hasOptedOut, setHasOptedOut] = useState<boolean | 'Pending'>(\n\t\t'Pending',\n\t);\n\n\tuseEffect(() => {\n\t\thasOptedOutOfArticleCount()\n\t\t\t.then(setHasOptedOut)\n\t\t\t.catch(() => setHasOptedOut(true));\n\t}, []);\n\n\treturn hasOptedOut;\n};\n\nexport const hasCmpConsentForBrowserId = (): Promise<boolean> =>\n\tnew Promise((resolve) => {\n\t\tif (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n\t\t\tresolve(true);\n\t\t}\n\t\tonConsentChange(({ usnat, tcfv2, aus }) => {\n\t\t\tif (usnat ?? aus) {\n\t\t\t\tresolve(true);\n\t\t\t} else if (tcfv2) {\n\t\t\t\tconst hasRequiredConsents =\n\t\t\t\t\tREQUIRED_CONSENTS_FOR_BROWSER_ID.every(\n\t\t\t\t\t\t(consent) => tcfv2.consents[consent],\n\t\t\t\t\t);\n\t\t\t\tresolve(hasRequiredConsents);\n\t\t\t}\n\t\t});\n\t});\n\nconst twentyMins = 20 * 60000;\nexport const withinLocalNoBannerCachePeriod = (): boolean =>\n\t!!storage.local.get(NO_RR_BANNER_KEY);\n\nexport const setLocalNoBannerCachePeriod = (now: number = Date.now()): void =>\n\tstorage.local.set(NO_RR_BANNER_KEY, true, now + twentyMins);\n\n// Returns true if banner was closed in the last hour\nconst ONE_HOUR_IN_MS = 1000 * 60 * 60;\nexport const recentlyClosedBanner = (\n\tlastClosedAt?: string,\n\tnow = Date.now(),\n): boolean => {\n\tif (lastClosedAt) {\n\t\treturn now - new Date(lastClosedAt).getTime() < ONE_HOUR_IN_MS;\n\t}\n\treturn false;\n};\n\nexport const getContributionsServiceUrl = (\n\tconfig:\n\t\t| ArticleDeprecated\n\t\t| DCRFrontType\n\t\t| DCRTagPageType\n\t\t| DCRNewslettersPageType,\n): string => process.env.SDC_URL ?? config.contributionsServiceUrl;\n\ntype PurchaseInfo = HeaderPayload['targeting']['purchaseInfo'];\nexport const getPurchaseInfo = (): PurchaseInfo => {\n\tconst purchaseInfoRaw = getCookie({\n\t\tname: 'GU_CO_COMPLETE',\n\t\tshouldMemoize: true,\n\t});\n\n\tif (!purchaseInfoRaw) {\n\t\treturn undefined;\n\t}\n\n\tlet purchaseInfo: PurchaseInfo;\n\n\ttry {\n\t\tpurchaseInfo = JSON.parse(decodeURIComponent(purchaseInfoRaw));\n\t} catch {} // eslint-disable-line no-empty -- silently handle error\n\n\treturn purchaseInfo;\n};\n","import { joinUrl } from '@guardian/libs';\n\nexport interface IdApiUserData {\n\tuser?: {\n\t\tprimaryEmailAddress?: string;\n\t\tprivateFields?: {\n\t\t\tbrazeUuid?: string;\n\t\t};\n\t};\n}\n\nexport interface IdApiUserIdentifiers {\n\tid: string;\n\tbrazeUuid: string;\n\tpuzzleId: string;\n\tgoogleTagId: string;\n}\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`getIdApiUserData | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst callApi = (url: string) => {\n\treturn fetch(url, {\n\t\tcredentials: 'include',\n\t})\n\t\t.then(checkForErrors)\n\t\t.then((response) => response.json());\n};\n\nconst cache: {\n\tidapiUserMeResponse?: Promise<IdApiUserData>;\n\tidapiUserIdentifiersResponse?: Promise<IdApiUserIdentifiers>;\n} = {};\n\nexport const getIdApiUserData = (ajaxUrl: string): Promise<IdApiUserData> => {\n\tif (!cache.idapiUserMeResponse) {\n\t\tconst url = joinUrl(ajaxUrl, 'user/me');\n\t\tcache.idapiUserMeResponse = callApi(url);\n\t}\n\treturn cache.idapiUserMeResponse;\n};\n\nexport const getIdapiUserIdentifiers = (\n\tajaxUrl: string,\n): Promise<IdApiUserIdentifiers> => {\n\tif (!cache.idapiUserIdentifiersResponse) {\n\t\tconst url = joinUrl(ajaxUrl, 'user/me/identifiers');\n\t\tcache.idapiUserIdentifiersResponse = callApi(url);\n\t}\n\treturn cache.idapiUserIdentifiersResponse;\n};\n","import { constructQuery } from './querystring';\n\ntype AuthenticationComponentId =\n\t| 'amp_sidebar_signin'\n\t| 'guardian_signin_header'\n\t| 'signin_to_comment'\n\t| 'register_to_comment'\n\t| 'signin_to_reply_comment';\n\ntype AuthenticationEventParams = {\n\tcomponentType: string;\n\tcomponentId: AuthenticationComponentId;\n\tviewId?: string;\n};\n\nexport const createAuthenticationEventParams = (\n\tcomponentId: AuthenticationComponentId,\n\tpageViewId?: string,\n): string => {\n\tconst params: AuthenticationEventParams = {\n\t\tcomponentType: 'identityauthentication',\n\t\tcomponentId,\n\t};\n\n\tif (pageViewId) {\n\t\tparams.viewId = pageViewId;\n\t}\n\n\treturn `componentEventParams=${encodeURIComponent(constructQuery(params))}`;\n};\n","export const nestedOphanComponents = (...components: string[]): string =>\n\tcomponents.join(' : ');\n","const constructQuery = (query: {\n\t[key: string]:\n\t\t| string\n\t\t| string[]\n\t\t| number\n\t\t| number[]\n\t\t| boolean\n\t\t| boolean[]\n\t\t| undefined;\n}): string =>\n\tObject.keys(query)\n\t\t.map((param: string) => {\n\t\t\tconst value = query[param] ?? 'undefined';\n\t\t\tconst queryValue = Array.isArray(value)\n\t\t\t\t? value.map((v) => encodeURIComponent(v)).join(',')\n\t\t\t\t: encodeURIComponent(value);\n\t\t\treturn `${param}=${queryValue}`;\n\t\t})\n\t\t.join('&');\n\nexport { constructQuery };\n","import * as emotionReact from '@emotion/react';\nimport * as emotionReactJsxRuntime from '@emotion/react/jsx-runtime';\nimport React from 'react';\n\nlet hasAutomatBeenSet = false;\n\nexport const setAutomat = (): void => {\n\tif (!hasAutomatBeenSet) {\n\t\twindow.guardian.automat = {\n\t\t\temotionReact,\n\t\t\temotionReactJsxRuntime,\n\t\t\treact: React,\n\t\t};\n\t\thasAutomatBeenSet = true;\n\t}\n};\n","import { isUndefined } from '@guardian/libs';\nimport type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\n/** **NOTE:** no parsing is done on the response, the type is merely asserted */\nconst fetcher =\n\t<T>(init?: RequestInit) =>\n\t(url: string): Promise<T> =>\n\t\tfetch(url, init)\n\t\t\t.then(checkForErrors)\n\t\t\t.then((res) => res.json());\n\ntype ApiResponse<T, E> = {\n\tloading: boolean;\n\tdata?: T;\n\terror?: E;\n};\n\n/**\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/).\n *\n * @template T assert the expected response type\n * @template E assert the potential error type\n * @param {string} url - The API endpoint. Falsy values will prevent any network requests\n * @param {SWRConfiguration<Data,Err>} options - The SWR config object - https://swr.vercel.app/docs/api#options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * @returns {ApiResponse<Data, Err>}\n * */\nexport const useApi = <Data = unknown, Err = Error>(\n\turl: string = '',\n\toptions?: SWRConfiguration<Data, Err>,\n\tinit?: RequestInit,\n): ApiResponse<Data, Err> => {\n\tconst { data, error } = useSWR<Data, Err>(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && isUndefined(error) && isUndefined(data),\n\t};\n};\n","import { useEffect, useState } from 'react';\nimport type { AuthStatus } from './identity';\nimport {\n\teitherInOktaTestOrElse,\n\tgetSignedInStatusWithCookies,\n\tgetSignedInStatusWithOkta,\n} from './identity';\n\n/**\n * A hook to find out if a user is signed in.\n * Returns `'Pending'` until status is known.\n * Always returns `'Pending'` during server-side rendering.\n * */\nexport const useIsSignedIn = (): boolean | 'Pending' => {\n\tconst authStatus = useAuthStatus();\n\tswitch (authStatus.kind) {\n\t\tcase 'Pending':\n\t\t\treturn 'Pending';\n\t\tcase 'SignedInWithCookies':\n\t\tcase 'SignedInWithOkta':\n\t\t\treturn true;\n\t\tcase 'SignedOutWithCookies':\n\t\tcase 'SignedOutWithOkta':\n\t\t\treturn false;\n\t}\n};\n\nexport const useAuthStatus = (): AuthStatus => {\n\tconst [authStatus, setAuthStatus] = useState<AuthStatus>({\n\t\tkind: 'Pending',\n\t});\n\n\tuseEffect(() => {\n\t\teitherInOktaTestOrElse(\n\t\t\t(oktaAuthState) => {\n\t\t\t\tsetAuthStatus(getSignedInStatusWithOkta(oktaAuthState));\n\t\t\t},\n\t\t\t() => setAuthStatus(getSignedInStatusWithCookies()),\n\t\t).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}, []);\n\n\treturn authStatus;\n};\n","import { storage } from '@guardian/libs';\n\nconst KEY = 'gu.brazeUserSet';\n\nconst hasCurrentBrazeUser = (): boolean => {\n\treturn storage.local.getRaw(KEY) === 'true';\n};\n\nconst setHasCurrentBrazeUser = (): void => {\n\tstorage.local.setRaw(KEY, 'true');\n};\n\nconst clearHasCurrentBrazeUser = (): void => {\n\tstorage.local.remove(KEY);\n};\n\nexport {\n\thasCurrentBrazeUser,\n\tsetHasCurrentBrazeUser,\n\tclearHasCurrentBrazeUser,\n};\n","import type { IdApiUserIdentifiers } from './getIdapiUserData';\nimport { getIdapiUserIdentifiers } from './getIdapiUserData';\nimport { eitherInOktaTestOrElse } from './identity';\n\nexport const getBrazeUuid = async (ajaxUrl: string): Promise<string | void> =>\n\t// TODO Okta: Remove either when at 100% in oktaVariant test, and just use idToken\n\teitherInOktaTestOrElse(\n\t\t(authState) => authState.idToken?.claims.braze_uuid,\n\t\t() =>\n\t\t\tgetIdapiUserIdentifiers(ajaxUrl)\n\t\t\t\t.then((data: IdApiUserIdentifiers) => data.brazeUuid)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\t\terror,\n\t\t\t\t\t\t'getBrazeUuid',\n\t\t\t\t\t);\n\t\t\t\t}),\n\t);\n","import { getConsentFor, onConsentChange } from '@guardian/libs';\n\nconst hasRequiredConsents = (): Promise<boolean> =>\n\tnew Promise((resolve, reject) => {\n\t\tonConsentChange((state) => {\n\t\t\ttry {\n\t\t\t\tresolve(getConsentFor('braze', state));\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t});\n\t});\n\nexport { hasRequiredConsents };\n","import { getBrazeUuid } from '../getBrazeUuid';\nimport { hasRequiredConsents } from './hasRequiredConsents';\n\ntype SuccessResult = {\n\tisSuccessful: true;\n\tdata: ResultData;\n};\n\ntype FailureResult = {\n\tisSuccessful: false;\n\tfailure: {\n\t\tfield: string;\n\t\tdata: any;\n\t};\n\tdata: ResultData;\n};\n\ntype DependenciesResult = SuccessResult | FailureResult;\n\ntype ResultData = { [key: string]: string | boolean };\n\ntype DependencyResult = {\n\tname: string;\n\tvalue: Promise<string | boolean | null | undefined | void>;\n};\nconst buildFailureResponse = (name: string, value: any, data: ResultData) => ({\n\tisSuccessful: false,\n\tfailure: {\n\t\tfield: name,\n\t\tdata: value,\n\t},\n\tdata,\n});\n\nconst buildDependencies = (\n\tisSignedIn: boolean,\n\tidApiUrl: string,\n): DependencyResult[] => {\n\treturn [\n\t\t{\n\t\t\tname: 'apiKey',\n\t\t\tvalue: Promise.resolve(window.guardian.config.page.brazeApiKey),\n\t\t},\n\t\t{\n\t\t\tname: 'brazeSwitch',\n\t\t\tvalue: Promise.resolve(window.guardian.config.switches.brazeSwitch),\n\t\t},\n\t\t{\n\t\t\tname: 'brazeUuid',\n\t\t\tvalue: isSignedIn ? getBrazeUuid(idApiUrl) : Promise.resolve(null),\n\t\t},\n\t\t{\n\t\t\tname: 'consent',\n\t\t\tvalue: hasRequiredConsents(),\n\t\t},\n\t\t{\n\t\t\tname: 'isNotPaidContent',\n\t\t\tvalue: Promise.resolve(!window.guardian.config.page.isPaidContent),\n\t\t},\n\t];\n};\n\nconst checkBrazeDependencies = async (\n\tisSignedIn: boolean,\n\tidApiUrl: string,\n): Promise<DependenciesResult> => {\n\tconst dependencies = buildDependencies(isSignedIn, idApiUrl);\n\n\tconst data: ResultData = {};\n\n\t// I think we could possibly clean this up a bit when we can use\n\t// Promise.allSettled reliably (it's not available in our current Node\n\t// version and polyfill.io doesn't have a polyfill yet).\n\tfor (const { name, value } of dependencies) {\n\t\ttry {\n\t\t\tconst result = await value;\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- TODO: Complex types, look into this further\n\t\t\tif (result) {\n\t\t\t\tdata[name] = result;\n\t\t\t} else {\n\t\t\t\treturn buildFailureResponse(name, result, data);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn buildFailureResponse(\n\t\t\t\tname,\n\t\t\t\te instanceof Error ? e.message : e,\n\t\t\t\tdata,\n\t\t\t);\n\t\t}\n\t}\n\n\treturn {\n\t\tisSuccessful: true,\n\t\tdata,\n\t};\n};\n\nexport { checkBrazeDependencies };\n","import type appboy from '@braze/web-sdk-core';\nimport { isUndefined, log } from '@guardian/libs';\n\nconst SDK_OPTIONS: appboy.InitializationOptions = {\n\tenableLogging: true,\n\tnoCookies: true,\n\tbaseUrl: 'https://sdk.fra-01.braze.eu/api/v3',\n\tsessionTimeoutInSeconds: 1,\n\tminimumIntervalBetweenTriggerActionsInSeconds: 0,\n\tdevicePropertyAllowlist: [],\n};\n\nconst initialiseAppboy = async (apiKey: string): Promise<typeof appboy> => {\n\tconst importedAppboy = (await import(\n\t\t/* webpackChunkName: \"braze-web-sdk-core\" */ '@braze/web-sdk-core'\n\t)) as unknown as typeof appboy;\n\n\timportedAppboy.setLogger((message) => log('tx', message));\n\timportedAppboy.initialize(apiKey, SDK_OPTIONS);\n\n\treturn importedAppboy;\n};\n\nconst getInitialisedAppboy = (() => {\n\tlet cache: Promise<typeof appboy>;\n\n\treturn (apiKey: string): Promise<typeof appboy> => {\n\t\tif (isUndefined(cache)) {\n\t\t\tcache = initialiseAppboy(apiKey);\n\t\t}\n\n\t\treturn cache;\n\t};\n})();\n\nexport { getInitialisedAppboy };\n","import type {\n\tBrazeCardsInterface,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport {\n\tBrazeCards,\n\tBrazeMessages,\n\tcanRenderBrazeMsg,\n\tLocalMessageCache,\n\tNullBrazeCards,\n\tNullBrazeMessages,\n} from '@guardian/braze-components/logic';\nimport { log, startPerformanceMeasure, storage } from '@guardian/libs';\nimport { getOphan } from '../../client/ophan/ophan';\nimport type { RenderingTarget } from '../../types/renderingTarget';\nimport {\n\tclearHasCurrentBrazeUser,\n\thasCurrentBrazeUser,\n\tsetHasCurrentBrazeUser,\n} from '../hasCurrentBrazeUser';\nimport { checkBrazeDependencies } from './checkBrazeDependencies';\nimport { getInitialisedAppboy } from './initialiseAppboy';\n\nconst maybeWipeUserData = async (\n\tapiKey?: string,\n\tbrazeUuid?: null | string,\n\tconsent?: boolean,\n\tbrazeSwitch?: boolean,\n): Promise<void> => {\n\tconst hasCurrentBrazeUserValue = hasCurrentBrazeUser();\n\tconst userHasLoggedOut = !brazeUuid && hasCurrentBrazeUserValue;\n\tconst userHasRemovedConsent = !consent && hasCurrentBrazeUserValue;\n\tconst brazeHasBeenDisabled = !brazeSwitch && hasCurrentBrazeUserValue;\n\n\tif (userHasLoggedOut || userHasRemovedConsent || brazeHasBeenDisabled) {\n\t\ttry {\n\t\t\tif (apiKey) {\n\t\t\t\tconst appboy = await getInitialisedAppboy(apiKey);\n\t\t\t\tappboy.wipeData();\n\t\t\t}\n\t\t\tLocalMessageCache.clear();\n\t\t\tclearHasCurrentBrazeUser();\n\t\t} catch (error) {\n\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t// @ts-expect-error\n\t\t\t\terror,\n\t\t\t\t'braze-maybeWipeUserData',\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const buildBrazeMessaging = async (\n\tidApiUrl: string,\n\tisSignedIn: boolean,\n\trenderingTarget: RenderingTarget,\n): Promise<{\n\tbrazeMessages: BrazeMessagesInterface;\n\tbrazeCards: BrazeCardsInterface;\n}> => {\n\tif (!storage.local.isAvailable()) {\n\t\t// we require local storage for using any message channel so that we know\n\t\t// when to clear up user data from the device on logout\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\tconst dependenciesResult = await checkBrazeDependencies(\n\t\tisSignedIn,\n\t\tidApiUrl,\n\t);\n\n\tif (!dependenciesResult.isSuccessful) {\n\t\tconst { failure, data } = dependenciesResult;\n\n\t\tlog(\n\t\t\t'tx',\n\t\t\t`Not attempting to show Braze messages. Dependency ${\n\t\t\t\tfailure.field\n\t\t\t} failed with ${String(failure.data)}.`,\n\t\t);\n\n\t\tawait maybeWipeUserData(\n\t\t\tdata.apiKey as string | undefined,\n\t\t\tdata.brazeUuid as string | null | undefined,\n\t\t\tdata.consent as boolean | undefined,\n\t\t\tdata.brazeSwitch as boolean | undefined,\n\t\t);\n\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\ttry {\n\t\tconst { endPerformanceMeasure } = startPerformanceMeasure(\n\t\t\t'tx',\n\t\t\t'braze-sdk-load',\n\t\t);\n\n\t\tconst appboy = await getInitialisedAppboy(\n\t\t\tdependenciesResult.data.apiKey as string,\n\t\t);\n\n\t\tconst sdkLoadTimeTaken = endPerformanceMeasure();\n\t\tconst ophan = await getOphan(renderingTarget);\n\t\tophan.record({\n\t\t\t// @ts-expect-error -- the relevant team should remove this call as it is dropped by Ophan\n\t\t\t// see https://github.com/guardian/dotcom-rendering/pull/11438 further context\n\t\t\tcomponent: 'braze-sdk-load-timing',\n\t\t\tvalue: sdkLoadTimeTaken,\n\t\t});\n\n\t\tconst errorHandler = (error: Error, desc: string) => {\n\t\t\twindow.guardian.modules.sentry.reportError(error, desc);\n\t\t};\n\n\t\tsetHasCurrentBrazeUser();\n\t\tappboy.changeUser(dependenciesResult.data.brazeUuid as string);\n\t\tappboy.openSession();\n\n\t\tconst brazeCards = window.guardian.config.switches.brazeContentCards\n\t\t\t? new BrazeCards(appboy, errorHandler)\n\t\t\t: new NullBrazeCards();\n\t\tconst brazeMessages = new BrazeMessages(\n\t\t\tappboy,\n\t\t\tLocalMessageCache,\n\t\t\terrorHandler,\n\t\t\tcanRenderBrazeMsg,\n\t\t);\n\t\treturn { brazeMessages, brazeCards };\n\t} catch {\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n};\n","import type {\n\tBrazeCardsInterface,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport {\n\tNullBrazeCards,\n\tNullBrazeMessages,\n} from '@guardian/braze-components/logic';\nimport useSWRImmutable from 'swr/immutable';\nimport type { RenderingTarget } from '../types/renderingTarget';\nimport { buildBrazeMessaging } from './braze/buildBrazeMessaging';\nimport { useAuthStatus } from './useAuthStatus';\n\n/**\n * Returns brazeMessaging as BrazeMessagesInterface and BrazeCardsInterface\n *\n * BrazeMessages is used to show single-impression messages (like ad impressions).\n * In contrast, BrazeCards can provide persistent user notifications.\n *\n * We're using useSWRImmutable to ensure this call is only made once\n * [doc]: https://swr.vercel.app/docs/revalidation#disable-automatic-revalidations\n */\nexport const useBraze = (\n\tidApiUrl: string,\n\trenderingTarget: RenderingTarget,\n): {\n\tbrazeMessages: BrazeMessagesInterface | undefined;\n\tbrazeCards: BrazeCardsInterface | undefined;\n} => {\n\tconst authStatus = useAuthStatus();\n\tconst isSignedIn =\n\t\tauthStatus.kind === 'SignedInWithOkta' ||\n\t\tauthStatus.kind === 'SignedInWithCookies';\n\n\tconst { data, error } = useSWRImmutable(\n\t\tauthStatus.kind !== 'Pending' ? 'braze-message' : null,\n\t\t() => buildBrazeMessaging(idApiUrl, isSignedIn, renderingTarget),\n\t);\n\n\tif (error) {\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\treturn {\n\t\tbrazeMessages: data?.brazeMessages,\n\t\tbrazeCards: data?.brazeCards,\n\t};\n};\n","import { type CountryCode, isNonNullable } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport { getLocaleCode } from './getCountryCode';\n\nexport const useCountryCode = (feature: string): CountryCode | undefined => {\n\tconst [countryCode, setCountryCode] = useState<CountryCode>();\n\n\tuseEffect(() => {\n\t\tgetLocaleCode()\n\t\t\t.then((cc) => {\n\t\t\t\tif (isNonNullable(cc)) setCountryCode(cc);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconst msg = `Error fetching country code: ${String(e)}`;\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\tfeature,\n\t\t\t\t);\n\t\t\t});\n\t}, [feature]);\n\n\treturn countryCode;\n};\n","import { useEffect, useState } from 'react';\nimport { getOphan } from '../client/ophan/ophan';\nimport type { RenderingTarget } from '../types/renderingTarget';\n\nexport const usePageViewId = (\n\trenderingTarget: RenderingTarget,\n): string | undefined => {\n\tconst [id, setId] = useState<string>();\n\n\tuseEffect(() => {\n\t\tgetOphan(renderingTarget)\n\t\t\t.then(({ pageViewId }) => {\n\t\t\t\tsetId(pageViewId);\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tsetId('no-page-view-id-available');\n\t\t\t});\n\t}, [renderingTarget]);\n\n\treturn id;\n};\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n","const breakpoints = {\n  desktop: 980,\n  leftCol: 1140,\n  mobile: 320,\n  mobileLandscape: 480,\n  mobileMedium: 375,\n  phablet: 660,\n  tablet: 740,\n  wide: 1300\n};\n\nexport { breakpoints };\n","const visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\n\nexport { visuallyHidden };\n","import { breakpoints } from '../__generated__/breakpoints.js';\n\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n  mobile: minWidth(breakpoints.mobile),\n  mobileMedium: minWidth(breakpoints.mobileMedium),\n  mobileLandscape: minWidth(breakpoints.mobileLandscape),\n  phablet: minWidth(breakpoints.phablet),\n  tablet: minWidth(breakpoints.tablet),\n  desktop: minWidth(breakpoints.desktop),\n  leftCol: minWidth(breakpoints.leftCol),\n  wide: minWidth(breakpoints.wide)\n};\nconst until = {\n  mobile: maxWidth(breakpoints.mobile),\n  mobileMedium: maxWidth(breakpoints.mobileMedium),\n  mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n  phablet: maxWidth(breakpoints.phablet),\n  tablet: maxWidth(breakpoints.tablet),\n  desktop: maxWidth(breakpoints.desktop),\n  leftCol: maxWidth(breakpoints.leftCol),\n  wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n  mobile: {\n    and: {\n      mobileMedium: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileMedium\n      ),\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobile,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileMedium: {\n    and: {\n      mobileLandscape: minWidthMaxWidth(\n        breakpoints.mobileMedium,\n        breakpoints.mobileLandscape\n      ),\n      phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n      tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n    }\n  },\n  mobileLandscape: {\n    and: {\n      phablet: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.phablet\n      ),\n      tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n      desktop: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.desktop\n      ),\n      leftCol: minWidthMaxWidth(\n        breakpoints.mobileLandscape,\n        breakpoints.leftCol\n      ),\n      wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n    }\n  },\n  phablet: {\n    and: {\n      tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n      desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n    }\n  },\n  tablet: {\n    and: {\n      desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n      leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n    }\n  },\n  desktop: {\n    and: {\n      leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n      wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n    }\n  },\n  leftCol: {\n    and: {\n      wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n    }\n  }\n};\n\nexport { between, from, until };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { until, from } from '../../foundations/mq/mq.js';\n\nconst Hide = ({\n  children,\n  above,\n  // deprecated\n  below,\n  // deprecated\n  from: from$1 = above,\n  until: until$1 = below\n}) => {\n  let whenToHide;\n  if (until$1) {\n    whenToHide = css`\n\t\t\t${until[until$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n  }\n  if (from$1) {\n    whenToHide = css`\n\t\t\t${whenToHide}\n\t\t\t${from[from$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n  }\n  return /* @__PURE__ */ jsx(\"span\", { css: whenToHide, children });\n};\n\nexport { Hide };\n"],"names":["reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","Object","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","value","type","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","module","exports","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","remainingWait","debounced","isInvoking","arguments","this","leadingEdge","cancel","clearTimeout","flush","grid","css","from","mobileLandscape","tablet","desktop","gridBeyondDesktop","leftCol","wide","Grid","style","hasPageSkin","children","jsx","topBarLinkStyles","textSansBold17","themePalette","space","TopBarLink","href","dataLinkName","a","data-link-name","hasTargetAndMessage","card","Boolean","extras","message","target","ophanLabel","addNotificationsToDropdownLinks","links","notifications","notificationsByTarget","reduce","groupings","notification","concat","groupNotificationsByTarget","map","link","newNotifications","id","length","_path","_extends","assign","bind","n","e","t","r","hasOwnProperty","props","width","height","viewBox","d","myAccountLinkStyles","getZIndex","SignIn","idUrl","createAuthenticationEventParams","nestedOphanComponents","ProfileIcon","dropDownOverrides","until","SignedInWithNotifications","userId","mmaUrl","discussionApiUrl","authStatus","data","error","useApi","kind","joinUrl","credentials","userProfile","idToken","claims","legacy_identity_id","identityLinks","url","title","replaceAll","buildIdentityLinks","identityLinksWithNotifications","div","Dropdown","label","cssOverrides","SignedIn","idApiUrl","renderingTarget","brazeCards","useBraze","brazeNotifications","setBrazeNotifications","useState","useEffect","cardsToNotifications","getCardsForProfileBadge","filter","logImpression","TopBarMyAccount","useConfig","topBarStyles","topBarLinkContainerStyles","alignLeftStyles","verticalDividerStyles","TopBarLinkContainer","alignLeft","showVerticalDivider","isLastChild","paddingRight","TopBar","editionId","contributionsServiceUrl","useAuthStatus","pageViewId","usePageViewId","referrerUrl","setReferrerUrl","window","location","origin","pathname","printSubscriptionsHref","addTrackingCodesToUrl","base","componentType","componentId","TopBarSupport","Hide","includes","headerStyles","ReaderRevenueLinksRemote","countryCode","supportHeaderResponse","setSupportHeaderResponse","SupportHeader","setSupportHeader","isSignedIn","useIsSignedIn","isUndefined","hideSupportMessagingForUser","shouldHideSupportMessaging","setAutomat","requestData","tracking","ophanPageId","platformId","clientName","targeting","showSupportMessaging","mvtId","Number","getCookie","name","shouldMemoize","purchaseInfo","getPurchaseInfo","getHeader","then","response","headerModule","catch","msg","String","console","log","guardian","modules","sentry","reportError","Error","submitComponentEvent","componentEvent","useCountryCode","campaignCode","abTest","search","acquisitionData","source","referrerPageviewId","params","REFPVID","INTCMP","JSON","stringify","constructQuery","HIDE_SUPPORT_MESSAGING_COOKIE","RECURRING_CONTRIBUTOR_COOKIE","SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE","NO_RR_BANNER_KEY","hasCookie","hasSupporterCookie","lastContributionDate","contributionDateFromSupport","getLastOneOffContributionTimestamp","to","diffMs","floor","dateDiffDays","isRecentOneOffContributor","REQUIRED_CONSENTS_FOR_ARTICLE_COUNT","REQUIRED_CONSENTS_FOR_BROWSER_ID","hasArticleCountOptOutCookie","hasCmpConsentForWeeklyArticleCount","Promise","resolve","onConsentChange","usnat","tcfv2","aus","hasRequiredConsents","every","consent","consents","storage","local","remove","hasOptedOutOfArticleCount","async","hasOptedOutOfWeeklyArticleCount","useHasOptedOutOfArticleCount","hasOptedOut","setHasOptedOut","hasCmpConsentForBrowserId","withinLocalNoBannerCachePeriod","get","setLocalNoBannerCachePeriod","set","recentlyClosedBanner","lastClosedAt","getTime","purchaseInfoRaw","parse","decodeURIComponent","checkForErrors","ok","statusText","status","callApi","fetch","json","cache","getIdApiUserData","ajaxUrl","idapiUserMeResponse","getIdapiUserIdentifiers","idapiUserIdentifiersResponse","viewId","encodeURIComponent","components","join","query","keys","param","queryValue","Array","isArray","v","hasAutomatBeenSet","automat","emotionReact","emotionReactJsxRuntime","react","React","init","useSWR","res","fetcher","loading","setAuthStatus","eitherInOktaTestOrElse","oktaAuthState","getSignedInStatusWithOkta","getSignedInStatusWithCookies","KEY","getBrazeUuid","authState","braze_uuid","brazeUuid","buildFailureResponse","isSuccessful","failure","field","SDK_OPTIONS","enableLogging","noCookies","baseUrl","sessionTimeoutInSeconds","minimumIntervalBetweenTriggerActionsInSeconds","devicePropertyAllowlist","getInitialisedAppboy","apiKey","importedAppboy","setLogger","initialize","initialiseAppboy","buildBrazeMessaging","isAvailable","brazeMessages","NullBrazeMessages","NullBrazeCards","dependenciesResult","dependencies","config","page","brazeApiKey","switches","brazeSwitch","reject","state","getConsentFor","isPaidContent","buildDependencies","checkBrazeDependencies","hasCurrentBrazeUserValue","getRaw","wipeData","LocalMessageCache","clear","maybeWipeUserData","endPerformanceMeasure","startPerformanceMeasure","appboy","sdkLoadTimeTaken","getOphan","record","component","errorHandler","desc","setRaw","changeUser","openSession","brazeContentCards","BrazeCards","BrazeMessages","canRenderBrazeMsg","useSWRImmutable","feature","setCountryCode","getLocaleCode","cc","isNonNullable","setId","palette","colour","breakpoints","mobile","mobileMedium","phablet","visuallyHidden","minWidth","from2","maxWidth","until2","minWidthMaxWidth","between","and","whenToHide","above","below","from$1","until$1"],"sourceRoot":""}