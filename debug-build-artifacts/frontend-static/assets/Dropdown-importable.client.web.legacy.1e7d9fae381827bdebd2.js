(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[2118],{53348:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Dropdown:()=>_});var i=n(22820),o=n(50484),r=n(24017),a=n(65656),l=n(81477),c=n(71653),s=n(50641),d=n(72657),f=n(67400),u=n(85918),p=n(24755),b=n(88528),m=n(95131),h=n(7693);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var x=(0,r.css)("z-index:",(0,p.f)("dropdown"),";list-style:none;li::before{content:'\\200B';display:block;height:0;width:0;}background-color:white;padding:6px 0;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.1);",l.TG.tablet,"{position:fixed;border-radius:0;top:32px;left:0;right:0;width:auto;max-height:calc(100% - 50px);overflow:auto;}",l.HT.tablet,"{position:absolute;top:100%;width:200px;border-radius:3px;}"),g={name:"bjn8wh",styles:"position:relative"},y={name:"4zleql",styles:"display:block"},w={name:"eivff4",styles:"display:none"},k=(0,r.css)(c.PSs,";color:",s.M.neutral[7],";transition:color 80ms ease-out;margin:-1px 0 0 0;text-decoration:none;display:flex;align-items:flex-start;justify-content:space-between;padding:10px 18px 15px 30px;:hover{background-color:",s.M.neutral[93],";text-decoration:none;}:focus{text-decoration:underline;}:before{content:'';border-top:1px solid ",s.M.neutral[86],";display:block;position:absolute;top:0px;left:30px;right:0px;}"),j=(0,r.css)("font-weight:bold;:after{content:'';border:2px solid ",s.M.news[400],";border-top:0px;border-right:0px;position:absolute;top:19px;left:12px;width:10px;height:4px;transform:rotate(-45deg);}"),C={name:"1mx8uxy",styles:":before{content:none;}"},M=(0,r.css)(c.NA0,";display:block;cursor:pointer;background:none;border:none;line-height:1.2;color:",s.M.neutral[100],";transition:color 80ms ease-out;padding:0px 10px 6px 5px;margin:1px 0 0;text-decoration:none;position:relative;:hover{color:",s.M.brandAlt[400],";:after{transform:translateY(0) rotate(45deg);}}:after{content:'';display:inline-block;width:5px;height:5px;transform:translateY(-2px) rotate(45deg);border:1px solid currentColor;border-left:transparent;border-top:transparent;margin-left:5px;vertical-align:middle;transition:transform 250ms ease-out;}"),A={name:"1baa2f8",styles:":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);}"},E=s.M.error[400],L=(0,r.css)("background-color:",E,";color:",s.M.neutral[100],";text-align:center;display:flex;justify-content:center;align-items:center;",c.WuG,";line-height:1;flex-shrink:0;"),T={name:"1l2bf3g",styles:"position:absolute;top:0;left:0;margin-left:-10px;margin-top:-3px"},I=(0,r.css)(c.Ikj,";"),S=function(e){var t=e.diameter;return(0,o.jsx)("div",{css:L,style:{width:"".concat(t,"px"),height:"".concat(t,"px"),borderRadius:"".concat(t,"px")},children:(0,o.jsx)("span",{children:"!"})})},O=function(e){var t=e.notification.message;return(0,o.jsx)("div",{css:I,children:t})},N=function(e){var t,n=e.link,r=e.index,l=(0,f.useMemo)((function(){return function(e){if(e.notifications&&e.notifications.length>0)return{componentType:"RETENTION_HEADER",id:e.id,labels:e.notifications.map((function(e){return e.ophanLabel}))}}(n)}),[n]),c=(0,h.U)().renderingTarget,s=(0,b.E)({debounce:!0}),d=(0,i.A)(s,2),p=d[0],x=d[1],y=(0,f.useState)(!1),w=(0,i.A)(y,2),M=w[0],A=w[1];(0,f.useEffect)((function(){if(p&&l&&n.notifications&&n.notifications.length>0&&!M){A(!0);var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(n.notifications);try{for(t.s();!(e=t.n()).done;){var i,o=e.value;null===(i=o.logImpression)||void 0===i||i.call(o)}}catch(e){t.e(e)}finally{t.f()}(0,u.u_)({component:l,action:"VIEW"},c)}}),[p,l,n.notifications,M,n.id,c]),(0,m.H)((function(){l&&(0,u.u_)({component:l,action:"INSERT"},c)}),[l]);var E=l?function(e,t){var n=encodeURIComponent(JSON.stringify({source:"GUARDIAN_WEB",componentId:t.id,componentType:t.componentType,campaignCode:t.id,referrerPageviewId:window.guardian.config.ophan.pageViewId,referrerUrl:window.location.origin+window.location.pathname,labels:t.labels})),i=e.includes("?")?"&":"?";return"".concat(e).concat(i,"acquisitionData=").concat(n)}(n.url,l):n.url,L=!(0,a.b)(n.notifications)&&n.notifications.length>0;return(0,o.jsx)("li",{css:g,ref:x,children:(0,o.jsxs)("a",{href:E,css:[k,!!n.isActive&&j,0===r&&C],"data-link-name":n.dataLinkName,onClick:function(){l&&(0,u.u_)({component:l,action:"CLICK"},c)},children:[(0,o.jsxs)("div",{children:[n.title,null===(t=n.notifications)||void 0===t?void 0:t.map((function(e){return(0,o.jsx)(O,{notification:e},e.id)}))]}),L&&(0,o.jsx)(S,{diameter:22})]})},n.title)},_=function(e){var t=e.id,n=e.label,a=e.links,l=e.dataLinkName,c=e.cssOverrides,s=e.children,u=(0,f.useState)(!1),p=(0,i.A)(u,2),b=p[0],m=p[1],h=(0,f.useState)(!0),v=(0,i.A)(h,2),g=v[0],E=v[1],L=(0,f.useState)(null),I=(0,i.A)(L,2),O=I[0],_=I[1];(0,f.useEffect)((function(){E(!1)}),[]),(0,f.useEffect)((function(){var e=function(e){b&&"Escape"===e.code&&m(!1)};return document.addEventListener("keydown",e,!1),function(){return document.removeEventListener("keydown",e)}}),[b]),(0,f.useEffect)((function(){if(b&&O){var e=function(e){O!==e.target&&(e.stopPropagation(),m(!1))};return document.addEventListener("click",e,!1),function(){return document.removeEventListener("click",e)}}}),[b,O]);var D="dropbox-id-".concat(t),H="checkbox-id-".concat(t),W=function(e){return e.reduce((function(e,t){var n,i;return e+(null!==(n=null===(i=t.notifications)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}),0)}(a);return(0,o.jsx)(o.Fragment,{children:g?(0,o.jsxs)("div",{css:(0,r.css)("#".concat(H),"{",d.Q,";}","#".concat(D),"{display:none;}","#".concat(H),":checked+","#".concat(D),"{display:block;}"),children:[(0,o.jsx)("label",{htmlFor:H,css:[M,c],children:n}),(0,o.jsx)("input",{type:"checkbox",id:H,"aria-checked":"false",tabIndex:-1}),(0,o.jsx)("ul",{id:D,css:[x,c],children:a.map((function(e,t){return(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:e.url,css:[k,!!e.isActive&&j,0===t&&C],"data-link-name":e.dataLinkName,children:e.title})},e.title)}))})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",{onClick:function(){m(!b)},css:[M,c,b&&A],"aria-expanded":b?"true":"false","data-link-name":l,"data-testid":"dropdown-button",type:"button",ref:_,children:[n,W>0&&(0,o.jsx)("div",{css:T,children:(0,o.jsx)(S,{diameter:18})})]}),(0,o.jsx)("div",{css:b?y:w,children:s?(0,o.jsx)(o.Fragment,{children:s}):(0,o.jsx)("ul",{css:[x,c],"data-testid":"dropdown-options",children:a.map((function(e,t){return(0,o.jsx)(N,{link:e,index:t},e.id)}))})})]})})}},24755:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var i=["lightbox","youTubeFullscreen","sticky-video-button","sticky-video","banner","dropdown","burger","mastheadVeggieBurgerExpandedMobile","expanded-veggie-menu-wrapper","expanded-veggie-menu","fullPageInteractiveHeaderWrapper","mobileSticky","stickyAdWrapperLabsHeader","stickyAdWrapper","stickyAdWrapperNav","mastheadMyAccountDropdown","mastheadEditionDropdown","editionDropdown","summaryDetails","toast","onwardsCarousel","myAccountDropdown","searchHeaderLink","TheGuardian","editionSwitcherBanner","expandableMarketingCardOverlay","tableOfContents","articleHeadline","immersiveBlackBox","bodyArea","rightColumnArea","mainMedia","card-nested-link","card-link"],o=function(e){var t=i.indexOf(e);return-1===t?-1:i.length-t}},88528:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var i=n(22820),o=n(44165),r=n.n(o),a=n(67400),l=function(e){var t,n=(0,a.useState)(!1),o=(0,i.A)(n,2),l=o[0],c=o[1],s=(0,a.useState)(null!==(t=e.node)&&void 0!==t?t:null),d=(0,i.A)(s,2),f=d[0],u=d[1],p=(0,a.useRef)(null),b=(0,a.useCallback)((function(t){var n=(0,i.A)(t,1)[0];n&&(n.isIntersecting?c(!0):e.repeat&&c(!1))}),[e.repeat]),m=e.debounce?r()(b,200):b;return(0,a.useEffect)((function(){e.node&&u(e.node)}),[e.node]),(0,a.useEffect)((function(){if(f&&"IntersectionObserver"in window)return p.current=new window.IntersectionObserver(m,e),p.current.observe(f),function(){var e;return null===(e=p.current)||void 0===e?void 0:e.disconnect()}}),[f,e,m]),(0,a.useEffect)((function(){var t;!e.repeat&&l&&(null===(t=p.current)||void 0===t||t.disconnect())}),[l,e.repeat]),[l,u]}},95131:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var i=n(22820),o=n(65656),r=n(67400),a=function(e,t){var n=(0,r.useState)(!1),a=(0,i.A)(n,2),l=a[0],c=a[1],s=t.every((function(e){return!(0,o.b)(e)}));(0,r.useEffect)((function(){!l&&s&&(e(),c(!0))}),[l,s,e])}},44165:(e,t,n)=>{var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,d=c||s||Function("return this")(),f=Object.prototype.toString,u=Math.max,p=Math.min,b=function(){return d.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=r.test(e);return n||a.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i,o,r,a,l,c,s=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=i,r=o;return i=o=void 0,s=t,a=e.apply(r,n)}function g(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-s>=r}function y(){var e=b();if(g(e))return w(e);l=setTimeout(y,function(e){var n=t-(e-c);return f?p(n,r-(e-s)):n}(e))}function w(e){return l=void 0,v&&i?x(e):(i=o=void 0,a)}function k(){var e=b(),n=g(e);if(i=arguments,o=this,c=e,n){if(void 0===l)return function(e){return s=e,l=setTimeout(y,t),d?x(e):a}(c);if(f)return l=setTimeout(y,t),x(c)}return void 0===l&&(l=setTimeout(y,t)),a}return t=h(t)||0,m(n)&&(d=!!n.leading,r=(f="maxWait"in n)?u(h(n.maxWait)||0,t):r,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==l&&clearTimeout(l),s=0,i=c=o=l=void 0},k.flush=function(){return void 0===l?a:w(b())},k}},84782:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var i={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},72657:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var i="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},81477:(e,t,n)=>{"use strict";n.d(t,{HT:()=>l,TG:()=>c,Tq:()=>s});var i=n(84782),o=function(e){return"@media (min-width: ".concat("".concat(e,"px"),")")},r=function(e){return"@media (max-width: ".concat("".concat(e-.1,"px"),")")},a=function(e,t){return"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ","".concat(t-.1,"px"),")")},l={mobile:o(i.f.mobile),mobileMedium:o(i.f.mobileMedium),mobileLandscape:o(i.f.mobileLandscape),phablet:o(i.f.phablet),tablet:o(i.f.tablet),desktop:o(i.f.desktop),leftCol:o(i.f.leftCol),wide:o(i.f.wide)},c={mobile:r(i.f.mobile),mobileMedium:r(i.f.mobileMedium),mobileLandscape:r(i.f.mobileLandscape),phablet:r(i.f.phablet),tablet:r(i.f.tablet),desktop:r(i.f.desktop),leftCol:r(i.f.leftCol),wide:r(i.f.wide)},s={mobile:{and:{mobileMedium:a(i.f.mobile,i.f.mobileMedium),mobileLandscape:a(i.f.mobile,i.f.mobileLandscape),phablet:a(i.f.mobile,i.f.phablet),tablet:a(i.f.mobile,i.f.tablet),desktop:a(i.f.mobile,i.f.desktop),leftCol:a(i.f.mobile,i.f.leftCol),wide:a(i.f.mobileMedium,i.f.wide)}},mobileMedium:{and:{mobileLandscape:a(i.f.mobileMedium,i.f.mobileLandscape),phablet:a(i.f.mobileMedium,i.f.phablet),tablet:a(i.f.mobileMedium,i.f.tablet),desktop:a(i.f.mobileMedium,i.f.desktop),leftCol:a(i.f.mobileMedium,i.f.leftCol),wide:a(i.f.mobileMedium,i.f.wide)}},mobileLandscape:{and:{phablet:a(i.f.mobileLandscape,i.f.phablet),tablet:a(i.f.mobileLandscape,i.f.tablet),desktop:a(i.f.mobileLandscape,i.f.desktop),leftCol:a(i.f.mobileLandscape,i.f.leftCol),wide:a(i.f.mobileLandscape,i.f.wide)}},phablet:{and:{tablet:a(i.f.phablet,i.f.tablet),desktop:a(i.f.phablet,i.f.desktop),leftCol:a(i.f.phablet,i.f.leftCol),wide:a(i.f.phablet,i.f.wide)}},tablet:{and:{desktop:a(i.f.tablet,i.f.desktop),leftCol:a(i.f.tablet,i.f.leftCol),wide:a(i.f.tablet,i.f.wide)}},desktop:{and:{leftCol:a(i.f.desktop,i.f.leftCol),wide:a(i.f.desktop,i.f.wide)}},leftCol:{and:{wide:a(i.f.leftCol,i.f.wide)}}}}}]);
//# sourceMappingURL=Dropdown-importable.client.web.legacy.1e7d9fae381827bdebd2.js.map