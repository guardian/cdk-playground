"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[8047],{94471:(t,e,n)=>{n.r(e),n.d(e,{DiscussionWeb:()=>b});var r=n(50484),o=n(88482),i=n(85770),c=n(67400),s=n(38679),u=n(97656),a=n(14374),d=n(7543),f=n(53769),p=n(31957);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const b=t=>{const e=(0,d.p)(),n=(0,a.w)(),[b,h]=(0,c.useState)();return(0,c.useEffect)((()=>{"Pending"!==n.kind&&"SignedOutWithCookies"!==n.kind&&"SignedOutWithOkta"!==n.kind&&(async t=>{let{discussionApiUrl:e,authStatus:n}=t;const r=await fetch((0,o.w)(e,"profile/me?strict_sanctions_check=false"),(0,u.Kv)(n)).then((t=>t.json())).catch((()=>{}));if(!(0,i.G)(r))return;if(!(0,i.G)(r.userProfile))return;const c=r.userProfile;return c.badge.some((t=>"Staff"===t.name))?{kind:"Staff",profile:c,onComment:(0,s.Im)(n),onReply:(0,s.Tm)(n),onRecommend:(0,s.vh)(n),onPick:(0,s.XH)(n),onUnpick:(0,s.KW)(n),addUsername:(0,s.S)(n),reportAbuse:(0,s.Vf)(n)}:{kind:"Reader",profile:c,onComment:(0,s.Im)(n),onReply:(0,s.Tm)(n),onRecommend:(0,s.vh)(n),addUsername:(0,s.S)(n),reportAbuse:(0,s.Vf)(n)}})({discussionApiUrl:t.discussionApiUrl,authStatus:n}).then(h).catch((()=>{}))}),[n,t.discussionApiUrl]),e?(0,r.jsx)(f.d,(g=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){l(t,e,n[e])}))}return t}({user:b},t),m=null!=(m={reportAbuseUnauthenticated:(0,s.Vf)(void 0)})?m:{},Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(m)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(m)).forEach((function(t){Object.defineProperty(g,t,Object.getOwnPropertyDescriptor(m,t))})),g)):(0,r.jsx)(p.O,{height:324});var g,m}},31957:(t,e,n)=>{n.d(e,{O:()=>g});var r=n(50484),o=n(24017),i=n(9474),c=n(77907),s=n(96378);function u(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(){const t=u(["\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n"]);return a=function(){return t},t}function d(){const t=u(["\n\tanimation: "," 2s infinite linear;\n\tbackground: linear-gradient(\n\t\tto right,\n\t\t"," 4%,\n\t\twhite 25%,\n\t\t"," 36%\n\t);\n\tbackground-size: 1500px 100%;\n"]);return d=function(){return t},t}function f(){const t=u(["\n\t\t\tflex-grow: 1;\n\t\t"]);return f=function(){return t},t}function p(){const t=u(["\n\t\t\t\tmin-height: ","px;\n\t\t\t\twidth: ",";\n\t\t\t\tmargin-bottom: ","px;\n\t\t\t\tmargin-left: ","px;\n\t\t\t\tbackground-color: ",";\n\n\t\t\t\t","\n\t\t\t"]);return p=function(){return t},t}const l=c.M.neutral[93],b=(0,o.keyframes)(a()),h=t=>(0,o.css)(d(),b,t,t),g=t=>{let{height:e,rootId:n,width:c,spaceBelow:u,spaceLeft:a,shouldShimmer:d=!0,backgroundColor:b=l}=t;return(0,r.jsx)("div",{id:n,css:(0,o.css)(f()),"data-name":"placeholder",children:(0,r.jsx)("div",{css:(0,o.css)(p(),e,(0,i.b)(c)?"100%":"".concat(c,"px"),u&&s.x[u],a&&s.x[a],b,d&&h(b))})})}},14374:(t,e,n)=>{n.d(e,{T:()=>i,w:()=>c});var r=n(67400),o=n(97656);const i=()=>{switch(c().kind){case"Pending":return"Pending";case"SignedInWithCookies":case"SignedInWithOkta":return!0;case"SignedOutWithCookies":case"SignedOutWithOkta":return!1}},c=()=>{const[t,e]=(0,r.useState)({kind:"Pending"});return(0,r.useEffect)((()=>{(0,o.kU)((t=>{e((0,o.dx)(t))}),(()=>e((0,o.Hn)()))).catch((t=>{console.error(t)}))}),[]),t}},7543:(t,e,n)=>{n.d(e,{p:()=>o});var r=n(67400);const o=()=>{const[t,e]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{e(!0)}),[]),t}}}]);
//# sourceMappingURL=DiscussionWeb-importable.client.web.c874098876c0359962b2.js.map