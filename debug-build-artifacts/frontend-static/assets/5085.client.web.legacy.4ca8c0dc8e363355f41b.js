(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[5085],{72341:(e,t,n)=>{"use strict";n.d(t,{d:()=>l,z:()=>d});var r=n(62335),o=n(22820),c=n(50484),i=n(42702),a=n(67400),u=n(88528),s=n(21128);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e){return function(t){var n,r=t.content,i=t.mobileContent,f=t.tracking,l=t.countryCode,d=t.submitComponentEvent,p=t.numArticles,b=function(e){return(0,s.Bl)(e.baseUrl)?{ctaUrl:(0,s.qU)(e.baseUrl,f),ctaText:e.text}:{ctaUrl:(0,s.QP)(e.baseUrl,f,p,l),ctaText:e.text}},v=r.primaryCta?b(r.primaryCta):null,m=r.secondaryCta?b(r.secondaryCta):null,g={heading:r.heading,subheading:r.subheading,primaryCta:v,secondaryCta:m},y=null!=i&&i.primaryCta?b(i.primaryCta):v,h=null!=i&&i.secondaryCta?b(i.secondaryCta):m,O=i?{heading:i.heading,subheading:i.subheading,primaryCta:y,secondaryCta:h}:void 0,j=f.abTestName,T=f.abTestVariant,w=f.componentType,C=f.campaignCode,P=(0,a.useCallback)((function(e){d&&d({component:{componentType:w,id:C,campaignCode:C},action:e,abTest:{name:j,variant:T}})}),[j,T,C,w,d]),I=(0,u.E)({debounce:!0,threshold:0}),A=(0,o.A)(I,2),x=A[0],E=A[1];return(0,a.useEffect)((function(){x&&P("VIEW")}),[x,P]),(0,a.useEffect)((function(){P("INSERT")}),[P]),(0,c.jsx)("div",{ref:E,children:(0,c.jsx)(e,{content:g,mobileContent:O,onCtaClick:(n=C,function(){var e=(0,s.Mf)(f,"".concat(n," : cta"));d&&d(e)})})})}},d=function(e){return function(t){if(function(e){return i.n5.safeParse(e).success}(t)){var n=l(e);return(0,c.jsx)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}return(0,c.jsx)(c.Fragment,{})}}},21128:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>h,Mf:()=>w,Nl:()=>v,Q7:()=>m,QP:()=>p,R9:()=>y,Tv:()=>d,hy:()=>g,m1:()=>l,qU:()=>O,rx:()=>P,t0:()=>C});var r=n(31880),o=n(62335),c=n(22820),i=n(65656),a=n(42702);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t,n,r,o){var a=function(e,t,n,r,o){var c=[{name:e,variant:t}];return n&&c.push({name:n.testName,variant:n.variantName}),r&&o&&c.push({name:r,variant:o,testType:"AMOUNTS_TEST"}),c}(t.abTestName,t.abTestVariant,t.targetingAbTest,r,o),u=function(e,t){return encodeURIComponent(JSON.stringify({source:e.platformId,componentId:e.campaignCode,componentType:e.componentType,campaignCode:e.campaignCode,abTests:t,referrerPageviewId:e.ophanPageId,referrerUrl:e.referrerUrl,isRemote:!0,labels:e.labels}))}(t,a),s=function(e,t,n){var r={REFPVID:e.ophanPageId||"not_found",INTCMP:e.campaignCode||"",acquisitionData:t,numArticles:n||0};return Object.entries(r).filter((function(e){var t=(0,c.A)(e,2)[1];return!(0,i.b)(t)})).map((function(e){var t=(0,c.A)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&")}(t,u,null!=n?n:0),f=e.includes("?");return"".concat(e).concat(f?"&":"?").concat(s)},l=function(e,t,n){return f(function(e,t){switch(t.product){case"Contribution":case"SupporterPlus":return function(e,t){var n=t.region,r=t.amount,o=t.billingPeriod;return"".concat(e,"/").concat(n,"/contribute/checkout?selected-amount=").concat(r,"&selected-contribution-type=").concat(o)}(e,t);default:return e}}(e,t),n)},d=function(e){return/\bsupport\./.test(e)},p=function(e,t,n,r,o,c){if(!d(e))return e;var i=(0,a.u4)(e,r);return f(i,t,n,o,c)},b=/href="(.*?)"/g,v=function(e,t,n,r){var o=T(t,"body-link");return e.replace(b,(function(e,t){return'href="'.concat(p(t,o,n,r),'"')}))},m=function(e,t,n){var r="selected-contribution-type=".concat(t).concat(void 0!==n?"&selected-amount=".concat(n):""),o=e.includes("?");return"".concat(e).concat(o?"&":"?").concat(r)},g=function(e){var t=e.includes("?");return"".concat(e).concat(t?"&":"?").concat("oneTime")},y=function(e,t,n,r){var o="product=".concat(t,"&ratePlan=").concat(n).concat(void 0!==r?"&contribution=".concat(r):""),c=e.includes("?");return"".concat(e).concat(c?"&":"?").concat(o)},h=function(e){return/\bprofile\./.test(e)},O=function(e,t){return h(e)?function(e,t){var n,r={componentType:t.componentType,componentId:t.campaignCode,abTestName:t.abTestName,abTestVariant:t.abTestVariant,viewId:t.ophanPageId},o={componentEventParams:encodeURIComponent((n=r,Object.keys(n).map((function(e){var t=n[e],r=Array.isArray(t)?t.map((function(e){return encodeURIComponent(e)})).join(","):encodeURIComponent(t);return"".concat(e,"=").concat(r)})).join("&"))),returnUrl:t.referrerUrl},a=Object.entries(o).filter((function(e){var t=(0,c.A)(e,2)[1];return!(0,i.b)(t)})).map((function(e){var t=(0,c.A)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})),u=e.includes("?");return"".concat(e).concat(u?"&":"?").concat(a.join("&"))}(e,t):e},j=function(e){return function(t,n){var r=t.abTestName,o=t.abTestVariant,c=t.componentType,i=t.products,a=void 0===i?[]:i,u=t.labels,f=void 0===u?[]:u,l=t.campaignCode,d=r&&o?{name:r,variant:o}:null,p=t.targetingAbTest?{name:t.targetingAbTest.testName,variant:t.targetingAbTest.variantName}:null;return s(s(s({component:{componentType:c,products:a,campaignCode:l,id:n,labels:f}},d?{abTest:d}:{}),p?{targetingAbTest:p}:{}),{},{action:e})}},T=function(e,t){return e.labels?s(s({},e),{},{labels:[].concat((0,r.A)(e.labels),[t])}):s(s({},e),{},{labels:[t]})},w=j("CLICK"),C=j("VIEW"),P=j("INSERT")},88528:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(22820),o=n(44165),c=n.n(o),i=n(67400),a=function(e){var t,n=(0,i.useState)(!1),o=(0,r.A)(n,2),a=o[0],u=o[1],s=(0,i.useState)(null!==(t=e.node)&&void 0!==t?t:null),f=(0,r.A)(s,2),l=f[0],d=f[1],p=(0,i.useRef)(null),b=(0,i.useCallback)((function(t){var n=(0,r.A)(t,1)[0];n&&(n.isIntersecting?u(!0):e.repeat&&u(!1))}),[e.repeat]),v=e.debounce?c()(b,200):b;return(0,i.useEffect)((function(){e.node&&d(e.node)}),[e.node]),(0,i.useEffect)((function(){if(l&&"IntersectionObserver"in window)return p.current=new window.IntersectionObserver(v,e),p.current.observe(l),function(){var e;return null===(e=p.current)||void 0===e?void 0:e.disconnect()}}),[l,e,v]),(0,i.useEffect)((function(){var t;!e.repeat&&a&&(null===(t=p.current)||void 0===t||t.disconnect())}),[a,e.repeat]),[a,d]}},1954:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=function(e){return"var(".concat(e,")")}},44165:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,f=u||s||Function("return this")(),l=Object.prototype.toString,d=Math.max,p=Math.min,b=function(){return f.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=c.test(e);return n||i.test(e)?a(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,c,i,a,u,s=0,f=!1,l=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,c=o;return r=o=void 0,s=t,i=e.apply(c,n)}function h(e){var n=e-u;return void 0===u||n>=t||n<0||l&&e-s>=c}function O(){var e=b();if(h(e))return j(e);a=setTimeout(O,function(e){var n=t-(e-u);return l?p(n,c-(e-s)):n}(e))}function j(e){return a=void 0,g&&r?y(e):(r=o=void 0,i)}function T(){var e=b(),n=h(e);if(r=arguments,o=this,u=e,n){if(void 0===a)return function(e){return s=e,a=setTimeout(O,t),f?y(e):i}(u);if(l)return a=setTimeout(O,t),y(u)}return void 0===a&&(a=setTimeout(O,t)),i}return t=m(t)||0,v(n)&&(f=!!n.leading,c=(l="maxWait"in n)?d(m(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),T.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=u=o=a=void 0},T.flush=function(){return void 0===a?i:j(b())},T}},83254:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var r=n(50484),o=n(24017),c=n(72657),i=n(26633),a=function(e){var t=e.size,n=e.theme;return(0,r.jsx)("svg",{width:t?i.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12.956h18.274l-7.167 8.575.932.932L23 12.478v-.956l-9.96-9.985-.932.932 7.166 8.575H1z",fill:null==n?void 0:n.fill})})},u=function(e){var t=e.size,n=e.theme,i=e.isAnnouncedByScreenReader,u=void 0!==i&&i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{size:t,theme:n}),u?(0,r.jsx)("span",{css:(0,o.css)(c.Q,";"),children:"Arrow right"}):""]})}},53753:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(62335),o=n(5926),c=n(50484),i=n(48264),a=n(44759),u=["priority","size","iconSide","icon","nudgeIcon","hideLabel","cssOverrides","children","theme"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.priority,n=e.size,r=e.iconSide,s=e.icon,l=e.nudgeIcon,d=e.hideLabel,p=e.cssOverrides,b=e.children,v=e.theme,m=(0,o.A)(e,u);return(0,c.jsx)("a",f(f({css:(0,a.V)({size:n,priority:t,icon:s,hideLabel:d,iconSide:r,nudgeIcon:l,cssOverrides:p,theme:v})},m),{},{children:(0,i.b)({hideLabel:d,iconSvg:s,children:b})}))}},25549:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(50484),o=n(24017),c=n(81477),i=function(e){var t,n=e.children,i=e.above,a=e.below,u=e.from,s=void 0===u?i:u,f=e.until,l=void 0===f?a:f;return l&&(t=(0,o.css)(c.TG[l],"{display:none;}")),s&&(t=(0,o.css)(t," ",c.HT[s],"{display:none;}")),(0,r.jsx)("span",{css:t,children:n})}}}]);
//# sourceMappingURL=5085.client.web.legacy.4ca8c0dc8e363355f41b.js.map