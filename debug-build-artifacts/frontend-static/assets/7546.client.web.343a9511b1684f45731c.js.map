{"version":3,"file":"7546.client.web.343a9511b1684f45731c.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/static/icons/arrow-right.svg","webpack://@guardian/dotcom-rendering/./src/components/AdBlockAsk.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/useAdBlockAsk.ts","webpack://@guardian/dotcom-rendering/./src/lib/adStyles.ts","webpack://@guardian/dotcom-rendering/./src/components/AdSlot.web.tsx","webpack://@guardian/dotcom-rendering/./src/lib/assert-unreachable.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/lib/useAB.ts","webpack://@guardian/dotcom-rendering/./src/lib/detect-adblock.ts","webpack://@guardian/dotcom-rendering/./src/lib/useDetectAdBlock.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/hide/Hide.js"],"sourcesContent":["var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgArrowRight = function SvgArrowRight(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 30,\n    height: 30,\n    viewBox: \"0 0 30 30\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.8 14.6l-7.6-7.6-.7.7 5.5 6.6h-14v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9\"\n  })));\n};\nexport default SvgArrowRight;","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport {\n\theadlineMedium24,\n\tpalette,\n\ttextSans14,\n\ttextSans15,\n\ttextSans17,\n} from '@guardian/source/foundations';\nimport { assertUnreachable } from '../lib/assert-unreachable';\nimport { useAdblockAsk } from '../lib/useAdBlockAsk';\nimport ArrowRightIcon from '../static/icons/arrow-right.svg';\nimport { useConfig } from './ConfigContext';\n\ntype AdBlockAskSize = 'leaderboard' | 'mpu';\n\nconst linkStyles = css`\n\tbackground: ${palette.brandAlt[400]};\n\tborder-radius: 16px;\n\tbox-sizing: border-box;\n\tcolor: ${palette.neutral[7]};\n\t${textSans17};\n\tfont-weight: 700;\n\ttext-decoration: none;\n\n\tfloat: left;\n\tline-height: 18px;\n\tposition: relative;\n\theight: 32px;\n\tpadding: 6px 34px 0 12px;\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tposition: absolute;\n\t\tright: 3px;\n\t\ttop: 50%;\n\t\theight: 32px;\n\t\twidth: 32px;\n\t\ttransform: translate(0, -50%);\n\t\ttransition: transform 0.3s ease-in-out;\n\t}\n\n\t:hover svg {\n\t\ttransform: translate(3px, -50%);\n\t}\n`;\n\nconst adBlockAskH2Styles = css`\n\t${headlineMedium24}\n\tcolor: ${palette.brandAlt[400]};\n\tfont-weight: bold;\n`;\n\nconst adBlockAskTextStyles: Record<AdBlockAskSize, SerializedStyles> = {\n\tleaderboard: css`\n\t\tmargin-top: 8px;\n\t\t${textSans14};\n\t\tcolor: ${palette.neutral[100]};\n\t`,\n\tmpu: css`\n\t\tmargin-top: 16px;\n\t\t${textSans15};\n\t\tcolor: ${palette.neutral[100]};\n\t`,\n};\n\nconst HandsLogo = ({ styles }: { styles: SerializedStyles }) => {\n\tconst { assetOrigin } = useConfig();\n\tconst src = `${assetOrigin}static/frontend/logos/hands.png`;\n\treturn <img src={src} alt=\"Guardian logo held up by hands\" css={styles} />;\n};\n\nconst SupportButton = ({ href }: { href: string }) => (\n\t<a css={linkStyles} href={href}>\n\t\tSupport us <ArrowRightIcon />\n\t</a>\n);\n\nexport const Copy = ({ size }: { size: AdBlockAskSize }) => {\n\treturn (\n\t\t<>\n\t\t\t<h2 css={adBlockAskH2Styles}>Using an adblocker?</h2>\n\t\t\t<p css={adBlockAskTextStyles[size]}>\n\t\t\t\tWe value your readership - but we lose vital revenue by not\n\t\t\t\tbeing able to show you ads. With no billionaire owner\n\t\t\t\tbankrolling our reporting, could you support us? It’s quick and\n\t\t\t\tany amount helps. Thanks!\n\t\t\t</p>\n\t\t</>\n\t);\n};\n\nexport const AdBlockAskLeaderboard = ({\n\tsupportButtonHref,\n}: {\n\tsupportButtonHref: string;\n}) => {\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\twidth: 728px;\n\t\t\t\theight: 114px;\n\t\t\t\tbackground-color: ${palette.sport[300]};\n\t\t\t\tmargin: 0 auto;\n\t\t\t`}\n\t\t>\n\t\t\t<HandsLogo\n\t\t\t\tstyles={css`\n\t\t\t\t\tflex: 0 0 auto;\n\t\t\t\t\tmargin: auto 8px -6px 8px;\n\t\t\t\t\twidth: 81px;\n\t\t\t\t\theight: 48px;\n\t\t\t\t`}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tborder-left: 1px solid rgba(255, 255, 255, 0.2);\n\t\t\t\t\tpadding-left: 8px;\n\t\t\t\t\tpadding-top: 8px;\n\t\t\t\t\tmargin-right: 12px;\n\t\t\t\t\tmargin-bottom: 12px;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<Copy size=\"leaderboard\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\twidth: auto;\n\t\t\t\t\tflex: 0 0 auto;\n\t\t\t\t\tmargin: auto 12px 12px 0;\n\t\t\t\t\tposition: relative;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<SupportButton href={supportButtonHref} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const AdBlockAskMPU = ({\n\tsupportButtonHref,\n}: {\n\tsupportButtonHref: string;\n}) => {\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\twidth: 300px;\n\t\t\t\theight: 274px;\n\t\t\t\tbackground-color: ${palette.sport[300]};\n\t\t\t\tpadding: 12px;\n\t\t\t\tposition: relative;\n\t\t\t`}\n\t\t>\n\t\t\t<Copy size=\"mpu\" />\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tmargin-top: 56px;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<SupportButton href={supportButtonHref} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<HandsLogo\n\t\t\t\t\tstyles={css`\n\t\t\t\t\t\twidth: 128px;\n\t\t\t\t\t\theight: 68px;\n\t\t\t\t\t\tbackground-position: right bottom;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t`}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\ntype Props = {\n\tsize: AdBlockAskSize;\n\tslotId: `dfp-ad--${string}`;\n\tshouldHideReaderRevenue: boolean;\n\tisPaidContent: boolean;\n};\n\nexport const AdBlockAsk = ({\n\tsize,\n\tslotId,\n\tshouldHideReaderRevenue,\n\tisPaidContent,\n}: Props) => {\n\tconst showAdBlockAsk = useAdblockAsk({\n\t\tslotId,\n\t\tshouldHideReaderRevenue,\n\t\tisPaidContent,\n\t});\n\n\tif (!showAdBlockAsk) {\n\t\treturn null;\n\t}\n\n\tconst supportButtonHref = `https://support.theguardian.com/contribute?${new URLSearchParams(\n\t\t{\n\t\t\tutm_campaign: 'shady_pie',\n\t\t\tutm_source: 'GUARDIAN_WEB',\n\t\t\tutm_medium: 'ACQUISITIONS_OTHER',\n\t\t\tutm_content: 'shady_pie',\n\t\t\tutm_term: 'control',\n\t\t},\n\t).toString()}`;\n\n\tswitch (size) {\n\t\tcase 'leaderboard': {\n\t\t\treturn (\n\t\t\t\t<AdBlockAskLeaderboard supportButtonHref={supportButtonHref} />\n\t\t\t);\n\t\t}\n\t\tcase 'mpu': {\n\t\t\treturn <AdBlockAskMPU supportButtonHref={supportButtonHref} />;\n\t\t}\n\t\tdefault: {\n\t\t\treturn assertUnreachable(size);\n\t\t}\n\t}\n};\n","import { EventTimer } from '@guardian/commercial';\nimport { getConsentFor, onConsentChange } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport { adFreeDataIsPresent } from '../client/userFeatures/user-features-lib';\nimport { useAB } from './useAB';\nimport { useDetectAdBlock } from './useDetectAdBlock';\n\nconst useIsInAdBlockAskVariant = (): boolean => {\n\tconst abTestAPI = useAB()?.api;\n\tconst isInVariant = !!abTestAPI?.isUserInVariant('AdBlockAsk', 'variant');\n\treturn isInVariant;\n};\n\nexport const useAdblockAsk = ({\n\tslotId,\n\tshouldHideReaderRevenue,\n\tisPaidContent,\n}: {\n\tslotId: `dfp-ad--${string}`;\n\tshouldHideReaderRevenue: boolean;\n\tisPaidContent: boolean;\n}): boolean => {\n\tconst isInVariant = useIsInAdBlockAskVariant();\n\tconst adBlockerDetected = useDetectAdBlock();\n\tconst [isAdFree, setIsAdFree] = useState<boolean>(false);\n\tconst [hasConsentForGoogletag, setHasConsentForGoogletag] = useState(false);\n\n\tconst canDisplayAdBlockAsk =\n\t\t!shouldHideReaderRevenue &&\n\t\t!isPaidContent &&\n\t\t!isAdFree &&\n\t\thasConsentForGoogletag;\n\n\tuseEffect(() => {\n\t\tonConsentChange((consentState) => {\n\t\t\tif (consentState.tcfv2) {\n\t\t\t\treturn setHasConsentForGoogletag(\n\t\t\t\t\tgetConsentFor('googletag', consentState),\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetHasConsentForGoogletag(true);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetIsAdFree(adFreeDataIsPresent());\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Only perform the detection check in the variant of the AB test, if we haven't already detected an ad-blocker and the reader/content is eligible for displaying such a message\n\t\tif (isInVariant) {\n\t\t\tEventTimer.get().setProperty('didDisplayAdBlockAsk', false);\n\n\t\t\tif (adBlockerDetected && canDisplayAdBlockAsk) {\n\t\t\t\t// Some ad-blockers will remove slots from the DOM, while others don't\n\t\t\t\t// This clean-up ensures that any space we've reserved for an ad is removed,\n\t\t\t\t// in order to properly layout the ask.\n\t\t\t\tdocument\n\t\t\t\t\t.getElementById(slotId)\n\t\t\t\t\t?.closest('.ad-slot-container')\n\t\t\t\t\t?.remove();\n\t\t\t\tEventTimer.get().setProperty('didDisplayAdBlockAsk', true);\n\t\t\t}\n\t\t}\n\t}, [isInVariant, adBlockerDetected, slotId, canDisplayAdBlockAsk]);\n\n\treturn adBlockerDetected && canDisplayAdBlockAsk && isInVariant;\n};\n","import { css } from '@emotion/react';\nimport { adSizes, constants } from '@guardian/commercial';\nimport { from, space, textSans12, until } from '@guardian/source/foundations';\nimport { palette } from '../palette';\n\nconst labelHeight = constants.AD_LABEL_HEIGHT;\n\nconst labelBoxStyles = css`\n\t${textSans12};\n\theight: ${labelHeight}px;\n\tmax-height: ${labelHeight}px;\n\tbackground-color: ${palette('--ad-background')};\n\tpadding-top: 3px;\n\tborder-top: 1px solid ${palette('--ad-border')};\n\tcolor: ${palette('--ad-labels-text')};\n\ttext-align: center;\n\tbox-sizing: border-box;\n`;\n\nconst labelStyles = css`\n\t.ad-slot[data-label-show='true']::before {\n\t\tcontent: attr(ad-label-text);\n\t\tdisplay: block;\n\t\t${labelBoxStyles}\n\t}\n\n\t.ad-slot__adtest-cookie-clear-link {\n\t\t${textSans12};\n\t\ttext-align: left;\n\t\tposition: absolute;\n\t\tleft: 268px;\n\t\ttop: 1px;\n\t\tz-index: 10;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t}\n`;\n\nconst adSlotContainerStyles = css`\n\t.ad-slot-container {\n\t\tmax-width: 100vw;\n\t\tposition: relative;\n\t}\n`;\n\nconst adSlotStyles = css`\n\t.ad-slot {\n\t\t/* this is centring the ad iframe as they are display: inline; elements by default */\n\t\ttext-align: center;\n\n\t\t/*\n\t\t\tEnsure that the ad slot is centred,\n\t\t\tthe element with this class name is inserted by GAM into the ad slot\n\t\t*/\n\t\t.ad-slot__content {\n\t\t\tmargin-left: auto;\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t@media print {\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\tdisplay: none !important;\n\t\t}\n\n\t\t&.ad-slot--collapse {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t/**\n\t\t* Usage according to DAP (Digital Ad Production)\n\t\t*\n\t\t* #### Desktop\n\t\t* - 'fabric' > 'top-above-nav','merchandising-high','merchandising'\n\t\t* - 'fabric-custom' > 'top-above-nav','merchandising-high','merchandising'\n\t\t* - 'fabric-expandable' > 'merchandising-high'\n\t\t* - 'fabric-third-party' > 'top-above-nav','merchandising-high','merchandising'\n\t\t* - 'fabric-video' > 'top-above-nav','merchandising-high'\n\t\t* - 'fabric-video-expandable' > 'merchandising-high'\n\t\t*\n\t\t* #### Mobile\n\t\t* - 'interscroller' > 'top-above-nav'\n\t\t* - 'mobile-revealer' > 'top-above-nav'\n\t\t*/\n\t\t&.ad-slot--fluid {\n\t\t\tmin-height: 250px;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t\toverflow: visible;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n`;\n\nconst spacefinderAdSlotContainerStyles = css`\n\t.ad-slot-container {\n\t\tmargin: 12px auto;\n\t\ttext-align: center;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\n\t\t${from.tablet} {\n\t\t\tbackground-color: ${palette('--ad-background')};\n\t\t}\n\n\t\t/* Prevent merger with any nearby float left elements e.g. rich-links */\n\t\t${until.desktop} {\n\t\t\tclear: left;\n\t\t}\n\n\t\t.ad-slot--interscroller {\n\t\t\t/* this fixes inter-scrollers stealing mouse events */\n\t\t\toverflow: hidden;\n\t\t\tposition: relative;\n\n\t\t\t/* position the iframe absolutely (relative to the slot) so that it is in the correct position to detect viewability */\n\t\t\t.ad-slot__content {\n\t\t\t\tposition: absolute;\n\t\t\t\theight: 100%;\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 0;\n\t\t\t\tright: 0;\n\n\t\t\t\t/* must be behind as the actual ad is on top of the iframe */\n\t\t\t\tz-index: -1;\n\t\t\t}\n\n\t\t\t/* Hide default label, interscrollers have a special label */\n\t\t\t&::before {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t\tTo push inline2+ on desktop to the right column\n\t*/\n\t.ad-slot-container--offset-right {\n\t\t${from.desktop} {\n\t\t\tfloat: right;\n\t\t\tmax-width: 300px;\n\t\t\tmargin-right: -330px;\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t${from.leftCol} {\n\t\t\tmargin-right: -310px;\n\t\t}\n\n\t\t${from.wide} {\n\t\t\tmargin-right: -400px;\n\t\t}\n\t}\n`;\n\nconst spacefinderAdSlotStyles = css`\n\t${from.tablet} {\n\t\t.ad-slot {\n\t\t\t/* from tablet the ad slot will stretch to the full width of the container and the iframe will be centred by the text-align: center; on the container */\n\t\t\tflex: 1;\n\t\t\t/* Ensures slots do not take on 100% of the container height, allowing them to be sticky in containers */\n\t\t\talign-self: flex-start;\n\t\t}\n\t}\n\n\t/* Give ad slots inserted on the client side a placeholder height.\n   Let the ad slot take control of its height once rendered. */\n\t.ad-slot--inline:not(.ad-slot--rendered) {\n\t\tmin-height: ${adSizes.outstreamMobile.height +\n\t\tconstants.AD_LABEL_HEIGHT}px;\n\n\t\t${from.desktop} {\n\t\t\tmin-height: ${adSizes.mpu.height + constants.AD_LABEL_HEIGHT}px;\n\t\t}\n\t}\n\n\t/* Give inline1 ad slot a different placeholder height comparing to subsequent-inlines to reduce CLS.\n   Let the ad slot take control of its height once rendered.\n   IMPORTANT NOTE: We currently do not serve OPT-OUT for inline1 but we will need to change this value before we do. */\n\t.ad-slot--inline1:not(.ad-slot--rendered) {\n\t\t${from.desktop} {\n\t\t\tmin-height: ${adSizes.outstreamDesktop.height +\n\t\t\tconstants.AD_LABEL_HEIGHT}px;\n\t\t}\n\t}\n\n\t/* This refers to the inline top-above-nav slot used on mobile pages, NOT the\n   top-above-nav that is inserted above the navigation. */\n\t.ad-slot--top-above-nav:not(.ad-slot--rendered) {\n\t\t${until.tablet} {\n\t\t\tmin-height: ${adSizes.outstreamMobile.height +\n\t\t\tconstants.AD_LABEL_HEIGHT}px;\n\t\t}\n\t}\n\n\t.ad-slot--carrot {\n\t\tfloat: left;\n\t\tclear: both;\n\t\twidth: 140px;\n\t\tmargin-right: 20px;\n\t\tmargin-bottom: ${space[1]}px;\n\t\t${from.leftCol} {\n\t\t\tposition: relative;\n\t\t\tmargin-left: -160px;\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t\twidth: 220px;\n\t\t}\n\t}\n\n\t/* Scroll for more label on interscrollers */\n\t.ad-slot__scroll {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\twidth: 100%;\n\n\t\t${labelBoxStyles}\n\n\t\t&.visible {\n\t\t\tvisibility: initial;\n\t\t}\n\t\t&.hidden {\n\t\t\tvisibility: hidden;\n\t\t}\n\t}\n\n\t.ad-slot--interscroller[data-label-show='true']::before {\n\t\tcontent: 'Advertisement';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tborder: 0;\n\t\tdisplay: block;\n\t\t${labelBoxStyles}\n\t}\n`;\n\n/*\n\tStyles applied to all ads regardless of their position, or method of insertion,\n\tThese are applied as part of `rootStyles`\n */\nconst rootAdStyles = [labelStyles, adSlotStyles, adSlotContainerStyles];\n\n/*\n\tStyles applied only to ads within an article inserted by spacefinder\n\tapplied to the ArticleRenderer component which spacefinder is scoped\n\tto via the `.article-body-commercial-selector` class\n*/\nconst spacefinderAdStyles = [\n\tspacefinderAdSlotContainerStyles,\n\tspacefinderAdSlotStyles,\n];\n\nexport {\n\tlabelHeight,\n\tlabelBoxStyles,\n\tlabelStyles,\n\trootAdStyles,\n\tspacefinderAdStyles,\n};\n","import { css } from '@emotion/react';\nimport type { SlotName } from '@guardian/commercial';\nimport { adSizes } from '@guardian/commercial';\nimport {\n\tbetween,\n\tbreakpoints,\n\tfrom,\n\tpalette,\n\tuntil,\n} from '@guardian/source/foundations';\nimport { Hide } from '@guardian/source/react-components';\nimport { labelBoxStyles, labelHeight, labelStyles } from '../lib/adStyles';\nimport { ArticleDisplay } from '../lib/articleFormat';\nimport { getZIndex } from '../lib/getZIndex';\nimport { LABS_HEADER_HEIGHT } from '../lib/labs-constants';\nimport { palette as schemedPalette } from '../palette';\nimport type { FEArticleType } from '../types/frontend';\nimport { AdBlockAsk } from './AdBlockAsk.importable';\nimport { Island } from './Island';\n\n// There are multiple of these ad slots on the page\ntype IndexedSlot =\n\t| 'fronts-banner'\n\t| 'liveblog-inline'\n\t| 'liveblog-inline-mobile'\n\t| 'mobile-front';\n\n// TODO move to commercial\ntype SlotNamesWithPageSkin = SlotName | 'pageskin';\n\ntype ServerRenderedSlot = Exclude<\n\tSlotNamesWithPageSkin,\n\t| 'carrot'\n\t| 'comments-expanded'\n\t| 'crossword-banner'\n\t| 'crossword-banner-mobile'\n\t| 'exclusion'\n\t| 'external'\n\t| 'inline'\n\t| 'mobile-sticky'\n\t| 'football-right'\n\t| 'sponsor-logo'\n\t| 'interactive'\n>;\n\ntype DefaultProps = {\n\tdisplay?: ArticleDisplay;\n\tisPaidContent?: boolean;\n\thasPageskin?: boolean;\n};\n\n// for dark ad labels\ntype ColourScheme = 'light' | 'dark';\n\ntype IndexedSlotProps = {\n\tposition: IndexedSlot;\n\tcolourScheme?: ColourScheme;\n\tindex: number;\n\tshouldHideReaderRevenue?: never;\n};\n\ntype RightProps = {\n\tposition: 'right';\n\tcolourScheme?: ColourScheme;\n\tindex?: never;\n\tshouldHideReaderRevenue: boolean;\n};\n\ntype RemainingProps = {\n\tposition: Exclude<ServerRenderedSlot, IndexedSlot>;\n\tcolourScheme?: ColourScheme;\n\tindex?: never;\n\tshouldHideReaderRevenue?: never;\n};\n\n/**\n * This allows us to conditionally require properties based on position:\n *\n * - If `position` is an inline type then we expect the `index` prop.\n * - If `position` is `right` then we expect the `shouldHideReaderRevenue` prop\n * - If not, then we explicitly refuse these properties\n */\ntype Props = DefaultProps & (RightProps | IndexedSlotProps | RemainingProps);\n\nconst halfPageAdHeight = adSizes.halfPage.height;\n\nconst outOfPageStyles = css`\n\theight: 0;\n`;\n\nconst darkLabelStyles = css`\n\t.ad-slot[data-label-show='true']:not(.ad-slot--interscroller)::before {\n\t\tbackground-color: transparent;\n\t\tborder-top-color: ${palette.neutral[20]};\n\t\tcolor: ${palette.neutral[86]};\n\t}\n`;\n\nconst topAboveNavContainerStyles = css`\n\tpadding-bottom: 18px;\n\tposition: relative;\n\tmargin: 0 auto;\n\ttext-align: left;\n\tdisplay: block;\n`;\n\n/**\n * Both Showcase and NumberedList displays have a showcase main media. Underneath this\n * in the right column, the `right` ad slot and the MostViewed component are loaded on\n * the client, with the `right` ad slot on top. As MostViewed can (and often does)\n * render first, we need to reserve space for the ad to avoid CLS.\n */\nconst showcaseRightColumnContainerStyles = css`\n\tmin-height: ${halfPageAdHeight + labelHeight}px;\n`;\n\nconst showcaseRightColumnStyles = css`\n\tposition: sticky;\n\ttop: 0;\n`;\n\nconst merchandisingAdContainerStyles = css`\n\tdisplay: flex;\n\tjustify-content: center;\n\n\t&.ad-slot-container--centre-slot {\n\t\twidth: fit-content;\n\t\tmargin: 0 auto;\n\t}\n`;\n\nconst merchandisingAdStyles = css`\n\tposition: relative;\n\tmin-height: ${adSizes.billboard.height + labelHeight}px;\n\tmargin: 12px auto;\n\tmax-width: ${breakpoints['wide']}px;\n\toverflow: hidden;\n\n\t${from.desktop} {\n\t\tmargin: 0;\n\t\tpadding-bottom: 20px;\n\t\tmin-height: ${adSizes.billboard.height + labelHeight + 20}px;\n\t}\n\t&:not(.ad-slot--fluid).ad-slot--rendered {\n\t\t${between.phablet.and.desktop} {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n`;\n\nconst rightAdStyles = css`\n\tbackground-color: ${schemedPalette('--ad-background-article-inner')};\n\tmax-width: 300px;\n`;\n\nconst liveblogInlineContainerStyles = css`\n\tmargin: 12px auto;\n`;\n\nconst liveblogInlineAdStyles = css`\n\tposition: relative;\n\tmin-height: ${adSizes.mpu.height + labelHeight}px;\n\tbackground-color: ${schemedPalette('--ad-background-article-inner')};\n\n\t${until.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst liveblogInlineMobileAdStyles = css`\n\tposition: relative;\n\tmin-height: ${adSizes.outstreamMobile.height + labelHeight}px;\n\n\t${from.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst mobileFrontAdStyles = css`\n\tposition: relative;\n\tmin-height: ${adSizes.mpu.height + labelHeight}px;\n\tmin-width: 300px;\n\twidth: 300px;\n\tmargin: 12px auto;\n\n\t${from.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst frontsBannerPaddingHeight = 20;\nconst frontsBannerMinHeightTablet =\n\tadSizes.leaderboard.height + labelHeight + frontsBannerPaddingHeight;\nconst frontsBannerMinHeight =\n\tadSizes.billboard.height + labelHeight + frontsBannerPaddingHeight;\n\nconst frontsBannerAdTopContainerStyles = css`\n\tdisplay: none;\n\t${from.tablet} {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tmin-height: ${frontsBannerMinHeightTablet}px;\n\t\tbackground-color: ${schemedPalette('--ad-background')};\n\t}\n\t${from.desktop} {\n\t\tmin-height: ${frontsBannerMinHeight}px;\n\t}\n`;\n\nconst frontsBannerAdContainerStyles = css`\n\tdisplay: flex;\n\tjustify-content: center;\n\n\t/* Native templates require a width (or min-width) to be explicitly set */\n\twidth: ${breakpoints['wide']}px;\n\t/* This is similar to fluid ads, except this class is applied using messenger */\n\t&.ad-slot--full-width {\n\t\twidth: 100%;\n\t\t.ad-slot {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n`;\n\nconst frontsBannerCollapseStyles = css`\n\tdisplay: none;\n`;\n\nconst frontsBannerAdStyles = css`\n\tposition: relative;\n\tmin-height: ${frontsBannerMinHeightTablet}px;\n\tmax-width: ${adSizes.leaderboard.width}px;\n\tmax-height: ${adSizes.leaderboard.height + labelHeight}px;\n\toverflow: hidden;\n\tpadding-bottom: ${frontsBannerPaddingHeight}px;\n\t${from.desktop} {\n\t\t/* No banner should be taller than 600px */\n\t\tmax-height: ${600 + labelHeight}px;\n\t\tmax-width: ${breakpoints['wide']}px;\n\t}\n`;\n\nconst articleEndAdStyles = css`\n\tposition: relative;\n\tmin-height: ${adSizes.outstreamDesktop.height + labelHeight}px;\n\n\t&.ad-slot--fluid {\n\t\tmin-height: 450px;\n\t}\n`;\n\nconst mostPopAdStyles = css`\n\tposition: relative;\n\tmin-height: ${adSizes.mpu.height + labelHeight}px;\n\tmin-width: ${adSizes.mpu.width}px;\n\tmax-width: ${adSizes.mpu.width}px;\n\ttext-align: center;\n\t${from.tablet} {\n\t\tmax-width: 700px;\n\t}\n\t${from.desktop} {\n\t\twidth: auto;\n\t\tmax-width: ${adSizes.mpu.width}px;\n\t}\n`;\n\nconst mostPopContainerStyles = css`\n\tmin-height: ${adSizes.mpu.height + labelHeight}px;\n\tmin-width: ${adSizes.mpu.width}px;\n\twidth: fit-content;\n\tmax-width: ${adSizes.mpu.width}px;\n\tmargin: 0 auto;\n\t${from.tablet} {\n\t\tmax-width: 700px;\n\t}\n\t${from.desktop} {\n\t\tmax-width: ${adSizes.mpu.width}px;\n\t}\n`;\n\nconst liveBlogTopAdStyles = css`\n\tmin-height: ${adSizes.mpu.height + labelHeight}px;\n\tmin-width: ${adSizes.mpu.width}px;\n\twidth: fit-content;\n\tmax-width: ${adSizes.mpu.width}px;\n\tmargin: 0 auto;\n\t${from.tablet} {\n\t\tmax-width: 700px;\n\t}\n\t${from.desktop} {\n\t\tmax-width: ${adSizes.mpu.width}px;\n\t}\n`;\n\nconst liveBlogTopContainerStyles = css`\n\tpadding: 12px 0;\n\ttext-align: center;\n\tdisplay: flex;\n\tjustify-content: center;\n`;\n\nconst mobileStickyAdStyles = css`\n\tposition: fixed;\n\tbottom: 0;\n\twidth: 320px;\n\tmargin: 0 auto;\n\tright: 0;\n\tleft: 0;\n\tz-index: ${getZIndex('mobileSticky')};\n\t${from.phablet} {\n\t\tdisplay: none;\n\t}\n\t.ad-slot__close-button {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tright: 3px;\n\t\ttop: -21px;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\theight: 21px;\n\t\twidth: 21px;\n\t\tbackground-color: transparent;\n\t}\n\t.ad-slot__close-button svg {\n\t\theight: 0.75rem;\n\t\twidth: 0.75rem;\n\t\tstroke: ${palette.neutral[7]};\n\t\tfill: ${palette.neutral[7]};\n\t\tstroke-linecap: round;\n\t\tstroke-width: 0;\n\t\ttext-align: center;\n\t}\n\t.ad-slot--mobile-sticky .ad-slot__close-button {\n\t\tdisplay: block;\n\t}\n\t.ad-slot__close-button__x {\n\t\tstroke: ${palette.neutral[7]};\n\t\tfill: transparent;\n\t\tstroke-linecap: round;\n\t\tstroke-width: 2;\n\t\ttext-align: center;\n\t}\n\n\t.ad-slot:not[data-label-show='true']::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\theight: ${labelHeight}px;\n\t\tvisibility: hidden;\n\t}\n\t.ad-slot[data-label-show='true']::before {\n\t\tcontent: 'Advertisement';\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\t${labelBoxStyles}\n\t}\n`;\n\nconst mobileStickyAdStylesFullWidth = css`\n\twidth: 100%;\n\ttext-align: center;\n\tbackground-color: ${palette.neutral[97]};\n\n\t.ad-slot[data-label-show='true']::before {\n\t\tpadding-left: calc((100% - ${adSizes.mobilesticky.width}px) / 2);\n\t\tpadding-right: calc((100% - ${adSizes.mobilesticky.width}px) / 2);\n\t}\n`;\n\nexport const AdSlot = ({\n\tposition,\n\tdisplay,\n\tisPaidContent = false,\n\tindex,\n\thasPageskin = false,\n\tshouldHideReaderRevenue = false,\n\tcolourScheme = 'light',\n}: Props) => {\n\tswitch (position) {\n\t\tcase 'right':\n\t\t\tswitch (display) {\n\t\t\t\tcase ArticleDisplay.Immersive: {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ad-slot-container\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid=\"dfp-ad--right\"\n\t\t\t\t\t\t\t\tcss={rightAdStyles}\n\t\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t\t\t'ad-slot--right',\n\t\t\t\t\t\t\t\t\t'ad-slot--mpu-banner-ad',\n\t\t\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t\t\t\t'js-sticky-mpu',\n\t\t\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\t\t\tdata-link-name=\"ad slot right\"\n\t\t\t\t\t\t\t\tdata-name=\"right\"\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase ArticleDisplay.Showcase:\n\t\t\t\tcase ArticleDisplay.NumberedList: {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t\t\t\tcss={[showcaseRightColumnContainerStyles]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid=\"dfp-ad--right\"\n\t\t\t\t\t\t\t\tcss={[rightAdStyles, showcaseRightColumnStyles]}\n\t\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t\t\t'ad-slot--right',\n\t\t\t\t\t\t\t\t\t'ad-slot--mpu-banner-ad',\n\t\t\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t\t\t\t'js-sticky-mpu',\n\t\t\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\t\t\tdata-link-name=\"ad slot right\"\n\t\t\t\t\t\t\t\tdata-name=\"right\"\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase ArticleDisplay.Standard: {\n\t\t\t\t\tconst slotId = 'dfp-ad--right';\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Island\n\t\t\t\t\t\t\t\tpriority=\"feature\"\n\t\t\t\t\t\t\t\tdefer={{ until: 'visible' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AdBlockAsk\n\t\t\t\t\t\t\t\t\tsize=\"mpu\"\n\t\t\t\t\t\t\t\t\tslotId={slotId}\n\t\t\t\t\t\t\t\t\tisPaidContent={isPaidContent}\n\t\t\t\t\t\t\t\t\tshouldHideReaderRevenue={\n\t\t\t\t\t\t\t\t\t\tshouldHideReaderRevenue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Island>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid=\"top-right-ad-slot\"\n\t\t\t\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\tposition: static;\n\t\t\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\t\t\tmax-height: 100%;\n\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\tlabelStyles,\n\t\t\t\t\t\t\t\t\tcolourScheme === 'dark' && darkLabelStyles,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid={slotId}\n\t\t\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t\t\t\t'ad-slot--right',\n\t\t\t\t\t\t\t\t\t\t'ad-slot--mpu-banner-ad',\n\t\t\t\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t\t\t\t\t'js-sticky-mpu',\n\t\t\t\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\trightAdStyles,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tposition: sticky;\n\t\t\t\t\t\t\t\t\t\t\t/* Possibly account for the sticky Labs header and 6px of padding */\n\t\t\t\t\t\t\t\t\t\t\ttop: ${isPaidContent\n\t\t\t\t\t\t\t\t\t\t\t\t? LABS_HEADER_HEIGHT + 6\n\t\t\t\t\t\t\t\t\t\t\t\t: 0}px;\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t\tlabelStyles,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tdata-link-name=\"ad slot right\"\n\t\t\t\t\t\t\t\t\tdata-name=\"right\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\tcase 'comments': {\n\t\t\treturn (\n\t\t\t\t<div className=\"ad-slot-container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"dfp-ad--comments\"\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--comments',\n\t\t\t\t\t\t\t'ad-slot--mpu-banner-ad',\n\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t\t'js-sticky-mpu',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tdata-link-name=\"ad slot comments\"\n\t\t\t\t\t\tdata-name=\"comments\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'top-above-nav': {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={[topAboveNavContainerStyles]}\n\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"dfp-ad--top-above-nav\"\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--top-above-nav',\n\t\t\t\t\t\t\t'ad-slot--mpu-banner-ad',\n\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tdata-link-name=\"ad slot top-above-nav\"\n\t\t\t\t\t\tdata-name=\"top-above-nav\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t></div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'mostpop': {\n\t\t\treturn (\n\t\t\t\t<Hide until=\"tablet\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t\t\tcss={[mostPopContainerStyles]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"dfp-ad--mostpop\"\n\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t\t'ad-slot--mostpop',\n\t\t\t\t\t\t\t\t'ad-slot--mpu-banner-ad',\n\t\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\t\tcss={[mostPopAdStyles]}\n\t\t\t\t\t\t\tdata-link-name=\"ad slot mostpop\"\n\t\t\t\t\t\t\tdata-name=\"mostpop\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Hide>\n\t\t\t);\n\t\t}\n\t\tcase 'merchandising-high': {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t\tcss={[merchandisingAdContainerStyles]}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"dfp-ad--merchandising-high\"\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--merchandising-high',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={[merchandisingAdStyles]}\n\t\t\t\t\t\tdata-link-name=\"ad slot merchandising-high\"\n\t\t\t\t\t\tdata-name=\"merchandising-high\"\n\t\t\t\t\t\tdata-refresh=\"false\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'merchandising': {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t\tcss={[merchandisingAdContainerStyles]}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"dfp-ad--merchandising\"\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--merchandising',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={[merchandisingAdStyles]}\n\t\t\t\t\t\tdata-link-name=\"ad slot merchandising\"\n\t\t\t\t\t\tdata-name=\"merchandising\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'fronts-banner': {\n\t\t\tconst advertId = `fronts-banner-${index}`;\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"top-fronts-banner-ad-container\"\n\t\t\t\t\tcss={frontsBannerAdTopContainerStyles}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tfrontsBannerAdContainerStyles,\n\t\t\t\t\t\t\thasPageskin && frontsBannerCollapseStyles,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={`dfp-ad--${advertId}`}\n\t\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t\t`ad-slot--${advertId}`,\n\t\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t\t\thasPageskin && 'ad-slot--collapse',\n\t\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\t\tcss={[frontsBannerAdStyles]}\n\t\t\t\t\t\t\tdata-link-name={`ad slot ${advertId}`}\n\t\t\t\t\t\t\tdata-name={`${advertId}`}\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'survey': {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tid=\"dfp-ad--survey\"\n\t\t\t\t\tclassName={[\n\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t'ad-slot--survey',\n\t\t\t\t\t].join(' ')}\n\t\t\t\t\tcss={[outOfPageStyles]}\n\t\t\t\t\tdata-link-name=\"ad slot survey\"\n\t\t\t\t\tdata-name=\"survey\"\n\t\t\t\t\tdata-label=\"false\"\n\t\t\t\t\tdata-refresh=\"false\"\n\t\t\t\t\tdata-out-of-page=\"true\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tcase 'liveblog-inline': {\n\t\t\tconst advertId = `inline${index + 1}`;\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"ad-slot-container ad-slot-desktop\"\n\t\t\t\t\tcss={liveblogInlineContainerStyles}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={`dfp-ad--${advertId}`}\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--liveblog-inline',\n\t\t\t\t\t\t\t`ad-slot--${advertId}`,\n\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={liveblogInlineAdStyles}\n\t\t\t\t\t\tdata-link-name={`ad slot ${advertId}`}\n\t\t\t\t\t\tdata-name={advertId}\n\t\t\t\t\t\tdata-testid={`liveblog-inline--${advertId}`}\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'liveblog-inline-mobile': {\n\t\t\tconst advertId = index === 0 ? 'top-above-nav' : `inline${index}`;\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"ad-slot-container ad-slot-mobile\"\n\t\t\t\t\tcss={liveblogInlineContainerStyles}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={`dfp-ad--${advertId}--mobile`}\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t`ad-slot--${advertId}`,\n\t\t\t\t\t\t\t`ad-slot--liveblog-inline--mobile`,\n\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={liveblogInlineMobileAdStyles}\n\t\t\t\t\t\tdata-link-name={`ad slot ${advertId}`}\n\t\t\t\t\t\tdata-name={advertId}\n\t\t\t\t\t\tdata-testid={`liveblog-inline-mobile--${advertId}`}\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'liveblog-top': {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"ad-slot-container\"\n\t\t\t\t\tcss={[liveBlogTopContainerStyles]}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"dfp-ad--liveblog-top\"\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--liveblog-top',\n\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={[liveBlogTopAdStyles]}\n\t\t\t\t\t\tdata-link-name=\"ad slot liveblog-top\"\n\t\t\t\t\t\tdata-name=\"liveblog-top\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'mobile-front': {\n\t\t\tconst advertId = index === 0 ? 'top-above-nav' : `inline${index}`;\n\t\t\treturn (\n\t\t\t\t<div className=\"ad-slot-container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={`dfp-ad--${advertId}--mobile`}\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t`ad-slot--${advertId}`,\n\t\t\t\t\t\t\t'ad-slot--container-inline',\n\t\t\t\t\t\t\t'ad-slot--mobile',\n\t\t\t\t\t\t\t'mobile-only',\n\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={[mobileFrontAdStyles]}\n\t\t\t\t\t\tdata-link-name={`ad slot ${advertId}`}\n\t\t\t\t\t\tdata-name={advertId}\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'pageskin': {\n\t\t\treturn (\n\t\t\t\t<div className=\"ad-slot-container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"dfp-ad--pageskin-inread\"\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--pageskin',\n\t\t\t\t\t\t\t'ad-slot--pageskin-inread',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={outOfPageStyles}\n\t\t\t\t\t\tdata-link-name=\"ad slot pageskin-inread\"\n\t\t\t\t\t\tdata-name=\"pageskin-inread\"\n\t\t\t\t\t\tdata-label=\"false\"\n\t\t\t\t\t\tdata-refresh=\"false\"\n\t\t\t\t\t\tdata-out-of-page=\"true\"\n\t\t\t\t\t\tdata-wide=\"1,1\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'article-end': {\n\t\t\treturn (\n\t\t\t\t<div className=\"ad-slot-container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"dfp-ad--article-end\"\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t\t\t'ad-slot',\n\t\t\t\t\t\t\t'ad-slot--article-end',\n\t\t\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tcss={[articleEndAdStyles]}\n\t\t\t\t\t\tdata-link-name=\"ad slot article-end\"\n\t\t\t\t\t\tdata-name=\"article-end\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n};\n\ntype MobileStickyContainerProps = Pick<FEArticleType, 'contentType' | 'pageId'>;\n\nexport const MobileStickyContainer = ({\n\tcontentType,\n\tpageId,\n}: MobileStickyContainerProps) => {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"mobilesticky-container\"\n\t\t\tcss={[\n\t\t\t\tmobileStickyAdStyles,\n\t\t\t\t(contentType === 'Article' ||\n\t\t\t\t\tcontentType === 'Interactive' ||\n\t\t\t\t\tpageId.startsWith('football/')) &&\n\t\t\t\t\tmobileStickyAdStylesFullWidth,\n\t\t\t]}\n\t\t/>\n\t);\n};\n","/**\n * A function that asserts it should never be called\n *\n * Useful for checking exhaustiveness of switch cases\n *\n * @see https://tinytip.co/tips/ts-switch-assert-unreachable/\n *\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars -- We don't actually use the value\nexport const assertUnreachable = (value: never): never => {\n\tthrow new Error('This should be unreachable');\n};\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n\t// Modals will go here at the top\n\t'lightbox',\n\t'youTubeFullscreen',\n\n\t// Sticky video and button need to be above everything\n\t'sticky-video-button',\n\t'sticky-video',\n\t'banner',\n\t'dropdown',\n\t'burger',\n\t'mastheadVeggieBurgerExpandedMobile',\n\t'expanded-veggie-menu-wrapper',\n\t'expanded-veggie-menu',\n\n\t//header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n\t'fullPageInteractiveHeaderWrapper',\n\n\t// Mobile sticky appears below banners\n\t'mobileSticky',\n\n\t// Headers with sticky ads\n\t'stickyAdWrapperLabsHeader',\n\t'stickyAdWrapper',\n\t'stickyAdWrapperNav',\n\n\t// My Account dropdown in masthead - needs to be below stickyAdWrapper\n\t'mastheadMyAccountDropdown',\n\n\t// Edition selector in masthead - needs to be below stickyAdWrapper\n\t'mastheadEditionDropdown',\n\n\t// Edition selector in nav - needs to be below stickyAdWrapper\n\t'editionDropdown',\n\n\t// The content displayed by the Details component\n\t'summaryDetails',\n\n\t// Liveblog toast\n\t'toast',\n\n\t// Onwards Carousel (Related content etc)\n\t'onwardsCarousel',\n\n\t// Search link should be above The Guardian svg\n\t'myAccountDropdown',\n\t'searchHeaderLink',\n\t'TheGuardian',\n\n\t// The edition switcher banner needs to be below the Edition selector\n\t// and the myAccount dropdown in the nav\n\t'editionSwitcherBanner',\n\n\t// Overlay for expandable marketing card (currently US only)\n\t'expandableMarketingCardOverlay',\n\n\t// Sticky table of contents element\n\t'tableOfContents',\n\n\t// Article headline (should be above main media)\n\t'articleHeadline',\n\t'immersiveBlackBox',\n\n\t// Body\n\t'bodyArea',\n\t'rightColumnArea',\n\n\t// Main media\n\t'mainMedia',\n\n\t// Nested links in cards should sit above the main card link\n\t// See: https://www.sarasoueidan.com/blog/nested-links/\n\t'card-nested-link',\n\t'card-link',\n] as const;\n\n// Implementation code - you don't need to change this to get a new index\nexport type ZIndex = (typeof indices)[number];\n\nexport const getZIndex = (name: ZIndex): number => {\n\tconst index = indices.indexOf(name);\n\tif (index === -1) return -1; // indexOf returns -1 if there is no match\n\treturn indices.length - index; // reverse the indices: last item gets 1\n};\n","import type { ABTestAPI, Participations } from '@guardian/ab-core';\nimport { mutate } from 'swr';\nimport useSWRImmutable from 'swr/immutable';\n\ntype ABTests = {\n\tapi: ABTestAPI;\n\tparticipations: Participations;\n};\n\nconst apiPromise = new Promise<ABTests>(() => {});\nconst key = 'ab-tests';\n\n/**\n * A hook which returns the AB Test Api when available,\n * or undefined otherwise.\n *\n * Leverages an immutable SWR to satisfy all requests to the\n * AB Core. As soon as the tests are available, all instances of\n * the useAB hook will render.\n */\nexport const useAB = (): ABTests | undefined => {\n\tconst { data } = useSWRImmutable(key, () => apiPromise);\n\treturn data;\n};\n\nexport const setABTests = ({ api, participations }: ABTests): void => {\n\tvoid mutate(key, { api, participations }, false);\n};\n","// cache the promise so we only make the requests once\nlet detectByRequests: Promise<boolean> | undefined;\n\n/**\n * Make a HEAD request to a URL that is typically blocked by ad-blockers\n */\nconst requestDoubleclick = async (timeoutMs: number) => {\n\ttry {\n\t\tconst response = await fetch('https://www3.doubleclick.net', {\n\t\t\tmethod: 'HEAD',\n\t\t\tmode: 'no-cors',\n\t\t\tcache: 'no-store',\n\t\t\tsignal: AbortSignal.timeout(timeoutMs),\n\t\t});\n\n\t\t// A redirect is another clue we may be being ad-blocked\n\t\tif (response.redirected) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\treturn false;\n\t}\n};\n\n/**\n * Make a HEAD request to a URL that should succeed, even when using an\n * ad-blocker\n */\nconst requestGuardian = async (timeoutMs: number) => {\n\ttry {\n\t\tawait fetch('https://www.theguardian.com', {\n\t\t\tmethod: 'HEAD',\n\t\t\tmode: 'no-cors',\n\t\t\tcache: 'no-store',\n\t\t\tsignal: AbortSignal.timeout(timeoutMs),\n\t\t});\n\t\treturn true;\n\t} catch (err) {\n\t\treturn false;\n\t}\n};\n\n/**\n * Attempt to detect presence of an ad-blocker\n *\n * This implementation of this is likely to be tweaked before launching the test\n * proper\n */\nexport const detectByRequestsOnce = async (): Promise<boolean> => {\n\tif (detectByRequests) {\n\t\treturn detectByRequests;\n\t}\n\tdetectByRequests = Promise.all([\n\t\trequestDoubleclick(1000),\n\t\t/**\n\t\t * We set this request with a much smaller timeout than the one we\n\t\t * expect to be ad-blocked. This should reduce the chance that request\n\t\t * fails and this one succeeds due to poor network connectivity\n\t\t */\n\t\trequestGuardian(250),\n\t]).then(\n\t\t([doubleclickSuccess, guardianSuccess]) =>\n\t\t\t!doubleclickSuccess && guardianSuccess,\n\t);\n\n\treturn detectByRequests;\n};\n","import { getConsentFor, onConsentChange } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport { detectByRequestsOnce } from './detect-adblock';\n\nexport const useDetectAdBlock = (): boolean => {\n\tconst [adBlockerDetected, setAdBlockerDetected] = useState<boolean>(false);\n\tconst [hasConsentForGoogletag, setHasConsentForGoogletag] = useState(false);\n\n\tuseEffect(() => {\n\t\tonConsentChange((consentState) => {\n\t\t\tif (consentState.tcfv2) {\n\t\t\t\treturn setHasConsentForGoogletag(\n\t\t\t\t\tgetConsentFor('googletag', consentState),\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetHasConsentForGoogletag(true);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst makeRequest = async () => {\n\t\t\tif (hasConsentForGoogletag) {\n\t\t\t\tconst detectByRequests = await detectByRequestsOnce();\n\t\t\t\tconsole.log('AdBlocker detected:', detectByRequests);\n\t\t\t\tsetAdBlockerDetected(detectByRequests);\n\t\t\t}\n\t\t};\n\t\tvoid makeRequest();\n\t}, [hasConsentForGoogletag]);\n\n\treturn adBlockerDetected;\n};\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { until, from } from '../../foundations/mq/mq.js';\n\nconst Hide = ({\n  children,\n  above,\n  // deprecated\n  below,\n  // deprecated\n  from: from$1 = above,\n  until: until$1 = below\n}) => {\n  let whenToHide;\n  if (until$1) {\n    whenToHide = css`\n\t\t\t${until[until$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n  }\n  if (from$1) {\n    whenToHide = css`\n\t\t\t${whenToHide}\n\t\t\t${from[from$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n  }\n  return /* @__PURE__ */ jsx(\"span\", { css: whenToHide, children });\n};\n\nexport { Hide };\n"],"names":["_path","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","props","xmlns","width","height","viewBox","d","linkStyles","css","palette","brandAlt","neutral","textSans17","adBlockAskH2Styles","headlineMedium24","adBlockAskTextStyles","leaderboard","textSans14","mpu","textSans15","HandsLogo","styles","assetOrigin","useConfig","src","img","alt","SupportButton","href","a","ArrowRightIcon","Copy","size","h2","p","AdBlockAskLeaderboard","supportButtonHref","div","sport","AdBlockAskMPU","AdBlockAsk","slotId","shouldHideReaderRevenue","isPaidContent","isInVariant","useAB","abTestAPI","api","isUserInVariant","useIsInAdBlockAskVariant","adBlockerDetected","useDetectAdBlock","isAdFree","setIsAdFree","useState","hasConsentForGoogletag","setHasConsentForGoogletag","canDisplayAdBlockAsk","useEffect","onConsentChange","consentState","tcfv2","getConsentFor","adFreeDataIsPresent","document","EventTimer","get","setProperty","getElementById","closest","remove","useAdblockAsk","URLSearchParams","utm_campaign","utm_source","utm_medium","utm_content","utm_term","toString","assertUnreachable","labelHeight","constants","labelBoxStyles","textSans12","labelStyles","from","tablet","until","desktop","leftCol","wide","adSizes","outstreamMobile","outstreamDesktop","space","halfPageAdHeight","halfPage","outOfPageStyles","darkLabelStyles","topAboveNavContainerStyles","showcaseRightColumnContainerStyles","showcaseRightColumnStyles","merchandisingAdContainerStyles","merchandisingAdStyles","billboard","breakpoints","between","phablet","and","rightAdStyles","schemedPalette","liveblogInlineContainerStyles","liveblogInlineAdStyles","liveblogInlineMobileAdStyles","mobileFrontAdStyles","frontsBannerMinHeightTablet","frontsBannerMinHeight","frontsBannerAdTopContainerStyles","frontsBannerAdContainerStyles","frontsBannerCollapseStyles","frontsBannerAdStyles","articleEndAdStyles","mostPopAdStyles","mostPopContainerStyles","liveBlogTopAdStyles","liveBlogTopContainerStyles","AdSlot","getZIndex","mobilesticky","position","display","index","hasPageskin","colourScheme","ArticleDisplay","Immersive","className","id","join","data-link-name","data-name","aria-hidden","Showcase","NumberedList","Standard","Island","priority","defer","LABS_HEADER_HEIGHT","Hide","data-refresh","advertId","data-label","data-out-of-page","data-testid","data-wide","value","Error","indices","name","indexOf","apiPromise","Promise","key","data","useSWRImmutable","setABTests","participations","mutate","detectByRequests","requestDoubleclick","async","timeoutMs","fetch","method","mode","cache","signal","AbortSignal","timeout","redirected","err","requestGuardian","detectByRequestsOnce","all","then","doubleclickSuccess","guardianSuccess","setAdBlockerDetected","console","log","makeRequest","whenToHide","children","above","below","from$1","until$1","jsx"],"sourceRoot":""}