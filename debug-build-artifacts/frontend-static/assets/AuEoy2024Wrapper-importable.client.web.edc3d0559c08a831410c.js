(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[2075],{44165:(t,e,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,l=u||s||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return l.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=c.test(t);return n||i.test(t)?a(t.slice(2),n?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,n){var r,o,c,i,a,u,s=0,l=!1,d=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=r,c=o;return r=o=void 0,s=e,i=t.apply(c,n)}function C(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-s>=c}function v(){var t=m();if(C(t))return T(t);a=setTimeout(v,function(t){var n=e-(t-u);return d?f(n,c-(t-s)):n}(t))}function T(t){return a=void 0,y&&r?h(t):(r=o=void 0,i)}function x(){var t=m(),n=C(t);if(r=arguments,o=this,u=t,n){if(void 0===a)return function(t){return s=t,a=setTimeout(v,e),l?h(t):i}(u);if(d)return a=setTimeout(v,e),h(u)}return void 0===a&&(a=setTimeout(v,e)),i}return e=b(e)||0,g(n)&&(l=!!n.leading,c=(d="maxWait"in n)?p(b(n.maxWait)||0,e):c,y="trailing"in n?!!n.trailing:y),x.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=u=o=a=void 0},x.flush=function(){return void 0===a?i:T(m())},x}},95419:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AuEoy2024:()=>U,AuEoy2024Wrapper:()=>_});var r=n(50484),o=n(24017),c=n(85770),i=n(77907),a=n(96378),u=n(99923),s=n(7351),l=n(99134),d=n(11596),p=n(67400),f=n(50026),m=n(36226),g=n(14374),b=n(15593),y=n(11800),h=n(21707),C=n(74591);function v(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function T(){const t=v(["\n\t\t/* stylelint-disable-next-line color-no-hex */\n\t\tbackground: #041d35;\n\t\tcolor: ",";\n\t"]);return T=function(){return t},t}function x(){const t=v(["\n\t\tdisplay: grid;\n\t\tflex-direction: column;\n\t\tposition: relative;\n\t\tpadding: 0 ","px ","px ","px;\n\t\t"," {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 350px 350px;\n\t\t\tpadding: 0 ","px ","px ","px;\n\t\t}\n\t\t"," {\n\t\t\tgrid-template-columns: 462px 462px;\n\t\t\tcolumn-gap: ","px;\n\t\t}\n\t\t"," {\n\t\t\tgrid-template-columns: 148px 482px 482px;\n\t\t\tcolumn-gap: 0;\n\t\t}\n\t\t"," {\n\t\t\tgrid-template-columns: 228px 482px 482px;\n\t\t}\n\t"]);return x=function(){return t},t}function O(){const t=v(["\n\t\tdisplay: none;\n\t\t"," {\n\t\t\tdisplay: block;\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t\tmargin-top: ","px;\n\t\t}\n\t"]);return O=function(){return t},t}function j(){const t=v(["\n\t\t"," {\n\t\t\tgrid-column: 1;\n\t\t\tgrid-row: 1;\n\t\t}\n\t\th2 {\n\t\t\tmargin: ","px 0 ","px;\n\t\t\tcolor: ",";\n\n\t\t\t","\n\t\t\t"," {\n\t\t\t\t","\n\t\t\t}\n\t\t\t"," {\n\t\t\t\t","\n\t\t\t}\n\t\t}\n\t\t"," {\n\t\t\tgrid-column: 2;\n\t\t\tborder-left: 1px solid rgba(255, 255, 255, 0.2);\n\t\t\tpadding-left: ","px;\n\t\t}\n\t"]);return j=function(){return t},t}function S(){const t=v(["\n\t\t",";\n\t\tstrong {\n\t\t\t",";\n\t\t}\n\t"]);return S=function(){return t},t}function w(){const t=v(["\n\t\tmargin-bottom: ","px;\n\t"]);return w=function(){return t},t}function E(){const t=v(["\n\t\tmargin-top: ","px;\n\t\t"," {\n\t\t\tgrid-column: 2;\n\t\t\tgrid-row: 1;\n\t\t\talign-self: flex-start;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: flex-end;\n\t\t}\n\t\t"," {\n\t\t\tgrid-column: 3;\n\t\t\tmargin-right: ","px;\n\t\t}\n\t"]);return E=function(){return t},t}const A={container:(0,o.css)(T(),i.M.neutral[100]),grid:(0,o.css)(x(),a.x[3],a.x[4],a.x[3],u.HT.tablet,a.x[5],a.x[4],a.x[5],u.HT.desktop,a.x[4],u.HT.leftCol,u.HT.wide),logo:(0,o.css)(O(),u.HT.leftCol,a.x[2]),heading:(0,o.css)(j(),u.HT.tablet,a.x[2],a.x[4],i.M.neutral[100],s.muz,u.HT.tablet,s.mAD,u.HT.leftCol,s.D7o,u.HT.leftCol,a.x[2]),body:(0,o.css)(S(),s.BTt,s._UO),ticker:(0,o.css)(w(),a.x[4]),choiceCards:(0,o.css)(E(),a.x[6],u.HT.tablet,u.HT.leftCol,a.x[3])},I={currencySymbol:"$",copy:{},tickerStylingSettings:{filledProgressColour:"#FFBAC8",progressBarBackgroundColour:"#1F4153",headlineColour:"#000000",totalColour:"#FEBBC7",goalColour:"#FFFFFF"}},k={testName:"au-eoy-front-amounts",variantName:"CONTROL",defaultContributionType:"MONTHLY",displayContributionType:["ONE_OFF","MONTHLY","ANNUAL"],amountsCardData:{ONE_OFF:{amounts:[75,120],defaultAmount:120,hideChooseYourAmount:!1},MONTHLY:{amounts:[10,20],defaultAmount:20,hideChooseYourAmount:!1},ANNUAL:{amounts:[80,200],defaultAmount:200,hideChooseYourAmount:!1}}},P={buttonColour:"#FFFFFF",buttonTextColour:"#767676",buttonBorderColour:"#999999",buttonSelectColour:"#FFE8EC",buttonSelectTextColour:"#062962",buttonSelectBorderColour:"#FEBBC7"},F="AUEOY24_LAUNCH_UPDATED_THRASHER",N={ctaUrl:'https://support.theguardian.com/au/contribute?acquisitionData={"source":"GUARDIAN_WEB","componentType":"ACQUISITIONS_THRASHER","componentId":"'.concat(F,'","campaignCode":"AUEOY24"}&INTCMP=AUEOY24'),ctaText:"Support us"},U=t=>{let{tickerData:e,submitTrackingEvent:n}=t;const{choiceCardSelection:o,setChoiceCardSelection:c,getCtaText:i,getCtaUrl:a,currencySymbol:u}=(0,C.m)(k,"AU",N,N);return(0,r.jsx)("div",{css:A.container,children:(0,r.jsxs)("div",{css:A.grid,children:[(0,r.jsx)("div",{css:A.logo,children:(0,r.jsx)(l.D,{textColor:"#FFFFFF",width:100})}),(0,r.jsxs)("div",{css:A.heading,children:[(0,r.jsx)("h2",{children:"Can you help us hit our goal?"}),(0,r.jsxs)("div",{css:A.body,children:[(0,r.jsx)("div",{css:A.ticker,children:(0,r.jsx)(d.R,{currencySymbol:I.currencySymbol,copy:{},tickerData:e,tickerStylingSettings:I.tickerStylingSettings,size:"medium"})}),"With no billionaire owner or shareholders pulling our strings, reader support keeps us fiercely independent.",(0,r.jsxs)("strong",{children:[" ","As we prepare for the challenges of 2025, will you support us?"]})]})]}),(0,r.jsx)("div",{css:A.choiceCards,children:(0,r.jsx)(y.T,{setSelectionsCallback:c,selection:o,submitComponentEvent:n,currencySymbol:u,componentId:"thrasher-choice-cards",amountsTest:k,design:P,getCtaText:i,getCtaUrl:a,cssCtaOverides:(0,h.V)({default:{backgroundColour:"#FEBBC7",textColour:"#062962"},hover:{backgroundColour:"#FEBBC7",textColour:"#062962"}}),onCtaClick:()=>{n({component:{componentType:"ACQUISITIONS_THRASHER",id:F},action:"CLICK"})}})})]})})},_=()=>{const[t,e]=(0,p.useState)(),[n,o]=(0,p.useState)(!1),i=(0,g.T)();(0,p.useEffect)((()=>{"Pending"!==i&&o(!1===(0,m.h3)(i))}),[i]),(0,p.useEffect)((()=>{(async()=>{const t=await fetch("https://support.theguardian.com/ticker/AU.json").then((t=>t.json()));if((0,c.G)(t)){const{total:e,goal:n}=t;if("number"==typeof e&&"number"==typeof n)return{total:Math.floor(e),goal:Math.floor(n)}}})().then(e)}),[]);const{renderingTarget:a}=(0,b.U)();return(0,r.jsx)(r.Fragment,{children:n&&t&&(0,r.jsx)(U,{tickerData:t,submitTrackingEvent:t=>{(0,f.u_)(t,a)}})})}},81412:(t,e,n)=>{"use strict";n.d(e,{Bl:()=>y,Mf:()=>T,Nl:()=>f,Q7:()=>m,QP:()=>d,R9:()=>b,Tv:()=>l,hy:()=>g,m1:()=>s,qU:()=>h,rx:()=>O,t0:()=>x});var r=n(9474),o=n(29995);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){c(t,e,n[e])}))}return t}function a(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}const u=(t,e,n,o,c)=>{const i=((t,e,n,r,o)=>{const c=[{name:t,variant:e}];return n&&c.push({name:n.testName,variant:n.variantName}),r&&o&&c.push({name:r,variant:o,testType:"AMOUNTS_TEST"}),c})(e.abTestName,e.abTestVariant,e.targetingAbTest,o,c),a=((t,e)=>encodeURIComponent(JSON.stringify({source:t.platformId,componentId:t.campaignCode,componentType:t.componentType,campaignCode:t.campaignCode,abTests:e,referrerPageviewId:t.ophanPageId,referrerUrl:t.referrerUrl,isRemote:!0,labels:t.labels})))(e,i),u=((t,e,n)=>{const o={REFPVID:t.ophanPageId||"not_found",INTCMP:t.campaignCode||"",acquisitionData:e,numArticles:n||0};return Object.entries(o).filter((t=>{let[,e]=t;return!(0,r.b)(e)})).map((t=>{let[e,n]=t;return"".concat(e,"=").concat(n)})).join("&")})(e,a,null!=n?n:0),s=t.includes("?");return"".concat(t).concat(s?"&":"?").concat(u)},s=(t,e,n)=>u(((t,e)=>{switch(e.product){case"Contribution":case"SupporterPlus":return((t,e)=>{let{region:n,amount:r,billingPeriod:o}=e;return"".concat(t,"/").concat(n,"/contribute/checkout?selected-amount=").concat(r,"&selected-contribution-type=").concat(o)})(t,e);default:return t}})(t,e),n),l=t=>/\bsupport\./.test(t),d=(t,e,n,r,c,i)=>{if(!l(t))return t;const a=(0,o.u4)(t,r);return u(a,e,n,c,i)},p=/href="(.*?)"/g,f=(t,e,n,r)=>{const o=v(e,"body-link");return t.replace(p,((t,e)=>'href="'.concat(d(e,o,n,r),'"')))},m=(t,e,n)=>{const r="selected-contribution-type=".concat(e).concat(void 0!==n?"&selected-amount=".concat(n):""),o=t.includes("?");return"".concat(t).concat(o?"&":"?").concat(r)},g=t=>{const e=t.includes("?");return"".concat(t).concat(e?"&":"?").concat("oneTime")},b=(t,e,n,r)=>{const o="product=".concat(e,"&ratePlan=").concat(n).concat(void 0!==r?"&contribution=".concat(r):""),c=t.includes("?");return"".concat(t).concat(c?"&":"?").concat(o)},y=t=>/\bprofile\./.test(t),h=(t,e)=>y(t)?((t,e)=>{const n={componentType:e.componentType,componentId:e.campaignCode,abTestName:e.abTestName,abTestVariant:e.abTestVariant,viewId:e.ophanPageId},o={componentEventParams:encodeURIComponent((c=n,Object.keys(c).map((t=>{const e=c[t],n=Array.isArray(e)?e.map((t=>encodeURIComponent(t))).join(","):encodeURIComponent(e);return"".concat(t,"=").concat(n)})).join("&"))),returnUrl:e.referrerUrl};var c;const i=Object.entries(o).filter((t=>{let[,e]=t;return!(0,r.b)(e)})).map((t=>{let[e,n]=t;return"".concat(e,"=").concat(n)})),a=t.includes("?");return"".concat(t).concat(a?"&":"?").concat(i.join("&"))})(t,e):t,C=t=>(e,n)=>{const{abTestName:r,abTestVariant:o,componentType:c,products:u=[],labels:s=[],campaignCode:l}=e,d=r&&o?{name:r,variant:o}:null,p=e.targetingAbTest?{name:e.targetingAbTest.testName,variant:e.targetingAbTest.variantName}:null;return a(i({component:{componentType:c,products:u,campaignCode:l,id:n,labels:s}},d?{abTest:d}:{},p?{targetingAbTest:p}:{}),{action:t})},v=(t,e)=>t.labels?a(i({},t),{labels:[...t.labels,e]}):a(i({},t),{labels:[e]}),T=C("CLICK"),x=C("VIEW"),O=C("INSERT")},36226:(t,e,n)=>{"use strict";n.d(e,{Jj:()=>y,Pp:()=>s,VF:()=>l,Vi:()=>u,Xr:()=>v,_f:()=>x,h3:()=>p,mG:()=>C,mV:()=>b,n8:()=>T,q6:()=>j,tZ:()=>O,yw:()=>h});var r=n(18411),o=n(9474),c=n(61082),i=n(9092),a=n(67400);const u="gu_hide_support_messaging",s="gu_recurring_contributor",l="gu.contributions.contrib-timestamp",d="gu.noRRBanner",p=t=>{const e=(t=>{switch((0,r.R)({name:u})){case"true":return!0;case"false":return!1;default:return!!t&&"Pending"}})(t);return"Pending"===e?"Pending":e||(()=>{const t=(()=>{const t=(0,r.R)({name:l});if(t)return(t?parseInt(t,10):0)||void 0})();return!(0,o.b)(t)&&((t,e)=>{const n=Date.now()-t;return Math.floor(n/864e5)})(t)<=90})()},f=[1,3,7],m=[1,3,5,7],g=()=>null!==(0,r.R)({name:"gu_article_count_opt_out"}),b=()=>new Promise((t=>{(0,r.R)({name:"gu-cmp-disabled",shouldMemoize:!0})&&t(!0),(0,i.Ym)((e=>{let{usnat:n,tcfv2:r,aus:o}=e;if(null!=n?n:o)t(!0);else if(r){const e=f.every((t=>r.consents[t]));e||c.I.local.remove("gu.history.weeklyArticleCount"),t(e)}}))})),y=async()=>!await b()||g(),h=async()=>!await b()||g(),C=()=>{const[t,e]=(0,a.useState)("Pending");return(0,a.useEffect)((()=>{y().then(e).catch((()=>e(!0)))}),[]),t},v=()=>new Promise((t=>{(0,r.R)({name:"gu-cmp-disabled",shouldMemoize:!0})&&t(!0),(0,i.Ym)((e=>{let{usnat:n,tcfv2:r,aus:o}=e;if(null!=n?n:o)t(!0);else if(r){const e=m.every((t=>r.consents[t]));t(e)}}))})),T=()=>!!c.I.local.get(d),x=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return c.I.local.set(d,!0,t+12e5)},O=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return!!t&&e-new Date(t).getTime()<36e5},j=()=>{const t=(0,r.R)({name:"GU_CO_COMPLETE",shouldMemoize:!0});if(!t)return;let e;try{e=JSON.parse(decodeURIComponent(t))}catch(t){}return e}},14374:(t,e,n)=>{"use strict";n.d(e,{T:()=>c,w:()=>i});var r=n(67400),o=n(97656);const c=()=>{switch(i().kind){case"Pending":return"Pending";case"SignedInWithCookies":case"SignedInWithOkta":return!0;case"SignedOutWithCookies":case"SignedOutWithOkta":return!1}},i=()=>{const[t,e]=(0,r.useState)({kind:"Pending"});return(0,r.useEffect)((()=>{(0,o.kU)((t=>{e((0,o.dx)(t))}),(()=>e((0,o.Hn)()))).catch((t=>{console.error(t)}))}),[]),t}},58452:(t,e,n)=>{"use strict";n.d(e,{E:()=>i});var r=n(44165),o=n.n(r),c=n(67400);const i=t=>{const[e,n]=(0,c.useState)(!1);var r;const[i,a]=(0,c.useState)(null!==(r=t.node)&&void 0!==r?r:null),u=(0,c.useRef)(null),s=(0,c.useCallback)((e=>{let[r]=e;r&&(r.isIntersecting?n(!0):t.repeat&&n(!1))}),[t.repeat]),l=t.debounce?o()(s,200):s;return(0,c.useEffect)((()=>{t.node&&a(t.node)}),[t.node]),(0,c.useEffect)((()=>{if(i&&"IntersectionObserver"in window)return u.current=new window.IntersectionObserver(l,t),u.current.observe(i),()=>{var t;return null===(t=u.current)||void 0===t?void 0:t.disconnect()}}),[i,t,l]),(0,c.useEffect)((()=>{var n;!t.repeat&&e&&(null===(n=u.current)||void 0===n||n.disconnect())}),[e,t.repeat]),[e,a]}}}]);
//# sourceMappingURL=AuEoy2024Wrapper-importable.client.web.edc3d0559c08a831410c.js.map