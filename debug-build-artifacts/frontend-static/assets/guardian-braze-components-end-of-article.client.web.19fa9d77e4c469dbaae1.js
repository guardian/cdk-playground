"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[8007],{58200:(e,t,r)=>{r.r(t),r.d(t,{BrazeEndOfArticleComponent:()=>fe});var n=r(67400),o=r(24017),a=r(99354),i=r(96378),s=r(46080),c=r(7351),l=r(99923),u=r(92280),p=r(68163),d=r(62945),m=r(14302),f=r(27123),g=r(95571);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C,w,M,P,I,E=function(e,t){try{t()}catch(t){t instanceof Error&&console.log("Error (".concat(e,"): "),t.message)}},A=(0,o.css)("display:inline-block;width:auto;height:25px;margin:",i.x[1],"px 0;",""),B=function(){return(0,o.jsx)("img",{width:422,height:60,src:"https://assets.guim.co.uk/images/acquisitions/2db3a266287f452355b68d4240df8087/payment-methods.png",alt:"Accepted payment methods: Visa, Mastercard, American Express and PayPal",css:A})},T={textPrimary:s.SY[7],backgroundPrimary:s.JU[400],backgroundPrimaryHover:s.JU[300],textSecondary:s.SY[7],backgroundSecondary:s.SY[93],backgroundSecondaryHover:s.SY[86],borderSecondary:s.SY[86]},k={button:T,link:T},R={styleButton:"#ffffff",styleButtonBackground:"#052962",styleButtonHover:"#234b8a"},U=function(e){var t=e.buttonUrl,r=e.buttonText,n=e.showPaymentIcons,s=e.ophanComponentId,c=e.trackClick,l=e.colors,u=function(e){return{buttonWrapperStyles:(0,o.css)("margin:",i.x[1],"px ",i.x[2],"px ",i.x[1],"px 0;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;max-width:50%;",""),buttonMargins:(0,o.css)("margin:",i.x[1],"px ",i.x[2],"px ",i.x[1],"px 0;",""),contributionButtonOverrides:(0,o.css)("background-color:",e.styleButtonBackground,"!important;color:",e.styleButton,"!important;:hover{background-color:",e.styleButtonHover,"!important;}","")}}(void 0===l?R:l);return(0,o.jsx)("div",{css:u.buttonWrapperStyles},(0,o.jsx)("div",{css:u.buttonMargins},(0,o.jsx)(a.a,{theme:k},(0,o.jsx)(p.z,{href:t,target:"_blank",rel:"noopener noreferrer",priority:"primary",cssOverrides:u.contributionButtonOverrides,onClick:function(){return c({internalButtonId:0,ophanComponentId:s})}},r))),n&&(0,o.jsx)(B,null))},N=(0,o.keyframes)(C||(w=["\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    15% {\n        transform: scale(1.333);\n        filter: brightness(0.7);\n    }\n    30% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n"],M||(M=w.slice(0)),C=Object.freeze(Object.defineProperties(w,{raw:{value:Object.freeze(M)}})))),L=(0,o.css)("circle{animation:",N," 1.5s ease infinite;}#dot_1{animation-delay:0ms;transform-origin:3px 3.5px;}#dot_2{animation-delay:400ms;transform-origin:17.4px 3.5px;}#dot_3{animation-delay:800ms;transform-origin:31.7px 3.5px;}",""),D=function(e){var t=e.styleReminderAnimation;return(0,o.jsx)("svg",{width:"50",height:"17",viewBox:"-5 -5 45 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:L},(0,o.jsx)("g",{id:"Dots step 1"},(0,o.jsx)("g",{id:"Group 660"},(0,o.jsx)("circle",{id:"dot_1",opacity:"0.5",cx:"3.0152",cy:"3.56641",r:"3",fill:t}),(0,o.jsx)("circle",{id:"dot_2",opacity:"0.5",cx:"17.3748",cy:"3.56641",r:"3",fill:t}),(0,o.jsx)("circle",{id:"dot_3",opacity:"0.5",cx:"31.7348",cy:"3.56641",r:"3",fill:t}))))},H={styleReminderButton:"#121212",styleReminderButtonBackground:"#f6f6f6;",styleReminderButtonHover:"#dcdcdc",styleReminderAnimation:"#707070"},_=function(e){var t=e.buttonStyles,r=e.ctaText,n=e.onClick;return(0,o.jsx)("div",{css:t.buttonMargins},(0,o.jsx)(a.a,{theme:k},(0,o.jsx)(p.z,{onClick:function(){return n()},priority:"tertiary",cssOverrides:t.remindMeButtonOverrides,theme:{borderTertiary:"currentColor"}},r)))},z=function(e){var t=e.reminderComponent,r=e.reminderStage,a=e.reminderOption,s=e.ophanComponentId,l=e.trackClick,u=e.fetchEmail,p=e.colors,d=void 0===p?H:p,m=e.showPrivacyText,f=function(){var e=function(e){var t=e.getDate()<20?1:2;return e.setMonth(e.getMonth()+t),e}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date),t=(e.getMonth()+1).toString().padStart(2,"0"),r=e.toLocaleString("default",{month:"long"}),n=e.getFullYear();return{reminderCta:"Remind me in ".concat(r),reminderPeriod:"".concat(n,"-").concat(t,"-01"),reminderLabel:"".concat(r," ").concat(n)}}(),g=f.reminderCta,y=f.reminderPeriod,h=f.reminderLabel,x=S((0,n.useState)("DEFAULT"),2),v=x[0],j=x[1],O=function(e){return{buttonWrapperStyles:(0,o.css)("margin:",i.x[1],"px ",i.x[2],"px ",i.x[1],"px 0;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;max-width:50%;",""),buttonMargins:(0,o.css)("margin:",i.x[1],"px ",i.x[2],"px ",i.x[1],"px 0;",""),thankYouText:(0,o.css)(c._UO,";line-height:1.4;margin-top:",i.x[3],"px;",""),remindMeButtonOverrides:(0,o.css)("background-color:",e.styleReminderButtonBackground,"!important;color:",e.styleReminderButton,"!important;:hover{background-color:",e.styleReminderButtonHover,"!important;}",""),smallPrint:(0,o.css)("margin-top:",i.x[2],"px;",c.nD4,";line-height:1.4;","")}}(d),C=function(){l({internalButtonId:1,ophanComponentId:s}),j("IN_PROGRESS"),u().then((function(e){return e?function(e){var t;return"object"===("undefined"==typeof process?"undefined":b(process))&&"true"===(null===(t=process)||void 0===t||null===(t=t.env)||void 0===t?void 0:t.STORYBOOK)?Promise.resolve():fetch("https://support.theguardian.com/reminders/create/one-off",{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?Promise.resolve():Promise.reject("Error creating reminder")})).catch((function(){return Promise.reject("Error creating reminder")}))}({reminderPeriod:y,email:e,reminderPlatform:"WEB",reminderComponent:t,reminderStage:r,reminderOption:a}):Promise.reject()})).then((function(){return j("SUCCESS")})).catch((function(){return j("FAILURE")}))};switch(v){case"DEFAULT":return(0,o.jsx)("div",{css:O.buttonWrapperStyles},(0,o.jsx)(_,{buttonStyles:O,onClick:C,ctaText:g}),m&&(0,o.jsx)("div",{css:O.smallPrint},"We will send you a maximum of two emails in ",h,". To find out what personal data we collect and how we use it, view our"," ",(0,o.jsx)("a",{href:"https://manage.theguardian.com/email-prefs"},"Privacy Policy"),"."));case"FAILURE":return(0,o.jsx)("div",{css:O.buttonWrapperStyles},(0,o.jsx)(_,{buttonStyles:O,onClick:C,ctaText:g}),(0,o.jsx)("div",{css:O.smallPrint},"There was an error creating the reminder. Please try again."));case"IN_PROGRESS":return(0,o.jsx)("div",{css:O.buttonWrapperStyles},(0,o.jsx)("div",{css:O.thankYouText},(0,o.jsx)(D,{styleReminderAnimation:d.styleReminderAnimation})));case"SUCCESS":return(0,o.jsx)("div",{css:O.buttonWrapperStyles},(0,o.jsx)("div",{css:O.thankYouText},"Thank you! Your reminder is set."))}},G={GBPCountries:{name:"United Kingdom",currency:"GBP",countries:["GB","FK","GI","GG","IM","JE","SH"],supportRegionId:"UK"},UnitedStates:{name:"United States",currency:"USD",countries:["US"],supportRegionId:"US"},AUDCountries:{name:"Australia",currency:"AUD",countries:["AU","KI","NR","NF","TV"],supportRegionId:"AU"},EURCountries:{name:"Europe",currency:"EUR",countries:["AD","AL","AT","BA","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GF","GL","GP","GR","HR","HU","IE","IT","LI","LT","LU","LV","MC","ME","MF","IS","MQ","MT","NL","NO","PF","PL","PM","PT","RE","RO","RS","SE","SI","SJ","SK","SM","TF","TR","WF","YT","VA","AX"],supportRegionId:"EU"},International:{name:"International",currency:"USD",countries:["AE","AF","AG","AI","AM","AO","AQ","AR","AS","AW","AZ","BB","BD","BF","BH","BI","BJ","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CC","CD","CF","CG","CI","CL","CM","CN","CO","CR","CU","CV","CW","CX","DJ","DM","DO","DZ","EC","EG","EH","ER","ET","FJ","FM","GA","GD","GE","GH","GM","GN","GQ","GS","GT","GU","GW","GY","HK","HM","HN","HT","ID","IL","IN","IO","IQ","IR","JM","JO","JP","KE","KG","KH","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LK","LR","LS","LY","MA","MD","MG","MH","MK","ML","MM","MN","MO","MP","MR","MS","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NG","NI","NP","NU","OM","PA","PE","PG","PH","PK","PN","PR","PS","PW","PY","QA","RU","RW","SA","SB","SC","SD","SG","SL","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TG","TH","TJ","TK","TL","TM","TN","TO","TT","TW","TZ","UA","UG","UM","UY","UZ","VC","VE","VG","VI","VN","VU","WS","YE","ZA","ZM","ZW"],supportRegionId:"INT"},NZDCountries:{name:"New Zealand",currency:"NZD",countries:["NZ","CK"],supportRegionId:"NZ"},Canada:{name:"Canada",currency:"CAD",countries:["CA"],supportRegionId:"CA"}},F={GB:"the UK",US:"the US",AU:"Australia",CA:"Canada",DE:"Germany",NZ:"New Zealand",FR:"France",NL:"the Netherlands",IE:"Ireland",SE:"Sweden",CH:"Switzerland",NO:"Norway",BE:"Belgium",IT:"Italy",IN:"India",ES:"Spain",DK:"Denmark",SG:"Singapore",AT:"Austria",FI:"Finland",HK:"Hong Kong",LU:"Luxembourg",PT:"Portugal",AE:"the UAE",MX:"Mexico",BR:"Brazil",ZA:"South Africa",TW:"Taiwan",IL:"Israel",JP:"Japan",CZ:"the Czech Republic",GR:"Greece",IS:"Iceland",TH:"Thailand",MY:"Malaysia",RO:"Romania",PL:"Poland",HU:"Hungary",TR:"Turkey",KR:"Korea",SI:"Slovenia",CL:"Chile",CO:"Colombia",QA:"Qatar",HR:"Croatia",SK:"Slovakia",ID:"Indonesia",VN:"Vietnam",CN:"China",MT:"Malta",AR:"Argentina",KE:"Kenya",PR:"Puerto Rico",RU:"Russia",EE:"Estonia",CR:"Costa Rica",PA:"Panama"},Y={GBPCountries:"£",UnitedStates:"$",AUDCountries:"$",Canada:"CA$",EURCountries:"€",NZDCountries:"NZ$",International:"$"},K=["%%CURRENCY_SYMBOL%%","%%COUNTRY_NAME%%"],W=function(e,t){var r;if(!e)return"";e=e.replace(/%%CURRENCY_SYMBOL%%/g,function(e){if(e){var t=(r=e,Object.keys(G).find((function(e){return G[e].countries.includes(r)}))||"International");return Y[t]}var r;return"£"}(t));var n=null!==(r=function(e){if(e)return F[e]}(t))&&void 0!==r?r:"";return n?e.replace(/%%COUNTRY_NAME%%/g,n):e},Z=/%%.*?%%/g,q=function(e){var t,r=[],n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=j(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(Object.keys(e).filter((function(e){return/^paragraph\d$/.test(e)})).sort());try{for(n.s();!(t=n.n()).done;){var o=e[t.value];o&&r.push(o)}}catch(e){n.e(e)}finally{n.f()}return r},V={picture:(0,o.css)("",""),rightContainer:{name:"82a6rk",styles:"flex:1"},image:{name:"1clo8ee",styles:"height:auto;width:100%;object-fit:cover"},container:(0,o.css)("display:none;",l.HT.tablet,"{display:flex;align-items:center;padding:",i.x[1],"px ",i.x[1],"px 0;}",""),leftContainer:(0,o.css)("flex:3;margin-right:",i.x[4],"px;",""),text:(0,o.css)(c.qqn,";line-height:1.35;",""),imageCaptionContainer:(0,o.css)("",""),imageCaption:(0,o.css)(c.BTt,";line-height:1.4;margin:0;",""),imageCaptionBold:(0,o.css)(c._UO,";line-height:1.4;",""),imageCaptionItalic:(0,o.css)(c.RlO,";line-height:1.4;","")},J=function(e){var t=e.authoredEpicImageUrl,r=e.authoredEpicImageAltText,n=e.authoredEpicHeader,a=e.authoredEpicBylineName,i=e.authoredEpicBylineCopy1,s=e.authoredEpicBylineCopy2;return(0,o.jsx)("div",{css:V.container},(0,o.jsx)("div",{css:V.leftContainer},n&&(0,o.jsx)("span",{css:V.text},n)),(0,o.jsx)("div",{css:V.rightContainer},(0,o.jsx)("picture",{css:V.picture},(0,o.jsx)("source",{srcSet:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",media:"(max-width: ".concat(u.f.tablet-1,"px)")}),(0,o.jsx)("source",{srcSet:t,media:"(min-width: ".concat(u.f.tablet,"px)")}),(0,o.jsx)("img",{css:V.image,src:t,alt:r})),(0,o.jsx)("div",{css:V.imageCaptionContainer},(0,o.jsx)("p",{css:[V.imageCaption,V.imageCaptionBold,"",""]},a),i&&(0,o.jsx)("p",{css:[V.imageCaption,V.imageCaptionItalic,"",""]},i),s&&(0,o.jsx)("p",{css:V.imageCaption},s))))},Q=(0,o.css)("a{color:",s.wI[400],";text-decoration:none;}a:hover{text-decoration:underline;}",""),$={epicWrapper:{name:"5mr6hz",styles:"max-width:620px"},epicContainer:(0,o.css)("padding:",i.x[1],"px ",i.x[2],"px ",i.x[3],"px;border-top:1px solid #ffe500;background-color:#f6f6f6;display:flex;flex-direction:column;",c.BTt,";line-height:1.4;b,strong{font-weight:bold;}",""),paragraph:(0,o.css)("margin-top:0;margin-bottom:",i.x[2],"px;",Q,";",""),heading:(0,o.css)(c.aal,";margin-top:0;margin-bottom:",i.x[3],"px;",""),highlightText:(0,o.css)(c._UO,";",Q," padding:2px;background-color:",s.JU[400],";",""),buttonWrapperStyles:(0,o.css)("margin:",i.x[6],"px ",i.x[2],"px ",i.x[1],"px 0;display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;","")},X={styleReminderButton:"#121212",styleReminderButtonBackground:"#ededed",styleReminderButtonHover:"#dcdcdc",styleReminderAnimation:"#707070"},ee={styleButton:"#121212",styleButtonBackground:"#ffe500",styleButtonHover:"#ffd213"},te=function(e){var t=e.brazeMessageProps,r=t.heading,n=t.buttonText,i=t.buttonUrl,c=t.highlightedText,l=t.reminderStage,u=t.reminderOption,p=t.ophanComponentId,d=t.hidePaymentIcons,m=t.authoredEpicHeader,f=t.authoredEpicImageUrl,g=t.authoredEpicImageAltText,y=t.authoredEpicBylineName,h=t.authoredEpicBylineCopy1,b=t.authoredEpicBylineCopy2,x=t.showPrivacyText,v=void 0===x?"true":x,S=e.countryCode,j=e.trackClick,O=e.fetchEmail;if(!function(e){var t,r,n=e.buttonText,o=e.buttonUrl,a=e.ophanComponentId,i=e.highlightedText,s=q(e),c=!!(r=null===(t=((i||"")+" "+s.join(" ")).match(Z))||void 0===t?void 0:t.filter((function(e){return!K.includes("".concat(e))})))&&r.length>0;return Boolean(n&&o&&a&&s.length>0&&!c)}(e.brazeMessageProps))return null;var C=q(e.brazeMessageProps).map((function(e){return W(e,S)})),w=W(c,S),M="true"===v;return(0,o.jsx)(a.a,{theme:s.wk},(0,o.jsx)("div",{css:$.epicWrapper},(0,o.jsx)("section",{css:$.epicContainer},null!=f&&null!=g&&null!=y&&(0,o.jsx)(J,{authoredEpicImageUrl:f,authoredEpicImageAltText:g,authoredEpicHeader:m,authoredEpicBylineName:y,authoredEpicBylineCopy1:h,authoredEpicBylineCopy2:b}),(0,o.jsx)("div",{css:$.heading},r),C.map((function(e,t){return(0,o.jsx)("p",{key:"paragraph"+t,css:$.paragraph},(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:e}}),w.length>0&&t===C.length-1?(0,o.jsx)("span",{css:$.highlightText,dangerouslySetInnerHTML:{__html:w}}):null)})),(0,o.jsx)("div",{css:$.buttonWrapperStyles},(0,o.jsx)(U,{buttonText:n,buttonUrl:i,showPaymentIcons:"true"!==d,ophanComponentId:p,colors:ee,trackClick:j}),l&&(0,o.jsx)(z,{reminderComponent:"EPIC",reminderStage:l,reminderOption:u,ophanComponentId:p,trackClick:j,fetchEmail:O,colors:X,showPrivacyText:M})))))},re=["https://media.guim.co.uk/","https://i.guim.co.uk/"],ne=function(e){var t=e.frequency,r=e.colors;if(!t)return null;var n=ie(void 0===r?oe:r);return(0,o.jsx)("div",{css:n.container},(0,o.jsx)("span",{css:n.clock},(0,o.jsx)(d.f,null)),(0,o.jsx)("span",{css:n.text},t))},oe={styleClockColor:"#999999",styleFrequencyText:"#333333"},ae={name:"1r962iv",styles:"padding:4px"},ie=function(e){return{container:ae,clock:(0,o.css)("position:relative;top:2px;margin-right:4px;svg{fill:",e.styleClockColor,";height:16px;width:16px;}",""),text:(0,o.css)("color:",e.styleFrequencyText,";",c.NA0,";margin-left:4px;","")}},se=function(e){var t=e.buttonStyles,r=e.newsletterCta,n=e.onClick;return(0,o.jsx)(a.a,{theme:m.Wd},(0,o.jsx)(f.$,{cssOverrides:t.button,onClick:n},r))},ce=function(e){var t=e.subscribeToNewsletter,r=e.newsletterId,a=e.ophanComponentId,i=e.trackClick,s=e.colors,c=void 0===s?le:s,l=e.newsletterCta,u=ue(c),p=S((0,n.useState)("DEFAULT"),2),d=p[0],m=p[1],f=function(){m("IN_PROGRESS"),i({internalButtonId:0,ophanComponentId:a}),t(r).then((function(){return m("SUCCESS")})).catch((function(){m("FAILURE")}))};switch(d){case"DEFAULT":return(0,o.jsx)(se,{buttonStyles:u,onClick:f,newsletterCta:l});case"FAILURE":return(0,o.jsx)(n.default.Fragment,null,(0,o.jsx)("div",{css:u.errorText},"There was an error signing up to the newsletter. Please try again"),(0,o.jsx)(se,{buttonStyles:u,onClick:f,newsletterCta:l}));case"IN_PROGRESS":return(0,o.jsx)(D,{styleReminderAnimation:c.styleReminderAnimation});case"SUCCESS":return(0,o.jsx)(n.default.Fragment,null,(0,o.jsx)("div",{css:u.thankYouText},"Thank you."),(0,o.jsx)("div",null,(0,o.jsx)(g.N,{href:"https://manage.theguardian.com/email-prefs",priority:"primary"},"Manage my newsletters"),(0,o.jsx)("span",{css:u.newslettersLinkPeriod},".")))}},le={styleNewsletterButton:"#ffffff",styleNewsletterButtonBackground:"#c70000",styleNewsletterButtonHover:"#c70000",styleReminderAnimation:"#707070"},ue=function(e){return{button:(0,o.css)("background-color:",e.styleNewsletterButtonBackground,"!important;color:",e.styleNewsletterButton,"!important;&:hover{background-color:",e.styleNewsletterButtonHover,"!important;}",""),thankYouText:(0,o.css)(c._UO,";color:",s.SY[0],";",""),errorText:(0,o.css)(c._UO,";color:",s.SY[0],";margin-bottom:16px;",""),newslettersLinkPeriod:(0,o.css)("color:",s.SY[0],";","")}},pe=function(e){var t=e.brazeMessageProps,r=t.header,n=t.frequency,i=t.paragraph1,c=t.paragraph2,l=t.imageUrl,u=t.newsletterId,p=t.ophanComponentId,d=e.subscribeToNewsletter,m=e.trackClick;return function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.imageUrl,a=e.newsletterId,i=e.ophanComponentId;return!(!(t&&r&&n&&o&&a&&i)||!function(e){return re.some((function(t){return e.startsWith(t)}))}(o)&&(console.log("Image URL ".concat(o," is not allowed")),1))}(e.brazeMessageProps)?(0,o.jsx)(a.a,{theme:s.wk},(0,o.jsx)("section",{css:de.epicContainer},(0,o.jsx)("div",null,(0,o.jsx)("img",{css:de.image,src:l})),(0,o.jsx)("div",{css:de.rightSection},(0,o.jsx)("span",{css:de.heading},r),(0,o.jsx)(ne,{frequency:n}),(0,o.jsx)("p",{css:de.paragraph},i),c?(0,o.jsx)("p",{css:de.paragraph},c):null,(0,o.jsx)(ce,{subscribeToNewsletter:d,newsletterId:u,ophanComponentId:p,trackClick:m,newsletterCta:"Sign up"})))):null},de={epicContainer:(0,o.css)("padding:4px 8px 12px;border-top:1px solid ",s.wI[400],";background-color:",s.SY[97],";display:flex;flex-direction:row;max-width:620px;",""),rightSection:{name:"h044v7",styles:"padding-left:12px"},image:(0,o.css)("width:196px;",l.TG.desktop,"{width:96px;}",""),heading:(0,o.css)(c.aC2,";margin:0;max-width:100%;",l.HT.tablet,"{max-width:100%;}",""),paragraph:(0,o.css)(c.BTt,";line-height:135%;margin:",i.x[5],"px 0 ",i.x[5],"px;max-width:100%;color:",s.SY[0],";",l.HT.phablet,"{max-width:90%;}",l.HT.tablet,"{max-width:100%;}",l.HT.desktop,"{margin:",i.x[3],"px 0 ",i.x[4],"px;max-width:42rem;}",l.HT.leftCol,"{max-width:37rem;}",l.HT.wide,"{max-width:42rem;}","")},me=(x(P={},"Epic",te),x(P,"EpicWithSpecialHeader",(function(e){return(0,o.jsx)(te,e)})),x(P,"USNewsletterEpic",(function(e){return function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)}(e.brazeMessageProps)?(0,o.jsx)(pe,v({},e,{brazeMessageProps:h(h({},e.brazeMessageProps),{},{imageUrl:"https://i.guim.co.uk/img/media/d0944e021b1cc7426f515fecc8034f12b7862041/0_0_784_784/master/784.png?width=196&quality=45&auto=format&s=cca73e857c5093f39ef7a2a9dc2e7ce7",newsletterId:"4300"})})):null})),x(P,"AUNewsletterEpic",(function(e){return function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)}(e.brazeMessageProps)?(0,o.jsx)(pe,v({},e,{brazeMessageProps:h(h({},e.brazeMessageProps),{},{imageUrl:"https://i.guim.co.uk/img/media/ad66f0f437d2e919f08ab5d402e4be9891425940/0_0_2000_2000/2000.png?width=400&quality=75&s=23aad591d8878d830e7f6a5fd43a010f",newsletterId:"4148"})})):null})),x(P,"UKNewsletterEpic",(function(e){return function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)}(e.brazeMessageProps)?(0,o.jsx)(pe,v({},e,{brazeMessageProps:h(h({},e.brazeMessageProps),{},{imageUrl:"https://i.guim.co.uk/img/media/568c6031be78dab6f6c28336010884f3ebd0f97c/0_0_1936_1936/master/1936.png?width=196&quality=45&auto=format&s=2a3630e9625620d5726c31c5cdbf4772",newsletterId:"4156"})})):null})),x(P,"DownToEarthNewsletterEpic",(function(e){return function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)}(e.brazeMessageProps)?(0,o.jsx)(pe,v({},e,{brazeMessageProps:h(h({},e.brazeMessageProps),{},{imageUrl:"https://i.guim.co.uk/img/media/591152b12591385d278b2c112d31a561a40a2e2d/0_1_648_648/648.png?width=196&s=be117e8d22a0c389daf49b369f726915",newsletterId:"4147"})})):null})),x(P,"EpicNewsletter_AU_AfternoonUpdate",(function(e){return function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)}(e.brazeMessageProps)?(0,o.jsx)(pe,v({},e,{brazeMessageProps:h(h({},e.brazeMessageProps),{},{imageUrl:"https://i.guim.co.uk/img/media/898c5401ab51b983dc4b2508aaaf0735e6bda0e2/0_0_2000_2000/2000.png?width=400&quality=75&s=9191ec413d946058f37caced7edd0b90",newsletterId:"6023"})})):null})),x(P,"EpicNewsletter_TheGuide",(function(e){return function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)}(e.brazeMessageProps)?(0,o.jsx)(pe,v({},e,{brazeMessageProps:h(h({},e.brazeMessageProps),{},{imageUrl:"https://i.guim.co.uk/img/media/d277750131b8bb53086870cd7e6adea00aadf432/0_0_200_200/200.png?width=200&quality=75&s=7a0d75b73f805685529987bba80cbccb",newsletterId:"6006"})})):null})),x(P,"NewsletterEpic",pe),P),fe=(I=me,function(e){var t=I[e.componentName];if(!t)return null;var r=function(e){var t=e.submitComponentEvent,r=e.logButtonClickWithBraze,n=e.ophanComponentType;return function(e){var o=e.internalButtonId,a=e.ophanComponentId;E("ophanButtonClick",(function(){t({component:{componentType:n,id:a},action:"CLICK",value:(o+1).toString(10)})})),E("brazeButtonClick",(function(){r(o)}))}}({submitComponentEvent:e.submitComponentEvent,logButtonClickWithBraze:e.logButtonClickWithBraze,ophanComponentType:"RETENTION_EPIC"}),n=h(h({},e),{},{trackClick:r});return(0,o.jsx)(t,n)})},46080:(e,t,r)=>{r.d(t,{JU:()=>a,Qq:()=>S,SY:()=>i,Tp:()=>h,VD:()=>v,aL:()=>g,jP:()=>b,kX:()=>c,n8:()=>x,nJ:()=>j,wI:()=>l,wk:()=>o,yF:()=>O,z3:()=>s});var n=r(77907);const{brand:o,brandAlt:a,neutral:i,error:s,success:c,news:l,opinion:u,sport:p,culture:d,lifestyle:m,labs:f,specialReport:g,focus:y}=n.M,h={primary:n.M.neutral[100],secondary:n.M.neutral[97],inverse:n.M.neutral[10],ctaPrimary:n.M.brand[400],ctaPrimaryHover:"#234B8A",ctaSecondary:n.M.brand[800],ctaSecondaryHover:"#ACC9F7",ctaTertiaryHover:"#E5E5E5",input:n.M.neutral[100],inputChecked:n.M.brand[500]},b=(n.M.brand[400],n.M.neutral[100],n.M.neutral[100],n.M.brand[600],n.M.brand[300],{primary:n.M.brandAlt[400],ctaPrimary:n.M.neutral[7],ctaPrimaryHover:"#454545",ctaSecondary:n.M.brandAlt[200],ctaSecondaryHover:"#F2AE00",ctaTertiaryHover:"#FFD213"}),x=(n.M.neutral[60],n.M.neutral[86],n.M.success[400],n.M.error[400],n.M.brand[400],n.M.neutral[60],n.M.brand[500],n.M.brand[500],n.M.brand[500],n.M.focus[400],n.M.brand[600],n.M.brand[600],n.M.success[500],n.M.error[500],n.M.neutral[100],n.M.brand[800],n.M.neutral[100],n.M.neutral[100],n.M.neutral[7],{primary:n.M.neutral[86]}),v=(n.M.brand[600],{primary:n.M.neutral[7]}),S={primary:n.M.neutral[7],supporting:n.M.neutral[46],success:n.M.success[400],error:n.M.error[400],ctaPrimary:n.M.neutral[100],ctaSecondary:n.M.brand[400],ctaTertiary:n.M.brand[400],anchorPrimary:n.M.brand[500],anchorSecondary:n.M.neutral[7],userInput:n.M.neutral[7],inputLabel:n.M.neutral[7],inputError:n.M.neutral[7],inputLabelSupporting:n.M.neutral[46],inputChecked:n.M.brand[400],inputHover:n.M.brand[400],groupLabel:n.M.neutral[7],groupLabelSupporting:n.M.neutral[46],newsInverse:n.M.news[550]},j={primary:n.M.neutral[100],supporting:n.M.brand[800],success:n.M.success[500],error:n.M.error[500],ctaPrimary:n.M.brand[400],ctaSecondary:n.M.neutral[100],ctaTertiary:n.M.neutral[100],anchorPrimary:n.M.neutral[100],anchorPrimaryHover:n.M.brandAlt[400],userInput:n.M.neutral[100],inputLabel:n.M.neutral[100],inputLabelSupporting:n.M.brand[800]},O={primary:n.M.neutral[7],supporting:n.M.neutral[60],ctaPrimary:n.M.neutral[100],ctaSecondary:n.M.neutral[7],ctaTertiary:n.M.neutral[7],anchorPrimary:n.M.neutral[7]}},62945:(e,t,r)=>{r.d(t,{f:()=>l});var n=r(50484),o=r(24017),a=r(70991),i=r(78055);function s(){const e=(t=["\n\t\t\t\t\t","\n\t\t\t\t"],r||(r=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}})));var t,r;return s=function(){return e},e}const c=e=>{let{size:t,theme:r}=e;return(0,n.jsx)("svg",{width:t?i.RK[t]:void 0,height:void 0,viewBox:"-3 -3 30 30",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10m-8.909-.318-.659-7.864h-.886l-.682 8.523 1.159 1.159 6.34-.59V12z",fill:null==r?void 0:r.fill})})},l=e=>{let{size:t,theme:r,isAnnouncedByScreenReader:i=!1}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{size:t,theme:r}),i?(0,n.jsx)("span",{css:(0,o.css)(s(),a.Q),children:"Clock"}):""]})}},27123:(e,t,r)=>{r.d(t,{$:()=>s});var n=r(50484),o=r(43438),a=r(3645);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=e=>{var t,r,{priority:s,size:c,icon:l,iconSide:u,hideLabel:p,nudgeIcon:d,type:m="button",isLoading:f=!1,loadingAnnouncement:g="Loading",cssOverrides:y,children:h,theme:b}=e,x=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["priority","size","icon","iconSide","hideLabel","nudgeIcon","type","isLoading","loadingAnnouncement","cssOverrides","children","theme"]);return(0,n.jsx)("button",(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({css:(0,a.V)({size:c,priority:s,icon:l,hideLabel:p,iconSide:u,nudgeIcon:d,cssOverrides:y,isLoading:f,theme:b}),type:m,"aria-live":"polite","aria-label":f?g:void 0},x),r=null!=(r={children:(0,o.b)({hideLabel:p,iconSvg:l,isLoading:f,children:h})})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t))}},68163:(e,t,r)=>{r.d(t,{z:()=>s});var n=r(50484),o=r(43438),a=r(3645);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=e=>{var t,r,{priority:s,size:c,iconSide:l,icon:u,nudgeIcon:p,hideLabel:d,cssOverrides:m,children:f,theme:g}=e,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["priority","size","iconSide","icon","nudgeIcon","hideLabel","cssOverrides","children","theme"]);return(0,n.jsx)("a",(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({css:(0,a.V)({size:c,priority:s,icon:u,hideLabel:d,iconSide:l,nudgeIcon:p,cssOverrides:m,theme:g})},y),r=null!=(r={children:(0,o.b)({hideLabel:d,iconSvg:u,children:f})})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t))}},95571:(e,t,r)=>{r.d(t,{N:()=>s});var n=r(50484),o=r(75906),a=r(77047);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=e=>{var t,r,{priority:s="primary",icon:c,iconSide:l="left",cssOverrides:u,children:p,theme:d}=e,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["priority","icon","iconSide","cssOverrides","children","theme"]);return(0,n.jsx)("a",(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({css:(0,a.$Y)({priority:s,iconSvg:c,iconSide:l,cssOverrides:u,theme:d})},m),r=null!=(r={children:(0,o.F)({children:p,iconSvg:c,iconSide:l})})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t))}}}]);
//# sourceMappingURL=guardian-braze-components-end-of-article.client.web.19fa9d77e4c469dbaae1.js.map