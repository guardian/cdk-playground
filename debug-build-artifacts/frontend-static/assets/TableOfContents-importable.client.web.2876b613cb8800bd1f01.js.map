{"version":3,"file":"TableOfContents-importable.client.web.2876b613cb8800bd1f01.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/TableOfContents.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/articleFormat.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/palette.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/visually-hidden.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgChevronDownSingle.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgChevronUpSingle.js"],"sourcesContent":["import { css } from '@emotion/react';\nimport {\n\theadlineBold17,\n\theadlineLight17,\n\tspace,\n\ttextSansBold14,\n} from '@guardian/source/foundations';\nimport {\n\tSvgChevronDownSingle,\n\tSvgChevronUpSingle,\n} from '@guardian/source/react-components';\nimport { useState } from 'react';\nimport { ArticleDisplay, type ArticleFormat } from '../lib/articleFormat';\nimport { getZIndex } from '../lib/getZIndex';\nimport type { TableOfContentsItem } from '../model/enhanceTableOfContents';\nimport { palette } from '../palette';\n\ninterface Props {\n\ttableOfContents: TableOfContentsItem[];\n\tformat: ArticleFormat;\n}\n\nconst anchorStyles = css`\n\tcolor: ${palette('--table-of-contents')};\n\ttext-decoration: none;\n\tdisplay: block;\n\twidth: 100%;\n`;\n\nconst paddingStyles = css`\n\tpadding-bottom: ${space[4]}px;\n\tpadding-top: ${space[1]}px;\n`;\n\nconst listItemStyles = (format: ArticleFormat) => {\n\treturn css`\n\t\t${format.display === ArticleDisplay.Immersive\n\t\t\t? headlineLight17\n\t\t\t: headlineBold17};\n\t\tbox-sizing: border-box;\n\t\tborder-top: 1px solid ${palette('--table-of-contents-border')};\n\t\tdisplay: flex;\n\t\tposition: relative;\n\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tbackground-color: ${palette('--table-of-contents')};\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\ttransition: height 0.2s ease;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t}\n\n\t\t&:hover::before {\n\t\t\theight: ${space[1]}px;\n\t\t}\n\t`;\n};\n\nconst detailsStyles = css`\n\tmargin: ${space[4]}px 0 ${space[6]}px 0;\n\t&:not([open]) .is-open,\n\t&[open] .is-closed {\n\t\tdisplay: none;\n\t}\n\t&:not([open]) {\n\t\tborder-bottom: 1px solid ${palette('--table-of-contents-border')};\n\t}\n\t/* removes toggle triangle from webkit browsers such as Safari */\n\tsummary::-webkit-details-marker {\n\t\tdisplay: none;\n\t}\n`;\nconst stickyStyles = css`\n\tposition: sticky;\n\ttop: 0;\n\tbackground: ${palette('--article-background')};\n\tz-index: ${getZIndex('tableOfContents')};\n\tsummary {\n\t\tz-index: 1;\n\t\tbackground: ${palette('--article-background')};\n\t}\n\tul {\n\t\tmax-height: 90vh;\n\t\toverflow-y: auto;\n\t}\n`;\n\nconst summaryStyles = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tcursor: pointer;\n\tposition: relative;\n\tlist-style: none;\n\n\tpadding: ${space[1]}px 0;\n\tborder-top: 1px solid ${palette('--table-of-contents-border')};\n\n\t&:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\tpath {\n\t\tfill: ${palette('--table-of-contents')};\n\t}\n`;\n\nconst titleStyle = css`\n\t${textSansBold14}\n\tcolor:${palette('--table-of-contents')};\n`;\n\nconst indexStyle = css`\n\tmargin-right: 18px;\n`;\n\nconst verticalStyle = css`\n\tposition: absolute;\n\tleft: ${space[4]}px;\n\tborder-left: 1px solid ${palette('--table-of-contents-border')};\n\theight: 22px;\n\ttop: 0;\n\ttransition: 0.3s all ease;\n`;\n\n/**\n * A table of contents, shown at the top of an article\n * to allow readers to quickly navigate though articles.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page.\n *\n */\n\nexport const TableOfContents = ({ tableOfContents, format }: Props) => {\n\tconst [open, setOpen] = useState(tableOfContents.length < 5);\n\n\treturn (\n\t\t<details\n\t\t\topen={open}\n\t\t\tcss={[\n\t\t\t\tdetailsStyles,\n\t\t\t\ttableOfContents.length > 5 ? stickyStyles : undefined,\n\t\t\t]}\n\t\t\tdata-component=\"table-of-contents\"\n\t\t>\n\t\t\t<summary\n\t\t\t\tonClick={(e): void => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetOpen((state) => !state);\n\t\t\t\t}}\n\t\t\t\tonKeyDown={(e): void => {\n\t\t\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tsetOpen((state) => !state);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tdata-link-name={\n\t\t\t\t\topen ? 'table-of-contents-close' : 'table-of-contents-open'\n\t\t\t\t}\n\t\t\t\tcss={summaryStyles}\n\t\t\t\ttabIndex={0}\n\t\t\t\trole=\"button\"\n\t\t\t>\n\t\t\t\t<h2 css={titleStyle}>Jump to</h2>\n\t\t\t\t<span className=\"is-closed\">\n\t\t\t\t\t<SvgChevronDownSingle size=\"xsmall\" />\n\t\t\t\t</span>\n\t\t\t\t<span className=\"is-open\">\n\t\t\t\t\t<SvgChevronUpSingle size=\"xsmall\" />\n\t\t\t\t</span>\n\t\t\t</summary>\n\n\t\t\t<ul>\n\t\t\t\t{tableOfContents.map((item, index) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\tcss={listItemStyles(format)}\n\t\t\t\t\t\tdata-link-name={`table-of-contents-item-${index}-${item.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{format.display === ArticleDisplay.NumberedList && (\n\t\t\t\t\t\t\t<div css={paddingStyles}>\n\t\t\t\t\t\t\t\t<span css={indexStyle}>{index + 1}</span>\n\t\t\t\t\t\t\t\t<div css={verticalStyle}></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`#${item.id}`}\n\t\t\t\t\t\t\tcss={[anchorStyles, paddingStyles]}\n\t\t\t\t\t\t\tonClick={(): void => {\n\t\t\t\t\t\t\t\tsetOpen((state) => !state);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</details>\n\t);\n};\n","import { isString } from '@guardian/libs';\nimport type { FEDesign, FEDisplay, FEFormat, FETheme } from '../types/frontend';\n\nexport enum ArticleDesign {\n\tStandard,\n\tPicture,\n\tGallery,\n\tAudio,\n\tVideo,\n\tReview,\n\tAnalysis,\n\tExplainer,\n\tComment,\n\tLetter,\n\tFeature,\n\tLiveBlog,\n\tDeadBlog,\n\tRecipe,\n\tMatchReport,\n\tInterview,\n\tEditorial,\n\tQuiz,\n\tInteractive,\n\tPhotoEssay,\n\tObituary,\n\tCorrection,\n\tFullPageInteractive,\n\tNewsletterSignup,\n\tTimeline,\n\tProfile,\n}\n\nexport enum ArticleDisplay {\n\tStandard,\n\tImmersive,\n\tShowcase,\n\tNumberedList,\n}\n\nexport enum Pillar {\n\tNews = 0,\n\tOpinion = 1,\n\tSport = 2,\n\tCulture = 3,\n\tLifestyle = 4,\n}\n\nexport enum ArticleSpecial {\n\tSpecialReport = 5,\n\tLabs = 6,\n\tSpecialReportAlt = 7,\n}\n\nexport type ArticleTheme = Pillar | ArticleSpecial;\n\nexport interface ArticleFormat {\n\ttheme: ArticleTheme;\n\tdesign: ArticleDesign;\n\tdisplay: ArticleDisplay;\n}\n\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({ design }: Partial<FEFormat>): ArticleDesign => {\n\tswitch (design) {\n\t\tcase 'ArticleDesign':\n\t\t\treturn ArticleDesign.Standard;\n\t\tcase 'PictureDesign':\n\t\t\treturn ArticleDesign.Picture;\n\t\tcase 'GalleryDesign':\n\t\t\treturn ArticleDesign.Gallery;\n\t\tcase 'AudioDesign':\n\t\t\treturn ArticleDesign.Audio;\n\t\tcase 'VideoDesign':\n\t\t\treturn ArticleDesign.Video;\n\t\tcase 'ReviewDesign':\n\t\t\treturn ArticleDesign.Review;\n\t\tcase 'AnalysisDesign':\n\t\t\treturn ArticleDesign.Analysis;\n\t\tcase 'CommentDesign':\n\t\t\treturn ArticleDesign.Comment;\n\t\tcase 'LetterDesign':\n\t\t\treturn ArticleDesign.Letter;\n\t\tcase 'FeatureDesign':\n\t\t\treturn ArticleDesign.Feature;\n\t\tcase 'LiveBlogDesign':\n\t\t\treturn ArticleDesign.LiveBlog;\n\t\tcase 'DeadBlogDesign':\n\t\t\treturn ArticleDesign.DeadBlog;\n\t\tcase 'RecipeDesign':\n\t\t\treturn ArticleDesign.Recipe;\n\t\tcase 'MatchReportDesign':\n\t\t\treturn ArticleDesign.MatchReport;\n\t\tcase 'InterviewDesign':\n\t\t\treturn ArticleDesign.Interview;\n\t\tcase 'EditorialDesign':\n\t\t\treturn ArticleDesign.Editorial;\n\t\tcase 'QuizDesign':\n\t\t\treturn ArticleDesign.Quiz;\n\t\tcase 'InteractiveDesign':\n\t\t\treturn ArticleDesign.Interactive;\n\t\tcase 'PhotoEssayDesign':\n\t\t\treturn ArticleDesign.PhotoEssay;\n\t\tcase 'ObituaryDesign':\n\t\t\treturn ArticleDesign.Obituary;\n\t\tcase 'FullPageInteractiveDesign':\n\t\t\treturn ArticleDesign.FullPageInteractive;\n\t\tcase 'NewsletterSignupDesign':\n\t\t\treturn ArticleDesign.NewsletterSignup;\n\t\tcase 'ExplainerDesign':\n\t\t\treturn ArticleDesign.Explainer;\n\t\tcase 'TimelineDesign':\n\t\t\treturn ArticleDesign.Timeline;\n\t\tcase 'ProfileDesign':\n\t\t\treturn ArticleDesign.Profile;\n\t\tdefault:\n\t\t\treturn ArticleDesign.Standard;\n\t}\n};\n\nconst decideDisplay = ({\n\tdisplay,\n\tdesign,\n}: Partial<FEFormat>): ArticleDisplay => {\n\tswitch (display) {\n\t\tcase 'StandardDisplay':\n\t\t\treturn ArticleDisplay.Standard;\n\t\tcase 'ImmersiveDisplay':\n\t\t\t// Temporary hack until we can handle Immersive Comment pieces\n\t\t\treturn design === 'CommentDesign'\n\t\t\t\t? ArticleDisplay.Standard\n\t\t\t\t: ArticleDisplay.Immersive;\n\t\tcase 'ShowcaseDisplay':\n\t\t\treturn ArticleDisplay.Showcase;\n\t\tcase 'NumberedListDisplay':\n\t\t\treturn ArticleDisplay.NumberedList;\n\t\tdefault:\n\t\t\treturn ArticleDisplay.Standard;\n\t}\n};\n\nexport const decideTheme = ({ theme }: Partial<FEFormat>): ArticleTheme => {\n\tswitch (theme) {\n\t\tcase 'NewsPillar':\n\t\t\treturn Pillar.News;\n\t\tcase 'OpinionPillar':\n\t\t\treturn Pillar.Opinion;\n\t\tcase 'SportPillar':\n\t\t\treturn Pillar.Sport;\n\t\tcase 'CulturePillar':\n\t\t\treturn Pillar.Culture;\n\t\tcase 'LifestylePillar':\n\t\t\treturn Pillar.Lifestyle;\n\t\tcase 'SpecialReportTheme':\n\t\t\treturn ArticleSpecial.SpecialReport;\n\t\tcase 'SpecialReportAltTheme':\n\t\t\treturn ArticleSpecial.SpecialReportAlt;\n\t\tcase 'Labs':\n\t\t\treturn ArticleSpecial.Labs;\n\t\tdefault:\n\t\t\treturn Pillar.News;\n\t}\n};\n\nexport const decideFormat = (format: Partial<FEFormat>): ArticleFormat => ({\n\tdesign: decideDesign(format),\n\tdisplay: decideDisplay(format),\n\ttheme: decideTheme(format),\n});\n\nexport const getThemeNameAsString = (format: ArticleFormat): string => {\n\tconst themeName = Pillar[format.theme] ?? ArticleSpecial[format.theme];\n\tif (!themeName) throw new Error('Unknown theme');\n\treturn themeName;\n};\n\n/**\n * We need a type guard because TypeScript enums are (confusingly)\n * returning both strings and numbers.\n */\nconst isTheme = (theme: string | ArticleTheme): theme is ArticleTheme =>\n\t!isString(theme);\n\nconst isDesign = (design: string | ArticleDesign): design is ArticleDesign =>\n\t!isString(design);\n\nexport const getAllThemes = ({\n\tdisplay,\n\tdesign,\n}: {\n\tdisplay: ArticleDisplay;\n\tdesign: ArticleDesign;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...Pillar, ...ArticleSpecial })\n\t\t.filter(isTheme)\n\t\t.map((theme) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nexport const getAllDesigns = ({\n\tdisplay,\n\ttheme,\n}: {\n\tdisplay: ArticleDisplay;\n\ttheme: ArticleTheme;\n}): Array<ArticleFormat> =>\n\tObject.values({ ...ArticleDesign })\n\t\t.filter(isDesign)\n\t\t.map((design) => ({\n\t\t\ttheme,\n\t\t\tdisplay,\n\t\t\tdesign,\n\t\t}));\n\nconst designToFEDesign = (design: ArticleDesign): FEDesign => {\n\tswitch (design) {\n\t\tcase ArticleDesign.Standard:\n\t\t// Correction doesn't exist in `FEFormat`.\n\t\tcase ArticleDesign.Correction:\n\t\t\treturn 'ArticleDesign';\n\t\tcase ArticleDesign.Picture:\n\t\t\treturn 'PictureDesign';\n\t\tcase ArticleDesign.Gallery:\n\t\t\treturn 'GalleryDesign';\n\t\tcase ArticleDesign.Audio:\n\t\t\treturn 'AudioDesign';\n\t\tcase ArticleDesign.Video:\n\t\t\treturn 'VideoDesign';\n\t\tcase ArticleDesign.Review:\n\t\t\treturn 'ReviewDesign';\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn 'AnalysisDesign';\n\t\tcase ArticleDesign.Explainer:\n\t\t\treturn 'ExplainerDesign';\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn 'CommentDesign';\n\t\tcase ArticleDesign.Letter:\n\t\t\treturn 'LetterDesign';\n\t\tcase ArticleDesign.Feature:\n\t\t\treturn 'FeatureDesign';\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn 'LiveBlogDesign';\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn 'DeadBlogDesign';\n\t\tcase ArticleDesign.Recipe:\n\t\t\treturn 'RecipeDesign';\n\t\tcase ArticleDesign.MatchReport:\n\t\t\treturn 'MatchReportDesign';\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn 'InterviewDesign';\n\t\tcase ArticleDesign.Editorial:\n\t\t\treturn 'EditorialDesign';\n\t\tcase ArticleDesign.Quiz:\n\t\t\treturn 'QuizDesign';\n\t\tcase ArticleDesign.Interactive:\n\t\t\treturn 'InteractiveDesign';\n\t\tcase ArticleDesign.PhotoEssay:\n\t\t\treturn 'PhotoEssayDesign';\n\t\tcase ArticleDesign.Obituary:\n\t\t\treturn 'ObituaryDesign';\n\t\tcase ArticleDesign.FullPageInteractive:\n\t\t\treturn 'FullPageInteractiveDesign';\n\t\tcase ArticleDesign.NewsletterSignup:\n\t\t\treturn 'NewsletterSignupDesign';\n\t\tcase ArticleDesign.Timeline:\n\t\t\treturn 'TimelineDesign';\n\t\tcase ArticleDesign.Profile:\n\t\t\treturn 'ProfileDesign';\n\t}\n};\n\nconst displayToFEDisplay = (display: ArticleDisplay): FEDisplay => {\n\tswitch (display) {\n\t\tcase ArticleDisplay.Standard:\n\t\t\treturn 'StandardDisplay';\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn 'ImmersiveDisplay';\n\t\tcase ArticleDisplay.Showcase:\n\t\t\treturn 'ShowcaseDisplay';\n\t\tcase ArticleDisplay.NumberedList:\n\t\t\treturn 'NumberedListDisplay';\n\t}\n};\n\nconst themeToFETheme = (theme: ArticleTheme): FETheme => {\n\tswitch (theme) {\n\t\tcase Pillar.News:\n\t\t\treturn 'NewsPillar';\n\t\tcase Pillar.Opinion:\n\t\t\treturn 'OpinionPillar';\n\t\tcase Pillar.Sport:\n\t\t\treturn 'SportPillar';\n\t\tcase Pillar.Culture:\n\t\t\treturn 'CulturePillar';\n\t\tcase Pillar.Lifestyle:\n\t\t\treturn 'LifestylePillar';\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'SpecialReportTheme';\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn 'Labs';\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn 'SpecialReportAltTheme';\n\t}\n};\n\nexport const formatToFEFormat = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): FEFormat => ({\n\tdesign: designToFEDesign(design),\n\tdisplay: displayToFEDisplay(display),\n\ttheme: themeToFETheme(theme),\n});\n\n/**\n * Creates a string representation of {@linkcode ArticleFormat}. Useful for\n * logging, storybook UI etc.\n *\n * @param format An {@linkcode ArticleFormat}\n * @returns A string representation of `ArticleFormat`\n */\nexport const formatToString = ({\n\tdesign,\n\tdisplay,\n\ttheme,\n}: ArticleFormat): string =>\n\t[\n\t\t`${ArticleDesign[design]} Design`,\n\t\t`${ArticleDisplay[display]} Display`,\n\t\t`and ${Pillar[theme] ?? ArticleSpecial[theme]} Theme`,\n\t].join(', ');\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n\t// Modals will go here at the top\n\t'lightbox',\n\t'youTubeFullscreen',\n\n\t// Sticky video and button need to be above everything\n\t'sticky-video-button',\n\t'sticky-video',\n\t'banner',\n\t'dropdown',\n\t'burger',\n\t'mastheadVeggieBurgerExpandedMobile',\n\t'expanded-veggie-menu-wrapper',\n\t'expanded-veggie-menu',\n\n\t//header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n\t'fullPageInteractiveHeaderWrapper',\n\n\t// Mobile sticky appears below banners\n\t'mobileSticky',\n\n\t// Headers with sticky ads\n\t'stickyAdWrapperLabsHeader',\n\t'stickyAdWrapper',\n\t'stickyAdWrapperNav',\n\n\t// My Account dropdown in masthead - needs to be below stickyAdWrapper\n\t'mastheadMyAccountDropdown',\n\n\t// Edition selector in masthead - needs to be below stickyAdWrapper\n\t'mastheadEditionDropdown',\n\n\t// Edition selector in nav - needs to be below stickyAdWrapper\n\t'editionDropdown',\n\n\t// The content displayed by the Details component\n\t'summaryDetails',\n\n\t// Liveblog toast\n\t'toast',\n\n\t// Onwards Carousel (Related content etc)\n\t'onwardsCarousel',\n\n\t// Search link should be above The Guardian svg\n\t'myAccountDropdown',\n\t'searchHeaderLink',\n\t'TheGuardian',\n\n\t// The edition switcher banner needs to be below the Edition selector\n\t// and the myAccount dropdown in the nav\n\t'editionSwitcherBanner',\n\n\t// Overlay for expandable marketing card (currently US only)\n\t'expandableMarketingCardOverlay',\n\n\t// Sticky table of contents element\n\t'tableOfContents',\n\n\t// Article headline (should be above main media)\n\t'articleHeadline',\n\t'immersiveBlackBox',\n\n\t// Body\n\t'bodyArea',\n\t'rightColumnArea',\n\n\t// Main media\n\t'mainMedia',\n\n\t// Nested links in cards should sit above the main card link\n\t// See: https://www.sarasoueidan.com/blog/nested-links/\n\t'card-nested-link',\n\t'card-link',\n] as const;\n\n// Implementation code - you don't need to change this to get a new index\nexport type ZIndex = (typeof indices)[number];\n\nexport const getZIndex = (name: ZIndex): number => {\n\tconst index = indices.indexOf(name);\n\tif (index === -1) return -1; // indexOf returns -1 if there is no match\n\treturn indices.length - index; // reverse the indices: last item gets 1\n};\n","import type { ColourName } from './paletteDeclarations';\n\n/**\n * Looks up a palette colour by name. Retrieves a CSS value for the specified\n * colour, for use in CSS declarations. See the examples for how this is\n * commonly used with our Emotion-based styles.\n *\n * @param a The name of a palette colour; for example `--headline-colour`.\n * @returns A CSS `var` function call; for example `var(--headline-colour)`.\n * @example\n * const styles = css`\n *   color: ${palette('--headline-colour')};\n *   background-color: ${palette('--headline-background-colour')};\n * `;\n */\nconst palette = (colour: ColourName): string => `var(${colour})`;\n\n// ----- Exports ----- //\n\nexport { palette };\n","const visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\n\nexport { visuallyHidden };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"m1 7.224 10.498 10.498h1.004L23 7.224l-.98-.954L12 14.708 1.98 6.27z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgChevronDownSingle = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Expand to show more\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgChevronDownSingle };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M23 16.768 12.502 6.27h-1.004L1 16.768l.98.954L12 9.284l10.02 8.438z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgChevronUpSingle = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Collapse to show less\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgChevronUpSingle };\n"],"names":["anchorStyles","css","palette","paddingStyles","space","listItemStyles","format","display","ArticleDisplay","Immersive","headlineLight17","headlineBold17","detailsStyles","stickyStyles","getZIndex","summaryStyles","titleStyle","textSansBold14","indexStyle","verticalStyle","TableOfContents","tableOfContents","open","setOpen","useState","length","details","undefined","data-component","summary","onClick","e","preventDefault","state","onKeyDown","key","data-link-name","tabIndex","role","h2","span","className","SvgChevronDownSingle","size","SvgChevronUpSingle","ul","map","item","index","li","id","NumberedList","div","a","href","title","ArticleDesign","Pillar","ArticleSpecial","decideDesign","design","decideDisplay","decideTheme","theme","decideFormat","indices","name","indexOf","colour","visuallyHidden","Svg","jsx","width","iconSize","height","viewBox","xmlns","focusable","children","fillRule","clipRule","d","fill","isAnnouncedByScreenReader","jsxs","Fragment"],"sourceRoot":""}