"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[1720],{32690:(t,n,e)=>{e.d(n,{LI:()=>O});var r=e(50484),o=e(24017),i=e(96378),c=e(99923),s=e(18142);function l(){const t=(n=["\n\t\t"," {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\t/* 100% is a reasonable fallback for browsers which don't support calc() */\n\t\t\t\theight: 100%;\n\t\t\t\theight: calc(100% + ",");\n\t\t\t\tborder-left: 1px solid ",";\n\t\t\t}\n\t\t}\n\t"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));var n,e;return l=function(){return t},t}var a=e(53694);function u(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function d(){const t=u(["\n\t/* This position relative is needed to contain the vertical divider */\n\tposition: relative;\n\n\tdisplay: flex;\n\trow-gap: ",";\n"]);return d=function(){return t},t}function f(){const t=u(["\n\t/* Set spacing on the li element */\n\t"," {\n\t\tpadding-left: ","px;\n\t\tpadding-right: ","px;\n\t}\n"]);return f=function(){return t},t}function p(){const t=u(["\n\t"," {\n\t\tpadding-left: ","px;\n\t\tpadding-right: ","px;\n\t}\n"]);return p=function(){return t},t}function g(){const t=u(["\n\t/* Snap start of card */\n\tscroll-snap-align: start;\n"]);return g=function(){return t},t}function h(){const t=u(["\n\t\t\t\tflex-grow: 1;\n\t\t\t"]);return h=function(){return t},t}function b(){const t=u(["\n\t\t\tflex-basis: ",";\n\t\t\t","\n\t\t"]);return b=function(){return t},t}function x(){const t=u(["\n\t\t\tflex-grow: 1;\n\t\t"]);return x=function(){return t},t}function v(){const t=u(["\n\t\t\tflex: 1;\n\t\t"]);return v=function(){return t},t}const m="".concat(i.x[3],"px"),w=(0,o.css)(d(),m),y=t=>(0,o.css)(f(),c.TG.tablet,null!=t?t:10,null!=t?t:10),j=(0,o.css)(g()),k=(t,n,e)=>t?function(t,n){return(0,o.css)(l(),c.HT.tablet,t,n)}(n,e):(0,s.S)(e),O=t=>{let{children:n,percentage:e,stretch:i,showDivider:s,padSides:l=!1,padSidesOverride:u,padSidesOnMobile:d=!1,padSidesMobileOverride:f,snapAlignStart:g=!1,offsetBottomPaddingOnDivider:O=!1,verticalDividerColour:C=(0,a.M)("--section-border")}=t;const L=((t,n)=>{let e;return e=t?(0,o.css)(b(),t,n&&(0,o.css)(h())):n?(0,o.css)(x()):(0,o.css)(v()),e})(e,i);return(0,r.jsx)("li",{css:[w,L,s&&k(O,m,C),l&&(M=u,(0,o.css)(p(),c.HT.tablet,null!=M?M:10,null!=M?M:10)),d&&y(f),g&&j],children:n});var M}},69688:(t,n,e)=>{e.r(n),e.d(n,{CarouselForNewsletters:()=>st});var r=e(50484),o=e(24017),i=e(9474),c=e(99923),s=e(96378),l=e(77907),a=e(7351),u=e(46080),d=e(44165),f=e.n(d),p=e(67400),g=e(83916),h=e(82871),b=e(32690),x=e(22e3),v=e(67397),m=e(21790);function w(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function y(){const t=w(["\n\tdisplay: flex;\n\t/* Remove space-between where there is a single item, so that it is left-aligned */\n\t","\n\toverflow: hidden;\n\t"," {\n\t\tpadding-right: 40px;\n\t}\n"]);return y=function(){return t},t}function j(){const t=w(["\n\tmargin-top: 6px;\n\tmargin-bottom: 24px;\n\n\tmargin-left: 0px;\n\tmargin-right: 0px;\n\n\t"," {\n\t\t/* Shrink the container to remove the leading and\n       \t\t\t\t   trailing side margins from the list of cards */\n\t\tmargin-left: -10px;\n\t\tmargin-right: -10px;\n\t}\n\n\t"," {\n\t\tmargin-left: -1px;\n\t\tmargin-right: -10px;\n\t\tmargin-top: 6px;\n\t}\n"]);return j=function(){return t},t}function k(){const t=w(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\toverflow: hidden; /* Needed for scrolling to work */\n"]);return k=function(){return t},t}function O(){const t=w(["\n\tmin-height: 227px;\n\tposition: relative; /* must set position for offset(Left) calculations of children to be relative to this box */\n\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: stretch;\n\n\tscroll-snap-type: x mandatory;\n\tscroll-behavior: smooth;\n\toverflow-x: auto; /* Scrollbar is less intrusive visually on non-desktop devices typically */\n\toverflow-y: hidden; /*Fixes small problem with 1px vertical scroll on immersive due to top bar */\n\t"," {\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\tscrollbar-width: none;\n\t}\n\n\t"," {\n\t\tmargin-left: -10px; /* Align firstcard on mobile devices */\n\t}\n"]);return O=function(){return t},t}function C(){const t=w(["\n\tmargin-bottom: ","px;\n"]);return C=function(){return t},t}function L(){const t=w(["\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: ","px;\n\twidth: ","px;\n\tbackground-color: ",";\n\tborder-radius: 100%;\n\tborder: 0 none;\n\tpadding: 0;\n\tmargin-right: ","px;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\t\toutline: none;\n\t}\n"]);return L=function(){return t},t}function M(){const t=w(["\n\tbackground-color: ",";\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\t}\n"]);return M=function(){return t},t}function S(){const t=w(["\n\t\t"," {\n\t\t\tdisplay: ",";\n\t\t}\n\n\t\t"," {\n\t\t\tdisplay: ",";\n\t\t}\n\n\t\t"," {\n\t\t\tdisplay: ",";\n\t\t}\n\t"]);return S=function(){return t},t}function T(){const t=w(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tposition: absolute;\n\tz-index: ",";\n\theight: 100%;\n\tpadding-bottom: 36px; /* Align buttons centrally with cards */\n\n\t"," {\n\t\tdisplay: none;\n\t}\n"]);return T=function(){return t},t}function H(){const t=w(["\n\t\t\t\t"," {\n\t\t\t\t\tleft: 205px;\n\t\t\t\t}\n\t\t\t"]);return H=function(){return t},t}function P(){const t=w(["\n\t\t\t\t"," {\n\t\t\t\t\tleft: 120px;\n\t\t\t\t}\n\n\t\t\t\t"," {\n\t\t\t\t\tleft: 205px;\n\t\t\t\t}\n\t\t\t"]);return P=function(){return t},t}function A(){const t=w(["\n\tright: 10px;\n"]);return A=function(){return t},t}function D(){const t=w(["\n\tborder: 0 none;\n\tborder-radius: 100%;\n\theight: 34px;\n\twidth: 34px;\n\tcursor: pointer;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground-color: ",";\n\n\t&:active,\n\t&:hover {\n\t\toutline: none;\n\t\tbackground-color: ",";\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\tsvg {\n\t\tfill: ",";\n\t\theight: 34px;\n\t}\n"]);return D=function(){return t},t}function z(){const t=w(["\n\tbackground-color: ",";\n\tcursor: ",";\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"]);return z=function(){return t},t}function E(){const t=w(["\n\tpadding-left: 5px; /* Fix centering of SVG*/\n\tmargin-left: 10px;\n\tbackground-color: ",";\n\tcursor: ",";\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"]);return E=function(){return t},t}function I(){const t=w(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\t"," {\n\t\tpadding-right: 10px;\n\t}\n\n\t"," {\n\t\tmargin-left: 10px;\n\t}\n"]);return I=function(){return t},t}function R(){const t=w(["\n\t",";\n\tcolor: ",";\n\t",";\n\tpadding-bottom: ","px;\n\tpadding-top: ","px;\n\tmargin-left: 0;\n"]);return R=function(){return t},t}function B(){const t=w(["\n\tcolor: ",";\n\tdisplay: inline-block;\n\t&::first-letter {\n\t\ttext-transform: capitalize;\n\t}\n"]);return B=function(){return t},t}function _(){const t=w(["\n\t\t\t\t\t\t\t\t\t\tmin-width: 220px;\n\t\t\t\t\t\t\t\t\t\tmax-width: 220px;\n\t\t\t\t\t\t\t\t\t\tmin-height: 380px;\n\t\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\t"]);return _=function(){return t},t}const F=()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.4 4L8 14.4V15.45L18.4 25.8499L19.375 24.8999L11.05 14.925L19.375 4.95L18.4 4Z"})}),G=()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.975 4L9 4.95L17.325 14.925L9 24.8999L9.975 25.8499L20.375 15.45V14.4L9.975 4Z"})}),V=(t,n)=>t>=n-4,N=(0,o.css)(j(),c.HT.tablet,c.HT.leftCol),W=(0,o.css)(k()),q=(0,o.css)(O(),c.HT.tablet,c.TG.tablet),J=(0,o.css)(C(),s.x[2]),Q=(0,o.css)(L(),s.x[3],s.x[3],l.M.neutral[93],s.x[1],l.M.neutral[86]),Z=t=>(0,o.css)(M(),t,t),$=(t,n)=>(0,o.css)(S(),c.HT.phablet,t>=n-1?"none":"auto",c.HT.tablet,t>=n-2?"none":"auto",c.HT.desktop,t>=n-3?"none":"auto"),K=(0,o.css)(T(),(0,h.f)("onwardsCarousel"),c.TG.leftCol),U=t=>{switch(t){case"wide":return(0,o.css)(H(),c.HT.leftCol);case"compact":return(0,o.css)(P(),c.HT.leftCol,c.HT.wide)}},X=(0,o.css)(A()),Y=(0,o.css)(D(),l.M.neutral[0],l.M.brandAlt[400],l.M.neutral[7],l.M.neutral[100]),tt=t=>(0,o.css)(z(),0!==t?l.M.neutral[0]:l.M.neutral[60],0!==t?"pointer":"default",0!==t?l.M.brandAlt[400]:l.M.neutral[60],l.M.neutral[100]),nt=(t,n)=>(0,o.css)(E(),V(t,n)?l.M.neutral[60]:l.M.neutral[0],V(t,n)?"default":"pointer",V(t,n)?l.M.neutral[60]:l.M.brandAlt[400],l.M.neutral[100]),et=(0,o.css)(I(),c.HT.tablet,c.HT.tablet),rt=(0,o.css)(R(),a.OAJ,u.Qq.primary,a.OAJ,s.x[2],s.x[1]),ot=(t,n)=>(0,o.css)(B(),n?t:u.Qq.primary),it=t=>{let{title:n,titleHighlightColour:e,isCuratedContent:o}=t;return(0,r.jsxs)("h2",{css:rt,children:[o?"More from ":"",(0,r.jsx)("span",{css:ot(e,o),children:n})]})},ct=t=>{let{heading:n,newsletters:e,titleHighlightColour:o,activeDotColour:i,index:c,isCuratedContent:s,goToIndex:l}=t;return(0,r.jsxs)("div",{children:[(0,r.jsx)(it,{title:n,titleHighlightColour:o,isCuratedContent:s}),(0,r.jsx)("div",{css:J,children:e.map(((t,n)=>(0,r.jsx)("span",{onClick:()=>l(n),"aria-hidden":"true",css:[Q,n===c&&Z(i),$(n,e.length)],"data-link-name":"carousel-small-nav-dot-".concat(n)},"dot-".concat(n))))})]})},st=t=>{let{heading:n,newsletters:e,onwardsSource:s,leftColSize:l,activeDotColour:a,titleHighlightColour:u,carouselPosition:d}=t;const h=(0,p.useRef)(null),[w,j]=(0,p.useState)(0),[k,O]=(0,p.useState)(0),C="carousel-small-arrow",L="curated-content"===s,M=t=>"presentation"!==t.getAttribute("role"),S=()=>{const{current:t}=h;return null===t?[]:Array.from(t.children)},T=()=>{j((()=>{const{current:t}=h,n=S().filter(M).map((t=>t.offsetLeft)),[e]=n;if(null===t||(0,i.b)(e))return 0;const r=t.scrollLeft+e,o=n.findIndex((t=>t>=r));return Math.max(0,o)})())},H=t=>{const{current:n}=h;if(null===n)return;const e=S().filter(M).map((t=>t.offsetLeft));n.scrollTo({left:e[t]}),T()},P=()=>{const{current:t}=h,n=S().filter(M).map((t=>{let{offsetLeft:n}=t;return n})),[e]=n;if(null===t||(0,i.b)(e))return;const r=t.scrollLeft+e,o=n.reverse().find((t=>t<r));(0,i.b)(o)||0===o?t.scrollTo({left:0}):t.scrollTo({left:o}),T()},A=()=>{const{current:t}=h,n=S().filter(M).map((t=>{let{offsetLeft:n}=t;return n})),[e]=n;if(null===t||(0,i.b)(e))return;const r=t.scrollLeft+e,o=n.find((t=>t>r));(0,i.b)(o)||0===o||t.scrollTo({left:o}),T()};return(0,p.useEffect)((()=>{const t=h.current;if(t)return t.addEventListener("scroll",f()(T,100)),t.removeEventListener("scroll",f()(T,100))})),(0,p.useEffect)((()=>O((t=>Math.max(w,t)))),[w]),(0,r.jsxs)("div",{css:(D=e.length,(0,o.css)(y(),D>1&&"justify-content: space-between",c.HT.desktop)),"data-link-name":(0,g.w)(n),children:[(0,r.jsx)(v.i,{borderType:"partial",size:l,children:(0,r.jsx)(ct,{heading:n,newsletters:e,activeDotColour:a,titleHighlightColour:u,index:w,isCuratedContent:L,goToIndex:H})}),(0,r.jsx)("div",{css:[K,U(l)],children:(0,r.jsx)("button",{type:"button",onClick:P,"aria-label":"Move carousel backwards",css:[Y,tt(w)],"data-link-name":"".concat(C,"-prev"),children:(0,r.jsx)(F,{})})}),(0,r.jsx)("div",{css:[K,X],children:(0,r.jsx)("button",{type:"button",onClick:A,"aria-label":"Move carousel forwards",css:[Y,nt(w,e.length)],"data-link-name":"".concat(C,"-next"),children:(0,r.jsx)(G,{})})}),(0,r.jsxs)("div",{css:[W,N],"data-component":s,"data-link":(0,g.w)(n),children:[(0,r.jsx)(x.L,{when:"above",breakpoint:"leftCol",children:(0,r.jsxs)("div",{css:et,children:[(0,r.jsx)(ct,{heading:n,newsletters:e,titleHighlightColour:u,activeDotColour:a,index:w,isCuratedContent:L,goToIndex:H}),(0,r.jsxs)(x.L,{when:"below",breakpoint:"desktop",children:[(0,r.jsx)("button",{type:"button",onClick:P,"aria-label":"Move carousel backwards",css:[Y,tt(w)],"data-link-name":"".concat(C,"-prev"),children:(0,r.jsx)(F,{})}),(0,r.jsx)("button",{type:"button",onClick:A,"aria-label":"Move carousel forwards",css:[Y,nt(w,e.length)],"data-link-name":"".concat(C,"-next"),children:(0,r.jsx)(G,{})})]})]})}),(0,r.jsx)("ul",{css:q,ref:h,"data-component":"carousel-small | maxIndex-".concat(k),"data-heatphan-type":"carousel",children:e.map(((t,e)=>{const i="".concat(t.identityName,"-").concat(e),c=0===e;return(0,r.jsx)(b.LI,{percentage:"25%",showDivider:!c,padSides:!0,padSidesOnMobile:!0,snapAlignStart:!0,children:(0,r.jsx)("div",{role:"presentation",css:(0,o.css)(_()),children:(0,r.jsx)(m.wF,{newsletter:t,cardPosition:e,groupTitle:n,carouselPosition:d})})},i)}))})]})]});var D}},83916:(t,n,e)=>{e.d(n,{w:()=>r});const r=t=>(t=>t.replace(new RegExp("[;]","g"),""))((t=>t.replace(new RegExp(" ","g"),"-"))(t.replace(new RegExp("[^0-9a-z ]","gi"),";").toLowerCase()))},82871:(t,n,e)=>{e.d(n,{f:()=>o});const r=["lightbox","youTubeFullscreen","sticky-video-button","sticky-video","banner","dropdown","burger","mastheadVeggieBurgerExpandedMobile","expanded-veggie-menu-wrapper","expanded-veggie-menu","fullPageInteractiveHeaderWrapper","mobileSticky","stickyAdWrapperLabsHeader","stickyAdWrapper","stickyAdWrapperNav","mastheadMyAccountDropdown","mastheadEditionDropdown","editionDropdown","summaryDetails","toast","onwardsCarousel","myAccountDropdown","searchHeaderLink","TheGuardian","editionSwitcherBanner","expandableMarketingCardOverlay","tableOfContents","articleHeadline","immersiveBlackBox","bodyArea","rightColumnArea","mainMedia","card-nested-link","card-link"],o=t=>{const n=r.indexOf(t);return-1===n?-1:r.length-n}},18142:(t,n,e)=>{e.d(n,{S:()=>c});var r=e(24017),o=e(99923);function i(){const t=(n=["\n\t\t"," {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-left: 1px solid ",";\n\t\t\t}\n\t\t}\n\t"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));var n,e;return i=function(){return t},t}const c=t=>(0,r.css)(i(),o.HT.tablet,t)},53694:(t,n,e)=>{e.d(n,{M:()=>r});const r=t=>"var(".concat(t,")")},27123:(t,n,e)=>{e.d(n,{$:()=>s});var r=e(50484),o=e(43438),i=e(3645);function c(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}const s=t=>{var n,e,{priority:s,size:l,icon:a,iconSide:u,hideLabel:d,nudgeIcon:f,type:p="button",isLoading:g=!1,loadingAnnouncement:h="Loading",cssOverrides:b,children:x,theme:v}=t,m=function(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}(t,["priority","size","icon","iconSide","hideLabel","nudgeIcon","type","isLoading","loadingAnnouncement","cssOverrides","children","theme"]);return(0,r.jsx)("button",(n=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){c(t,n,e[n])}))}return t}({css:(0,i.V)({size:l,priority:s,icon:a,hideLabel:d,iconSide:u,nudgeIcon:f,cssOverrides:b,isLoading:g,theme:v}),type:p,"aria-live":"polite","aria-label":g?h:void 0},m),e=null!=(e={children:(0,o.b)({hideLabel:d,iconSvg:a,isLoading:g,children:x})})?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e}(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n))}}}]);
//# sourceMappingURL=CarouselForNewsletters-importable.client.web.5bf1cc767aadbe2c0766.js.map