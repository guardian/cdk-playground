"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[1505],{7949:(t,e,n)=>{n.r(e),n.d(e,{CalloutBlockComponent:()=>Xt});var r=n(50484),o=n(9474),i=n(74146),s=n(53694),a=n(24017),c=n(96378),l=n(7351),u=n(55652),d=n(67400),p=n(77907),f=n(15e3),h=n(27123),x=n(11920);function m(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function g(){const t=m(["\n\ta {\n\t\tcolor: ",";\n\t\ttext-decoration-color: ",";\n\t\ttext-underline-offset: 0.375em;\n\t\ttext-decoration-thickness: 1px;\n\t}\n\ta:hover,\n\ta:active {\n\t\ttext-decoration-color: currentColor;\n\t}\n"]);return g=function(){return t},t}function b(){const t=m(["\n\tpadding-bottom: ","px;\n\t","\n\tp {\n\t\tmargin-bottom: ","px;\n\t}\n"]);return b=function(){return t},t}function v(){const t=m(["\n\t",";\n\tcolor: ",";\n\tbackground-color: ",";\n\twidth: fit-content;\n"]);return v=function(){return t},t}function j(){const t=m(["\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n"]);return j=function(){return t},t}function y(){const t=m(["\n\t","\n"]);return y=function(){return t},t}function w(){const t=m(["\n\t","\n\tcolor: ",";\n"]);return w=function(){return t},t}function k(){const t=m(["\n\t",";\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-width: 180px;\n\ttransform: translate(100%, 0);\n\tbackground-color: ",";\n\tcolor: ",";\n\tfont-weight: normal;\n\tborder-radius: ","px;\n\tz-index: 1;\n\tpadding: 0 ","px 0 0;\n\tbox-shadow: 0px 2px ","px rgba(0, 0, 0, 0.5);\n\n\t> svg {\n\t\tfill: ",";\n\t}\n"]);return k=function(){return t},t}function O(){const t=m(["\n\tdisplay: inline-flex;\n\tmargin-right: ","px;\n\tborder-radius: 50%;\n\tborder: 1px solid ",";\n\n\tbox-sizing: border-box;\n\tfill: ",";\n\tpadding: 0 1px 0 0;\n"]);return O=function(){return t},t}function M(){const t=m(["\n\t","\n\tpadding-bottom: ","px;\n"]);return M=function(){return t},t}const P=(0,a.css)(g(),(0,s.M)("--article-link-text"),(0,s.M)("--article-link-border")),S=(0,a.css)(b(),c.x[4],l.Ni,c.x[3]),z=t=>{let{description:e}=t;return(0,r.jsxs)("div",{css:[P,S],children:[(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:e}}),(0,r.jsxs)("div",{children:["Please share your story if you are 18 or over, anonymously if you wish. For more information please see our"," ",(0,r.jsx)("a",{href:"https://www.theguardian.com/help/terms-of-service",children:"terms of service"})," ","and"," ",(0,r.jsx)("a",{href:"https://www.theguardian.com/help/privacy-policy",children:"privacy policy"}),"."]})]})},C=(0,a.css)(v(),l.PSs,(0,s.M)("--star-rating-fill"),(0,s.M)("--star-rating-background")),F=()=>(0,r.jsxs)("div",{css:C,children:[(0,r.jsx)("p",{children:"This callout is now closed to any further submissions."}),(0,r.jsxs)("p",{children:["You can see"," ",(0,r.jsx)("a",{href:"https://www.theguardian.com/profile/guardian-community-team",children:"other Guardian community callouts here"})," ","or"," ",(0,r.jsx)("a",{href:"https://www.theguardian.com/community/2015/sep/02/guardianwitness-send-us-a-story",children:"tell us about a story here."})]})]}),I=(0,a.css)(j()),T=(0,a.css)(y(),l.WuG),W=(0,a.css)(w(),l.WuG,(0,s.M)("--article-link-text")),B=(0,a.css)(k(),l.WuG,p.M.neutral[100],p.M.neutral[7],c.x[1],c.x[1],c.x[2],p.M.success[400]),D=(0,a.css)(O(),c.x[2],(0,s.M)("--article-link-border"),(0,s.M)("--article-link-text")),L=t=>{let{title:e,urlAnchor:n}=t;const[o,i]=(0,d.useState)(!1);return"undefined"==typeof window||"undefined"==typeof navigator?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{css:I,children:[(0,r.jsx)("span",{css:D,children:(0,r.jsx)(f.Y,{size:"small"})}),(0,r.jsxs)("div",{css:T,children:[(0,r.jsx)(h.$,{size:"xsmall",priority:"subdued",onClick:()=>{(async()=>{const t=window.location.href;if("share"in navigator&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){let r="Share your experience";e&&(r+=": ".concat(e));const o="\n\t\t\tI saw this callout in an article: ".concat(t,"#").concat(n,"\n\t\t\tYou can share your story by using the form on this article, or by contacting the Guardian on WhatsApp, Signal or Telegram.");await navigator.share({title:r,text:o}),i(!0),setTimeout((()=>i(!1)),3e3)}else"clipboard"in navigator&&(await navigator.clipboard.writeText("".concat(t,"#").concat(n)),i(!0),setTimeout((()=>i(!1)),3e3))})().catch((()=>{}))},cssOverrides:W,children:"Share this callout"}),o&&(0,r.jsxs)("span",{css:B,role:"alert",children:[(0,r.jsx)(x.A,{size:"medium"}),"Link copied to clipboard"]})]})]})})},A=(0,a.css)(M(),l.PSs,c.x[4]),_=()=>(0,r.jsxs)("div",{css:[P,A],children:["Your responses, which can be anonymous, are secure as the form is encrypted and only the Guardian has access to your contributions. We will only use the data you provide us for the purpose of the feature and we will delete any personal data when we no longer require it for this purpose. For true anonymity please use our"," ",(0,r.jsx)("a",{"data-ignore":"global-link-styling",href:"https://www.theguardian.com/securedrop",children:"SecureDrop"})," ","service instead."]});var E=n(72762),G=n(57909),H=n(32444),R=n(3461),U=n(55932),q=n(93690),N=n(37550),Y=n(5820),$=n(69913),K=n(90789),J=n(25894);const V=t=>{let{formField:e,formData:n,setFieldInFormData:o,pageId:i,validationErrors:s}=t;const{type:a,label:c,hideLabel:l,description:u,required:p,id:f}=e,h="field_".concat(a,"_").concat(f),x=e.id in n?n[e.id]:"",m=s[e.id],g=(0,d.useRef)(!0);switch((0,d.useEffect)((()=>{g.current&&e.hidden&&"text"===e.type&&(o(e.id,i),g.current=!1)}),[e,i,o]),e.type){case"phone":case"email":case"text":return e.hidden?null:(0,r.jsx)(H.k,{name:h,label:c,hideLabel:l,supporting:u,optional:!p,value:x,error:m,"data-testid":"form-field-".concat(e.id),type:e.type,onChange:t=>o(e.id,t.target.value)});case"textarea":return(0,r.jsx)(R.f,{name:h,label:c,hideLabel:l,supporting:u,optional:!p,value:x,error:m,"data-testid":"form-field-".concat(e.id),onChange:t=>o(e.id,t.target.value)});case"file":return(0,r.jsx)(J.z,{label:c,hideLabel:l,supporting:u,optional:!p,error:m,maxFileSize:6e6,"data-testid":"form-field-".concat(e.id),onUpload:t=>o(e.id,t)});case"select":return(0,r.jsx)(U.l,{name:h,label:c,hideLabel:l,supporting:u,optional:!p,value:x,error:m,"data-testid":"form-field-".concat(e.id),onChange:t=>o(e.id,t.target.value),children:[{value:"default",label:"Please choose an option"}].concat(e.options).map((t=>{let{value:e,label:n}=t;return(0,r.jsx)(q.c,{value:e,children:n},e)}))});case"checkbox":return(0,r.jsx)(N.$,{name:h,label:c,hideLabel:l,supporting:u,optional:!p,error:m||void 0,"data-testid":"form-field-".concat(e.id),children:e.options.map((t=>{var i;const s=null!==(i=n[e.id])&&void 0!==i?i:[],a=!!s.find((e=>e===t.value));return(0,r.jsx)(Y.S,{name:h,label:t.label,value:t.value,checked:a,error:!!m,"data-testid":"form-field-".concat(t.value),onChange:()=>o(f,a?s.filter((e=>e!==t.value)):[...s,t.value])},t.value)}))});case"radio":return(0,r.jsx)($.z,{label:e.label,supporting:e.description,error:s[e.id],name:e.name,orientation:e.options.length>2?"vertical":"horizontal",children:e.options.map(((t,i)=>(0,r.jsx)(K.s,{"data-testid":"form-field-".concat(t.value),label:t.label,value:t.value,name:"".concat(e.id),checked:e.id in n&&n[e.id]===t.value,onChange:t=>o(e.id,t.target.value)},i)))});default:return null}};function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Q(t,e,n[e])}))}return t}function Z(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function tt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function et(){const t=tt(["\n\t",";\n\tpadding-bottom: 16px;\n"]);return et=function(){return t},t}function nt(){const t=tt(["\n\t",";\n\tpadding-bottom: 44px;\n"]);return nt=function(){return t},t}function rt(){const t=tt(["\n\tfill: ",";\n\twidth: 48px;\n"]);return rt=function(){return t},t}function ot(){const t=tt(["\n\tcolor: ",";\n\t",";\n\tdisplay: flex;\n"]);return ot=function(){return t},t}function it(){const t=tt(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n"]);return it=function(){return t},t}function st(){const t=tt(["\n\tinput,\n\ttextarea,\n\tselect {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n\n\tlabel > div,\n\tlegend > div {\n\t\tcolor: ",";\n\t}\n\n\tlabel > p,\n\tlegend > div > span,\n\tfieldset > p {\n\t\tcolor: ",";\n\t\topacity: 0.66;\n\t}\n"]);return st=function(){return t},t}function at(){const t=tt(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: ","px;\n"]);return at=function(){return t},t}function ct(){const t=tt(["\n\tmargin: 20px 0px;\n\twidth: 100%;\n\tdisplay: block;\n\tcolor: ",";\n\tbackground-color: ",";\n\n\t:hover,\n\t:active {\n\t\tbackground-color: ",";\n\t}\n"]);return ct=function(){return t},t}function lt(){const t=tt(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-bottom: ","px;\n"]);return lt=function(){return t},t}function ut(){const t=tt(["\n\t\t\t\t\t\t","\n\t\t\t\t\t"]);return ut=function(){return t},t}function dt(){const t=tt(["\n\t\t\t\t\t\t\twidth: fit-content;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-bottom: ","px;\n\t\t\t\t\t\t"]);return dt=function(){return t},t}function pt(){const t=tt(["\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t\t"]);return pt=function(){return t},t}const ft=(0,a.css)(et(),l.WuG),ht=(0,a.css)(nt(),l.WuG),xt=(0,a.css)(rt(),p.M.success[400]),mt=(0,a.css)(ot(),p.M.error[400],l.keT),gt=(0,a.css)(it()),bt=(0,a.css)(st(),(0,s.M)("--tabs--text"),(0,s.M)("--tabs-input"),(0,s.M)("--tabs--text"),(0,s.M)("--article-text")),vt=(0,a.css)(ct(),(0,s.M)("--callout-submit-text"),(0,s.M)("--callout-submit-background"),(0,s.M)("--callout-submit-background-hover")),jt=(0,a.css)(lt(),c.x[4]),yt=t=>{let{formFields:e,submissionURL:n,formID:i,pageId:s}=t;const u=(0,d.useRef)(null),[p,f]=(0,d.useState)({}),[m,g]=(0,d.useState)({}),[b,v]=(0,d.useState)(""),[j,y]=(0,d.useState)(!1),[w,k]=(0,d.useState)(""),O=(t,e)=>{const n=m;n[t]="",g(n),f(Z(X({},p),{[t]:e}))};return j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{css:xt,children:(0,r.jsx)(x.A,{})}),(0,r.jsx)("div",{css:(0,a.css)(ut(),l.aal),children:"Thank you!"}),(0,r.jsx)("div",{css:ht,children:"Your story has been submitted successfully. One of our journalists will be in touch if we wish to take your submission further."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{}),(0,r.jsxs)("form",{ref:u,action:"/formstack-campaign/submit",method:"post",css:[gt,bt],noValidate:!0,onSubmit:t=>{if(t.preventDefault(),(()=>{const t={};for(const n of e){const e=p[n.id];n.required&&(0,o.b)(e)&&(t[n.id]="This field is required"),"select"===n.type&&n.required&&"Please choose an option"===e&&(t[n.id]="Please choose an option from the dropdown menu"),"email"===n.id&&(0,E.K)(e)&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(t[n.id]="Please enter a valid email address")),["number","phone"].includes(n.type)&&(0,E.K)(e)&&(/^[\d ()+-]+$/.test(e)||(t[n.id]="Please enter a valid number"),e.replaceAll(/[^\d]/g,"").length<10&&(t[n.id]="Please include your dialling/area code"))}return g(t),0===Object.keys(t).length})())(async t=>{if(v(""),(0,E.K)(p.twitterHandle))return void v("Sorry we think you are a robot.");const e=Object.keys(p).reduce(((e,n)=>{return Z(X({},e),{["field_".concat(n)]:(r=t[n],Array.isArray(r)?r.join("\n"):r)});var r}),{});fetch(n,{method:"POST",body:JSON.stringify(X({formId:i},e)),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((t=>{201===t.status?y(!0):v("Sorry, there was a problem submitting your form. Please try again later.")})).catch((t=>{window.guardian.modules.sentry.reportError(t,"callout-embed-submission"),v("Sorry, there was a problem submitting your form. Please try again later.")}))})(p);else{var r;const t=null===(r=u.current)||void 0===r?void 0:r.querySelector(":invalid");null==t||t.focus()}},children:[Object.values(m).filter((t=>""!==t)).length>0&&(0,r.jsx)(G.d,{message:"Some information is missing.",context:"Please complete all required fields.",cssOverrides:(0,a.css)(dt(),c.x[4])}),e.map((t=>{return(0,r.jsx)("div",{css:(e=!!t.hidden,(0,a.css)(at(),e?0:c.x[4])),children:(0,r.jsx)(V,{formField:t,formData:p,setFieldInFormData:O,validationErrors:m,pageId:s})},t.id);var e})),(0,r.jsx)("div",{css:ft,children:"By submitting your response, you are agreeing to share your details with us for this feature."}),(0,r.jsx)("div",{css:(0,a.css)(pt()),"aria-hidden":"true",children:(0,r.jsx)("input",{name:"twitter-handle",type:"text",id:"twitter-handle",tabIndex:-1,placeholder:"@mytwitterhandle",value:w,onChange:t=>k(t.target.value)})}),!!b&&(0,r.jsx)("div",{css:mt,children:b}),(0,r.jsx)("div",{css:jt,children:(0,r.jsx)(h.$,{priority:"primary",type:"submit",cssOverrides:vt,children:"Submit"})})]})]})};var wt=n(20880),kt=n(82234),Ot=n(17115),Mt=n(68163);function Pt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function St(){const t=Pt(["\n\twidth: 100%;\n\tjustify-content: center;\n\tmargin-top: ","px;\n\n\t:last-of-type {\n\t\tmargin-bottom: ","px;\n\t}\n"]);return St=function(){return t},t}function zt(){const t=Pt(["\n\tmargin-bottom: ","px;\n\t",";\n"]);return zt=function(){return t},t}const Ct=(0,a.css)(St(),c.x[4],c.x[6]),Ft=(0,a.css)(zt(),c.x[2],l.WuG),It=t=>"whatsapp"===t.toLowerCase()?"WhatsApp":t.charAt(0).toUpperCase()+t.slice(1),Tt=t=>{switch(t.toLowerCase()){case"whatsapp":return(0,r.jsx)(wt.e,{size:"small"});case"signal":return(0,r.jsx)(kt.u,{size:"small"});case"telegram":return(0,r.jsx)(Ot.j,{size:"small"});default:return(0,r.jsx)(r.Fragment,{})}},Wt=t=>{const e=new Map;for(const{name:r,value:o}of t){var n;e.has(o)||e.set(o,[]),null===(n=e.get(o))||void 0===n||n.push(r)}return[...e.entries()].reduce(((t,e,n)=>{let[r,o]=e;const i=o.map((t=>It(t))).join(" or ");return t+(0===n?"":" or ")+"".concat(i," at ").concat(r)}),"Contact us on ")},Bt=t=>{let{contacts:e}=t;const n=(0,r.jsxs)("p",{css:[P,Ft],children:[Wt(e),"."]}),o=(0,r.jsxs)("span",{children:["For more information, please see our guidance on"," ",e.map(((t,n)=>{let{guidance:o,name:i}=t;return(0,E.K)(o)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("a",{href:o,children:["contacting us via ",It(i)]},o),n===e.length-1?".":", "]})}))]}),i=(0,r.jsxs)("span",{children:["For true anonymity please use our"," ",(0,r.jsx)("a",{href:"https://www.theguardian.com/securedrop",children:"SecureDrop"})," ","service instead."]});return(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsxs)("p",{css:[P,Ft],children:[e.some((t=>!!t.guidance))&&o," ",i]})]})},Dt=t=>{let{contacts:e,useBrandColour:n}=t;return(0,r.jsxs)("div",{className:"js-message-us-tab",style:n?{"--article-link-text":(0,s.M)("--callout-prompt")}:{},children:[(0,r.jsx)(Bt,{contacts:e}),e.map(((t,e)=>t.urlPrefix&&t.value?(0,r.jsxs)(Mt.z,{"data-ignore":"global-link-styling",cssOverrides:Ct,type:"submit",priority:"primary",href:"".concat(t.urlPrefix).concat(t.value),target:"_blank",rel:"noreferrer",icon:Tt(t.name),children:["Message us on ",It(t.name)]},e):(0,r.jsx)(r.Fragment,{})))]})};function Lt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function At(){const t=Lt(["\n\tvisibility: visible;\n\tpadding-top: 2px;\n\tpadding-bottom: ","px;\n"]);return At=function(){return t},t}function _t(){const t=Lt(["\n\t",";\n"]);return _t=function(){return t},t}function Et(){const t=Lt(["\n\t","\n\tpadding-bottom: ","px;\n"]);return Et=function(){return t},t}function Gt(){const t=Lt(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: center;\n"]);return Gt=function(){return t},t}function Ht(){const t=Lt(["\n\tpadding-left: ","px;\n\tdisplay: flex;\n\talign-items: center;\n"]);return Ht=function(){return t},t}const Rt=(0,a.css)(At(),c.x[6]),Ut=(0,a.css)(_t(),l.aal),qt=(0,a.css)(Et(),l.A5,c.x[3]),Nt=(0,a.css)(Gt()),Yt=(0,a.css)(Ht(),c.x[1]),$t=t=>{let{prompt:e,heading:n,description:o,formFields:i,formId:a,submissionURL:l,isNonCollapsible:p,contacts:f=[],pageId:h}=t;const x=f.length>0,m=!!n&&!p,g={id:"form",text:(0,r.jsx)("div",{children:"Tell us here"}),content:(0,r.jsx)(yt,{formFields:i,submissionURL:l,formID:a,pageId:h})},b=x?[g,{id:"contact",text:(0,r.jsxs)("div",{css:Nt,children:[(0,r.jsx)("div",{children:"Message us"}),(0,r.jsx)("div",{css:Yt,children:f.map((t=>Tt(t.name)))})]}),content:(0,r.jsx)(Dt,{contacts:f,useBrandColour:!p})}]:[g],[v,j]=(0,d.useState)(g.id);return(0,r.jsxs)("div",{id:a,style:{"--article-link-text":p?void 0:(0,s.M)("--callout-prompt")},children:[(0,r.jsxs)("div",{css:Rt,style:{paddingInline:p?0:"".concat(c.x[2],"px")},children:[!!e&&(0,r.jsx)("div",{css:Ut,style:{color:p?(0,s.M)("--article-text"):(0,s.M)("--callout-prompt")},children:e}),m&&(0,r.jsx)("h4",{css:qt,children:n}),!!o&&(0,r.jsx)(z,{description:o}),(0,r.jsx)(L,{title:n,urlAnchor:a})]}),(0,r.jsx)(u.t,{tabsLabel:"Tell us via online form or message us using your phone",tabElement:"button",theme:{"--background":(0,s.M)("--tabs--background"),"--text":(0,s.M)("--tabs--text"),"--border":(0,s.M)("--tabs--border"),"--inactiveBackground":(0,s.M)("--tabs--inactiveBackground")},tabs:b,selectedTab:v,onTabChange:j})]})};var Kt=n(62945);function Jt(){const t=(e=["\n\t",";\n\tcolor: ",";\n\tbackground-color: ",";\n\tright: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-right: ","px;\n\n\tsvg {\n\t\tfill: currentColor;\n\t}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return Jt=function(){return t},t}const Vt=(0,a.css)(Jt(),l.Ikj,(0,s.M)("--callout-highlight-text"),(0,s.M)("--callout-highlight-background"),c.x[1]),Qt=t=>{let{until:e}=t;const n=function(t){if(!(0,o.b)(t))return new Date(1e3*t)}(e);if(!n)return null;const i=((t,e)=>{const n=(r=t,(e.getTime()-r.getTime())/864e5);var r;if(!(n<=0||n>7))return n<=1?"Closing today":1===Math.round(n)?"Open for 1 more day":"Open for ".concat(Math.round(n)," more days")})(new Date,n);return i?(0,r.jsxs)("span",{css:Vt,children:[(0,r.jsx)(Kt.f,{size:"xsmall"}),i]}):null},Xt=t=>{let{callout:e,pageId:n}=t;const{prompt:a,title:c,description:l,formFields:u,activeUntil:d,calloutsUrl:p,formId:f,isNonCollapsible:h,contacts:x}=e,m=!(0,o.b)(d)&&Math.floor((new Date).getTime()/1e3)>d;if(!h&&m)return null;if(h&&m)return(0,r.jsx)(F,{});const g=f.toString();return(0,r.jsx)(r.Fragment,{children:h?(0,r.jsx)($t,{formId:g,prompt:a,heading:c,description:l,formFields:u,submissionURL:p,isNonCollapsible:h,contacts:x,pageId:n}):(0,r.jsx)("aside",{children:(0,r.jsx)(i.Y,{name:"".concat(e.formId," form"),theme:{"--background":(0,s.M)("--expandingWrapper--background"),"--border":(0,s.M)("--expandingWrapper--border"),"--collapseBackground":(0,s.M)("--expandingWrapper--collapseBackground"),"--collapseBackgroundHover":(0,s.M)("--expandingWrapper--collapseBackgroundHover"),"--collapseText":(0,s.M)("--expandingWrapper--collapseText"),"--collapseTextHover":(0,s.M)("--expandingWrapper--collapseTextHover"),"--text":(0,s.M)("--expandingWrapper--text"),"--horizontalRules":(0,s.M)("--expandingWrapper--horizontalRules"),"--expandBackground":(0,s.M)("--expandingWrapper--expandBackground"),"--expandBackgroundHover":(0,s.M)("--expandingWrapper--expandBackgroundHover"),"--expandText":(0,s.M)("--expandingWrapper--expandText")},renderExtra:()=>(0,r.jsx)(Qt,{until:d}),collapsedHeight:"160px",children:(0,r.jsx)($t,{formId:g,prompt:a,heading:c,description:l,formFields:u,submissionURL:p,isNonCollapsible:h,contacts:x,pageId:n})})})})}},53694:(t,e,n)=>{n.d(e,{M:()=>r});const r=t=>"var(".concat(t,")")}}]);
//# sourceMappingURL=CalloutBlockComponent-importable.client.web.081b57e103e6d99b03b9.js.map