(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[3836],{47916:(e,t,n)=>{"use strict";n.d(t,{I:()=>y,K:()=>p});var o=n(50484),r=n(24017),i=n(59648),c=n(71653),u=n(5744),a=n(31308),l=n(40292),s=n(32437),d=n(1954),f=function(e){var t=e.isFollowing,n=e.iconIsFollowing,c=e.iconIsNotFollowing;return(0,o.jsx)("div",{css:(0,r.css)("display:flex;margin:0;margin-right:",i.x[1],"px;border-radius:100%;border:1px solid ",(0,d.M)("--follow-icon-fill"),";svg{margin:1px;}"),style:{backgroundColor:t?(0,d.M)("--follow-icon-fill"):void 0,fill:t?(0,d.M)("--follow-icon-background"):(0,d.M)("--follow-icon-fill")},children:t?n:c})},v=function(e){return(0,r.css)(c.PSs," color:",(0,d.M)("--follow-text"),";background:none;border:none;display:block;margin-left:0;min-height:",i.x[6],"px;padding:0;text-align:left;",e&&"margin-bottom: ".concat(i.x[2],"px;"),";")},g={name:"1pmuyoc",styles:"display:flex;align-items:center;column-gap:0.2em"},w=function(e){var t=e.isFollowing;return(0,o.jsxs)("span",{children:["Notifications ",t?"on":"off"]})},h=function(e){var t=e.isFollowing,n=e.displayName;return(0,o.jsxs)("span",{children:[t?"Following":"Follow"," ",n]})},y=function(e){var t=e.isFollowing,n=e.onClickHandler,r=e.withExtraBottomMargin,i=void 0!==r&&r;return(0,o.jsx)("button",{onClick:n,type:"button",css:[v(i)],children:(0,o.jsxs)("span",{css:g,children:[(0,o.jsx)(f,{isFollowing:t,iconIsFollowing:(0,o.jsx)(u.M,{size:"xsmall"}),iconIsNotFollowing:(0,o.jsx)(a.W,{size:"xsmall"})}),w({isFollowing:t})]})})},p=function(e){var t=e.isFollowing,n=e.displayName,r=void 0===n?"":n,i=e.onClickHandler,c=e.withExtraBottomMargin,u=void 0!==c&&c;return(0,o.jsx)("button",{onClick:i,type:"button",css:[v(u)],children:(0,o.jsxs)("span",{css:g,children:[(0,o.jsx)(f,{isFollowing:t,iconIsFollowing:(0,o.jsx)(l.Q,{size:"xsmall"}),iconIsNotFollowing:(0,o.jsx)(s.D,{size:"xsmall"})}),h({isFollowing:t,displayName:r})]})})}},55044:(e,t,n)=>{"use strict";n.d(t,{OA:()=>W,IC:()=>Z,GR:()=>R,QF:()=>oe,Dq:()=>_,yY:()=>G,_5:()=>ie,ud:()=>te,U:()=>Q,yV:()=>K,LE:()=>Y,FA:()=>J});var o=n(83551),r=n(555),i=n(16873),c=n(40771),u=n(72910),a=n(46365),l=n(43019),s=(n(53274),n(81449)),d=(n(79907),n(72031)),f=n(69139),v=n(30316),g=n(435),w=n(65656),h=n(73745),y=n(58201),p=n(69584),m=n(56318),k=n(8433),P=n(62335),b=n(13213),B=n(14611);function A(e,t,n,o){var r=(0,B.A)((0,m.A)(1&o?e.prototype:e),t,n);return 2&o&&"function"==typeof r?function(e){return r.apply(n,e)}:r}function x(e,t,n){return t=(0,m.A)(t),(0,p.A)(e,M()?Reflect.construct(t,n||[],(0,m.A)(e).constructor):t.apply(e,n))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var I=function(e){function t(e,n){var o;return(0,h.A)(this,t),o=x(this,t,[e]),(0,P.A)(o,"serviceName",void 0),o.serviceName=n,o}return(0,k.A)(t,e),(0,y.A)(t,[{key:"writeMessageBegin",value:function(e,n,o){n===b.MessageType.CALL||n===b.MessageType.ONEWAY?A(t,"writeMessageBegin",this,3)([this.serviceName+t.separator+e,n,o]):A(t,"writeMessageBegin",this,3)([e,n,o])}}])}(function(e){function t(e){var n;return(0,h.A)(this,t),n=x(this,t,[e.getTransport()]),(0,P.A)(n,"concreteProtocol",void 0),n.concreteProtocol=e,n}return(0,k.A)(t,e),(0,y.A)(t,[{key:"getTransport",value:function(){return this.concreteProtocol.getTransport()}},{key:"flush",value:function(){return this.concreteProtocol.flush()}},{key:"writeMessageBegin",value:function(e,t,n){return this.concreteProtocol.writeMessageBegin(e,t,n)}},{key:"writeMessageEnd",value:function(){return this.concreteProtocol.writeMessageEnd()}},{key:"writeStructBegin",value:function(e){return this.concreteProtocol.writeStructBegin(e)}},{key:"writeStructEnd",value:function(){return this.concreteProtocol.writeStructEnd()}},{key:"writeFieldBegin",value:function(e,t,n){return this.concreteProtocol.writeFieldBegin(e,t,n)}},{key:"writeFieldEnd",value:function(){return this.concreteProtocol.writeFieldEnd()}},{key:"writeFieldStop",value:function(){return this.concreteProtocol.writeFieldStop()}},{key:"writeMapBegin",value:function(e,t,n){return this.concreteProtocol.writeMapBegin(e,t,n)}},{key:"writeMapEnd",value:function(){return this.concreteProtocol.writeMapEnd()}},{key:"writeListBegin",value:function(e,t){return this.concreteProtocol.writeListBegin(e,t)}},{key:"writeListEnd",value:function(){return this.concreteProtocol.writeListEnd()}},{key:"writeSetBegin",value:function(e,t){return this.concreteProtocol.writeSetBegin(e,t)}},{key:"writeSetEnd",value:function(){return this.concreteProtocol.writeSetEnd()}},{key:"writeBool",value:function(e){return this.concreteProtocol.writeBool(e)}},{key:"writeByte",value:function(e){return this.concreteProtocol.writeByte(e)}},{key:"writeI16",value:function(e){return this.concreteProtocol.writeI16(e)}},{key:"writeI32",value:function(e){return this.concreteProtocol.writeI32(e)}},{key:"writeI64",value:function(e){return this.concreteProtocol.writeI64(e)}},{key:"writeDouble",value:function(e){return this.concreteProtocol.writeDouble(e)}},{key:"writeString",value:function(e){return this.concreteProtocol.writeString(e)}},{key:"writeBinary",value:function(e){return this.concreteProtocol.writeBinary(e)}},{key:"readMessageBegin",value:function(){return this.concreteProtocol.readMessageBegin()}},{key:"readMessageEnd",value:function(){return this.concreteProtocol.readMessageEnd()}},{key:"readStructBegin",value:function(){return this.concreteProtocol.readStructBegin()}},{key:"readStructEnd",value:function(){return this.concreteProtocol.readStructEnd()}},{key:"readFieldBegin",value:function(){return this.concreteProtocol.readFieldBegin()}},{key:"readFieldEnd",value:function(){return this.concreteProtocol.readFieldEnd()}},{key:"readMapBegin",value:function(){return this.concreteProtocol.readMapBegin()}},{key:"readMapEnd",value:function(){return this.concreteProtocol.readMapEnd()}},{key:"readListBegin",value:function(){return this.concreteProtocol.readListBegin()}},{key:"readListEnd",value:function(){return this.concreteProtocol.readListEnd()}},{key:"readSetBegin",value:function(){return this.concreteProtocol.readSetBegin()}},{key:"readSetEnd",value:function(){return this.concreteProtocol.readSetEnd()}},{key:"readBool",value:function(){return this.concreteProtocol.readBool()}},{key:"readByte",value:function(){return this.concreteProtocol.readByte()}},{key:"readI16",value:function(){return this.concreteProtocol.readI16()}},{key:"readI32",value:function(){return this.concreteProtocol.readI32()}},{key:"readI64",value:function(){return this.concreteProtocol.readI64()}},{key:"readDouble",value:function(){return this.concreteProtocol.readDouble()}},{key:"readBinary",value:function(){return this.concreteProtocol.readBinary()}},{key:"readString",value:function(){return this.concreteProtocol.readString()}},{key:"skip",value:function(e){return this.concreteProtocol.skip(e)}}])}(b.TProtocol));function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function E(e,t,n){return t=(0,m.A)(t),(0,p.A)(e,C()?Reflect.construct(t,n||[],(0,m.A)(e).constructor):t.apply(e,n))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function F(e){window.android?window.android.postMessage(e.data,e.connectionId):window.webkit?window.webkit.messageHandlers.iOSWebViewMessage.postMessage(e):console.warn("No native APIs available")}(0,P.A)(I,"separator",":");var N=1,j=function(){return"connection-".concat(N++)},T=function(e){function t(e,n){var o,r;return(0,h.A)(this,t),o=E(this,t,[e,n]),(0,P.A)(o,"connectionId",j()),(0,P.A)(o,"promises",[]),(0,P.A)(o,"outBuffer",[]),"undefined"!=typeof window&&(window.nativeConnections=null!==(r=window.nativeConnections)&&void 0!==r?r:{},window.nativeConnections[o.connectionId]=o),o}return(0,k.A)(t,e),(0,y.A)(t,[{key:"reset",value:function(e){if(e===this.connectionId&&window.nativeConnections){console.warn("Reseting connection "+e),delete window.nativeConnections[this.connectionId];var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}(this.promises);try{for(n.s();!(t=n.n()).done;)t.value.reject(new b.TApplicationException(b.TApplicationExceptionType.UNKNOWN,"Timeout error"))}catch(e){n.e(e)}finally{n.f()}this.promises=[],this.connectionId=j(),window.nativeConnections[this.connectionId]=this}}},{key:"receive",value:function(e){var t=this.promises.shift();if(t){clearTimeout(t.timeoutId);var n=Buffer.from(e.data,"base64");t.resolve(n)}this.sendNextMessage()}},{key:"sendNextMessage",value:function(){var e=this.outBuffer.shift();e&&(console.log("Sending next message"),F(e))}},{key:"send",value:function(e){var t=this.connectionId,n=this;return new Promise((function(o,r){n.promises.push({resolve:o,reject:r,timeoutId:setTimeout((function(){n.reset(t)}),3e4)});var i={data:e.toString("base64"),connectionId:t};1===n.promises.length?(console.log("Sending message immediately"),F(i)):(console.log("Queing message because others in flight"),n.outBuffer.push(i))}))}}])}(b.ThriftConnection);function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffered",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact",o=function(t){function o(t){var r;return(0,h.A)(this,o),E(this,o,[new((0,b.getProtocol)(n))(t),null!==(r=e.serviceName)&&void 0!==r?r:""])}return(0,k.A)(o,t),(0,y.A)(o)}(I),r=new T((0,b.getTransport)(t),o);return new e(r)}var O=void 0,_=function(){return(0,w.b)(O)&&(O=L(u.Client,"buffered","compact")),O},D=void 0,R=function(){return(0,w.b)(D)&&(D=L(i.Client,"buffered","compact")),D},z=void 0,W=function(){return z||(z=L(o.Client,"buffered","compact")),z},H=void 0,Q=function(){return H||(H=L(d.Client,"buffered","compact")),H},U=void 0,K=function(){return U||(U=L(f.Client,"buffered","compact")),U},V=void 0,Y=function(){return V||(V=L(v.Client,"buffered","compact")),V},q=void 0,G=function(){return q||(q=L(a.Client,"buffered","compact")),q},$=void 0,J=function(){return $||($=L(g.Client,"buffered","compact")),$},X=void 0,Z=function(){return X||(X=L(r.Client,"buffered","compact")),X},ee=void 0,te=function(){return ee||(ee=L(s.Client,"buffered","compact")),ee},ne=void 0,oe=function(){return ne||(ne=L(c.Client,"buffered","compact")),ne},re=void 0,ie=function(){return re||(re=L(l.Client,"buffered","compact")),re}},1954:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var o=function(e){return"var(".concat(e,")")}},50150:()=>{}}]);
//# sourceMappingURL=3836.client.web.legacy.1464ca79140d838beb45.js.map