(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[2118,4490,5427],{44165:(t,e,n)=>{var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return u.Date.now()};function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=o.test(t);return n||a.test(t)?s(t.slice(2),n?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,s,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function w(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function v(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=o}function y(){var t=m();if(v(t))return x(t);s=setTimeout(y,function(t){var n=e-(t-c);return d?f(n,o-(t-l)):n}(t))}function x(t){return s=void 0,h&&r?w(t):(r=i=void 0,a)}function j(){var t=m(),n=v(t);if(r=arguments,i=this,c=t,n){if(void 0===s)return function(t){return l=t,s=setTimeout(y,e),u?w(t):a}(c);if(d)return s=setTimeout(y,e),w(c)}return void 0===s&&(s=setTimeout(y,e)),a}return e=g(e)||0,b(n)&&(u=!!n.leading,o=(d="maxWait"in n)?p(g(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),j.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},j.flush=function(){return void 0===s?a:x(m())},j}},53419:(t,e,n)=>{"use strict";n.d(e,{xA:()=>p});var r=n(24017),i=n(99923);function o(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(){const t=o(["\n\tdisplay: grid;\n\tgrid-auto-rows: auto;\n\n\tgrid-template-columns:\n\t\t[viewport-start]\n\t\t0\n\t\t[content-start main-column-start]\n\t\trepeat(4, minmax(0, 1fr))\n\t\t[content-end main-column-end]\n\t\t0\n\t\t[viewport-end];\n\n\tcolumn-gap: 10px;\n\n\t"," {\n\t\tcolumn-gap: 20px;\n\t}\n\n\t"," {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 40px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t"," {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n"]);return a=function(){return t},t}function s(){const t=o(["\n\t"," {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(2, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[content-end main-column-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n\n\t"," {\n\t\tgrid-template-columns:\n\t\t\t[viewport-start]\n\t\t\tminmax(0, 1fr)\n\t\t\t[content-start left-column-start]\n\t\t\trepeat(3, 60px)\n\t\t\t[left-column-end main-column-start]\n\t\t\trepeat(12, 60px)\n\t\t\t[main-column-end]\n\t\t\trepeat(1, 60px)\n\t\t\t[content-end]\n\t\t\tminmax(0, 1fr)\n\t\t\t[viewport-end];\n\t}\n"]);return s=function(){return t},t}function c(){const t=o(["\n\tdisplay: none;\n\t"," {\n\t\tdisplay: block;\n\t}\n"]);return c=function(){return t},t}function l(){const t=o(["\n\tdisplay: none;\n\t"," {\n\t\tdisplay: block;\n\t}\n"]);return l=function(){return t},t}const u=(0,r.css)(a(),i.HT.mobileLandscape,i.HT.tablet,i.HT.desktop),d=(0,r.css)(s(),i.HT.leftCol,i.HT.wide),p=t=>{let{type:e="div",style:n,hasPageSkin:i,children:o}=t;return(0,r.jsx)(e,{css:[u,!i&&d],style:n},o)};(0,r.css)(c(),i.HT.leftCol),(0,r.css)(l(),i.HT.leftCol)},31492:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TopBar:()=>nt});var r=n(50484),i=n(24017),o=n(99923),a=n(96378),s=n(3959),c=n(67400),l=n(25421),u=n(33151),d=n(14374),p=n(40901),f=n(53694),m=n(15593),b=n(53419),g=n(7351);function h(){const t=(e=["\n\tdisplay: flex;\n\talign-items: center;\n\t",";\n\n\tcolor: ",";\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\n\tpadding: ","px;\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 ","px 0 0;\n\t}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return h=function(){return t},t}const w=(0,i.css)(h(),g.keT,(0,f.M)("--masthead-top-bar-link-text"),a.x[1],a.x[1]),v=t=>{let{href:e,dataLinkName:n,children:i}=t;return(0,r.jsx)("a",{href:e,css:w,"data-link-name":n,children:i})};var y=n(88482),x=n(82871),j=n(54684);function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const k=t=>Boolean(t.extras.message)&&Boolean(t.extras.target)&&Boolean(t.extras.ophanLabel),P=(t,e)=>{const n=(t=>t.reduce(((t,e)=>{var n;return t[e.target]=(null!==(n=t[e.target])&&void 0!==n?n:[]).concat(e),t}),{}))(e);return t.map((t=>{var e,r;const i=(null!==(e=t.notifications)&&void 0!==e?e:[]).concat(null!==(r=n[t.id])&&void 0!==r?r:[]);return 0===i.length?t:(o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){O(t,e,n[e])}))}return t}({},t),a=null!=(a={notifications:i})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(a)).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(a,t))})),o);var o,a}))};var S,C=n(6576),U=n(37438);function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(null,arguments)}const T=function(t){return c.createElement("svg",I({width:14,height:14,viewBox:"0 0 14 14"},t),S||(S=c.createElement("path",{d:"M7 0C3.1 0 0 3.1 0 7c0 2 .9 3.9 2.4 5.2C3.6 13.4 5.3 14 7 14c1.7 0 3.4-.6 4.7-1.8C13.2 10.9 14 9 14 7c0-3.9-3.1-7-7-7zm0 1.8c1.3 0 2.1.8 2.1 2.1S8 6.3 7 6.3c-.8 0-2-1.1-2-2.4 0-1.4.7-2.1 2-2.1zm0 11.6c-1.7 0-3.3-.7-4.5-1.8l.8-3.2.5-.5c1-.4 2.1-.5 3.1-.5 1.1 0 2.1.2 3.1.5l.5.5.9 3.2c-1.1 1.2-2.7 1.8-4.4 1.8z"})))};var z=n(93937);function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){M(t,e,n[e])}))}return t}function E(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function A(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function L(){const t=A(["\n\tdisplay: flex;\n\t/** Required to absolutely position the dropdown menu */\n\tposition: relative;\n\talign-items: center;\n\t",";\n\n\tcolor: ",";\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\n\tpadding: ","px 0 ","px ","px;\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 ","px 0 0;\n\t}\n\n\tz-index: ",";\n"]);return L=function(){return t},t}function R(){const t=A(["\n\tcolor: ",";\n\tpadding-right: 0;\n\tpadding-bottom: 0;\n\tmargin-top: 0;\n\n\tfont-weight: bold;\n\n\t&:not(ul):hover {\n\t\tcolor: ",";\n\t\ttext-decoration: underline;\n\t}\n\n\t/** Handles case of *new* top bar being 52px high until tablet */\n\t&:not(button) {\n\t\t"," {\n\t\t\ttop: 44px;\n\t\t}\n\n\t\t"," {\n\t\t\tright: 0;\n\t\t\ttop: 52px;\n\t\t}\n\n\t\t"," {\n\t\t\ttop: 56px;\n\t\t}\n\t}\n"]);return R=function(){return t},t}const D=(0,i.css)(L(),g.keT,(0,f.M)("--masthead-top-bar-link-text"),a.x[1],a.x[1],a.x[1],a.x[1],(0,x.f)("mastheadMyAccountDropdown")),N=t=>{let{idUrl:e}=t;return(0,r.jsxs)("a",{css:D,href:"".concat(e,"/signin?INTCMP=DOTCOM_NEWHEADER_SIGNIN&ABCMP=ab-sign-in&").concat((0,j.h)("guardian_signin_header")),"data-link-name":(0,u.K)("header","topbar","signin"),children:[(0,r.jsx)(T,{})," Sign in"]})},H=(0,i.css)(R(),(0,f.M)("--masthead-top-bar-link-text"),(0,f.M)("--masthead-top-bar-link-text"),o.TG.tablet,o.HT.tablet,o.HT.desktop),W=t=>{let e,{mmaUrl:n,idUrl:i,discussionApiUrl:o,notifications:a,authStatus:s}=t;const{data:c,error:l}=(0,C.g)("SignedInWithCookies"===s.kind?(0,y.w)(o,"profile/me?strict_sanctions_check=false"):void 0,{},{credentials:"include"});if("SignedInWithCookies"===s.kind&&c&&(e=c.userProfile.userId),"SignedInWithOkta"===s.kind&&(e=s.idToken.claims.legacy_identity_id),!e||l)return(0,r.jsx)(N,{idUrl:i});const d=((t,e,n)=>[{id:"account_overview",url:"".concat(t,"/"),title:"Account overview"},{id:"billing",url:"".concat(t,"/billing"),title:"Billing"},{id:"edit_profile",url:"".concat(t,"/public-settings"),title:"Profile"},{id:"email_prefs",url:"".concat(t,"/email-prefs"),title:"Emails & marketing"},{id:"data_privacy",url:"".concat(t,"/data-privacy"),title:"Data privacy"},{id:"settings",url:"".concat(t,"/account-settings"),title:"Settings"},{id:"help",url:"".concat(t,"/help"),title:"Help"},{id:"comment_activity",url:"".concat(e,"/user/id/").concat(n),title:"Comments & replies"},{id:"sign_out",url:"".concat(e,"/signout"),title:"Sign out"}].map((t=>E(_({},t),{dataLinkName:(0,u.K)("header","topbar",t.id.replaceAll("_"," "))}))))(n,i,e),p=P(d,a);return(0,r.jsxs)("div",{css:D,children:[(0,r.jsx)(T,{}),(0,r.jsx)(z.Dropdown,{label:"My account",links:p,id:"topbar-my-account",dataLinkName:(0,u.K)("header","topbar","my account"),cssOverrides:H})]})},B=t=>{var{idApiUrl:e,authStatus:n,renderingTarget:i}=t,o=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["idApiUrl","authStatus","renderingTarget"]);const{brazeCards:a}=(0,U.m)(e,i),[s,l]=(0,c.useState)([]);return(0,c.useEffect)((()=>{if(a){const t=a.getCardsForProfileBadge().filter(k).map((t=>({id:t.id,target:t.extras.target,message:t.extras.message,ophanLabel:t.extras.ophanLabel,logImpression:()=>{t.logImpression()}})));t.length&&l(t)}}),[a]),(0,r.jsx)(W,E(_({},o),{notifications:s,authStatus:n}))},V=t=>{let{mmaUrl:e,idUrl:n,discussionApiUrl:i,idApiUrl:o,authStatus:a}=t;const{renderingTarget:s}=(0,m.U)();return(0,r.jsx)(r.Fragment,{children:"SignedInWithOkta"===a.kind||"SignedInWithCookies"===a.kind?(0,r.jsx)(B,{mmaUrl:e,idUrl:n,discussionApiUrl:i,idApiUrl:o,authStatus:a,renderingTarget:s}):(0,r.jsx)(N,{idUrl:n})})};var G=n(46649);function K(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function q(){const t=K(["\n\tgrid-column: content-start / main-column-end;\n\tbackground-color: ",";\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-end;\n\tbox-sizing: border-box;\n\theight: 52px;\n\t"," {\n\t\theight: 60px;\n\t}\n\t"," {\n\t\theight: 64px;\n\t}\n"]);return q=function(){return t},t}function F(){const t=K(["\n\theight: 100%;\n\tdisplay: flex;\n"]);return F=function(){return t},t}function J(){const t=K(["\n\tmargin-right: auto;\n"]);return J=function(){return t},t}function $(){const t=K(["\n\t"," {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tborder-left: 1px solid\n\t\t\t\t",";\n\t\t\theight: 38px;\n\t\t}\n\t}\n"]);return $=function(){return t},t}function Y(){const t=K(["\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t  "]);return Y=function(){return t},t}const Q=(0,i.css)(q(),(0,f.M)("--masthead-top-bar-background"),o.HT.tablet,o.HT.desktop),X=(0,i.css)(F()),Z=(0,i.css)(J()),tt=(0,i.css)($(),o.HT.desktop,(0,f.M)("--masthead-top-bar-vertical-divider")),et=t=>{let{alignLeft:e=!1,showVerticalDivider:n=!0,isLastChild:o=!1,children:s}=t;return(0,r.jsx)("div",{css:[X,e&&Z,n?tt:(0,i.css)(Y())],style:{paddingRight:o?0:"".concat(a.x[3],"px")},children:s})},nt=t=>{let{editionId:e,idUrl:n,mmaUrl:i,discussionApiUrl:o,idApiUrl:a,contributionsServiceUrl:f,hasPageSkin:g=!1}=t;const h=(0,d.w)(),{renderingTarget:w}=(0,m.U)(),y=(0,p.L)(w),[x,j]=(0,c.useState)("");(0,c.useEffect)((()=>{j(window.location.origin+window.location.pathname)}),[]);const O=(0,l.r)({base:"https://support.theguardian.com/subscribe".concat("UK"===e?"":"/weekly"),componentType:"ACQUISITIONS_HEADER",componentId:"PrintSubscriptionsHeaderLink",pageViewId:y,referrerUrl:x});return(0,r.jsx)(b.xA,{type:"div",hasPageSkin:g,children:(0,r.jsxs)("div",{css:Q,children:[(0,r.jsx)(et,{showVerticalDivider:!1,alignLeft:!0,children:(0,r.jsx)(G.TopBarSupport,{contributionsServiceUrl:f})}),(0,r.jsx)(s.L,{until:"desktop",children:(0,r.jsx)(et,{children:(0,r.jsx)(v,{dataLinkName:(0,u.K)("header","topbar","printsubs"),href:O,children:"Print subscriptions"})})}),(0,r.jsx)(s.L,{until:"desktop",children:(0,r.jsx)(et,{children:["AU","US"].includes(e)?(0,r.jsx)(v,{dataLinkName:(0,u.K)("header","topbar","newsletters"),href:"/email-newsletters",children:"Newsletters"}):(0,r.jsx)(v,{dataLinkName:(0,u.K)("header","topbar","job-cta"),href:"https://jobs.theguardian.com",children:"Search jobs"})})}),(0,r.jsx)(et,{isLastChild:!0,children:(0,r.jsx)(V,{mmaUrl:null!=i?i:"https://manage.theguardian.com",idUrl:null!=n?n:"https://profile.theguardian.com",discussionApiUrl:o,idApiUrl:a,authStatus:h})})]})})}},46649:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TopBarSupport:()=>x});var r=n(50484),i=n(24017),o=n(9474),a=n(18411),s=n(29995),c=n(67400),l=n(50026),u=n(36226),d=n(20522),p=n(14374),f=n(75747),m=n(40901),b=n(15593);function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){g(t,e,n[e])}))}return t}function w(){const t=(e=["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\toverflow-wrap: nowrap;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return w=function(){return t},t}const v=(0,i.css)(w()),y=t=>{let{countryCode:e,pageViewId:i,contributionsServiceUrl:f}=t;const[m,g]=(0,c.useState)(null),[w,y]=(0,c.useState)(null),x=(0,p.T)(),{renderingTarget:j}=(0,b.U)();return(0,c.useEffect)((()=>{if((0,o.b)(e)||"Pending"===x)return;const t=(0,u.h3)(x);if("Pending"===t)return;(0,d.q)();const r={tracking:{ophanPageId:i,platformId:"GUARDIAN_WEB",referrerUrl:window.location.origin+window.location.pathname,clientName:"dcr"},targeting:{showSupportMessaging:!t,countryCode:e,mvtId:Number((0,a.R)({name:"GU_mvt_id",shouldMemoize:!0})),purchaseInfo:(0,u.q6)(),isSignedIn:x}};(0,s._b)(f,r).then((t=>{if(!t.data)return null;const{module:e}=t.data;return g(e),("SignInPromptHeader"===e.name?Promise.all([n.e(4684),n.e(9288),n.e(7350)]).then(n.bind(n,77350)):Promise.all([n.e(4684),n.e(9288),n.e(342)]).then(n.bind(n,30342))).then((t=>{y((()=>{var n;return null!==(n=t[e.name])&&void 0!==n?n:null}))}))})).catch((t=>{const e="Error importing RR header links: ".concat(String(t));console.log(e),window.guardian.modules.sentry.reportError(new Error(e),"rr-header-links")}))}),[e,x,f,i]),null!==w&&m?(0,r.jsx)("div",{css:v,children:(0,r.jsx)(w,h({submitComponentEvent:t=>{(0,l.u_)(t,j)}},m.props))}):null},x=t=>{let{contributionsServiceUrl:e}=t;const{renderingTarget:n}=(0,b.U)(),i=(0,f.F)("support-the-Guardian"),a=(0,m.L)(n);return(0,o.b)(i)||(0,o.b)(a)?null:(0,r.jsx)(y,{countryCode:i,pageViewId:a,contributionsServiceUrl:e})}},25421:(t,e,n)=>{"use strict";n.d(e,{r:()=>i});var r=n(41124);const i=t=>{let{base:e,componentType:n,componentId:i,campaignCode:o,abTest:a,pageViewId:s,referrerUrl:c}=t;if(e.search(/(support.theguardian.com)(\/[a-z]*)?\/(contribute|subscribe)/)>=0){const t={source:"GUARDIAN_WEB",componentId:i,componentType:n,campaignCode:o,abTest:a,referrerPageviewId:s,referrerUrl:c},l={REFPVID:s,INTCMP:o,acquisitionData:JSON.stringify(t)};return"".concat(e).concat(e.includes("?")?"&":"?").concat((0,r.G)(l))}return e}},36226:(t,e,n)=>{"use strict";n.d(e,{Jj:()=>h,Pp:()=>l,VF:()=>u,Vi:()=>c,Xr:()=>y,_f:()=>j,h3:()=>p,mG:()=>v,mV:()=>g,n8:()=>x,q6:()=>k,tZ:()=>O,yw:()=>w});var r=n(18411),i=n(9474),o=n(61082),a=n(9092),s=n(67400);const c="gu_hide_support_messaging",l="gu_recurring_contributor",u="gu.contributions.contrib-timestamp",d="gu.noRRBanner",p=t=>{const e=(t=>{switch((0,r.R)({name:c})){case"true":return!0;case"false":return!1;default:return!!t&&"Pending"}})(t);return"Pending"===e?"Pending":e||(()=>{const t=(()=>{const t=(0,r.R)({name:u});if(t)return(t?parseInt(t,10):0)||void 0})();return!(0,i.b)(t)&&((t,e)=>{const n=Date.now()-t;return Math.floor(n/864e5)})(t)<=90})()},f=[1,3,7],m=[1,3,5,7],b=()=>null!==(0,r.R)({name:"gu_article_count_opt_out"}),g=()=>new Promise((t=>{(0,r.R)({name:"gu-cmp-disabled",shouldMemoize:!0})&&t(!0),(0,a.Ym)((e=>{let{usnat:n,tcfv2:r,aus:i}=e;if(null!=n?n:i)t(!0);else if(r){const e=f.every((t=>r.consents[t]));e||o.I.local.remove("gu.history.weeklyArticleCount"),t(e)}}))})),h=async()=>!await g()||b(),w=async()=>!await g()||b(),v=()=>{const[t,e]=(0,s.useState)("Pending");return(0,s.useEffect)((()=>{h().then(e).catch((()=>e(!0)))}),[]),t},y=()=>new Promise((t=>{(0,r.R)({name:"gu-cmp-disabled",shouldMemoize:!0})&&t(!0),(0,a.Ym)((e=>{let{usnat:n,tcfv2:r,aus:i}=e;if(null!=n?n:i)t(!0);else if(r){const e=m.every((t=>r.consents[t]));t(e)}}))})),x=()=>!!o.I.local.get(d),j=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return o.I.local.set(d,!0,t+12e5)},O=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return!!t&&e-new Date(t).getTime()<36e5},k=()=>{const t=(0,r.R)({name:"GU_CO_COMPLETE",shouldMemoize:!0});if(!t)return;let e;try{e=JSON.parse(decodeURIComponent(t))}catch(t){}return e}},47513:(t,e,n)=>{"use strict";n.d(e,{J:()=>s,h:()=>c});var r=n(88482);function i(t){if(!t.ok)throw Error(t.statusText||"getIdApiUserData | An api call returned HTTP status ".concat(t.status));return t}const o=t=>fetch(t,{credentials:"include"}).then(i).then((t=>t.json())),a={},s=t=>{if(!a.idapiUserMeResponse){const e=(0,r.w)(t,"user/me");a.idapiUserMeResponse=o(e)}return a.idapiUserMeResponse},c=t=>{if(!a.idapiUserIdentifiersResponse){const e=(0,r.w)(t,"user/me/identifiers");a.idapiUserIdentifiersResponse=o(e)}return a.idapiUserIdentifiersResponse}},54684:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(41124);const i=(t,e)=>{const n={componentType:"identityauthentication",componentId:t};return e&&(n.viewId=e),"componentEventParams=".concat(encodeURIComponent((0,r.G)(n)))}},33151:(t,e,n)=>{"use strict";n.d(e,{K:()=>r});const r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join(" : ")}},41124:(t,e,n)=>{"use strict";n.d(e,{G:()=>r});const r=t=>Object.keys(t).map((e=>{var n;const r=null!==(n=t[e])&&void 0!==n?n:"undefined",i=Array.isArray(r)?r.map((t=>encodeURIComponent(t))).join(","):encodeURIComponent(r);return"".concat(e,"=").concat(i)})).join("&")},20522:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(24017),i=n(50484),o=n(67400);let a=!1;const s=()=>{a||(window.guardian.automat={emotionReact:r,emotionReactJsxRuntime:i,react:o.default},a=!0)}},6576:(t,e,n)=>{"use strict";n.d(e,{g:()=>a});var r=n(9474),i=n(29273);function o(t){if(!t.ok)throw Error(t.statusText||"useApi | An api call returned HTTP status ".concat(t.status));return t}const a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const{data:a,error:s}=(0,i.Ay)(t,(t=>e=>fetch(e,t).then(o).then((t=>t.json())))(n),e);return{data:a,error:s,loading:!!t&&(0,r.b)(s)&&(0,r.b)(a)}}},14374:(t,e,n)=>{"use strict";n.d(e,{T:()=>o,w:()=>a});var r=n(67400),i=n(97656);const o=()=>{switch(a().kind){case"Pending":return"Pending";case"SignedInWithCookies":case"SignedInWithOkta":return!0;case"SignedOutWithCookies":case"SignedOutWithOkta":return!1}},a=()=>{const[t,e]=(0,r.useState)({kind:"Pending"});return(0,r.useEffect)((()=>{(0,i.kU)((t=>{e((0,i.dx)(t))}),(()=>e((0,i.Hn)()))).catch((t=>{console.error(t)}))}),[]),t}},37438:(t,e,n)=>{"use strict";n.d(e,{m:()=>y});var r=n(6506),i=n(53994),o=n(61082),a=n(60439),s=n(88793),c=n(50026);const l="gu.brazeUserSet";var u=n(47513),d=n(97656);const p=async t=>(0,d.kU)((t=>{var e;return null===(e=t.idToken)||void 0===e?void 0:e.claims.braze_uuid}),(()=>(0,u.h)(t).then((t=>t.brazeUuid)).catch((t=>{window.guardian.modules.sentry.reportError(t,"getBrazeUuid")}))));var f=n(9092);const m=(t,e,n)=>({isSuccessful:!1,failure:{field:t,data:e},data:n});var b=n(9474);const g={enableLogging:!0,noCookies:!0,baseUrl:"https://sdk.fra-01.braze.eu/api/v3",sessionTimeoutInSeconds:1,minimumIntervalBetweenTriggerActionsInSeconds:0,devicePropertyAllowlist:[]},h=(()=>{let t;return e=>((0,b.b)(t)&&(t=(async t=>{const e=await n.e(7659).then(n.t.bind(n,14844,23));return e.setLogger((t=>(0,a.Rm)("tx",t))),e.initialize(t,g),e})(e)),t)})(),w=async(t,e,n)=>{if(!o.I.local.isAvailable())return{brazeMessages:new r._v,brazeCards:new r.ho};const i=await(async(t,e)=>{const n=((t,e)=>[{name:"apiKey",value:Promise.resolve(window.guardian.config.page.brazeApiKey)},{name:"brazeSwitch",value:Promise.resolve(window.guardian.config.switches.brazeSwitch)},{name:"brazeUuid",value:t?p(e):Promise.resolve(null)},{name:"consent",value:new Promise(((t,e)=>{(0,f.Ym)((n=>{try{t((0,f.gS)("braze",n))}catch(t){e(t)}}))}))},{name:"isNotPaidContent",value:Promise.resolve(!window.guardian.config.page.isPaidContent)}])(t,e),r={};for(const{name:t,value:e}of n)try{const n=await e;if(!n)return m(t,n,r);r[t]=n}catch(e){return m(t,e instanceof Error?e.message:e,r)}return{isSuccessful:!0,data:r}})(e,t);if(!i.isSuccessful){const{failure:t,data:e}=i;return(0,a.Rm)("tx","Not attempting to show Braze messages. Dependency ".concat(t.field," failed with ").concat(String(t.data),".")),await(async(t,e,n,i)=>{const a="true"===o.I.local.getRaw(l);if(!e&&a||!n&&a||!i&&a)try{t&&(await h(t)).wipeData(),r.tP.clear(),o.I.local.remove(l)}catch(t){window.guardian.modules.sentry.reportError(t,"braze-maybeWipeUserData")}})(e.apiKey,e.brazeUuid,e.consent,e.brazeSwitch),{brazeMessages:new r._v,brazeCards:new r.ho}}try{const{endPerformanceMeasure:t}=(0,s.h)("tx","braze-sdk-load"),e=await h(i.data.apiKey),a=t();(await(0,c.V5)(n)).record({component:"braze-sdk-load-timing",value:a});const u=(t,e)=>{window.guardian.modules.sentry.reportError(t,e)};o.I.local.setRaw(l,"true"),e.changeUser(i.data.brazeUuid),e.openSession();const d=window.guardian.config.switches.brazeContentCards?new r.ue(e,u):new r.ho;return{brazeMessages:new r.xK(e,r.tP,u,r.Aw),brazeCards:d}}catch(t){return{brazeMessages:new r._v,brazeCards:new r.ho}}};var v=n(14374);const y=(t,e)=>{const n=(0,v.w)(),o="SignedInWithOkta"===n.kind||"SignedInWithCookies"===n.kind,{data:a,error:s}=(0,i.A)("Pending"!==n.kind?"braze-message":null,(()=>w(t,o,e)));return s?{brazeMessages:new r._v,brazeCards:new r.ho}:{brazeMessages:null==a?void 0:a.brazeMessages,brazeCards:null==a?void 0:a.brazeCards}}},75747:(t,e,n)=>{"use strict";n.d(e,{F:()=>a});var r=n(9786),i=n(67400),o=n(2899);const a=t=>{const[e,n]=(0,i.useState)();return(0,i.useEffect)((()=>{(0,o.C)().then((t=>{(0,r.R)(t)&&n(t)})).catch((e=>{const n="Error fetching country code: ".concat(String(e));window.guardian.modules.sentry.reportError(new Error(n),t)}))}),[t]),e}},40901:(t,e,n)=>{"use strict";n.d(e,{L:()=>o});var r=n(67400),i=n(50026);const o=t=>{const[e,n]=(0,r.useState)();return(0,r.useEffect)((()=>{(0,i.V5)(t).then((t=>{let{pageViewId:e}=t;n(e)})).catch((()=>{n("no-page-view-id-available")}))}),[t]),e}},53694:(t,e,n)=>{"use strict";n.d(e,{M:()=>r});const r=t=>"var(".concat(t,")")},92280:(t,e,n)=>{"use strict";n.d(e,{f:()=>r});const r={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},70991:(t,e,n)=>{"use strict";n.d(e,{Q:()=>r});const r="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},99923:(t,e,n)=>{"use strict";n.d(e,{HT:()=>s,TG:()=>c,Tq:()=>l});var r=n(92280);const i=t=>"@media (min-width: ".concat("".concat(t,"px"),")"),o=t=>"@media (max-width: ".concat("".concat(t-.1,"px"),")"),a=(t,e)=>"@media (min-width: ".concat("".concat(t,"px"),") and (max-width: ").concat("".concat(e-.1,"px"),")"),s={mobile:i(r.f.mobile),mobileMedium:i(r.f.mobileMedium),mobileLandscape:i(r.f.mobileLandscape),phablet:i(r.f.phablet),tablet:i(r.f.tablet),desktop:i(r.f.desktop),leftCol:i(r.f.leftCol),wide:i(r.f.wide)},c={mobile:o(r.f.mobile),mobileMedium:o(r.f.mobileMedium),mobileLandscape:o(r.f.mobileLandscape),phablet:o(r.f.phablet),tablet:o(r.f.tablet),desktop:o(r.f.desktop),leftCol:o(r.f.leftCol),wide:o(r.f.wide)},l={mobile:{and:{mobileMedium:a(r.f.mobile,r.f.mobileMedium),mobileLandscape:a(r.f.mobile,r.f.mobileLandscape),phablet:a(r.f.mobile,r.f.phablet),tablet:a(r.f.mobile,r.f.tablet),desktop:a(r.f.mobile,r.f.desktop),leftCol:a(r.f.mobile,r.f.leftCol),wide:a(r.f.mobileMedium,r.f.wide)}},mobileMedium:{and:{mobileLandscape:a(r.f.mobileMedium,r.f.mobileLandscape),phablet:a(r.f.mobileMedium,r.f.phablet),tablet:a(r.f.mobileMedium,r.f.tablet),desktop:a(r.f.mobileMedium,r.f.desktop),leftCol:a(r.f.mobileMedium,r.f.leftCol),wide:a(r.f.mobileMedium,r.f.wide)}},mobileLandscape:{and:{phablet:a(r.f.mobileLandscape,r.f.phablet),tablet:a(r.f.mobileLandscape,r.f.tablet),desktop:a(r.f.mobileLandscape,r.f.desktop),leftCol:a(r.f.mobileLandscape,r.f.leftCol),wide:a(r.f.mobileLandscape,r.f.wide)}},phablet:{and:{tablet:a(r.f.phablet,r.f.tablet),desktop:a(r.f.phablet,r.f.desktop),leftCol:a(r.f.phablet,r.f.leftCol),wide:a(r.f.phablet,r.f.wide)}},tablet:{and:{desktop:a(r.f.tablet,r.f.desktop),leftCol:a(r.f.tablet,r.f.leftCol),wide:a(r.f.tablet,r.f.wide)}},desktop:{and:{leftCol:a(r.f.desktop,r.f.leftCol),wide:a(r.f.desktop,r.f.wide)}},leftCol:{and:{wide:a(r.f.leftCol,r.f.wide)}}}},3959:(t,e,n)=>{"use strict";n.d(e,{L:()=>l});var r=n(50484),i=n(24017),o=n(99923);function a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function s(){const t=a(["\n\t\t\t"," {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t"]);return s=function(){return t},t}function c(){const t=a(["\n\t\t\t","\n\t\t\t"," {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t"]);return c=function(){return t},t}const l=t=>{let e,{children:n,above:a,below:l,from:u=a,until:d=l}=t;return d&&(e=(0,i.css)(s(),o.TG[d])),u&&(e=(0,i.css)(c(),e,o.HT[u])),(0,r.jsx)("span",{css:e,children:n})}}}]);
//# sourceMappingURL=TopBar-importable.client.web.1ea7ed99982d829be93d.js.map