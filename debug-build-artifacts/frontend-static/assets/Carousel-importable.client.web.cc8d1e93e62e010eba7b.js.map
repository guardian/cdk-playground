{"version":3,"file":"Carousel-importable.client.web.cc8d1e93e62e010eba7b.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/Card/components/LI.tsx","webpack://@guardian/dotcom-rendering/./src/lib/verticalDividerWithBottomOffset.ts","webpack://@guardian/dotcom-rendering/./src/components/Carousel.importable.tsx","webpack://@guardian/dotcom-rendering/./src/components/Hide.tsx","webpack://@guardian/dotcom-rendering/./src/components/LeftColumn.tsx","webpack://@guardian/dotcom-rendering/./src/lib/formatAttrString.ts","webpack://@guardian/dotcom-rendering/./src/lib/useIsAndroid.ts","webpack://@guardian/dotcom-rendering/./src/lib/verticalDivider.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/datetime/timeAgo.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source-development-kitchen@12.0.0_@emotion+react@11.11.3_@guardian+libs@19.2.1_@gua_u2skz76xfmcpz6vecn5wtd5lna/node_modules/@guardian/source-development-kitchen/dist/react-components/lines/DottedLines.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgAlertRound.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgAudio.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgCamera.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgStar.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgStarOutline.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/__generated__/icons/SvgVideo.js"],"sourcesContent":["import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source/foundations';\nimport { verticalDivider } from '../../../lib/verticalDivider';\nimport { verticalDividerWithBottomOffset } from '../../../lib/verticalDividerWithBottomOffset';\nimport { palette } from '../../../palette';\n\ntype CardPercentageType =\n\t| '25%'\n\t| '33.333%'\n\t| '50%'\n\t| '66.666%'\n\t| '75%'\n\t| '100%';\n\n/**\n * This value needs to match the one set\n * in the `verticalDividerWithBottomOffset`\n */\nconst GAP_SIZE = `${space[3]}px`;\n\nconst liStyles = css`\n\t/* This position relative is needed to contain the vertical divider */\n\tposition: relative;\n\n\tdisplay: flex;\n\trow-gap: ${GAP_SIZE};\n`;\n\nconst sidePaddingStylesMobile = (override?: number) => css`\n\t/* Set spacing on the li element */\n\t${until.tablet} {\n\t\tpadding-left: ${override ?? 10}px;\n\t\tpadding-right: ${override ?? 10}px;\n\t}\n`;\n\nconst sidePaddingStyles = (override?: number) => css`\n\t${from.tablet} {\n\t\tpadding-left: ${override ?? 10}px;\n\t\tpadding-right: ${override ?? 10}px;\n\t}\n`;\n\nconst snapAlignStartStyles = css`\n\t/* Snap start of card */\n\tscroll-snap-align: start;\n`;\n\nconst decideSize = (percentage?: CardPercentageType, stretch?: boolean) => {\n\tlet sizeStyle;\n\tif (percentage) {\n\t\tsizeStyle = css`\n\t\t\tflex-basis: ${percentage};\n\t\t\t${stretch &&\n\t\t\tcss`\n\t\t\t\tflex-grow: 1;\n\t\t\t`}\n\t\t`;\n\t} else if (stretch) {\n\t\tsizeStyle = css`\n\t\t\tflex-grow: 1;\n\t\t`;\n\t} else {\n\t\tsizeStyle = css`\n\t\t\tflex: 1;\n\t\t`;\n\t}\n\treturn sizeStyle;\n};\n\nconst decideDivider = (\n\toffsetBottomPaddingOnDivider: boolean,\n\tpaddingSize: string,\n\tverticalDividerColour: string,\n) =>\n\toffsetBottomPaddingOnDivider\n\t\t? verticalDividerWithBottomOffset(paddingSize, verticalDividerColour)\n\t\t: verticalDivider(verticalDividerColour);\n\ntype Props = {\n\tchildren: React.ReactNode;\n\t/** Used to give a particular LI more or less weight / space */\n\tpercentage?: CardPercentageType;\n\t/** When true, the card stretches based on content */\n\tstretch?: boolean;\n\t/** If this LI wraps a card in a row this should be true */\n\tshowDivider?: boolean;\n\t/** If this LI directly wraps a card this should be true */\n\tpadSides?: boolean;\n\t/** Overrides the default padding */\n\tpadSidesOverride?: number;\n\t/** Should be true if spacing between cards is desired on mobile devices */\n\tpadSidesOnMobile?: boolean;\n\t/** Overrides the default mobile padding */\n\tpadSidesMobileOverride?: number;\n\t/** True when snapping card when scrolling e.g. in carousel */\n\tsnapAlignStart?: boolean;\n\t/** Prevent the divider from spanning the LI's bottom padding. To be used when you know that the\n\tLI will have bottom padding, but won't have another card in the same container directly below it. */\n\toffsetBottomPaddingOnDivider?: boolean;\n\t/** Overrides the vertical divider colour */\n\tverticalDividerColour?: string;\n};\n\nexport const LI = ({\n\tchildren,\n\tpercentage,\n\tstretch,\n\tshowDivider,\n\tpadSides = false,\n\tpadSidesOverride,\n\tpadSidesOnMobile = false,\n\tpadSidesMobileOverride,\n\tsnapAlignStart = false,\n\toffsetBottomPaddingOnDivider = false,\n\tverticalDividerColour = palette('--section-border'),\n}: Props) => {\n\t// Decide sizing\n\tconst sizeStyles = decideSize(percentage, stretch);\n\n\treturn (\n\t\t<li\n\t\t\tcss={[\n\t\t\t\tliStyles,\n\t\t\t\tsizeStyles,\n\t\t\t\tshowDivider &&\n\t\t\t\t\tdecideDivider(\n\t\t\t\t\t\toffsetBottomPaddingOnDivider,\n\t\t\t\t\t\tGAP_SIZE,\n\t\t\t\t\t\tverticalDividerColour,\n\t\t\t\t\t),\n\t\t\t\tpadSides && sidePaddingStyles(padSidesOverride),\n\t\t\t\tpadSidesOnMobile &&\n\t\t\t\t\tsidePaddingStylesMobile(padSidesMobileOverride),\n\t\t\t\tsnapAlignStart && snapAlignStartStyles,\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</li>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\n\nexport function verticalDividerWithBottomOffset(\n\tbottomPaddingSize: string,\n\tverticalDividerColour: string,\n): SerializedStyles {\n\treturn css`\n\t\t${from.tablet} {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\t/* 100% is a reasonable fallback for browsers which don't support calc() */\n\t\t\t\theight: 100%;\n\t\t\t\theight: calc(100% + ${bottomPaddingSize});\n\t\t\t\tborder-left: 1px solid ${verticalDividerColour};\n\t\t\t}\n\t\t}\n\t`;\n}\n","import { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport {\n\tfrom,\n\theadlineBold24,\n\tspace,\n\tuntil,\n} from '@guardian/source/foundations';\nimport libDebounce from 'lodash.debounce';\nimport { useEffect, useRef, useState } from 'react';\nimport { ArticleDesign, type ArticleFormat } from '../lib/articleFormat';\nimport { formatAttrString } from '../lib/formatAttrString';\nimport { getSourceImageUrl } from '../lib/getSourceImageUrl_temp_fix';\nimport { getZIndex } from '../lib/getZIndex';\nimport { useIsAndroid } from '../lib/useIsAndroid';\nimport { palette as themePalette } from '../palette';\nimport type { Branding } from '../types/branding';\nimport type { StarRating } from '../types/content';\nimport type {\n\tDCRContainerPalette,\n\tDCRContainerType,\n\tDCRFrontImage,\n} from '../types/front';\nimport type { LeftColSize } from '../types/layout';\nimport type { MainMedia } from '../types/mainMedia';\nimport type { OnwardsSource } from '../types/onwards';\nimport type { TrailType } from '../types/trails';\nimport { Card } from './Card/Card';\nimport { LI } from './Card/components/LI';\nimport type { Loading } from './CardPicture';\nimport { ContainerOverrides } from './ContainerOverrides';\nimport { FormatBoundary } from './FormatBoundary';\nimport { Hide } from './Hide';\nimport { LeftColumn } from './LeftColumn';\n\ntype Props = {\n\theading: string;\n\ttrails: TrailType[];\n\tdescription?: string;\n\turl?: string;\n\tonwardsSource: OnwardsSource;\n\tleftColSize: LeftColSize;\n\tdiscussionApiUrl: string;\n\tabsoluteServerTimes: boolean;\n};\n\ntype ArticleProps = Props & {\n\tformat: ArticleFormat;\n\tisOnwardContent?: true;\n};\n\ntype FrontProps = Props & {\n\tpalette: DCRContainerPalette;\n\tcontainerType?: DCRContainerType;\n\thasPageSkin?: boolean;\n\tisOnwardContent?: false;\n};\n\n// Carousel icons - need replicating from source for centring\n\nconst SvgChevronLeftSingle = () => {\n\treturn (\n\t\t<svg\n\t\t\tviewBox=\"0 0 32 32\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"24\"\n\t\t\theight=\"24\"\n\t\t>\n\t\t\t<path\n\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\td=\"M18.4 4L8 14.4V15.45L18.4 25.8499L19.375 24.8999L11.05 14.925L19.375 4.95L18.4 4Z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nconst SvgChevronRightSingle = () => {\n\treturn (\n\t\t<svg\n\t\t\tviewBox=\"0 0 32 32\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"24\"\n\t\t\theight=\"24\"\n\t\t>\n\t\t\t<path\n\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\td=\"M9.975 4L9 4.95L17.325 14.925L9 24.8999L9.975 25.8499L20.375 15.45V14.4L9.975 4Z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nconst CarouselColours = ({\n\tprops,\n\tchildren,\n}: {\n\tprops: { format: ArticleFormat } | { palette: DCRContainerPalette };\n\tchildren: React.ReactElement;\n}): React.ReactElement => {\n\tif ('palette' in props) {\n\t\treturn (\n\t\t\t<ContainerOverrides containerPalette={props.palette}>\n\t\t\t\t{children}\n\t\t\t</ContainerOverrides>\n\t\t);\n\t}\n\tif ('format' in props) {\n\t\treturn (\n\t\t\t<FormatBoundary format={props.format}>{children}</FormatBoundary>\n\t\t);\n\t}\n\treturn children;\n};\n\nconst wrapperStyle = (length: number) => css`\n\tdisplay: flex;\n\t/* Remove space-between where there is a single item, so that it is left-aligned */\n\t${length > 1 && 'justify-content: space-between'}\n\toverflow: hidden;\n\t${from.desktop} {\n\t\tpadding-right: 40px;\n\t}\n`;\n\n// For desktop and above, are we at the last card. Is one less than the dots style equivalent\nconst isLastCardShowing = (\n\tindex: number,\n\ttotalStories: number,\n\ttotalCardsShowing: number,\n) => index >= totalStories - totalCardsShowing;\n\nconst containerMargins = css`\n\tmargin-top: 6px;\n\tmargin-bottom: 24px;\n\n\tmargin-left: 0px;\n\tmargin-right: 0px;\n\n\t${from.tablet} {\n\t\t/* Shrink the container to remove the leading and\n       \t\t\t\t   trailing side margins from the list of cards */\n\t\tmargin-left: -10px;\n\t\tmargin-right: -10px;\n\t}\n`;\n\nconst videoContainerMargins = css`\n\tmargin-bottom: 0;\n\tmin-height: 0;\n`;\n\nconst containerMarginsFromLeftCol = css`\n\t${from.leftCol} {\n\t\tmargin-left: -1px;\n\t\tmargin-right: -10px;\n\t\tmargin-top: 6px;\n\t}\n`;\n\nconst containerStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\toverflow: hidden; /* Needed for scrolling to work */\n`;\n\nconst videoContainerHeight = css`\n\tmin-height: 0;\n`;\n\nconst carouselStyle = css`\n\tmin-height: 227px;\n\tposition: relative; /* must set position for offset(Left) calculations of children to be relative to this box */\n\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: stretch;\n\n\tscroll-snap-type: x mandatory;\n\tscroll-behavior: smooth;\n\toverflow-x: auto; /* Scrollbar is less intrusive visually on non-desktop devices typically */\n\toverflow-y: hidden; /*Fixes small problem with 1px vertical scroll on immersive due to top bar */\n\t${from.tablet} {\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\tscrollbar-width: none;\n\t}\n\n\t${until.tablet} {\n\t\tmargin-left: -10px; /* Align firstcard on mobile devices */\n\t}\n`;\n\nconst dotStyle = css`\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: ${space[3]}px;\n\twidth: ${space[3]}px;\n\tbackground-color: ${themePalette('--carousel-dot')};\n\tborder-radius: 100%;\n\tborder: 0 none;\n\tpadding: 0;\n\tmargin-right: ${space[1]}px;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${themePalette('--carousel-dot-hover')};\n\t\toutline: none;\n\t}\n`;\n\nconst activeDotStyles = css`\n\tbackground-color: ${themePalette('--carousel-active-dot')};\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${themePalette('--carousel-active-dot')};\n\t}\n`;\n\nconst adjustNumberOfDotsStyle = (\n\tindex: number,\n\ttotalStories: number,\n\tcontainerType?: DCRContainerType,\n) => {\n\tswitch (containerType) {\n\t\tcase 'fixed/video':\n\t\t\treturn css`\n\t\t\t\tdisplay: ${index >= totalStories ? 'none' : 'auto'};\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\t${from.phablet} {\n\t\t\t\t\tdisplay: ${index >= totalStories - 1 ? 'none' : 'auto'};\n\t\t\t\t}\n\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tdisplay: ${index >= totalStories - 2 ? 'none' : 'auto'};\n\t\t\t\t}\n\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tdisplay: ${index >= totalStories - 3 ? 'none' : 'auto'};\n\t\t\t\t}\n\t\t\t`;\n\t}\n};\n\n// Not used for buttons above carousel\nconst buttonContainerStyle = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tposition: absolute;\n\tz-index: ${getZIndex('onwardsCarousel')};\n\theight: 100%;\n\tpadding-bottom: 36px; /* Align buttons centrally with cards */\n\n\t${until.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst buttonContainerStyleWithPageSkin = css`\n\tdisplay: none;\n`;\n\nconst prevButtonContainerStyle = (leftColSize: LeftColSize) => {\n\tswitch (leftColSize) {\n\t\tcase 'wide':\n\t\t\treturn css`\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tleft: 205px;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'compact': {\n\t\t\treturn css`\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tleft: 120px;\n\t\t\t\t}\n\n\t\t\t\t${from.wide} {\n\t\t\t\t\tleft: 205px;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t}\n};\n\nconst nextButtonContainerStyle = css`\n\tright: 10px;\n`;\n\nconst buttonStyle = css`\n\tborder: 0 none;\n\tborder-radius: 100%;\n\theight: 34px;\n\twidth: 34px;\n\tcursor: pointer;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground-color: ${themePalette('--carousel-arrow-background')};\n\n\t&:active,\n\t&:hover {\n\t\toutline: none;\n\t\tbackground-color: ${themePalette('--carousel-arrow-background-hover')};\n\t\tsvg {\n\t\t\tfill: ${themePalette('--carousel-arrow-background')};\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\tsvg {\n\t\tfill: ${themePalette('--carousel-arrow')};\n\t\theight: 34px;\n\t}\n`;\n\nconst linkStyles = css`\n\ttext-decoration: none;\n`;\n\nconst headerStylesWithUrl = css`\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst prevButtonStyle = (index: number) => css`\n\tbackground-color: ${index !== 0\n\t\t? themePalette('--carousel-arrow-background')\n\t\t: themePalette('--carousel-arrow-background-disabled')};\n\tcursor: ${index !== 0 ? 'pointer' : 'default'};\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${index !== 0\n\t\t\t? themePalette('--carousel-arrow-background-hover')\n\t\t\t: themePalette('--carousel-arrow-background-disabled')};\n\n\t\tsvg {\n\t\t\tfill: ${themePalette('--carousel-arrow')};\n\t\t}\n\t}\n`;\n\nconst nextButtonStyle = (\n\tindex: number,\n\ttotalStories: number,\n\ttotalCardsShowing: number,\n) => css`\n\tpadding-left: 5px; /* Fix centering of SVG*/\n\tmargin-left: 10px;\n\tbackground-color: ${!isLastCardShowing(\n\t\tindex,\n\t\ttotalStories,\n\t\ttotalCardsShowing,\n\t)\n\t\t? themePalette('--carousel-arrow-background')\n\t\t: themePalette('--carousel-arrow-background-disabled')};\n\tcursor: ${!isLastCardShowing(index, totalStories, totalCardsShowing)\n\t\t? 'pointer'\n\t\t: 'default'};\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${!isLastCardShowing(\n\t\t\tindex,\n\t\t\ttotalStories,\n\t\t\ttotalCardsShowing,\n\t\t)\n\t\t\t? themePalette('--carousel-arrow-background-hover')\n\t\t\t: themePalette('--carousel-arrow-background-disabled')};\n\n\t\tsvg {\n\t\t\tfill: ${themePalette('--carousel-arrow')};\n\t\t}\n\t}\n`;\n\nconst headerRowStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\t${from.tablet} {\n\t\tpadding-right: 10px;\n\t\tmargin-left: 10px;\n\t}\n`;\n\nconst headerStyles = css`\n\t${headlineBold24};\n\tcolor: ${themePalette('--carousel-text')};\n\t${headlineBold24};\n\tpadding-bottom: ${space[2]}px;\n\tpadding-top: ${space[1]}px;\n\tmargin-left: 0;\n`;\n\nconst titleStyle = (isCuratedContent?: boolean) => css`\n\tcolor: ${isCuratedContent\n\t\t? themePalette('--carousel-title-highlight')\n\t\t: themePalette('--carousel-text')};\n\tdisplay: inline-block;\n\t&::first-letter {\n\t\ttext-transform: capitalize;\n\t}\n`;\n\nconst getDataLinkNameCarouselButton = (\n\tdirection: string,\n\tarrowName: string,\n\tisVideoContainer: boolean,\n): string => {\n\treturn `${isVideoContainer ? 'video-container' : arrowName}-${direction}`;\n};\n\nconst Title = ({\n\ttitle,\n\tisCuratedContent,\n\turl,\n}: {\n\ttitle: string;\n\tisCuratedContent?: boolean;\n\turl?: string;\n}) =>\n\turl ? (\n\t\t<a\n\t\t\tcss={[linkStyles]}\n\t\t\thref={url}\n\t\t\tdata-link-name={\n\t\t\t\ttitle === 'Videos'\n\t\t\t\t\t? 'video-container-title Videos'\n\t\t\t\t\t: 'section heading'\n\t\t\t}\n\t\t>\n\t\t\t<h2 css={headerStyles}>\n\t\t\t\t<span css={[headerStylesWithUrl, titleStyle(isCuratedContent)]}>\n\t\t\t\t\t{title}\n\t\t\t\t</span>\n\t\t\t</h2>\n\t\t</a>\n\t) : (\n\t\t<h2 css={headerStyles}>\n\t\t\t{isCuratedContent ? 'More from ' : ''}\n\t\t\t<span css={titleStyle(isCuratedContent)}>{title}</span>\n\t\t</h2>\n\t);\n\ntype CarouselCardProps = {\n\tisFirst: boolean;\n\tindex: number;\n\tformat: ArticleFormat;\n\tlinkTo: string;\n\theadlineText: string;\n\twebPublicationDate: string;\n\tabsoluteServerTimes: boolean;\n\timageLoading: Loading;\n\tkickerText?: string;\n\timage?: DCRFrontImage;\n\tdataLinkName?: string;\n\tdiscussionApiUrl: string;\n\t/* Onward content carousels use different card styles (this is currently everything but fronts) */\n\tisOnwardContent?: boolean;\n\tdiscussionId?: string;\n\t/** Only used on Labs cards */\n\tbranding?: Branding;\n\tmainMedia?: MainMedia;\n\tonwardsSource?: OnwardsSource;\n\tcontainerType?: DCRContainerType;\n\tstarRating?: StarRating;\n};\n\nconst CarouselCard = ({\n\tformat,\n\tlinkTo,\n\theadlineText,\n\timage,\n\twebPublicationDate,\n\tkickerText,\n\tisFirst,\n\tdataLinkName,\n\tdiscussionId,\n\tbranding,\n\tmainMedia,\n\tonwardsSource,\n\tcontainerType,\n\timageLoading,\n\tdiscussionApiUrl,\n\tisOnwardContent,\n\tabsoluteServerTimes,\n\tstarRating,\n\tindex,\n}: CarouselCardProps) => {\n\tconst isVideoContainer = containerType === 'fixed/video';\n\tconst cardImagePosition = isOnwardContent ? 'bottom' : 'top';\n\n\treturn (\n\t\t<LI\n\t\t\tpercentage=\"25%\"\n\t\t\tshowDivider={!isFirst && !isVideoContainer && !isOnwardContent}\n\t\t\tpadSides={true}\n\t\t\tpadSidesOnMobile={true}\n\t\t\tsnapAlignStart={true}\n\t\t\tverticalDividerColour={themePalette('--carousel-border')}\n\t\t\t{...(isOnwardContent && {\n\t\t\t\tpadSidesMobileOverride: space[2],\n\t\t\t\tpadSidesOverride: space[2],\n\t\t\t})}\n\t\t>\n\t\t\t<Card\n\t\t\t\tlinkTo={linkTo}\n\t\t\t\tformat={format}\n\t\t\t\theadlineText={headlineText}\n\t\t\t\twebPublicationDate={webPublicationDate}\n\t\t\t\tkickerText={kickerText}\n\t\t\t\timage={image}\n\t\t\t\timageSize={'carousel'}\n\t\t\t\tshowClock={!isOnwardContent && true}\n\t\t\t\tshowAge={true}\n\t\t\t\tpauseOffscreenVideo={isVideoContainer}\n\t\t\t\tshowQuotedHeadline={format.design === ArticleDesign.Comment}\n\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\tdiscussionId={discussionId}\n\t\t\t\tbranding={branding}\n\t\t\t\tisExternalLink={false}\n\t\t\t\tmainMedia={mainMedia}\n\t\t\t\tminWidthInPixels={220}\n\t\t\t\tcanPlayInline={isVideoContainer}\n\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\tcontainerType={containerType}\n\t\t\t\timageLoading={imageLoading}\n\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\tisOnwardContent={isOnwardContent}\n\t\t\t\timagePositionOnDesktop={cardImagePosition}\n\t\t\t\timagePositionOnMobile={cardImagePosition}\n\t\t\t\tabsoluteServerTimes={absoluteServerTimes}\n\t\t\t\tstarRating={starRating}\n\t\t\t\tindex={index}\n\t\t\t\tshowTopBarDesktop={!isOnwardContent}\n\t\t\t\tshowTopBarMobile={false}\n\t\t\t/>\n\t\t</LI>\n\t);\n};\n\ntype HeaderAndNavProps = {\n\theading: string;\n\ttrails: TrailType[];\n\tindex: number;\n\tgoToIndex: (newIndex: number) => void;\n\tisCuratedContent?: boolean;\n\tcontainerType?: DCRContainerType;\n\turl?: string;\n\tisOnwardContent?: boolean;\n};\n\nconst HeaderAndNav = ({\n\theading,\n\ttrails,\n\tindex,\n\tgoToIndex,\n\tisCuratedContent,\n\tcontainerType,\n\turl,\n\tisOnwardContent,\n}: HeaderAndNavProps) => {\n\treturn (\n\t\t<div>\n\t\t\t<Title\n\t\t\t\ttitle={heading}\n\t\t\t\tisCuratedContent={isCuratedContent}\n\t\t\t\turl={url}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tmarginBottom: `${isOnwardContent ? space[3] : space[2]}px`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{trails.map((_, i) => (\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={() => goToIndex(i)}\n\t\t\t\t\t\t// This button is not particularly useful for keyboard users as the stories\n\t\t\t\t\t\t// are tabb-able themselves so we hide them with aria and make them\n\t\t\t\t\t\t// not available to keyboard\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\tkey={`dot-${i}`}\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tdotStyle,\n\t\t\t\t\t\t\ti === index && activeDotStyles,\n\t\t\t\t\t\t\tadjustNumberOfDotsStyle(\n\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\ttrails.length,\n\t\t\t\t\t\t\t\tcontainerType,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tdata-link-name={`carousel-small-nav-dot-${i}`}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst Header = ({\n\theading,\n\ttrails,\n\tindex,\n\tgoToIndex,\n\tprev,\n\tnext,\n\tarrowName,\n\tisCuratedContent,\n\tcontainerType,\n\thasPageSkin,\n\turl,\n\tisOnwardContent,\n}: {\n\theading: string;\n\ttrails: TrailType[];\n\tindex: number;\n\tgoToIndex: (newIndex: number) => void;\n\tprev: () => void;\n\tnext: () => void;\n\tarrowName: string;\n\tisCuratedContent: boolean;\n\tcontainerType?: DCRContainerType;\n\thasPageSkin: boolean;\n\turl?: string;\n\tisOnwardContent?: boolean;\n}) => {\n\tconst isVideoContainer = containerType === 'fixed/video';\n\tconst header = (\n\t\t<div css={headerRowStyles}>\n\t\t\t<HeaderAndNav\n\t\t\t\theading={heading}\n\t\t\t\ttrails={trails}\n\t\t\t\tindex={index}\n\t\t\t\tisCuratedContent={isCuratedContent}\n\t\t\t\tgoToIndex={goToIndex}\n\t\t\t\tcontainerType={containerType}\n\t\t\t\turl={url}\n\t\t\t\tisOnwardContent={isOnwardContent}\n\t\t\t/>\n\t\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={prev}\n\t\t\t\t\taria-label=\"Move carousel backwards\"\n\t\t\t\t\tcss={[buttonStyle, prevButtonStyle(index)]}\n\t\t\t\t\tdata-link-name={getDataLinkNameCarouselButton(\n\t\t\t\t\t\t'prev',\n\t\t\t\t\t\tarrowName,\n\t\t\t\t\t\tisVideoContainer,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<SvgChevronLeftSingle />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={next}\n\t\t\t\t\taria-label=\"Move carousel forwards\"\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tbuttonStyle,\n\t\t\t\t\t\tnextButtonStyle(\n\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\ttrails.length,\n\t\t\t\t\t\t\tisVideoContainer ? 1 : 4,\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tdata-link-name={getDataLinkNameCarouselButton(\n\t\t\t\t\t\t'next',\n\t\t\t\t\t\tarrowName,\n\t\t\t\t\t\tisVideoContainer,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<SvgChevronRightSingle />\n\t\t\t\t</button>\n\t\t\t</Hide>\n\t\t</div>\n\t);\n\t/**\n\t * When there is a page skin we constrain to a desktop layout\n\t * So don't hide the header past leftcol as normal\n\t */\n\tif (hasPageSkin) {\n\t\treturn header;\n\t}\n\treturn (\n\t\t<Hide when=\"above\" breakpoint=\"leftCol\">\n\t\t\t{header}\n\t\t</Hide>\n\t);\n};\n\nconst InlineChevrons = ({\n\ttrails,\n\tindex,\n\tprev,\n\tnext,\n\tarrowName,\n\tisVideoContainer,\n\tleftColSize,\n\thasPageSkin,\n}: {\n\ttrails: TrailType[];\n\tindex: number;\n\tprev: () => void;\n\tnext: () => void;\n\tarrowName: string;\n\tisVideoContainer: boolean;\n\tleftColSize: LeftColSize;\n\thasPageSkin: boolean;\n}) => (\n\t<>\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tbuttonContainerStyle,\n\t\t\t\thasPageSkin && buttonContainerStyleWithPageSkin,\n\t\t\t\t!hasPageSkin && prevButtonContainerStyle(leftColSize),\n\t\t\t]}\n\t\t>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={prev}\n\t\t\t\taria-label=\"Move carousel backwards\"\n\t\t\t\tcss={[buttonStyle, prevButtonStyle(index)]}\n\t\t\t\tdata-link-name={getDataLinkNameCarouselButton(\n\t\t\t\t\t'prev',\n\t\t\t\t\tarrowName,\n\t\t\t\t\tisVideoContainer,\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<SvgChevronLeftSingle />\n\t\t\t</button>\n\t\t</div>\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tbuttonContainerStyle,\n\t\t\t\thasPageSkin && buttonContainerStyleWithPageSkin,\n\t\t\t\tnextButtonContainerStyle,\n\t\t\t]}\n\t\t>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={next}\n\t\t\t\taria-label=\"Move carousel forwards\"\n\t\t\t\tcss={[\n\t\t\t\t\tbuttonStyle,\n\t\t\t\t\tnextButtonStyle(\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\ttrails.length,\n\t\t\t\t\t\tisVideoContainer ? 1 : 4,\n\t\t\t\t\t),\n\t\t\t\t]}\n\t\t\t\tdata-link-name={getDataLinkNameCarouselButton(\n\t\t\t\t\t'next',\n\t\t\t\t\tarrowName,\n\t\t\t\t\tisVideoContainer,\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<SvgChevronRightSingle />\n\t\t\t</button>\n\t\t</div>\n\t</>\n);\n\n/**\n * A carousel of cards, mainly used in onward journeys,\n * at the bottom of articles\n *\n * ## Why does this need to be an Island?\n *\n * Data is fetched from an API client-side.\n *\n * ---\n *\n * [`Carousel` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-carousel)\n */\nexport const Carousel = ({\n\theading,\n\ttrails,\n\tonwardsSource,\n\tleftColSize,\n\tdiscussionApiUrl,\n\tisOnwardContent = true,\n\tabsoluteServerTimes,\n\t...props\n}: ArticleProps | FrontProps) => {\n\tconst carouselRef = useRef<HTMLUListElement>(null);\n\n\tconst [index, setIndex] = useState(0);\n\tconst [maxIndex, setMaxIndex] = useState(0);\n\tconst isAndroid = useIsAndroid();\n\n\tconst arrowName = 'carousel-small-arrow';\n\n\tconst isCuratedContent = onwardsSource === 'curated-content';\n\tconst containerType =\n\t\t'containerType' in props ? props.containerType : undefined;\n\n\tconst isVideoContainer = containerType === 'fixed/video';\n\n\tconst hasPageSkin = 'hasPageSkin' in props && (props.hasPageSkin ?? false);\n\n\tconst notPresentation = (el: HTMLElement): boolean =>\n\t\tel.getAttribute('role') !== 'presentation';\n\n\tconst getItems = (): HTMLElement[] => {\n\t\tconst { current } = carouselRef;\n\t\tif (current === null) return [];\n\n\t\treturn Array.from(current.children) as HTMLElement[];\n\t};\n\n\tconst getIndex = (): number => {\n\t\tconst { current } = carouselRef;\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map((el) => el.offsetLeft);\n\t\tconst [offset] = offsets;\n\t\tif (current === null || isUndefined(offset)) return 0;\n\n\t\tconst scrolled = current.scrollLeft + offset;\n\t\tconst active = offsets.findIndex((el) => el >= scrolled);\n\n\t\treturn Math.max(0, active);\n\t};\n\n\tconst getSetIndex = () => {\n\t\tsetIndex(getIndex());\n\t};\n\n\tconst goToIndex = (newIndex: number) => {\n\t\tconst { current } = carouselRef;\n\t\tif (current === null) return;\n\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map((el) => el.offsetLeft);\n\n\t\tcurrent.scrollTo({ left: offsets[newIndex] });\n\n\t\tgetSetIndex();\n\t};\n\n\tconst prev = () => {\n\t\tconst { current } = carouselRef;\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map(({ offsetLeft }) => offsetLeft);\n\t\tconst [offset] = offsets;\n\n\t\tif (current === null || isUndefined(offset)) return;\n\n\t\tconst scrolled = current.scrollLeft + offset;\n\n\t\tconst nextOffset = offsets.reverse().find((o) => o < scrolled);\n\n\t\tif (!isUndefined(nextOffset) && nextOffset !== 0) {\n\t\t\tcurrent.scrollTo({ left: nextOffset });\n\t\t} else {\n\t\t\tcurrent.scrollTo({ left: 0 });\n\t\t}\n\t\tgetSetIndex();\n\t};\n\n\tconst next = () => {\n\t\tconst { current } = carouselRef;\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map(({ offsetLeft }) => offsetLeft);\n\t\tconst [offset] = offsets;\n\n\t\tif (current === null || isUndefined(offset)) return;\n\n\t\tconst scrolled = current.scrollLeft + offset;\n\t\tconst nextOffset = offsets.find((currOffset) => currOffset > scrolled);\n\n\t\tif (!isUndefined(nextOffset) && nextOffset !== 0) {\n\t\t\tcurrent.scrollTo({ left: nextOffset });\n\t\t}\n\n\t\tgetSetIndex();\n\t};\n\n\tuseEffect(() => {\n\t\tconst carousel = carouselRef.current;\n\t\tif (carousel) {\n\t\t\tcarousel.addEventListener('scroll', libDebounce(getSetIndex, 100));\n\t\t\treturn carousel.removeEventListener(\n\t\t\t\t'scroll',\n\t\t\t\tlibDebounce(getSetIndex, 100),\n\t\t\t);\n\t\t}\n\t});\n\n\t// No idea if this is the best approach but it prevents issues with libDebounce\n\t// using old data to determine the max index. Instead we say update maxIndex\n\t// when index changes and compare it against the prior maxIndex only.\n\tuseEffect(() => setMaxIndex((m) => Math.max(index, m)), [index]);\n\n\tif (isAndroid) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<CarouselColours props={props}>\n\t\t\t<div\n\t\t\t\tcss={wrapperStyle(trails.length)}\n\t\t\t\tdata-link-name={formatAttrString(heading)}\n\t\t\t\tdata-component={isVideoContainer ? 'video-playlist' : undefined}\n\t\t\t>\n\t\t\t\t<LeftColumn\n\t\t\t\t\tsize={leftColSize}\n\t\t\t\t\tborderColour={themePalette('--carousel-border')}\n\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t>\n\t\t\t\t\t<HeaderAndNav\n\t\t\t\t\t\theading={heading}\n\t\t\t\t\t\ttrails={trails}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tisCuratedContent={isCuratedContent}\n\t\t\t\t\t\tgoToIndex={goToIndex}\n\t\t\t\t\t\turl={props.url}\n\t\t\t\t\t/>\n\t\t\t\t</LeftColumn>\n\t\t\t\t<InlineChevrons\n\t\t\t\t\ttrails={trails}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tprev={prev}\n\t\t\t\t\tnext={next}\n\t\t\t\t\tarrowName={arrowName}\n\t\t\t\t\tisVideoContainer={isVideoContainer}\n\t\t\t\t\tleftColSize={leftColSize}\n\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tcontainerStyles,\n\t\t\t\t\t\tcontainerMargins,\n\t\t\t\t\t\t!hasPageSkin && containerMarginsFromLeftCol,\n\t\t\t\t\t\tisVideoContainer && videoContainerMargins,\n\t\t\t\t\t]}\n\t\t\t\t\tdata-component={onwardsSource}\n\t\t\t\t\tdata-link={formatAttrString(heading)}\n\t\t\t\t>\n\t\t\t\t\t<Header\n\t\t\t\t\t\theading={heading}\n\t\t\t\t\t\ttrails={trails}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tgoToIndex={goToIndex}\n\t\t\t\t\t\tprev={prev}\n\t\t\t\t\t\tnext={next}\n\t\t\t\t\t\tarrowName={arrowName}\n\t\t\t\t\t\tisCuratedContent={isCuratedContent}\n\t\t\t\t\t\tcontainerType={containerType}\n\t\t\t\t\t\thasPageSkin={hasPageSkin}\n\t\t\t\t\t\turl={props.url}\n\t\t\t\t\t\tisOnwardContent={isOnwardContent}\n\t\t\t\t\t/>\n\t\t\t\t\t<ul\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tcarouselStyle,\n\t\t\t\t\t\t\tisVideoContainer && videoContainerHeight,\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tref={carouselRef}\n\t\t\t\t\t\tdata-component={`carousel-small | maxIndex-${maxIndex}`}\n\t\t\t\t\t\tdata-heatphan-type=\"carousel\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{trails.map((trail, i) => {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\turl: linkTo,\n\t\t\t\t\t\t\t\theadline: headlineText,\n\t\t\t\t\t\t\t\twebPublicationDate,\n\t\t\t\t\t\t\t\tformat: trailFormat,\n\t\t\t\t\t\t\t\timage: trailImage,\n\t\t\t\t\t\t\t\tkickerText,\n\t\t\t\t\t\t\t\tbranding,\n\t\t\t\t\t\t\t\tdiscussion,\n\t\t\t\t\t\t\t\tmainMedia,\n\t\t\t\t\t\t\t\tstarRating,\n\t\t\t\t\t\t\t} = trail;\n\n\t\t\t\t\t\t\t// Don't try to render cards that have no publication date. This property is technically optional\n\t\t\t\t\t\t\t// but we rarely if ever expect it not to exist\n\t\t\t\t\t\t\tif (!webPublicationDate) return null;\n\n\t\t\t\t\t\t\tconst image = trailImage && {\n\t\t\t\t\t\t\t\tsrc: getSourceImageUrl(trailImage.src),\n\t\t\t\t\t\t\t\taltText: trailImage.altText,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst imageLoading = i > 3 ? 'lazy' : 'eager';\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<CarouselCard\n\t\t\t\t\t\t\t\t\tkey={`${trail.url}${i}`}\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tisFirst={i === 0}\n\t\t\t\t\t\t\t\t\tformat={trailFormat}\n\t\t\t\t\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\t\t\t\t\twebPublicationDate={webPublicationDate}\n\t\t\t\t\t\t\t\t\tabsoluteServerTimes={absoluteServerTimes}\n\t\t\t\t\t\t\t\t\timage={image}\n\t\t\t\t\t\t\t\t\tkickerText={kickerText}\n\t\t\t\t\t\t\t\t\tdataLinkName={`carousel-small-card-position-${i}`}\n\t\t\t\t\t\t\t\t\tdiscussionId={\n\t\t\t\t\t\t\t\t\t\tdiscussion?.isCommentable\n\t\t\t\t\t\t\t\t\t\t\t? discussion.discussionId\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbranding={branding}\n\t\t\t\t\t\t\t\t\tmainMedia={mainMedia}\n\t\t\t\t\t\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\t\t\t\t\t\tcontainerType={containerType}\n\t\t\t\t\t\t\t\t\timageLoading={imageLoading}\n\t\t\t\t\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\t\t\t\t\tisOnwardContent={isOnwardContent}\n\t\t\t\t\t\t\t\t\tstarRating={starRating}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</CarouselColours>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { Breakpoint } from '@guardian/source/foundations';\nimport { from, until } from '@guardian/source/foundations';\n\ninterface Props {\n\tchildren: React.ReactNode;\n\twhen: 'above' | 'below';\n\tbreakpoint: Breakpoint;\n}\n\ninterface PropsSpan extends Props {\n\tel?: 'span';\n}\ninterface PropsLi extends Props {\n\tel: 'li';\n}\n\nexport const Hide = ({\n\tchildren,\n\twhen,\n\tbreakpoint,\n\tel,\n}: PropsSpan | PropsLi) => {\n\tlet whenToHide;\n\tif (when === 'below') {\n\t\twhenToHide = css`\n\t\t\t${until[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t} else {\n\t\twhenToHide = css`\n\t\t\t${from[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t}\n\treturn el === 'li' ? (\n\t\t<li css={whenToHide}>{children}</li>\n\t) : (\n\t\t<span css={whenToHide}>{children}</span>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tbetween,\n\tfrom,\n\tpalette as sourcePalette,\n\tspace,\n\tuntil,\n} from '@guardian/source/foundations';\nimport type { LeftColSize } from '../types/layout';\n\nconst leftWidth = (size: LeftColSize, hasPageSkin: boolean) => {\n\tif (hasPageSkin) {\n\t\treturn css`\n\t\t\tpadding-right: 10px;\n\t\t\tdisplay: none;\n\t\t`;\n\t}\n\tswitch (size) {\n\t\tcase 'wide': {\n\t\t\treturn css`\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t${until.leftCol} {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\t/* above 1140 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tcase 'compact':\n\t\tdefault: {\n\t\t\treturn css`\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t${until.leftCol} {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t${between.leftCol.and.wide} {\n\t\t\t\t\t/* above 1140, below 1300 */\n\t\t\t\t\tflex-basis: 151px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t${from.wide} {\n\t\t\t\t\t/* above 1300 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t}\n};\n\nconst positionRelative = css`\n\tposition: relative;\n`;\n\nconst partialRightBorder = (colour: string) => css`\n\t:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\theight: 30px;\n\t\twidth: 1px;\n\t\tbackground: ${colour};\n\t}\n`;\n\nconst fullRightBorder = (colour: string) => css`\n\tborder-right: 1px solid ${colour};\n`;\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tborderType?: 'full' | 'partial'; // if no borderType provided -> no border\n\tborderColour?: string;\n\tsize?: LeftColSize;\n\tverticalMargins?: boolean;\n\thasPageSkin?: boolean;\n};\n\nexport const LeftColumn = ({\n\tchildren,\n\tborderType,\n\tborderColour = sourcePalette.neutral[86],\n\tsize = 'compact',\n\tverticalMargins = true,\n\thasPageSkin = false,\n}: Props) => {\n\treturn (\n\t\t<section\n\t\t\tcss={[\n\t\t\t\tpositionRelative,\n\t\t\t\tleftWidth(size, hasPageSkin),\n\t\t\t\tborderType === 'full' && fullRightBorder(borderColour),\n\t\t\t\tverticalMargins &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tKeep spacing at the bottom of the container consistent at 36px, regardless of\n\t\t\t\t\t\t\tbreakpoint, based on chat with Harry Fisher\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tpadding-bottom: ${space[9]}px;\n\t\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tborderType === 'partial' &&\n\t\t\t\t\t\tpartialRightBorder(borderColour),\n\t\t\t\t\tcss`\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t`,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n","type StrInOutFuncType = (str: string) => string;\n\nconst removeAlphaNumeric: StrInOutFuncType = (str) =>\n\tstr.replace(new RegExp('[^0-9a-z ]', 'gi'), ';'); // We set it to semicolon so we can remove it at the end\nconst lowercase: StrInOutFuncType = (str) => str.toLowerCase();\nconst replaceSpacesWithHyphens: StrInOutFuncType = (str) =>\n\tstr.replace(new RegExp(' ', 'g'), '-'); // Replace the space\nconst removeTempChars: StrInOutFuncType = (str) =>\n\tstr.replace(new RegExp('[;]', 'g'), ''); // Strip out those semicolons\n\nexport const formatAttrString = (input: string): string =>\n\tremoveTempChars(\n\t\treplaceSpacesWithHyphens(lowercase(removeAlphaNumeric(input))),\n\t);\n","import { useEffect, useState } from 'react';\nimport { useConfig } from '../components/ConfigContext';\n\n/**\n * @deprecated this is a temporary solution to handle the fact\n * that horizontal scrolling is broken in the android app for\n * web views\n */\nexport const useIsAndroid = (): boolean | undefined => {\n\tconst { renderingTarget } = useConfig();\n\n\tconst [isAndroid, setIsAndroid] = useState<boolean | undefined>(\n\t\trenderingTarget === 'Web' ? false : undefined,\n\t);\n\n\tuseEffect(() => {\n\t\tif (renderingTarget === 'Web') {\n\t\t\treturn setIsAndroid(false);\n\t\t}\n\t\tsetIsAndroid(() => /android/i.test(window.navigator.userAgent));\n\t}, [renderingTarget]);\n\n\treturn isAndroid;\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { from } from '@guardian/source/foundations';\n\nexport const verticalDivider = (\n\tverticalDividerColour: string,\n): SerializedStyles => {\n\treturn css`\n\t\t${from.tablet} {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-left: 1px solid ${verticalDividerColour};\n\t\t\t}\n\t\t}\n\t`;\n};\n","const units = {\n  second: 1e3,\n  minute: 6e4,\n  hour: 36e5,\n  day: 864e5\n};\nconst duration = ({\n  then,\n  now\n}) => {\n  const difference = now - then;\n  if (difference < units.minute) {\n    return { length: difference / units.second, unit: \"second\" };\n  } else if (difference < units.hour) {\n    return { length: difference / units.minute, unit: \"minute\" };\n  } else if (difference < units.day) {\n    return { length: difference / units.hour, unit: \"hour\" };\n  } else {\n    return { length: difference / units.day, unit: \"day\" };\n  }\n};\nconst isYesterday = (then, now) => {\n  const today = new Date(now);\n  const yesterday = new Date(now);\n  yesterday.setDate(today.getDate() - 1);\n  return new Date(then).toDateString() === yesterday.toDateString();\n};\nconst withTime = (date) => `${date.getHours()}.${date.getMinutes().toString().padStart(2, \"0\")}`;\nconst timeAgo = (epoch, options) => {\n  const then = epoch;\n  const now = options?.now ?? Date.now();\n  const verbose = options?.verbose ?? false;\n  const { length: rawLength, unit } = duration({ then, now });\n  const length = Math.round(rawLength);\n  if (length < 0) {\n    return false;\n  }\n  switch (unit) {\n    case \"second\": {\n      if (length > 55) {\n        return verbose ? \"1 minute ago\" : \"1m ago\";\n      } else if (length < 15) {\n        return \"now\";\n      } else if (!verbose) {\n        return `${length}s ago`;\n      } else {\n        return `${length} seconds ago`;\n      }\n    }\n    case \"minute\": {\n      if (length > 55) {\n        return verbose ? \"1 hour ago\" : \"1h ago\";\n      } else if (!verbose) {\n        return `${length}m ago`;\n      } else if (length == 1) {\n        return \"1 minute ago\";\n      } else {\n        return `${length} minutes ago`;\n      }\n    }\n    case \"hour\": {\n      if (!verbose) {\n        return `${length}h ago`;\n      } else if (length == 1) {\n        return \"1 hour ago\";\n      } else {\n        return `${length} hours ago`;\n      }\n    }\n    case \"day\": {\n      if (rawLength < (options?.daysUntilAbsolute ?? 7)) {\n        if (!verbose) {\n          return `${length}d ago`;\n        } else if (isYesterday(then, now)) {\n          return `Yesterday ${withTime(new Date(then))}`;\n        } else if (length == 1) {\n          return \"1 day ago\";\n        } else {\n          return `${length} days ago`;\n        }\n      }\n      return new Date(then).toLocaleString(\"en-GB\", {\n        day: \"numeric\",\n        month: verbose ? \"long\" : \"short\",\n        year: \"numeric\"\n      });\n    }\n  }\n};\n\nexport { duration, timeAgo };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { breakpoints, palette } from '@guardian/source/foundations';\n\nconst dotRadius = 1;\nconst gridSize = 3;\nconst maxWidth = breakpoints.wide;\nconst getHeight = (count) => gridSize * count;\nconst pattern = css`\n\tmax-width: ${maxWidth}px;\n\tbackground-size: ${gridSize}px ${gridSize}px;\n\tbackground-position: top center;\n\tbackground-image: radial-gradient(\n\t\tcurrentColor,\n\t\tcurrentColor ${dotRadius}px,\n\t\ttransparent ${dotRadius}px\n\t);\n`;\nconst DottedLines = ({\n  count = 4,\n  color = palette.neutral[86],\n  cssOverrides\n}) => /* @__PURE__ */ jsx(\n  \"div\",\n  {\n    style: { height: `${getHeight(count)}px`, color },\n    css: [pattern, cssOverrides]\n  }\n);\n\nexport { DottedLines, getHeight };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10m-10.704 1.818h1.386l.659-8.636-.91-.91h-.885l-.91.91zm2.068 3.637c0-.75-.614-1.364-1.364-1.364s-1.364.614-1.364 1.364.614 1.363 1.364 1.363 1.364-.613 1.364-1.363\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgAlertRound = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Warning\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgAlertRound };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M2 15.75h3.75L11 21h1V3h-1L5.75 8.25H2l-1 1v5.5zM21.3 12c0 2.7-.925 5.175-2.5 7.175l.55.525A9.9 9.9 0 0 0 23 12c0-3.125-1.425-5.9-3.65-7.725l-.55.525c1.575 2 2.5 4.475 2.5 7.2m-5.2 0q0 2.362-1.275 4.2l.65.65C16.75 15.575 17.5 13.9 17.5 12c0-1.925-.75-3.6-2.025-4.875l-.65.65C15.675 9 16.1 10.425 16.1 12\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgAudio = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Audio\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgAudio };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M23 6.5v10.975l-1.475 1.55H2.5L1 17.55V6.5L2.5 5h4.975l2.5-2.5H14L16.5 5h5.025zm-11 9.75c2.5 0 4.525-2 4.525-4.475 0-2.5-2.025-4.5-4.525-4.5s-4.5 2-4.5 4.5c0 2.475 2 4.475 4.5 4.475\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgCamera = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Camera\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgCamera };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"m19.151 21.336-2.418-7.386L23 9.348l-.312-.989h-7.75L12.547 1h-1.092L9.087 8.36H1.312L1 9.347l6.267 4.602-2.366 7.386.806.624L12 17.357l6.293 4.603z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgStar = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Star\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgStar };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"m14.381 13.196 3.863-2.837h-4.758l-1.479-4.547-1.462 4.547H5.756l3.855 2.831-1.438 4.488L12 14.88l3.856 2.82zm4.77 8.14-.858.624L12 17.357 5.707 21.96l-.806-.624 2.366-7.386L1 9.348l.312-.989h7.775L11.454 1h1.092l2.393 7.36h7.749l.312.988-6.267 4.602z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgStarOutline = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Star outline\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgStarOutline };\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '../../../foundations/accessibility/visually-hidden.js';\nimport { iconSize } from '../../../foundations/__generated__/size.js';\n\nconst Svg = ({ size, theme }) => /* @__PURE__ */ jsx(\n  \"svg\",\n  {\n    width: size ? iconSize[size] : void 0,\n    height: void 0,\n    viewBox: \"-3 -3 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false,\n    \"aria-hidden\": true,\n    children: /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M3 5 1 7v10l2 2h11.5V5zm18.5.5-5 5v3l5 5H23v-13z\",\n        fill: theme?.fill\n      }\n    )\n  }\n);\nconst SvgVideo = ({\n  size,\n  theme,\n  isAnnouncedByScreenReader = false\n}) => /* @__PURE__ */ jsxs(Fragment, { children: [\n  /* @__PURE__ */ jsx(Svg, { size, theme }),\n  isAnnouncedByScreenReader ? /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      css: css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`,\n      children: \"Video\"\n    }\n  ) : \"\"\n] });\n\nexport { SvgVideo };\n"],"names":["GAP_SIZE","space","liStyles","css","sidePaddingStylesMobile","override","until","tablet","snapAlignStartStyles","decideDivider","offsetBottomPaddingOnDivider","paddingSize","verticalDividerColour","bottomPaddingSize","from","verticalDividerWithBottomOffset","verticalDivider","LI","children","percentage","stretch","showDivider","padSides","padSidesOverride","padSidesOnMobile","padSidesMobileOverride","snapAlignStart","palette","sizeStyles","sizeStyle","decideSize","li","SvgChevronLeftSingle","svg","viewBox","xmlns","width","height","path","fillRule","clipRule","d","SvgChevronRightSingle","CarouselColours","props","ContainerOverrides","containerPalette","FormatBoundary","format","isLastCardShowing","index","totalStories","totalCardsShowing","containerMargins","videoContainerMargins","containerMarginsFromLeftCol","leftCol","containerStyles","videoContainerHeight","carouselStyle","dotStyle","themePalette","activeDotStyles","adjustNumberOfDotsStyle","containerType","phablet","desktop","buttonContainerStyle","getZIndex","buttonContainerStyleWithPageSkin","prevButtonContainerStyle","leftColSize","wide","nextButtonContainerStyle","buttonStyle","linkStyles","headerStylesWithUrl","prevButtonStyle","nextButtonStyle","headerRowStyles","headerStyles","headlineBold24","titleStyle","isCuratedContent","getDataLinkNameCarouselButton","direction","arrowName","isVideoContainer","Title","title","url","a","href","data-link-name","h2","span","CarouselCard","linkTo","headlineText","image","webPublicationDate","kickerText","isFirst","dataLinkName","discussionId","branding","mainMedia","onwardsSource","imageLoading","discussionApiUrl","isOnwardContent","absoluteServerTimes","starRating","cardImagePosition","Card","imageSize","showClock","showAge","pauseOffscreenVideo","showQuotedHeadline","design","ArticleDesign","Comment","isExternalLink","minWidthInPixels","canPlayInline","imagePositionOnDesktop","imagePositionOnMobile","showTopBarDesktop","showTopBarMobile","HeaderAndNav","heading","trails","goToIndex","div","style","marginBottom","map","_","i","onClick","aria-hidden","length","Header","prev","next","hasPageSkin","header","Hide","when","breakpoint","button","type","aria-label","InlineChevrons","Carousel","carouselRef","useRef","setIndex","useState","maxIndex","setMaxIndex","isAndroid","useIsAndroid","undefined","notPresentation","el","getAttribute","getItems","current","Array","getSetIndex","offsets","filter","offsetLeft","offset","isUndefined","scrolled","scrollLeft","active","findIndex","Math","max","getIndex","newIndex","scrollTo","left","nextOffset","reverse","find","o","currOffset","useEffect","carousel","addEventListener","libDebounce","removeEventListener","m","formatAttrString","data-component","LeftColumn","size","borderColour","data-link","ul","ref","data-heatphan-type","trail","headline","trailFormat","trailImage","discussion","src","getSourceImageUrl","altText","isCommentable","whenToHide","leftWidth","between","and","positionRelative","partialRightBorder","colour","borderType","sourcePalette","neutral","verticalMargins","section","input","str","replace","RegExp","removeTempChars","replaceSpacesWithHyphens","toLowerCase","renderingTarget","useConfig","setIsAndroid","test","window","navigator","userAgent","units","timeAgo","epoch","options","then","now","Date","verbose","rawLength","unit","difference","duration","round","daysUntilAbsolute","today","yesterday","setDate","getDate","toDateString","isYesterday","date","getHours","getMinutes","toString","padStart","toLocaleString","day","month","year","maxWidth","breakpoints","getHeight","count","pattern","DottedLines","color","cssOverrides","jsx","Svg","theme","iconSize","focusable","fill","SvgAlertRound","isAnnouncedByScreenReader","jsxs","Fragment","visuallyHidden","SvgAudio","SvgCamera","SvgStar","SvgStarOutline","SvgVideo"],"sourceRoot":""}