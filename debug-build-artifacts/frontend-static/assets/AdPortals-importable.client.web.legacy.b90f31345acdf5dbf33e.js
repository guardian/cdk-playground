(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[1005],{17600:(e,t,n)=>{"use strict";n.d(t,{id:()=>o,l3:()=>i,yB:()=>u});var r=n(50484),o="right-ad-portal-placeholder",i="ad-portal-placeholder",c={name:"lrdmyf",styles:"display:flex;flex-direction:column;justify-content:space-around;height:100%"},u=function(){return(0,r.jsx)("div",{className:o,css:c})}},88133:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdPortals:()=>C});var r=n(31880),o=n(22820),i=n(50484),c=n(52590),u=n(65656),a=n(84782),l=n(44165),f=n.n(l),s=n(67400),d=n(55044),p=n(58101),m=n(17600),v=n(24017),h=n(59648),b=n(81477),g=n(71653),w=n(1954),y=(0,v.css)("clear:both;margin:",h.L[4]," 0;background:",(0,w.M)("--ad-background"),";display:flex;flex-direction:column;justify-content:center;align-items:center;",b.TG.phablet,"{margin:1em 0px;}"),k=(0,v.css)(g.WuG," padding:",h.L[3],";float:left;display:flex;justify-content:center;width:calc(100% - 2 * ",h.L[3],");p{margin:0;float:left;font-size:16px;font-weight:400;color:",(0,w.M)("--ad-labels-text"),";}"),P=(0,v.css)("clear:both;padding-bottom:",258,"px;width:100%;"),A=(0,v.css)(P," ",b.TG.phablet,"{width:320px;margin-left:10px;margin-right:10px;}height:344px;width:300px;padding-bottom:0;"),B=(0,s.forwardRef)((function(e,t){var n=e.isFirstAdSlot;return(0,i.jsxs)("aside",{css:y,children:[(0,i.jsx)("div",{css:k,children:(0,i.jsx)("p",{children:"Advertisement"})}),(0,i.jsx)("div",{css:n?A:P,ref:t})]})})),M=function(e){return e.map((function(e,t){return new c.AdSlot({rect:(n=e,r=n.getBoundingClientRect(),o=null!==document.scrollingElement?document.scrollingElement.scrollLeft:document.body.scrollLeft,i=null!==document.scrollingElement?document.scrollingElement.scrollTop:document.body.scrollTop,{x:r.left+o,y:r.top+i,width:r.width,height:r.height}),isSquare:0===t});var n,r,o,i}))},E=f()((function(e){return(0,d.GR)().updateAdverts(e).catch((function(){return console.error("Error updating adverts")}))}),100,{leading:!0}),C=function(e){var t=e.rightAlignFrom,n=void 0===t?"desktop":t,c=(0,s.useState)([]),l=(0,o.A)(c,2),f=l[0],v=l[1],h=(0,s.useState)(),b=(0,o.A)(h,2),g=b[0],w=b[1],y=(0,s.useRef)([]);y.current=[];var k=(0,s.useRef)([]),P=(0,s.useRef)(0),A=(0,p.N)("(min-width: ".concat(a.f[n],"px)"));(0,s.useEffect)((function(){(0,d.LE)().isPremium().then((function(e){e||(v(Array.from(document.getElementsByClassName(m.l3))),w(document.getElementsByClassName(m.id)[0]))})).catch((function(){return console.error("Error setting up ads")}))}),[]),(0,s.useEffect)((function(){var e=void 0;return 0!==f.length&&f.length===y.current.length&&(k.current=M(y.current),P.current=document.body.clientHeight,(0,d.GR)().insertAdverts(k.current).catch((function(){return console.error("Error inserting ads")})),(e=new ResizeObserver((function(e){if(!(0,u.b)(e[0])&&e[0].target.clientHeight!==P.current){P.current=e[0].target.clientHeight;var t=M(y.current);n=k.current,t.some((function(e,t){var r,o,i,c=null===(r=n[t])||void 0===r?void 0:r.rect;return!((0,u.b)(c)||(o=e.rect,i=c,o.height===i.height&&o.width===i.width&&o.x===i.x&&o.y===i.y))}))&&(E(t),k.current=t)}var n}))).observe(document.body),A&&g&&e.observe(g)),function(){var t;return null===(t=e)||void 0===t?void 0:t.disconnect()}}),[f,g,A]);var C=function(e,t){return(0,i.jsx)(B,{isFirstAdSlot:0===t,ref:function(e){null!==e&&(y.current=[].concat((0,r.A)(y.current),[e]))}},e)};return A&&g?(0,s.createPortal)((0,i.jsx)(i.Fragment,{children:f.map((function(e,t){return C(e.id,t)}))}),g):(0,i.jsx)(i.Fragment,{children:f.map((function(e,t){return(0,s.createPortal)(C(e.id,t),e)}))})}},55044:(e,t,n)=>{"use strict";n.d(t,{OA:()=>W,IC:()=>Z,GR:()=>_,QF:()=>re,Dq:()=>R,yY:()=>Y,_5:()=>ie,ud:()=>te,U:()=>H,yV:()=>U,LE:()=>Q,FA:()=>J});var r=n(83551),o=n(555),i=n(16873),c=n(40771),u=n(72910),a=n(46365),l=n(43019),f=(n(53274),n(81449)),s=(n(79907),n(72031)),d=n(69139),p=n(30316),m=n(435),v=n(65656),h=n(73745),b=n(58201),g=n(69584),w=n(56318),y=n(8433),k=n(62335),P=n(13213),A=n(14611);function B(e,t,n,r){var o=(0,A.A)((0,w.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function M(e,t,n){return t=(0,w.A)(t),(0,g.A)(e,E()?Reflect.construct(t,n||[],(0,w.A)(e).constructor):t.apply(e,n))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var C=function(e){function t(e,n){var r;return(0,h.A)(this,t),r=M(this,t,[e]),(0,k.A)(r,"serviceName",void 0),r.serviceName=n,r}return(0,y.A)(t,e),(0,b.A)(t,[{key:"writeMessageBegin",value:function(e,n,r){n===P.MessageType.CALL||n===P.MessageType.ONEWAY?B(t,"writeMessageBegin",this,3)([this.serviceName+t.separator+e,n,r]):B(t,"writeMessageBegin",this,3)([e,n,r])}}])}(function(e){function t(e){var n;return(0,h.A)(this,t),n=M(this,t,[e.getTransport()]),(0,k.A)(n,"concreteProtocol",void 0),n.concreteProtocol=e,n}return(0,y.A)(t,e),(0,b.A)(t,[{key:"getTransport",value:function(){return this.concreteProtocol.getTransport()}},{key:"flush",value:function(){return this.concreteProtocol.flush()}},{key:"writeMessageBegin",value:function(e,t,n){return this.concreteProtocol.writeMessageBegin(e,t,n)}},{key:"writeMessageEnd",value:function(){return this.concreteProtocol.writeMessageEnd()}},{key:"writeStructBegin",value:function(e){return this.concreteProtocol.writeStructBegin(e)}},{key:"writeStructEnd",value:function(){return this.concreteProtocol.writeStructEnd()}},{key:"writeFieldBegin",value:function(e,t,n){return this.concreteProtocol.writeFieldBegin(e,t,n)}},{key:"writeFieldEnd",value:function(){return this.concreteProtocol.writeFieldEnd()}},{key:"writeFieldStop",value:function(){return this.concreteProtocol.writeFieldStop()}},{key:"writeMapBegin",value:function(e,t,n){return this.concreteProtocol.writeMapBegin(e,t,n)}},{key:"writeMapEnd",value:function(){return this.concreteProtocol.writeMapEnd()}},{key:"writeListBegin",value:function(e,t){return this.concreteProtocol.writeListBegin(e,t)}},{key:"writeListEnd",value:function(){return this.concreteProtocol.writeListEnd()}},{key:"writeSetBegin",value:function(e,t){return this.concreteProtocol.writeSetBegin(e,t)}},{key:"writeSetEnd",value:function(){return this.concreteProtocol.writeSetEnd()}},{key:"writeBool",value:function(e){return this.concreteProtocol.writeBool(e)}},{key:"writeByte",value:function(e){return this.concreteProtocol.writeByte(e)}},{key:"writeI16",value:function(e){return this.concreteProtocol.writeI16(e)}},{key:"writeI32",value:function(e){return this.concreteProtocol.writeI32(e)}},{key:"writeI64",value:function(e){return this.concreteProtocol.writeI64(e)}},{key:"writeDouble",value:function(e){return this.concreteProtocol.writeDouble(e)}},{key:"writeString",value:function(e){return this.concreteProtocol.writeString(e)}},{key:"writeBinary",value:function(e){return this.concreteProtocol.writeBinary(e)}},{key:"readMessageBegin",value:function(){return this.concreteProtocol.readMessageBegin()}},{key:"readMessageEnd",value:function(){return this.concreteProtocol.readMessageEnd()}},{key:"readStructBegin",value:function(){return this.concreteProtocol.readStructBegin()}},{key:"readStructEnd",value:function(){return this.concreteProtocol.readStructEnd()}},{key:"readFieldBegin",value:function(){return this.concreteProtocol.readFieldBegin()}},{key:"readFieldEnd",value:function(){return this.concreteProtocol.readFieldEnd()}},{key:"readMapBegin",value:function(){return this.concreteProtocol.readMapBegin()}},{key:"readMapEnd",value:function(){return this.concreteProtocol.readMapEnd()}},{key:"readListBegin",value:function(){return this.concreteProtocol.readListBegin()}},{key:"readListEnd",value:function(){return this.concreteProtocol.readListEnd()}},{key:"readSetBegin",value:function(){return this.concreteProtocol.readSetBegin()}},{key:"readSetEnd",value:function(){return this.concreteProtocol.readSetEnd()}},{key:"readBool",value:function(){return this.concreteProtocol.readBool()}},{key:"readByte",value:function(){return this.concreteProtocol.readByte()}},{key:"readI16",value:function(){return this.concreteProtocol.readI16()}},{key:"readI32",value:function(){return this.concreteProtocol.readI32()}},{key:"readI64",value:function(){return this.concreteProtocol.readI64()}},{key:"readDouble",value:function(){return this.concreteProtocol.readDouble()}},{key:"readBinary",value:function(){return this.concreteProtocol.readBinary()}},{key:"readString",value:function(){return this.concreteProtocol.readString()}},{key:"skip",value:function(e){return this.concreteProtocol.skip(e)}}])}(P.TProtocol));function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){return t=(0,w.A)(t),(0,g.A)(e,L()?Reflect.construct(t,n||[],(0,w.A)(e).constructor):t.apply(e,n))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function I(e){window.android?window.android.postMessage(e.data,e.connectionId):window.webkit?window.webkit.messageHandlers.iOSWebViewMessage.postMessage(e):console.warn("No native APIs available")}(0,k.A)(C,"separator",":");var T=1,j=function(){return"connection-".concat(T++)},N=function(e){function t(e,n){var r,o;return(0,h.A)(this,t),r=S(this,t,[e,n]),(0,k.A)(r,"connectionId",j()),(0,k.A)(r,"promises",[]),(0,k.A)(r,"outBuffer",[]),"undefined"!=typeof window&&(window.nativeConnections=null!==(o=window.nativeConnections)&&void 0!==o?o:{},window.nativeConnections[r.connectionId]=r),r}return(0,y.A)(t,e),(0,b.A)(t,[{key:"reset",value:function(e){if(e===this.connectionId&&window.nativeConnections){console.warn("Reseting connection "+e),delete window.nativeConnections[this.connectionId];var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}(this.promises);try{for(n.s();!(t=n.n()).done;)t.value.reject(new P.TApplicationException(P.TApplicationExceptionType.UNKNOWN,"Timeout error"))}catch(e){n.e(e)}finally{n.f()}this.promises=[],this.connectionId=j(),window.nativeConnections[this.connectionId]=this}}},{key:"receive",value:function(e){var t=this.promises.shift();if(t){clearTimeout(t.timeoutId);var n=Buffer.from(e.data,"base64");t.resolve(n)}this.sendNextMessage()}},{key:"sendNextMessage",value:function(){var e=this.outBuffer.shift();e&&(console.log("Sending next message"),I(e))}},{key:"send",value:function(e){var t=this.connectionId,n=this;return new Promise((function(r,o){n.promises.push({resolve:r,reject:o,timeoutId:setTimeout((function(){n.reset(t)}),3e4)});var i={data:e.toString("base64"),connectionId:t};1===n.promises.length?(console.log("Sending message immediately"),I(i)):(console.log("Queing message because others in flight"),n.outBuffer.push(i))}))}}])}(P.ThriftConnection);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffered",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact",r=function(t){function r(t){var o;return(0,h.A)(this,r),S(this,r,[new((0,P.getProtocol)(n))(t),null!==(o=e.serviceName)&&void 0!==o?o:""])}return(0,y.A)(r,t),(0,b.A)(r)}(C),o=new N((0,P.getTransport)(t),r);return new e(o)}var O=void 0,R=function(){return(0,v.b)(O)&&(O=F(u.Client,"buffered","compact")),O},G=void 0,_=function(){return(0,v.b)(G)&&(G=F(i.Client,"buffered","compact")),G},D=void 0,W=function(){return D||(D=F(r.Client,"buffered","compact")),D},$=void 0,H=function(){return $||($=F(s.Client,"buffered","compact")),$},q=void 0,U=function(){return q||(q=F(d.Client,"buffered","compact")),q},z=void 0,Q=function(){return z||(z=F(p.Client,"buffered","compact")),z},V=void 0,Y=function(){return V||(V=F(a.Client,"buffered","compact")),V},K=void 0,J=function(){return K||(K=F(m.Client,"buffered","compact")),K},X=void 0,Z=function(){return X||(X=F(o.Client,"buffered","compact")),X},ee=void 0,te=function(){return ee||(ee=F(f.Client,"buffered","compact")),ee},ne=void 0,re=function(){return ne||(ne=F(c.Client,"buffered","compact")),ne},oe=void 0,ie=function(){return oe||(oe=F(l.Client,"buffered","compact")),oe}},58101:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,N:()=>u});var r=n(22820),o=n(67400),i=new Map,c=function(e){return e.replace("@media","").trim()},u=function(e){var t=(0,o.useState)(i.get(e)),n=(0,r.A)(t,2),c=n[0],u=n[1];return(0,o.useEffect)((function(){c||(i.set(e,window.matchMedia(e)),u(i.get(e)))}),[c,e]),(0,o.useSyncExternalStore)((function(e){return null==c||c.addEventListener("change",e),function(){null==c||c.removeEventListener("change",e)}}),(function(){return!(null==c||!c.matches)}),(function(){return!1}))}},1954:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=function(e){return"var(".concat(e,")")}},44165:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=a||l||Function("return this")(),s=Object.prototype.toString,d=Math.max,p=Math.min,m=function(){return f.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,c,u,a,l=0,f=!1,s=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,i=o;return r=o=void 0,l=t,c=e.apply(i,n)}function w(e){var n=e-a;return void 0===a||n>=t||n<0||s&&e-l>=i}function y(){var e=m();if(w(e))return k(e);u=setTimeout(y,function(e){var n=t-(e-a);return s?p(n,i-(e-l)):n}(e))}function k(e){return u=void 0,b&&r?g(e):(r=o=void 0,c)}function P(){var e=m(),n=w(e);if(r=arguments,o=this,a=e,n){if(void 0===u)return function(e){return l=e,u=setTimeout(y,t),f?g(e):c}(a);if(s)return u=setTimeout(y,t),g(a)}return void 0===u&&(u=setTimeout(y,t)),c}return t=h(t)||0,v(n)&&(f=!!n.leading,i=(s="maxWait"in n)?d(h(n.maxWait)||0,t):i,b="trailing"in n?!!n.trailing:b),P.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=a=o=u=void 0},P.flush=function(){return void 0===u?c:k(m())},P}},50150:()=>{},84782:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r={desktop:980,leftCol:1140,mobile:320,mobileLandscape:480,mobileMedium:375,phablet:660,tablet:740,wide:1300}},81477:(e,t,n)=>{"use strict";n.d(t,{HT:()=>u,TG:()=>a,Tq:()=>l});var r=n(84782),o=function(e){return"@media (min-width: ".concat("".concat(e,"px"),")")},i=function(e){return"@media (max-width: ".concat("".concat(e-.1,"px"),")")},c=function(e,t){return"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ","".concat(t-.1,"px"),")")},u={mobile:o(r.f.mobile),mobileMedium:o(r.f.mobileMedium),mobileLandscape:o(r.f.mobileLandscape),phablet:o(r.f.phablet),tablet:o(r.f.tablet),desktop:o(r.f.desktop),leftCol:o(r.f.leftCol),wide:o(r.f.wide)},a={mobile:i(r.f.mobile),mobileMedium:i(r.f.mobileMedium),mobileLandscape:i(r.f.mobileLandscape),phablet:i(r.f.phablet),tablet:i(r.f.tablet),desktop:i(r.f.desktop),leftCol:i(r.f.leftCol),wide:i(r.f.wide)},l={mobile:{and:{mobileMedium:c(r.f.mobile,r.f.mobileMedium),mobileLandscape:c(r.f.mobile,r.f.mobileLandscape),phablet:c(r.f.mobile,r.f.phablet),tablet:c(r.f.mobile,r.f.tablet),desktop:c(r.f.mobile,r.f.desktop),leftCol:c(r.f.mobile,r.f.leftCol),wide:c(r.f.mobileMedium,r.f.wide)}},mobileMedium:{and:{mobileLandscape:c(r.f.mobileMedium,r.f.mobileLandscape),phablet:c(r.f.mobileMedium,r.f.phablet),tablet:c(r.f.mobileMedium,r.f.tablet),desktop:c(r.f.mobileMedium,r.f.desktop),leftCol:c(r.f.mobileMedium,r.f.leftCol),wide:c(r.f.mobileMedium,r.f.wide)}},mobileLandscape:{and:{phablet:c(r.f.mobileLandscape,r.f.phablet),tablet:c(r.f.mobileLandscape,r.f.tablet),desktop:c(r.f.mobileLandscape,r.f.desktop),leftCol:c(r.f.mobileLandscape,r.f.leftCol),wide:c(r.f.mobileLandscape,r.f.wide)}},phablet:{and:{tablet:c(r.f.phablet,r.f.tablet),desktop:c(r.f.phablet,r.f.desktop),leftCol:c(r.f.phablet,r.f.leftCol),wide:c(r.f.phablet,r.f.wide)}},tablet:{and:{desktop:c(r.f.tablet,r.f.desktop),leftCol:c(r.f.tablet,r.f.leftCol),wide:c(r.f.tablet,r.f.wide)}},desktop:{and:{leftCol:c(r.f.desktop,r.f.leftCol),wide:c(r.f.desktop,r.f.wide)}},leftCol:{and:{wide:c(r.f.leftCol,r.f.wide)}}}}}]);
//# sourceMappingURL=AdPortals-importable.client.web.legacy.b90f31345acdf5dbf33e.js.map