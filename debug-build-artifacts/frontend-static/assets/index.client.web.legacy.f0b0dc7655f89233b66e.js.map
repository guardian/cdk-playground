{"version":3,"file":"index.client.web.legacy.f0b0dc7655f89233b66e.js","mappings":";UAAIA,ECCAC,EADAC,ECAAC,EACAC,oBCDJ,IAAIC,EAAM,CACT,6BAA8B,CAC7B,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,0BAA2B,CAC1B,MACA,IACA,MAED,yBAA0B,CACzB,MACA,KACA,MAED,8BAA+B,CAC9B,MACA,KAED,wBAAyB,CACxB,MACA,KACA,KACA,MAED,0BAA2B,CAC1B,MACA,KACA,MAED,iCAAkC,CACjC,MACA,KACA,KACA,MAED,sCAAuC,CACtC,MACA,KACA,MAED,gCAAiC,CAChC,MACA,KACA,KACA,KACA,KACA,MAED,gCAAiC,CAChC,MACA,KAED,kCAAmC,CAClC,KACA,MAED,2CAA4C,CAC3C,MACA,KACA,MAED,wBAAyB,CACxB,MACA,MAED,8BAA+B,CAC9B,MACA,IACA,MAED,qCAAsC,CACrC,MACA,KACA,KACA,KACA,KACA,MAED,0CAA2C,CAC1C,MACA,KACA,KACA,KACA,MAED,gCAAiC,CAChC,KACA,IACA,KACA,MAED,wBAAyB,CACxB,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,sCAAuC,CACtC,MACA,KACA,KACA,MAED,yBAA0B,CACzB,KACA,MAED,4BAA6B,CAC5B,MACA,IACA,MAED,8BAA+B,CAC9B,MACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,MAED,8BAA+B,CAC9B,KACA,IACA,KACA,IACA,KACA,MAED,6BAA8B,CAC7B,MACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,MAED,sCAAuC,CACtC,MACA,MAED,wBAAyB,CACxB,MACA,MAED,qCAAsC,CACrC,MACA,IACA,MAED,mCAAoC,CACnC,MACA,MAED,iCAAkC,CACjC,MACA,MAED,8CAA+C,CAC9C,MACA,IACA,KACA,MAED,gCAAiC,CAChC,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,qCAAsC,CACrC,MACA,MAED,2BAA4B,CAC3B,MACA,MAED,6BAA8B,CAC7B,MACA,KACA,KACA,MAED,2BAA4B,CAC3B,MACA,MAED,wCAAyC,CACxC,MACA,MAED,2BAA4B,CAC3B,KACA,IACA,KACA,KACA,KACA,MAED,oCAAqC,CACpC,MACA,IACA,MAED,2BAA4B,CAC3B,MACA,IACA,KACA,KACA,KACA,MAED,6BAA8B,CAC7B,MACA,IACA,MAED,4BAA6B,CAC5B,MACA,IACA,MAED,gCAAiC,CAChC,MACA,MAED,uCAAwC,CACvC,MACA,MAED,wCAAyC,CACxC,MACA,IACA,MAED,yCAA0C,CACzC,MACA,MAED,iDAAkD,CACjD,MACA,MAED,iCAAkC,CACjC,MACA,KACA,KACA,MAED,iCAAkC,CACjC,MACA,KACA,KACA,KACA,MAED,2BAA4B,CAC3B,KACA,IACA,KACA,MAED,4BAA6B,CAC5B,MACA,MAED,8BAA+B,CAC9B,MACA,KACA,KACA,MAED,4BAA6B,CAC5B,MACA,IACA,KACA,MAED,qCAAsC,CACrC,MACA,KACA,KACA,MAED,wBAAyB,CACxB,MACA,IACA,MAED,oCAAqC,CACpC,MACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,sCAAuC,CACtC,MACA,KACA,MAED,uBAAwB,CACvB,MACA,IACA,MAED,gCAAiC,CAChC,MACA,KACA,KACA,MAED,oCAAqC,CACpC,MACA,IACA,KACA,KACA,MAED,qCAAsC,CACrC,MACA,IACA,KACA,KACA,KACA,KACA,KAED,4BAA6B,CAC5B,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,mCAAoC,CACnC,MACA,KACA,KACA,KACA,KAED,mCAAoC,CACnC,OAED,2BAA4B,CAC3B,MACA,MAED,kCAAmC,CAClC,MACA,MAED,0BAA2B,CAC1B,MACA,MAED,yBAA0B,CACzB,MACA,MAED,gCAAiC,CAChC,MACA,MAED,4BAA6B,CAC5B,MACA,MAED,iCAAkC,CACjC,MACA,IACA,KACA,KACA,KAED,iCAAkC,CACjC,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,oCAAqC,CACpC,MACA,KACA,KACA,KACA,KACA,MAED,gCAAiC,CAChC,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,+BAAgC,CAC/B,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,4BAA6B,CAC5B,MACA,KACA,KACA,MAED,mCAAoC,CACnC,MACA,KACA,MAED,0BAA2B,CAC1B,MACA,IACA,MAED,8BAA+B,CAC9B,KACA,IACA,MAED,2BAA4B,CAC3B,MACA,KAED,kCAAmC,CAClC,MACA,MAED,wBAAyB,CACxB,MACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAED,kCAAmC,CAClC,MACA,IACA,MAED,iCAAkC,CACjC,MACA,KACA,MAED,2BAA4B,CAC3B,MACA,IACA,KACA,KACA,IACA,KACA,MAED,qCAAsC,CACrC,MACA,KACA,MAED,kCAAmC,CAClC,MACA,IACA,KACA,KACA,IACA,MAED,wCAAyC,CACxC,MACA,KACA,MAED,sBAAuB,CACtB,MACA,MAED,+BAAgC,CAC/B,MACA,MAED,4BAA6B,CAC5B,MACA,MAED,0BAA2B,CAC1B,KACA,IACA,KACA,KACA,KACA,MAED,sBAAuB,CACtB,KACA,IACA,KACA,KACA,KACA,MAED,6BAA8B,CAC7B,KACA,KACA,MAED,mCAAoC,CACnC,MACA,MAED,yCAA0C,CACzC,MACA,MAED,gCAAiC,CAChC,MACA,KACA,KACA,KACA,KACA,MAED,2CAA4C,CAC3C,MACA,KACA,KAED,kCAAmC,CAClC,MACA,MAED,8BAA+B,CAC9B,MACA,IACA,IACA,MAED,qCAAsC,CACrC,MACA,IACA,KACA,KACA,KACA,KACA,OAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,KAC7B,IAAIC,EAAI,IAAIC,M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uB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAA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","sources":["webpack://@guardian/dotcom-rendering/webpack/runtime/chunk loaded","webpack://@guardian/dotcom-rendering/webpack/runtime/create fake namespace object","webpack://@guardian/dotcom-rendering/webpack/runtime/load script","webpack://@guardian/dotcom-rendering/./src/components/ lazy ^\\.\\/.*\\.importable$ include: \\.importable\\.tsx$ chunkName: [request] namespace object","webpack://@guardian/dotcom-rendering/./src/client/adaptiveSite.ts","webpack://@guardian/dotcom-rendering/./src/client/bootCmp.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/dynamic-import-polyfill@0.1.1/node_modules/dynamic-import-polyfill/dist/dynamic-import-polyfill.mjs","webpack://@guardian/dotcom-rendering/./src/client/dynamicImport.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/doHydration.tsx","webpack://@guardian/dotcom-rendering/./src/client/islands/emotion.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/getConfig.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/getName.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/getProps.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/getPriority.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/onInteraction.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/onNavigation.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/whenVisible.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/initHydration.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/whenIdle.ts","webpack://@guardian/dotcom-rendering/./src/client/islands/islands.ts","webpack://@guardian/dotcom-rendering/./src/client/startup.ts","webpack://@guardian/dotcom-rendering/./src/client/main.web.ts","webpack://@guardian/dotcom-rendering/./src/client/ophan/ophan.ts","webpack://@guardian/dotcom-rendering/./src/client/ophan/recordInitialPageEvents.ts","webpack://@guardian/dotcom-rendering/./src/client/poorPerformanceMonitoring.ts","webpack://@guardian/dotcom-rendering/./src/client/sentryLoader/loadSentry.ts","webpack://@guardian/dotcom-rendering/./src/client/sentryLoader/sentryLoader.ts","webpack://@guardian/dotcom-rendering/./src/client/userFeatures/user-features-lib.ts","webpack://@guardian/dotcom-rendering/./src/client/userFeatures/user-features.ts","webpack://@guardian/dotcom-rendering/./src/client/webpackPublicPath.ts","webpack://@guardian/dotcom-rendering/./src/client/decidePublicPath.ts","webpack://@guardian/dotcom-rendering/./src/components/ConfigContext.tsx","webpack://@guardian/dotcom-rendering/./src/components/PrivacySettingsLink.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/getCountryCode.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/authState.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/autoRenew.ts","webpack://@guardian/dotcom-rendering/../../../../../../libs/@guardian/identity-auth/src/@types/guard.ts","webpack://@guardian/dotcom-rendering/../../../../../../libs/@guardian/identity-auth/src/@types/OAuth.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/error.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/cookieRefresh.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/emitter.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/crypto.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/token.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/tokenManager.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth/src/identityAuth.ts","webpack://@guardian/dotcom-rendering/../../../../../libs/@guardian/identity-auth-frontend/src/index.ts","webpack://@guardian/dotcom-rendering/./src/lib/identity.ts","webpack://@guardian/dotcom-rendering/./src/lib/isServer.ts","webpack://@guardian/dotcom-rendering/./src/lib/scheduler.ts","webpack://@guardian/dotcom-rendering/./webpack/bundles.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/detect-ad-blocker.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/event-timer.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/ad-sizes.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/send-commercial-metrics.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/constants/ad-label-height.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/lib/get-locale.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/content.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/permutive.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/personalised.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/session.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/pick-targeting-values.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/shared.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/build-page-targeting.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/viewport.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+commercial@23.7.4_@guardian+ab-core@8.0.0_@guardian+core-web-vitals@7.0.0_@guardian_zzk3jzqcq7g4vmmfhkvtlp4cae/node_modules/@guardian/commercial/dist/esm/core/targeting/youtube-ima.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/hoist-non-react-statics@3.3.2/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/typeof.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/regenerator/index.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/construct.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/package.json.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/getCurrentFramework.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/lib/domain.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/lib/mark.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/server.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/lib/sourcepointConfig.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/aus/api.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/aus/getConsentState.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/tcfv2/api.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/tcfv2/getConsentState.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/usnat/api.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/usnat/getConsentState.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/onConsentChange.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/sourcepoint.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/lib/signals.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/stub_uspapi_ccpa.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/stub.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/stub_tcfv2.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/stub_gpp_usnat.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/cmp.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/disable.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/vendors.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/getConsentFor.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/vendorStorageIds.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/vendorDataManager.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/index.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/getFramework.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/consent-management-platform/onConsent.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/ERR_INVALID_COOKIE.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/getCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/getCookieValues.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/getDomainAttribute.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/getShortDomain.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/isValidCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/memoizedCookies.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/removeCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/setCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/cookies/setSessionCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/isBoolean/isBoolean.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/isNonNullable/isNonNullable.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/isObject/isObject.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/isOneOf/isOneOf.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/isString/isString.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/isUndefined/isUndefined.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/locale/getLocale.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/logger/logger.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/logger/storage-key.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/logger/subscriptions.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/performance/getMeasures.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/performance/serialise.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/performance/startPerformanceMeasure.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/performance/log.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+libs@19.2.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/libs/dist/storage/storage.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/transmit.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/visibility.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/vendor/adBlockDetectionLib.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/core.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/adblock-detection.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/components.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/attention.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/heatmap.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/click-path-capture.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/perf.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/privatebrowsing.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/iframe-tracking.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+ophan-tracker-js@2.2.5/node_modules/@guardian/ophan-tracker-js/NPM-dist/ng.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/palette.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/size.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/space.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/typography.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/focus-halo.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/link/ButtonLink.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/link/shared.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/link/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/link/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/react-components/utils/themes.js","webpack://@guardian/dotcom-rendering/webpack/bootstrap","webpack://@guardian/dotcom-rendering/webpack/runtime/compat get default export","webpack://@guardian/dotcom-rendering/webpack/runtime/define property getters","webpack://@guardian/dotcom-rendering/webpack/runtime/ensure chunk","webpack://@guardian/dotcom-rendering/webpack/runtime/get javascript chunk filename","webpack://@guardian/dotcom-rendering/webpack/runtime/global","webpack://@guardian/dotcom-rendering/webpack/runtime/harmony module decorator","webpack://@guardian/dotcom-rendering/webpack/runtime/hasOwnProperty shorthand","webpack://@guardian/dotcom-rendering/webpack/runtime/make namespace object","webpack://@guardian/dotcom-rendering/webpack/runtime/node module decorator","webpack://@guardian/dotcom-rendering/webpack/runtime/publicPath","webpack://@guardian/dotcom-rendering/webpack/runtime/jsonp chunk loading","webpack://@guardian/dotcom-rendering/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"@guardian/dotcom-rendering:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var map = {\n\t\"./Accessibility.importable\": [\n\t\t29389,\n\t\t7000,\n\t\t4722,\n\t\t8219,\n\t\t2770,\n\t\t2143,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t1769,\n\t\t5723,\n\t\t6658,\n\t\t9696,\n\t\t6981\n\t],\n\t\"./AdBlockAsk.importable\": [\n\t\t85803,\n\t\t7000,\n\t\t2552\n\t],\n\t\"./AdPortals.importable\": [\n\t\t88133,\n\t\t4722,\n\t\t1005\n\t],\n\t\"./AlreadyVisited.importable\": [\n\t\t74574,\n\t\t689\n\t],\n\t\"./AppsEpic.importable\": [\n\t\t20388,\n\t\t4722,\n\t\t9240,\n\t\t4942\n\t],\n\t\"./AppsFooter.importable\": [\n\t\t72064,\n\t\t4722,\n\t\t3988\n\t],\n\t\"./AppsLightboxImage.importable\": [\n\t\t38427,\n\t\t4722,\n\t\t6248,\n\t\t4111\n\t],\n\t\"./AppsLightboxImageStore.importable\": [\n\t\t45236,\n\t\t4722,\n\t\t8968\n\t],\n\t\"./AuEoy2024Wrapper.importable\": [\n\t\t94471,\n\t\t8219,\n\t\t2702,\n\t\t4745,\n\t\t6936,\n\t\t2075\n\t],\n\t\"./AudioAtomWrapper.importable\": [\n\t\t80227,\n\t\t829\n\t],\n\t\"./AudioPlayerWrapper.importable\": [\n\t\t4122,\n\t\t6205\n\t],\n\t\"./AustralianTerritorySwitcher.importable\": [\n\t\t14924,\n\t\t8219,\n\t\t4672\n\t],\n\t\"./Branding.importable\": [\n\t\t38912,\n\t\t1204\n\t],\n\t\"./BrazeMessaging.importable\": [\n\t\t59157,\n\t\t7000,\n\t\t8301\n\t],\n\t\"./CalloutBlockComponent.importable\": [\n\t\t48484,\n\t\t8219,\n\t\t9428,\n\t\t1754,\n\t\t7633,\n\t\t1505\n\t],\n\t\"./CalloutEmbedBlockComponent.importable\": [\n\t\t97044,\n\t\t8219,\n\t\t9428,\n\t\t1754,\n\t\t9382\n\t],\n\t\"./CardCommentCount.importable\": [\n\t\t5077,\n\t\t7000,\n\t\t2957,\n\t\t5661\n\t],\n\t\"./Carousel.importable\": [\n\t\t70753,\n\t\t7000,\n\t\t4722,\n\t\t2770,\n\t\t4926,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t1769,\n\t\t5723,\n\t\t6658,\n\t\t4057\n\t],\n\t\"./CarouselForNewsletters.importable\": [\n\t\t94260,\n\t\t1652,\n\t\t6248,\n\t\t1720\n\t],\n\t\"./ChartAtom.importable\": [\n\t\t2320,\n\t\t2372\n\t],\n\t\"./CommentCount.importable\": [\n\t\t80403,\n\t\t7000,\n\t\t2695\n\t],\n\t\"./DiscussionApps.importable\": [\n\t\t34287,\n\t\t4722,\n\t\t8219,\n\t\t939,\n\t\t1754,\n\t\t3518,\n\t\t9126,\n\t\t5676,\n\t\t8979\n\t],\n\t\"./DiscussionMeta.importable\": [\n\t\t9938,\n\t\t7000,\n\t\t4722,\n\t\t439,\n\t\t9126,\n\t\t7018\n\t],\n\t\"./DiscussionWeb.importable\": [\n\t\t80123,\n\t\t4722,\n\t\t8219,\n\t\t939,\n\t\t1754,\n\t\t3518,\n\t\t9126,\n\t\t5676,\n\t\t8047\n\t],\n\t\"./DocumentBlockComponent.importable\": [\n\t\t95934,\n\t\t3222\n\t],\n\t\"./Dropdown.importable\": [\n\t\t53348,\n\t\t2118\n\t],\n\t\"./EditionSwitcherBanner.importable\": [\n\t\t77171,\n\t\t7000,\n\t\t4650\n\t],\n\t\"./EmbedBlockComponent.importable\": [\n\t\t53356,\n\t\t7728\n\t],\n\t\"./EnhancePinnedPost.importable\": [\n\t\t53579,\n\t\t4767\n\t],\n\t\"./ExpandableMarketingCardWrapper.importable\": [\n\t\t57596,\n\t\t7000,\n\t\t4933,\n\t\t3642\n\t],\n\t\"./FetchOnwardsData.importable\": [\n\t\t30447,\n\t\t7000,\n\t\t4722,\n\t\t2770,\n\t\t4926,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t1769,\n\t\t5723,\n\t\t6658,\n\t\t4057,\n\t\t2115\n\t],\n\t\"./FilterKeyEventsToggle.importable\": [\n\t\t37759,\n\t\t6005\n\t],\n\t\"./FocusStyles.importable\": [\n\t\t66391,\n\t\t6799\n\t],\n\t\"./FollowWrapper.importable\": [\n\t\t77797,\n\t\t4722,\n\t\t3836,\n\t\t3585\n\t],\n\t\"./FooterLabel.importable\": [\n\t\t55542,\n\t\t5926\n\t],\n\t\"./FooterReaderRevenueLinks.importable\": [\n\t\t18834,\n\t\t8858\n\t],\n\t\"./FrontSubNav.importable\": [\n\t\t2305,\n\t\t7000,\n\t\t6248,\n\t\t9742,\n\t\t5247,\n\t\t5801\n\t],\n\t\"./GetCricketScoreboard.importable\": [\n\t\t90790,\n\t\t7000,\n\t\t9442\n\t],\n\t\"./GetMatchNav.importable\": [\n\t\t92198,\n\t\t7000,\n\t\t4722,\n\t\t6751,\n\t\t3836,\n\t\t1631\n\t],\n\t\"./GetMatchStats.importable\": [\n\t\t56750,\n\t\t7000,\n\t\t6025\n\t],\n\t\"./GetMatchTabs.importable\": [\n\t\t30691,\n\t\t7000,\n\t\t9762\n\t],\n\t\"./GuideAtomWrapper.importable\": [\n\t\t83284,\n\t\t2407\n\t],\n\t\"./InstagramBlockComponent.importable\": [\n\t\t46273,\n\t\t3481\n\t],\n\t\"./InteractiveAtomMessenger.importable\": [\n\t\t19455,\n\t\t939,\n\t\t7763\n\t],\n\t\"./InteractiveBlockComponent.importable\": [\n\t\t79869,\n\t\t4889\n\t],\n\t\"./InteractiveContentsBlockComponent.importable\": [\n\t\t23231,\n\t\t8019\n\t],\n\t\"./KeyEventsCarousel.importable\": [\n\t\t22285,\n\t\t4722,\n\t\t7366,\n\t\t7865\n\t],\n\t\"./KnowledgeQuizAtom.importable\": [\n\t\t30921,\n\t\t8219,\n\t\t9428,\n\t\t8260,\n\t\t6929\n\t],\n\t\"./LatestLinks.importable\": [\n\t\t1707,\n\t\t7000,\n\t\t2957,\n\t\t4541\n\t],\n\t\"./LightboxHash.importable\": [\n\t\t88582,\n\t\t4702\n\t],\n\t\"./LightboxLayout.importable\": [\n\t\t67730,\n\t\t7593,\n\t\t6248,\n\t\t2704\n\t],\n\t\"./LiveBlogEpic.importable\": [\n\t\t98375,\n\t\t7000,\n\t\t2702,\n\t\t2992\n\t],\n\t\"./LiveblogNotifications.importable\": [\n\t\t84647,\n\t\t4722,\n\t\t3836,\n\t\t6171\n\t],\n\t\"./Liveness.importable\": [\n\t\t91761,\n\t\t7000,\n\t\t3454\n\t],\n\t\"./ManyNewsletterSignUp.importable\": [\n\t\t25542,\n\t\t8219,\n\t\t8079,\n\t\t1652,\n\t\t6248,\n\t\t9742,\n\t\t5247,\n\t\t9267\n\t],\n\t\"./MapEmbedBlockComponent.importable\": [\n\t\t78888,\n\t\t9810,\n\t\t5532\n\t],\n\t\"./Metrics.importable\": [\n\t\t76193,\n\t\t7000,\n\t\t5904\n\t],\n\t\"./MostViewedFooter.importable\": [\n\t\t83385,\n\t\t9742,\n\t\t7799,\n\t\t9959\n\t],\n\t\"./MostViewedFooterData.importable\": [\n\t\t84547,\n\t\t7000,\n\t\t9742,\n\t\t7799,\n\t\t8295\n\t],\n\t\"./MostViewedRightWithAd.importable\": [\n\t\t70333,\n\t\t7000,\n\t\t6248,\n\t\t9742,\n\t\t7799,\n\t\t8111,\n\t\t543\n\t],\n\t\"./OnwardsUpper.importable\": [\n\t\t44734,\n\t\t7000,\n\t\t4722,\n\t\t2770,\n\t\t4926,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t1769,\n\t\t5723,\n\t\t6658,\n\t\t4057,\n\t\t5247,\n\t\t2919\n\t],\n\t\"./PersonalityQuizAtom.importable\": [\n\t\t16369,\n\t\t8219,\n\t\t9428,\n\t\t8260,\n\t\t729\n\t],\n\t\"./PrivacySettingsLink.importable\": [\n\t\t18216\n\t],\n\t\"./ProfileAtom.importable\": [\n\t\t31201,\n\t\t2713\n\t],\n\t\"./ProfileAtomWrapper.importable\": [\n\t\t82392,\n\t\t1836\n\t],\n\t\"./PulsingDot.importable\": [\n\t\t18106,\n\t\t2242\n\t],\n\t\"./QandaAtom.importable\": [\n\t\t51307,\n\t\t8207\n\t],\n\t\"./ReaderRevenueDev.importable\": [\n\t\t91011,\n\t\t5927\n\t],\n\t\"./RelativeTime.importable\": [\n\t\t45778,\n\t\t8970\n\t],\n\t\"./RichLinkComponent.importable\": [\n\t\t22250,\n\t\t7000,\n\t\t6248,\n\t\t9742,\n\t\t288\n\t],\n\t\"./ScrollableFeature.importable\": [\n\t\t26441,\n\t\t7000,\n\t\t2770,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t5723,\n\t\t1564\n\t],\n\t\"./ScrollableHighlights.importable\": [\n\t\t24626,\n\t\t8016,\n\t\t6248,\n\t\t9742,\n\t\t9687,\n\t\t3015\n\t],\n\t\"./ScrollableMedium.importable\": [\n\t\t23673,\n\t\t7000,\n\t\t4722,\n\t\t2770,\n\t\t9688,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t1769,\n\t\t5723,\n\t\t6658,\n\t\t4001\n\t],\n\t\"./ScrollableSmall.importable\": [\n\t\t55545,\n\t\t7000,\n\t\t4722,\n\t\t2770,\n\t\t2545,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t1769,\n\t\t5723,\n\t\t6658,\n\t\t4289\n\t],\n\t\"./SecureSignup.importable\": [\n\t\t39306,\n\t\t8219,\n\t\t8079,\n\t\t2066\n\t],\n\t\"./SendTargetingParams.importable\": [\n\t\t49576,\n\t\t4722,\n\t\t7362\n\t],\n\t\"./SetABTests.importable\": [\n\t\t74935,\n\t\t7000,\n\t\t9339\n\t],\n\t\"./SetAdTargeting.importable\": [\n\t\t5255,\n\t\t7000,\n\t\t4331\n\t],\n\t\"./ShareButton.importable\": [\n\t\t26210,\n\t\t970\n\t],\n\t\"./ShowHideContainers.importable\": [\n\t\t58598,\n\t\t2014\n\t],\n\t\"./ShowMore.importable\": [\n\t\t59696,\n\t\t7000,\n\t\t4722,\n\t\t2770,\n\t\t6248,\n\t\t9742,\n\t\t2957,\n\t\t9687,\n\t\t1769,\n\t\t5723,\n\t\t6658,\n\t\t9696,\n\t\t8351\n\t],\n\t\"./SignInGateSelector.importable\": [\n\t\t90924,\n\t\t7000,\n\t\t7171\n\t],\n\t\"./SlideshowCarousel.importable\": [\n\t\t22440,\n\t\t6248,\n\t\t4747\n\t],\n\t\"./SlotBodyEnd.importable\": [\n\t\t78776,\n\t\t7000,\n\t\t2702,\n\t\t6859,\n\t\t170,\n\t\t8111,\n\t\t1104\n\t],\n\t\"./SpotifyBlockComponent.importable\": [\n\t\t94551,\n\t\t2191,\n\t\t6827\n\t],\n\t\"./StickyBottomBanner.importable\": [\n\t\t88899,\n\t\t7000,\n\t\t2702,\n\t\t6859,\n\t\t170,\n\t\t9761\n\t],\n\t\"./StickyLiveblogAskWrapper.importable\": [\n\t\t83242,\n\t\t2702,\n\t\t6274\n\t],\n\t\"./SubNav.importable\": [\n\t\t32856,\n\t\t9116\n\t],\n\t\"./TableOfContents.importable\": [\n\t\t80590,\n\t\t4454\n\t],\n\t\"./TimelineAtom.importable\": [\n\t\t66233,\n\t\t1169\n\t],\n\t\"./Titlepiece.importable\": [\n\t\t6169,\n\t\t7000,\n\t\t8219,\n\t\t4924,\n\t\t3577,\n\t\t5307\n\t],\n\t\"./TopBar.importable\": [\n\t\t67000,\n\t\t7000,\n\t\t2702,\n\t\t8459,\n\t\t3577,\n\t\t5427\n\t],\n\t\"./TopBarSupport.importable\": [\n\t\t9074,\n\t\t2702,\n\t\t4490\n\t],\n\t\"./TweetBlockComponent.importable\": [\n\t\t15984,\n\t\t7844\n\t],\n\t\"./UnsafeEmbedBlockComponent.importable\": [\n\t\t61074,\n\t\t7322\n\t],\n\t\"./UsEoy2024Wrapper.importable\": [\n\t\t96165,\n\t\t8219,\n\t\t2702,\n\t\t4745,\n\t\t6936,\n\t\t5645\n\t],\n\t\"./VideoFacebookBlockComponent.importable\": [\n\t\t51522,\n\t\t4572,\n\t\t490\n\t],\n\t\"./VineBlockComponent.importable\": [\n\t\t88559,\n\t\t1491\n\t],\n\t\"./WeatherWrapper.importable\": [\n\t\t97837,\n\t\t7000,\n\t\t939,\n\t\t6508\n\t],\n\t\"./YoutubeBlockComponent.importable\": [\n\t\t32676,\n\t\t7000,\n\t\t4722,\n\t\t6248,\n\t\t9742,\n\t\t1769,\n\t\t3408\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 6851;\nmodule.exports = webpackAsyncContext;","import { log } from '@guardian/libs';\nimport { isServer } from '../lib/isServer';\nimport { setSchedulerPriorityLastStartTime } from '../lib/scheduler';\nimport { recordExperiences } from './ophan/ophan';\n/**\n * Whether we should adapt the current page to address poor performance issues.\n *\n * It will resolve immediately if `false`, but needs to wait for perf check to\n * complete if you're in the adaptive site test variant.\n */\nexport const shouldAdapt = async () => {\n    if (isServer)\n        return false;\n    if (window.location.hash === '#adapt')\n        return true;\n    if (!window.guardian.config.switches.adaptiveSite)\n        return false;\n    if (window.location.host !== 'www.theguardian.com')\n        return false;\n    // only evaluate this code if we want to adapt in response to page performance\n    const { isPerformingPoorly } = await import(\n    /* webpackMode: \"eager\" */ './poorPerformanceMonitoring');\n    return isPerformingPoorly();\n};\n/**  Hide all placeholders of non-critical islands */\nconst hideAdaptedIslands = () => {\n    const style = document.createElement('style');\n    style.innerHTML = `gu-island:not([priority=critical]) [data-name=placeholder] { display: none; }`;\n    document.head.appendChild(style);\n};\nconst recordAdaptedSite = (renderingTarget) => recordExperiences(renderingTarget, ['adapted']);\nexport const adaptSite = (renderingTarget) => {\n    log('dotcom', '🎛️ Adapting');\n    // disable all tasks except critical ones\n    setSchedulerPriorityLastStartTime('feature', 0);\n    setSchedulerPriorityLastStartTime('enhancement', 0);\n    hideAdaptedIslands();\n    void recordAdaptedSite(renderingTarget);\n};\n","import { cmp, onConsent } from '@guardian/libs';\nimport { getCookie, log } from '@guardian/libs';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport { getOphan } from './ophan/ophan';\nconst submitConsentToOphan = async (renderingTarget) => {\n    const consentState = await onConsent();\n    const consentDetails = () => {\n        if (consentState.tcfv2) {\n            return {\n                consentJurisdiction: 'TCF',\n                consentUUID: getCookie({ name: 'consentUUID' }) ?? '',\n                consent: consentState.tcfv2.tcString,\n            };\n        }\n        if (consentState.usnat) {\n            // Users who interacted with the CCPA banner before the migration to usnat will still have a ccpaUUID cookie. The usnatUUID cookie is set when the USNAT banner is interacted with. We need to check both cookies to ensure we have the correct consentUUID.\n            const consentUUID = getCookie({ name: 'usnatUUID' }) ??\n                getCookie({ name: 'ccpaUUID' });\n            return {\n                consentJurisdiction: 'USNAT',\n                consentUUID: consentUUID ?? '',\n                consent: consentState.usnat.doNotSell ? 'false' : 'true',\n            };\n        }\n        if (consentState.aus) {\n            return {\n                consentJurisdiction: 'AUS',\n                consentUUID: getCookie({ name: 'ccpaUUID' }) ?? '',\n                /*consent =\n                        getCookie({ name: 'consentStatus' }) ?? '';\n                        */\n                consent: consentState.aus.personalisedAdvertising\n                    ? 'true'\n                    : 'false',\n            };\n        }\n        return {\n            consentJurisdiction: 'OTHER',\n            consentUUID: '',\n            consent: '',\n        };\n    };\n    // Register changes in consent state with Ophan\n    const ophan = await getOphan(renderingTarget);\n    return ophan.record(consentDetails());\n};\nconst initialiseCmp = async () => {\n    const code = await getLocaleCode();\n    const browserId = getCookie({ name: 'bwid', shouldMemoize: true });\n    const { pageViewId } = window.guardian.config.ophan;\n    const country = code ?? undefined;\n    cmp.init({\n        pubData: {\n            platform: 'next-gen',\n            // If `undefined`, the resulting consent signal cannot be joined to a page view.\n            browserId: browserId ?? undefined,\n            pageViewId,\n        },\n        country,\n    });\n    log('dotcom', 'CMP initialised');\n};\n/**\n * Hydrating this island is so critical that it should not be imported\n * as a separate chunk. @see {PrivacySettingsLink.importable.tsx}\n */\nconst eagerlyImportPrivacySettingsLinkIsland = () => import(\n/* webpackMode: 'eager' */ '../components/PrivacySettingsLink.importable');\n/**\n * Keep this file in sync with CONSENT_TIMING in static/src/javascripts/boot.js in frontend\n * mark: CONSENT_TIMING\n */\nexport const bootCmp = async (renderingTarget) => {\n    if (!window.guardian.config.switches.consentManagement)\n        return; // CMP turned off!\n    await Promise.all([\n        initialiseCmp(),\n        eagerlyImportPrivacySettingsLinkIsland(),\n        submitConsentToOphan(renderingTarget),\n    ]);\n};\n","function e({ modulePath: e = \".\", importFunctionName: t = \"__import__\" } = {}) { try {\n    self[t] = new Function(\"u\", \"return import(u)\");\n}\ncatch (o) {\n    const r = new URL(e, location), n = e => { URL.revokeObjectURL(e.src), e.remove(); };\n    self[t] = e => new Promise((o, a) => { const c = new URL(e, r); if (self[t].moduleMap[c])\n        return o(self[t].moduleMap[c]); const l = new Blob([`import * as m from '${c}';`, `${t}.moduleMap['${c}']=m;`], { type: \"text/javascript\" }), m = Object.assign(document.createElement(\"script\"), { type: \"module\", src: URL.createObjectURL(l), onerror() { a(new Error(`Failed to import: ${e}`)), n(m); }, onload() { o(self[t].moduleMap[c]), n(m); } }); document.head.appendChild(m); }), self[t].moduleMap = {};\n} }\nvar t = Object.freeze({ initialize: e });\nexport default t;\nexport { e as initialize };\n","import dynamicImportPolyfill from 'dynamic-import-polyfill';\n// Provides an import function to use for dynamic imports. **Only works on\n// browsers that cut the mustard (support modules).**\nconst initialiseDynamicImport = () => {\n    try {\n        // eslint-disable-next-line @typescript-eslint/no-implied-eval\n        window.guardianPolyfilledImport = new Function('url', `return import(url)`);\n    }\n    catch (e) {\n        dynamicImportPolyfill.initialize({\n            importFunctionName: 'guardianPolyfilledImport', // must be a direct property of the window\n        });\n    }\n};\n// Provides an import function to use for dynamic imports. **Designed for\n// legacy browsers. Dynamic loads a ~4k bundle.**\nconst initialiseDynamicImportLegacy = async () => {\n    const shimport = await import(\n    /* webpackChunkName: \"shimport\" */ '@guardian/shimport');\n    shimport.initialise(); // note this adds a __shimport__ global\n    window.guardianPolyfilledImport = shimport.load;\n};\nexport const dynamicImport = () => {\n    window.guardianPolyfilledImport = (url) => Promise.reject(new Error(`import not polyfilled; attempted import(${url})`));\n    if (window.guardian.mustardCut) {\n        return Promise.resolve(initialiseDynamicImport());\n    }\n    return initialiseDynamicImportLegacy();\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { CacheProvider } from '@emotion/react';\nimport { isUndefined, log, startPerformanceMeasure } from '@guardian/libs';\nimport { createElement } from 'react';\nimport { hydrateRoot } from 'react-dom/client';\nimport { ConfigProvider } from '../../components/ConfigContext';\n/**\n * This function dynamically imports and then hydrates a specific component in\n * a specific part of the page\n *\n * If the content being hydrated is not present in the dom then React renders\n * it. This is how portals (non server side rendered content) work\n *\n * @param name The name of the component we want to hydrate\n * @param data The deserialised props we want to use for hydration\n * @param element The location on the DOM where the component to hydrate exists\n * @param emotionCache An instance of an emotion cache to use for the island\n * @param config Application configuration to be passed to the config context for the hydrated component\n */\nexport const doHydration = async (name, data, element, emotionCache, config) => {\n    // If this function has already been run for an element then don't try to\n    // run it a second time\n    if (!isUndefined(element.dataset.islandStatus))\n        return;\n    else\n        element.dataset.islandStatus = 'identified';\n    const { endPerformanceMeasure: endImportPerformanceMeasure } = startPerformanceMeasure('dotcom', name, 'import');\n    await import(\n    /* webpackInclude: /\\.importable\\.tsx$/ */\n    /* webpackChunkName: \"[request]\" */\n    `../../components/${name}.importable`)\n        .then((module) => {\n        /** The duration of importing the module for this island */\n        const importDuration = endImportPerformanceMeasure();\n        element.dataset.islandStatus = 'imported';\n        const { endPerformanceMeasure: endIslandPerformanceMeasure } = startPerformanceMeasure('dotcom', name, 'island');\n        hydrateRoot(element, _jsx(ConfigProvider, { value: config, children: _jsx(CacheProvider, { value: emotionCache, children: createElement(module[name], data) }) }));\n        /** The duration of rendering or hydrating this island */\n        const islandDuration = endIslandPerformanceMeasure();\n        return { importDuration, islandDuration };\n    })\n        .then(({ importDuration, islandDuration }) => {\n        if (!('getEntriesByType' in window.performance))\n            return;\n        element.dataset.islandStatus = 'hydrated';\n        log('dotcom', `🏝 <${name} /> hydrated in ${islandDuration}ms (imported in ${importDuration}ms)`);\n    })\n        .catch((error) => {\n        element.dataset.islandStatus = undefined; // remove any island status\n        if (name && error.message.includes(name)) {\n            console.error(`🚨 Error importing ${name}. Components must live in the root of /components and follow the [MyComponent].importable.tsx naming convention 🚨`);\n        }\n        throw error;\n    });\n};\n","import createCache from '@emotion/cache';\nimport { isUndefined } from '@guardian/libs';\n/**\n * Emotion Cache\n *\n * Emotion uses a cache to avoid having to re-calculate the same CSS multiple times,\n * We want to re-use this cache between islands to avoid duplicate work or\n * conflicts between caches.\n *\n * We need to keep this cache available for any islands added to the page after the\n * initial page load (e.g with liveblogs), so we store it on window.guardian\n */\nexport const getEmotionCache = () => {\n    if (isUndefined(window.guardian.emotionCache)) {\n        const key = 'dcr';\n        const emotionCache = createCache({ key });\n        window.guardian.emotionCache = emotionCache;\n        return emotionCache;\n    }\n    else {\n        return window.guardian.emotionCache;\n    }\n};\n","let config;\n/**\n * Reads the config from a JSON script tag,\n * or reuse the memoised value if it exists.\n *\n * @returns {Config} an immutable, global config\n */\nexport const getConfig = () => {\n    if (config)\n        return config;\n    const serialised = document.querySelector('script#config')?.innerHTML;\n    try {\n        if (!serialised) {\n            throw Error('Unable to fetch config attribute from #config');\n        }\n        else {\n            config = JSON.parse(serialised);\n            return config;\n        }\n    }\n    catch (error) {\n        console.error(`🚨 Error parsing config. Is this data serialisable? ${String(serialised)} 🚨`);\n        throw error;\n    }\n};\n","/**\n * getName takes the given html element and returns its name attribute\n *\n * We expect the element to always be a `gu-*` custom element\n *\n * @param marker : The html element that we want to read the name attribute from;\n * @returns\n */\nexport const getName = (marker) => {\n    const name = marker.getAttribute('name');\n    if (!name) {\n        console.error(`🚨 Error - no name attribute supplied. We need name to know what component to import 🚨`);\n    }\n    return name;\n};\n","/**\n * getProps takes the given html element and returns its props attibute\n *\n * We expect the element to always be a `gu-*` custom element\n *\n * @param marker : The html element that we want to read the props attribute from;\n * @returns\n */\nexport const getProps = (marker) => {\n    const serialised = marker.getAttribute('props');\n    let props;\n    try {\n        props = serialised && JSON.parse(serialised);\n    }\n    catch (error) {\n        console.error(`🚨 Error parsing props. Is this data serialisable? ${String(serialised)} 🚨`);\n        throw error;\n    }\n    return props;\n};\n","import { isString } from '@guardian/libs';\nimport { isValidSchedulerPriority } from '../../lib/scheduler';\n/**\n * getPriority takes the given html element and returns its priority attribute\n *\n * We expect the element to always be a `gu-*` custom element\n *\n * @param marker : The html element that we want to read the priority attribute from;\n * @returns\n */\nexport const getPriority = (marker) => {\n    const priority = marker.getAttribute('priority');\n    if (isString(priority) && isValidSchedulerPriority(priority)) {\n        return priority;\n    }\n    console.error('Unable to find valid priority attribute on gu-island', marker);\n    return;\n};\n","/**\n * Use this function to delay execution of something until an element is interacted\n * with\n *\n * @param element : The html element that we want to wait for an interaction on;\n * @param callback : This is fired when the element is clicked on\n */\nexport const onInteraction = (element, callback) => {\n    element.addEventListener('click', (e) => {\n        if (e.target instanceof HTMLElement) {\n            void callback(e.target);\n        }\n    }, { once: true });\n};\n","/**\n * Will callback each time the reader navigates back or forward in\n * their browser\n *\n * @param callback : This is fired when the popstate event is fired\n */\nexport const onNavigation = (callback) => {\n    window.addEventListener('popstate', callback, { once: false });\n};\n","/**\n * Use this function to delay execution of something until an element\n * is within some distance of the viewport.\n *\n * @param element : The html element that we want to observe;\n * @param callback : This is fired when the element is visible in the viewport\n * @param options.rootMargin - The root margin used to control lazy loading\n * See https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/rootMargin\n */\nexport const whenVisible = (element, callback, { rootMargin } = { rootMargin: '100px' }) => {\n    if ('IntersectionObserver' in window) {\n        const io = new IntersectionObserver(([entry]) => {\n            if (!entry?.isIntersecting)\n                return;\n            // Disconnect this IntersectionObserver once seen\n            io.disconnect();\n            callback();\n        }, { rootMargin });\n        io.observe(element);\n    }\n    else {\n        // IntersectionObserver is not supported so failover to calling back at the end of the call stack\n        setTimeout(() => callback(), 0);\n    }\n};\n","import { isUndefined } from '@guardian/libs';\nimport { schedule } from '../../lib/scheduler';\nimport { doHydration } from './doHydration';\nimport { getConfig } from './getConfig';\nimport { getName } from './getName';\nimport { getPriority } from './getPriority';\nimport { getProps } from './getProps';\nimport { onInteraction } from './onInteraction';\nimport { onNavigation } from './onNavigation';\nimport { whenIdle } from './whenIdle';\nimport { whenVisible } from './whenVisible';\n/**\n * The hash values that we want to use to trigger hydration are different\n * for lightbox. Instead of using the name of the component, we look for\n * the img- text at the start.\n */\nfunction hasLightboxHash(name) {\n    return (name === 'LightboxLayout' && window.location.hash.startsWith('#img-'));\n}\n/**\n * Partial Hydration / React Islands\n *\n * The code here looks for parts of the dom that have been marked using the `gu-island`\n * marker, hydrating/rendering each one using the following properties:\n *\n * deferUntil - Used to optionally defer execution\n * name - The name of the component. Used to dynamically import the code\n * props - The data for the component that has been serialised in the dom\n * element - The `gu-island` custom element which is wrapping the content\n */\nexport const initHydration = async (element, emotionCache) => {\n    const name = getName(element);\n    const props = getProps(element);\n    const config = getConfig();\n    const priority = getPriority(element);\n    if (!name)\n        return;\n    if (isUndefined(priority))\n        return;\n    const scheduleHydration = () => schedule(name, () => doHydration(name, props, element, emotionCache, config), { priority });\n    const deferUntil = element.getAttribute('deferuntil');\n    switch (deferUntil) {\n        case 'idle': {\n            whenIdle(() => void scheduleHydration());\n            return;\n        }\n        case 'visible': {\n            const rootMargin = element.getAttribute('rootmargin') ?? undefined;\n            whenVisible(element, () => void scheduleHydration(), {\n                rootMargin,\n            });\n            return;\n        }\n        case 'interaction': {\n            onInteraction(element, async (targetElement) => {\n                await scheduleHydration();\n                targetElement.dispatchEvent(new MouseEvent('click'));\n            });\n            return;\n        }\n        case 'hash': {\n            if (window.location.hash.includes(name) || hasLightboxHash(name)) {\n                return scheduleHydration();\n            }\n            else {\n                // If we didn't find a matching hash on page load, set a\n                // listener so that we check again each time the reader\n                // navigates within the page (changes the hash on the url)\n                onNavigation(() => {\n                    if (window.location.hash.includes(name) ||\n                        hasLightboxHash(name)) {\n                        void scheduleHydration();\n                    }\n                });\n            }\n            return;\n        }\n        default: {\n            return scheduleHydration();\n        }\n    }\n};\n","const timeout = 500;\n/**\n * whenIdle executes a callback when the browser is 'idle' or after a short timeout, whichever comes first\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\n *\n * @param callback the function to execute once the browser is 'idle'\n */\nexport const whenIdle = (callback) => {\n    if ('requestIdleCallback' in window) {\n        window.requestIdleCallback(callback, { timeout });\n    }\n    else {\n        setTimeout(callback, timeout);\n    }\n};\n","import { getEmotionCache } from './emotion';\nimport { initHydration } from './initHydration';\nexport const islands = async () => {\n    // Get the emotion cache which is shared between islands\n    const emotionCache = getEmotionCache();\n    const elements = document.querySelectorAll('gu-island');\n    await Promise.all([...elements].map((element) => initHydration(element, emotionCache)));\n};\n","import { log } from '@guardian/libs';\nimport { schedule } from '../lib/scheduler';\nconst isPolyfilled = new Promise((resolve) => {\n    if (window.guardian.mustardCut || window.guardian.polyfilled) {\n        return resolve();\n    }\n    window.guardian.queue.push(resolve);\n});\nexport const startup = async (name, task, options) => {\n    await isPolyfilled;\n    log('dotcom', `🎬 booting ${name}`);\n    await schedule(name, task, options);\n    log('dotcom', `🥾 booted ${name}`);\n};\n","import './webpackPublicPath';\nimport { adaptSite, shouldAdapt } from './adaptiveSite';\nimport { startup } from './startup';\nvoid (async () => {\n    if (await shouldAdapt()) {\n        adaptSite('Web');\n    }\n    /*************************************************************\n     *\n     * The following modules are bundled in the entry chunk,\n     * so they can be run immediately, but we still want to report\n     * on the duration of loading and evaluating them.\n     *\n     *************************************************************/\n    void startup('bootCmp', () => import(/* webpackMode: \"eager\" */ './bootCmp').then(({ bootCmp }) => bootCmp('Web')), {\n        priority: 'critical',\n    });\n    void startup('recordInitialPageEvents', () => import(\n    /* webpackMode: \"eager\" */ './ophan/recordInitialPageEvents').then(({ recordInitialPageEvents }) => recordInitialPageEvents('Web')), {\n        priority: 'critical',\n    });\n    void startup('sentryLoader', () => import(\n    /* webpackMode: \"eager\" */ './sentryLoader/sentryLoader').then(({ sentryLoader }) => sentryLoader()), {\n        priority: 'critical',\n    });\n    void startup('dynamicImport', () => import(/* webpackMode: \"eager\" */ './dynamicImport').then(({ dynamicImport }) => dynamicImport()), {\n        priority: 'critical',\n    });\n    void startup('islands', () => import(/* webpackMode: \"eager\" */ './islands/islands').then(({ islands }) => islands()), {\n        priority: 'critical',\n    });\n    void startup('poorPerformanceMonitoring', () => import(\n    /* webpackMode: \"eager\" */ './poorPerformanceMonitoring').then(({ recordPoorPerformance }) => recordPoorPerformance('Web')), {\n        priority: 'critical',\n    });\n    void startup('userFeatures', () => import(\n    /* webpackMode: 'eager' */ './userFeatures/user-features').then(({ refresh }) => refresh()), { priority: 'critical' });\n    /*************************************************************\n     *\n     * The following modules are lazy loaded,\n     * because they are lower priority and do not want to block\n     * the modules above on loading these.\n     *\n     * We are not assigning chunk name to allow Webpack\n     * to optimise chunking based on its algorithm.\n     *\n     *************************************************************/\n    void startup('atomIframe', () => import(\n    /* webpackMode: 'lazy' */\n    './atomIframe').then(({ atomIframe }) => atomIframe()), { priority: 'feature' });\n    void startup('embedIframe', () => import(\n    /* webpackMode: 'lazy' */\n    './embedIframe').then(({ embedIframe }) => embedIframe()), { priority: 'feature' });\n    void startup('newsletterEmbedIframe', () => import(\n    /* webpackMode: 'lazy' */\n    './newsletterEmbedIframe').then(({ newsletterEmbedIframe }) => newsletterEmbedIframe()), { priority: 'feature' });\n    void startup('initDiscussion', () => import(\n    /* webpackMode: 'lazy' */\n    './discussion').then(({ discussion }) => discussion()), { priority: 'feature' });\n})();\n","import { log } from '@guardian/libs';\n/**\n * Store a reference to Ophan so that we don't need to load/enhance it more than once.\n */\nlet cachedOphan;\n/**\n * Loads Ophan (if it hasn't already been loaded) and returns a promise of Ophan's methods.\n */\nexport const getOphan = async (renderingTarget) => {\n    if (cachedOphan) {\n        return cachedOphan;\n    }\n    if (renderingTarget === 'Apps') {\n        cachedOphan = {\n            setEventEmitter: () => undefined, // We don't currently have a custom eventEmitter on DCR - like 'mediator' in Frontend.\n            trackComponentAttention: () => undefined,\n            record: (e) => {\n                if (e instanceof Error) {\n                    window.guardian.modules.sentry.reportError(e, \"We are in DCAR but Ophan record method got called. This shouldn't have happened. Please investigate why\");\n                }\n            },\n            viewId: 'Apps',\n            pageViewId: 'Apps',\n        };\n        return cachedOphan;\n    }\n    // We've taken '@guardian/ophan-tracker-js' out of the apps client bundle (made it external in webpack) because we don't ever expect this method to be called. Tracking in apps is done natively.\n    const { default: ophan } = await import(\n    /* webpackMode: \"eager\" */ '@guardian/ophan-tracker-js');\n    const record = (event, callback) => {\n        ophan.record(event, callback);\n        log('dotcom', '🧿 Ophan event recorded:', event);\n    };\n    const trackComponentAttention = (name, el, visibilityThreshold) => {\n        ophan.trackComponentAttention(name, el, visibilityThreshold);\n        log('dotcom', '🧿 Ophan tracking component attention:', name, {\n            el,\n            visibilityThreshold,\n        });\n    };\n    cachedOphan = { ...ophan, record, trackComponentAttention };\n    return cachedOphan;\n};\nexport const submitComponentEvent = async (componentEvent, renderingTarget) => {\n    const ophan = await getOphan(renderingTarget);\n    ophan.record({ componentEvent });\n};\nexport const sendOphanComponentEvent = async (action, testMeta, renderingTarget) => {\n    const { abTestName, abTestVariant, componentType, products = [], campaignCode, labels = [], } = testMeta;\n    const componentEvent = {\n        component: {\n            componentType,\n            products,\n            campaignCode,\n            id: testMeta.campaignId ?? testMeta.campaignCode,\n            labels,\n        },\n        abTest: {\n            name: abTestName,\n            variant: abTestVariant,\n        },\n        action,\n    };\n    await submitComponentEvent(componentEvent, renderingTarget);\n};\nexport const recordPerformance = async (renderingTarget) => {\n    const { performance: performanceAPI } = window;\n    const supportsPerformanceProperties = \n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions, @typescript-eslint/no-unnecessary-condition -- Safety on browsers\n    performanceAPI &&\n        'navigation' in performanceAPI &&\n        'timing' in performanceAPI;\n    if (!supportsPerformanceProperties) {\n        return;\n    }\n    const { timing } = performanceAPI;\n    const performance = {\n        dns: timing.domainLookupEnd - timing.domainLookupStart,\n        connection: timing.connectEnd - timing.connectStart,\n        firstByte: timing.responseStart - timing.connectEnd,\n        lastByte: timing.responseEnd - timing.responseStart,\n        domContentLoadedEvent: timing.domContentLoadedEventStart - timing.responseEnd,\n        loadEvent: timing.loadEventStart - timing.domContentLoadedEventStart,\n        navType: performanceAPI.navigation.type,\n        redirectCount: performanceAPI.navigation.redirectCount,\n    };\n    const ophan = await getOphan(renderingTarget);\n    ophan.record({\n        performance,\n    });\n};\nconst experiencesSet = new Set(['dotcom-rendering']);\nexport const recordExperiences = async (renderingTarget, experiences) => {\n    for (const experience of experiences) {\n        experiencesSet.add(experience);\n    }\n    const { record } = await getOphan(renderingTarget);\n    // this is the only allowed usage of sending experiences!\n    // otherwise, race conditions might lead to different results\n    record({\n        ['experiences']: [...experiencesSet].sort().join(','),\n    });\n};\n","import { getOphan, recordExperiences, recordPerformance } from './ophan';\nconst getEditionForOphan = (editionId) => {\n    switch (editionId) {\n        case 'UK':\n        case 'US':\n        case 'AU':\n            return editionId;\n        case 'INT':\n            return 'International';\n        case 'EUR':\n            return 'Europe';\n    }\n};\nexport const recordInitialPageEvents = async (renderingTarget) => {\n    const { record } = await getOphan(renderingTarget);\n    void recordExperiences(renderingTarget, ['dotcom-rendering']);\n    const edition = getEditionForOphan(window.guardian.config.page.edition);\n    record({ edition });\n    // We wait for the load event so that we can be sure our assetPerformance is reported as expected.\n    window.addEventListener('load', function load() {\n        void recordPerformance(renderingTarget);\n        window.removeEventListener('load', load, false);\n    });\n};\n","import { log } from '@guardian/libs';\nimport { recordExperiences } from './ophan/ophan';\nconst logPerformanceInfo = (name, data) => log('dotcom', '⏱', name, data);\n/**\n * @see https://developer.mozilla.org/en-US/docs/Glossary/First_contentful_paint\n *\n * @note Assumes it is above the threshold if the browser does not support the API.\n */\nconst isFirstContentfulPaintAboveThreshold = async (threshold = 2400) => {\n    try {\n        const fcp = await new Promise((resolve) => {\n            // resolve this promise early if we know we’ve passed the threshold\n            setTimeout(() => resolve(Infinity), threshold - performance.now());\n            new PerformanceObserver((entries, observer) => {\n                for (const entry of entries.getEntries()) {\n                    if (entry.name !== 'first-contentful-paint')\n                        return;\n                    logPerformanceInfo('paint', entry);\n                    observer.disconnect();\n                    resolve(entry.startTime);\n                }\n            }).observe({\n                type: 'paint',\n                buffered: true,\n            });\n        });\n        return fcp > threshold;\n    }\n    catch (error) {\n        return true;\n    }\n};\n/**\n * @see https://developer.mozilla.org/en-US/docs/Glossary/Time_to_first_byte\n *\n * @note Assumes it is above the threshold if the browser does not support the API.\n */\nconst isTimeToFirstByteAboveThreshold = (threshold = 1200) => {\n    try {\n        const [nav] = window.performance.getEntriesByType('navigation');\n        if (!nav)\n            return true;\n        if (nav instanceof PerformanceNavigationTiming) {\n            logPerformanceInfo('navigation', {\n                domContentLoadedEventEnd: nav.domContentLoadedEventEnd,\n                type: nav.type,\n                responseEnd: nav.responseEnd,\n            });\n            return nav.responseStart - nav.startTime > threshold;\n        }\n        return false;\n    }\n    catch (error) {\n        return true;\n    }\n};\nlet memoizedPerformingPoorly;\n/**\n * Whether or not the current page is running more slowly than acceptable.\n *\n * First contentful paint and time to first byte are good indicators of\n * whether a page will get at least one “poor” core web vital.\n *\n * @see https://web.dev/vitals/#core-web-vitals\n */\nexport const isPerformingPoorly = async () => (memoizedPerformingPoorly ??=\n    isTimeToFirstByteAboveThreshold() &&\n        (await isFirstContentfulPaintAboveThreshold()));\n/** If the current page is performing poorly, record it in Ophan */\nexport const recordPoorPerformance = async (renderingTarget) => {\n    try {\n        if (await isPerformingPoorly()) {\n            log('dotcom', `🐌 Poor page performance`);\n            return recordExperiences(renderingTarget, [\n                'poor-page-performance',\n            ]);\n        }\n    }\n    catch (error) {\n        // do nothing if the performance API is not available\n    }\n};\n","import { isAdBlockInUse } from '@guardian/commercial';\nimport { log, startPerformanceMeasure } from '@guardian/libs';\nimport '../webpackPublicPath';\nconst loadSentryCreator = () => {\n    /**\n     * Downloading and initialising Sentry is asynchronous so we need a way\n     * to ensure initialisation only happens once and to queue and report any\n     * error that might happen while this script is loading\n     */\n    let initialised = false;\n    const errorQueue = [];\n    /**\n     * Function that gets called when an error happens before Sentry is ready\n     */\n    const loadSentry = async (error, feature = 'unknown', tags) => {\n        const { endPerformanceMeasure } = startPerformanceMeasure('dotcom', 'sentryLoader', 'initialise');\n        /**\n         * Queue this error for later\n         */\n        if (error)\n            errorQueue.push({ error, feature, tags });\n        /**\n         * Only initialise once\n         */\n        if (initialised) {\n            return;\n        }\n        initialised = true;\n        /**\n         * Make this call blocking. We are queing errors while we wait for this code to run\n         * so we won't miss any and by waiting here we ensure we will never make calls we\n         * expect to be blocked\n         * Ad blocker detection can be expensive so it is checked here rather than in init\n         * to avoid blocking of the init flow\n         */\n        const adBlockInUse = await isAdBlockInUse();\n        if (adBlockInUse) {\n            /**\n             * Ad Blockers prevent calls to Sentry from working so don't try to load the lib\n             */\n            return;\n        }\n        /**\n         * Dynamically load sentry.ts\n         */\n        const { reportError } = await import(\n        /* webpackChunkName: \"lazy\" */\n        /* webpackChunkName: \"sentry\" */ './sentry');\n        /**\n         * Replace the lazy loader stub with our custom error reporting function\n         */\n        window.guardian.modules.sentry.reportError = reportError;\n        /**\n         * Now that we have the real reportError function available,\n         * report any queued errors\n         */\n        while (errorQueue.length) {\n            const queuedError = errorQueue.shift();\n            if (queuedError) {\n                reportError(queuedError.error, queuedError.feature, queuedError.tags);\n            }\n        }\n        log('dotcom', `Initialise Sentry in ${endPerformanceMeasure()}ms`);\n    };\n    return loadSentry;\n};\n/**\n * Set up error handlers to initialise and call Sentry when an error occurs.\n * If no error happens, Sentry is not loaded.\n */\nconst loadSentryOnError = () => {\n    try {\n        const loadSentry = loadSentryCreator();\n        /**\n         * This is how we lazy load Sentry. We setup custom functions and\n         * listeners to initialise Sentry when an error happens\n         *\n         * Sentry will replace onerror and onunhandledrejection listeners\n         * with its own handlers once initialised\n         *\n         * reportError is replaced by loadSentry\n         */\n        window.onerror = (message, url, line, column, error) => loadSentry(error);\n        window.onunhandledrejection = (event) => event?.reason instanceof Error && loadSentry(event.reason);\n        window.guardian.modules.sentry.reportError = (error, feature, tags) => {\n            loadSentry(error, feature, tags).catch((e) => \n            // eslint-disable-next-line no-console -- fallback to console.error\n            console.error(`loadSentryOnError error: ${String(e)}`));\n        };\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console -- fallback to console.error\n        console.error(`loadSentryOnError error: ${String(e)}`);\n    }\n};\nexport { loadSentryOnError };\n","import { BUILD_VARIANT, dcrJavascriptBundle } from '../../../webpack/bundles';\nimport { loadSentryOnError } from './loadSentry';\nconst isSentryEnabled = ({ enableSentryReporting, isDev, isInBrowserVariantTest, random, }) => {\n    // We don't send errors on the dev server, or if the enableSentryReporting switch is off\n    if (isDev || !enableSentryReporting)\n        return false;\n    // We want to log all errors for users in the bundle variant AB test.\n    // Please ensure that the test sample rate is low.\n    // If the sample size of the variant test is > 1% adjust the sample rates for _both_\n    // the variant and control so they each represent 1% of the overall traffic.\n    // This will allow a like for like comparison in Sentry.\n    if (isInBrowserVariantTest)\n        return true;\n    // Sentry lets you configure sampleRate to reduce the volume of events sent\n    // but this filter only happens _after_ the library is loaded. The Guardian\n    // measures page views in the billions so we only want to log 1% of errors that\n    // happen but if we used sampleRate to do this we'd be needlessly downloading\n    // Sentry 99% of the time. So instead we just do some math here and use that\n    // to prevent the Sentry script from ever loading.\n    if (random <= 99 / 100)\n        return false;\n    return true;\n};\n/** When stubbed errors are only sent to the console */\nconst stubSentry = () => {\n    window.guardian.modules.sentry.reportError = (error, feature, tags) => {\n        // eslint-disable-next-line no-console -- fallback to console.error\n        console.error(error, feature, tags);\n    };\n};\nexport const sentryLoader = () => {\n    const { switches, isDev, tests } = window.guardian.config;\n    const enableSentryReporting = !!switches.enableSentryReporting;\n    const isInBrowserVariantTest = BUILD_VARIANT && tests[dcrJavascriptBundle('Variant')] === 'variant';\n    const canLoadSentry = isSentryEnabled({\n        enableSentryReporting,\n        isDev,\n        isInBrowserVariantTest,\n        random: Math.random(),\n    });\n    canLoadSentry ? loadSentryOnError() : stubSentry();\n    return Promise.resolve();\n};\nexport { isSentryEnabled };\n","/**\n * @file Sets the user subscription and ad free cookies\n * This file was migrated from:\n * https://github.com/guardian/commercial/blob/1a429d6be05657f20df4ca909df7d01a5c3d7402/src/lib/user-features.ts\n */\nimport { getCookie, setCookie } from '@guardian/libs';\nconst timeInDaysFromNow = (daysFromNow) => {\n    const tmpDate = new Date();\n    tmpDate.setDate(tmpDate.getDate() + daysFromNow);\n    return tmpDate.getTime().toString();\n};\nconst cookieIsExpiredOrMissing = (cookieName) => {\n    const cookie = getCookie({ name: cookieName });\n    if (!cookie)\n        return true;\n    const expiryTime = parseInt(cookie, 10);\n    const timeNow = new Date().getTime();\n    return timeNow >= expiryTime;\n};\nconst AD_FREE_USER_COOKIE = 'GU_AF1';\nconst getAdFreeCookie = () => getCookie({ name: AD_FREE_USER_COOKIE });\nconst adFreeDataIsPresent = () => {\n    const cookieVal = getAdFreeCookie();\n    if (!cookieVal)\n        return false;\n    return !Number.isNaN(parseInt(cookieVal, 10));\n};\n/*\n * Set the ad free cookie\n *\n * @param daysToLive - number of days the cookie should be valid\n */\nconst setAdFreeCookie = (daysToLive = 1) => {\n    const expires = new Date();\n    expires.setMonth(expires.getMonth() + 6);\n    setCookie({\n        name: AD_FREE_USER_COOKIE,\n        value: expires.getTime().toString(),\n        daysToLive,\n    });\n};\n/**\n * Check that path is a path-absolute-URL string as described in https://url.spec.whatwg.org/#path-absolute-url-string\n * A path-absolute-URL string is U+002F (/) followed by a path-relative-URL string, for instance `/plop` or `/plop/plop`\n */\nfunction isPathAbsoluteURL(path) {\n    return !RegExp('^(https?:)?//').exec(path);\n}\nconst fetchJson = async (resource, init = {}) => {\n    if (typeof resource !== 'string') {\n        throw new Error('First argument should be of type `string`');\n    }\n    let path = resource;\n    if (isPathAbsoluteURL(path)) {\n        path = window.guardian.config.page.ajaxUrl + resource;\n        init.mode = 'cors';\n    }\n    const resp = await fetch(path, init);\n    if (resp.ok) {\n        switch (resp.status) {\n            case 204:\n                return {};\n            default:\n                try {\n                    return resp.json();\n                }\n                catch (ex) {\n                    throw new Error(`Fetch error while requesting ${path}: Invalid JSON response`);\n                }\n        }\n    }\n    throw new Error(`Fetch error while requesting ${path}: ${resp.statusText}`);\n};\nconst dates = {\n    1: '01',\n    2: '02',\n    3: '03',\n    4: '04',\n    5: '05',\n    6: '06',\n    7: '07',\n    8: '08',\n    9: '09',\n    10: '10',\n    11: '11',\n    12: '12',\n    13: '13',\n    14: '14',\n    15: '15',\n    16: '16',\n    17: '17',\n    18: '18',\n    19: '19',\n    20: '20',\n    21: '21',\n    22: '22',\n    23: '23',\n    24: '24',\n    25: '25',\n    26: '26',\n    27: '27',\n    28: '28',\n    29: '29',\n    30: '30',\n    31: '31',\n};\nconst months = {\n    1: '01',\n    2: '02',\n    3: '03',\n    4: '04',\n    5: '05',\n    6: '06',\n    7: '07',\n    8: '08',\n    9: '09',\n    10: '10',\n    11: '11',\n    12: '12',\n};\nexport { adFreeDataIsPresent, cookieIsExpiredOrMissing, fetchJson, getAdFreeCookie, setAdFreeCookie, timeInDaysFromNow, };\n","/**\n * @file Sets the user subscription and ad free cookies\n * This file was migrated from:\n * https://github.com/guardian/commercial/blob/1a429d6be05657f20df4ca909df7d01a5c3d7402/src/lib/user-features.ts\n */\nimport { getCookie, isBoolean, isObject, removeCookie, setCookie, } from '@guardian/libs';\nimport { getAuthStatus, getOptionsHeadersWithOkta, isUserLoggedInOktaRefactor, } from '../../lib/identity';\nimport { adFreeDataIsPresent, cookieIsExpiredOrMissing, fetchJson, getAdFreeCookie, setAdFreeCookie, timeInDaysFromNow, } from './user-features-lib';\nconst USER_FEATURES_EXPIRY_COOKIE = 'gu_user_features_expiry';\nconst ACTION_REQUIRED_FOR_COOKIE = 'gu_action_required_for';\nconst DIGITAL_SUBSCRIBER_COOKIE = 'gu_digital_subscriber';\nconst HIDE_SUPPORT_MESSAGING_COOKIE = 'gu_hide_support_messaging';\nconst AD_FREE_USER_COOKIE = 'GU_AF1';\nconst forcedAdFreeMode = !!/[#&]noadsaf(&.*)?$/.exec(window.location.hash);\nconst userHasData = () => {\n    const cookie = getAdFreeCookie() ??\n        getCookie({ name: ACTION_REQUIRED_FOR_COOKIE }) ??\n        getCookie({ name: USER_FEATURES_EXPIRY_COOKIE }) ??\n        getCookie({ name: DIGITAL_SUBSCRIBER_COOKIE }) ??\n        getCookie({ name: HIDE_SUPPORT_MESSAGING_COOKIE });\n    return !!cookie;\n};\nconst validateResponse = (response) => {\n    return (isObject(response) &&\n        isBoolean(response.showSupportMessaging) &&\n        isObject(response.contentAccess) &&\n        isBoolean(response.contentAccess.paidMember) &&\n        isBoolean(response.contentAccess.recurringContributor) &&\n        isBoolean(response.contentAccess.digitalPack));\n};\nconst persistResponse = (JsonResponse) => {\n    setCookie({\n        name: USER_FEATURES_EXPIRY_COOKIE,\n        value: timeInDaysFromNow(1),\n    });\n    setCookie({\n        name: DIGITAL_SUBSCRIBER_COOKIE,\n        value: String(JsonResponse.contentAccess.digitalPack),\n    });\n    setCookie({\n        name: HIDE_SUPPORT_MESSAGING_COOKIE,\n        value: String(!JsonResponse.showSupportMessaging),\n    });\n    removeCookie({ name: ACTION_REQUIRED_FOR_COOKIE });\n    if (JsonResponse.alertAvailableFor) {\n        setCookie({\n            name: ACTION_REQUIRED_FOR_COOKIE,\n            value: JsonResponse.alertAvailableFor,\n        });\n    }\n    if (JsonResponse.contentAccess.digitalPack) {\n        setAdFreeCookie(2);\n    }\n    else if (adFreeDataIsPresent() && !forcedAdFreeMode) {\n        removeCookie({ name: AD_FREE_USER_COOKIE });\n    }\n};\nconst deleteOldData = () => {\n    removeCookie({ name: AD_FREE_USER_COOKIE });\n    removeCookie({ name: USER_FEATURES_EXPIRY_COOKIE });\n    removeCookie({ name: ACTION_REQUIRED_FOR_COOKIE });\n    removeCookie({ name: DIGITAL_SUBSCRIBER_COOKIE });\n    removeCookie({ name: HIDE_SUPPORT_MESSAGING_COOKIE });\n};\nconst requestNewData = () => {\n    return getAuthStatus()\n        .then((authStatus) => authStatus.kind === 'SignedInWithCookies' ||\n        authStatus.kind === 'SignedInWithOkta'\n        ? authStatus\n        : Promise.reject('The user is not signed in'))\n        .then((signedInAuthStatus) => {\n        return fetchJson(`${window.guardian.config.page.userAttributesApiUrl ??\n            '/USER_ATTRIBUTE_API_NOT_FOUND'}/me`, {\n            mode: 'cors',\n            ...getOptionsHeadersWithOkta(signedInAuthStatus),\n        })\n            .then((response) => {\n            if (!validateResponse(response)) {\n                throw new Error('invalid response');\n            }\n            return response;\n        })\n            .then(persistResponse)\n            .catch(() => {\n            // eslint-disable-next-line no-console -- error logging\n            console.error('Error fetching user data');\n        });\n    });\n};\nconst featuresDataIsOld = () => cookieIsExpiredOrMissing(USER_FEATURES_EXPIRY_COOKIE);\nconst isDigitalSubscriber = () => getCookie({ name: DIGITAL_SUBSCRIBER_COOKIE }) === 'true';\nconst userNeedsNewFeatureData = () => featuresDataIsOld() || (isDigitalSubscriber() && !adFreeDataIsPresent());\nconst userHasDataAfterSignout = async () => !(await isUserLoggedInOktaRefactor()) && userHasData();\nconst refresh = async () => {\n    if ((await isUserLoggedInOktaRefactor()) && userNeedsNewFeatureData()) {\n        return requestNewData();\n    }\n    else if ((await userHasDataAfterSignout()) && !forcedAdFreeMode) {\n        deleteOldData();\n    }\n    return Promise.resolve();\n};\nexport { refresh, isDigitalSubscriber };\n","// allows us to define public path dynamically\n// dynamic imports will use this as the base to find their assets\nimport { decidePublicPath } from './decidePublicPath';\n// https://webpack.js.org/guides/public-path/#on-the-fly\n__webpack_public_path__ = decidePublicPath();\n","/**\n * Determine the path that webpack should use as base for dynamic imports\n *\n * @returns The webpack public path to use\n */\nexport const decidePublicPath = () => {\n    const isDev = process.env.NODE_ENV === 'development';\n    const isLocalHost = window.location.hostname === 'localhost';\n    // Use relative path if running locally or in CI\n    return isDev || isLocalHost\n        ? '/assets/'\n        : `${window.guardian.config.frontendAssetsFullURL}assets/`;\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { isUndefined } from '@guardian/libs';\nimport { createContext, useContext } from 'react';\n/**\n * Context for global, static, immutable values (application configuration)\n * This should not contain anything which will change between re-renders.\n *\n * It is deliberately set with a default context of `undefined` to better\n * surface errors relating to incorrect usage.\n *\n * It is deliberately not exported\n * @see https://kentcdodds.com/blog/how-to-use-react-context-effectively\n */\nconst ConfigContext = createContext(undefined);\n/**\n * ConfigProvider component should be included at a high level\n * so that lower down components can access the context value\n */\nexport const ConfigProvider = ({ value, children, }) => _jsx(ConfigContext.Provider, { value: value, children: children });\n/**\n * useContext hook for safely fetching application configuration.\n * Ensures that it is used within the relevant Context.Provider\n */\nexport const useConfig = () => {\n    const context = useContext(ConfigContext);\n    if (isUndefined(context)) {\n        throw Error('useConfig must be used within the ConfigContext provider');\n    }\n    return context;\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { cmp, onConsent } from '@guardian/libs';\nimport { palette } from '@guardian/source/foundations';\nimport { ButtonLink } from '@guardian/source/react-components';\nimport { useEffect, useState } from 'react';\nconst footerLink = css `\n\tcolor: inherit;\n\ttext-decoration: none;\n\tpadding-bottom: 12px;\n\tdisplay: block;\n\tline-height: 19px;\n\n\t:hover {\n\t\ttext-decoration: underline;\n\t\tcolor: ${palette.brandAlt[400]};\n\t}\n`;\n/**\n * A Link/Button that opens the privacy settings modal.\n *\n * ## Why does this need to be an Island?\n *\n * We need to respond to clicks by calling the consent management platform’s\n * privacy settings modal.\n *\n * To prevent this island from creating a distinct network request,\n * we tell webpack to eagerly load it, so it ends up in the entry chunk.\n * @see `eagerlyImportPrivacySettingsLinkIsland`\n */\nexport const PrivacySettingsLink = ({ extraClasses }) => {\n    const [framework, setFramework] = useState();\n    useEffect(() => {\n        void onConsent().then((consentState) => {\n            setFramework(consentState.framework ?? undefined);\n        });\n    }, []);\n    if (!framework) {\n        return (_jsx(\"span\", { css: footerLink, style: { color: 'transparent' }, children: \"\\u00A0\" }));\n    }\n    return (_jsx(ButtonLink, { className: extraClasses, cssOverrides: footerLink, \"data-link-name\": \"privacy-settings\", onClick: (event) => {\n            event.preventDefault();\n            cmp.showPrivacyManager();\n        }, children: framework === 'usnat'\n            ? 'California resident – Do Not Sell'\n            : 'Privacy settings' }));\n};\n","import { getLocale } from '@guardian/libs';\n/**\n * Generally we see SecurityErrors when a users browser has restrictive privacy settings that prevent access to local storage.\n * We should avoid reporting these errors to Sentry as they're not very useful to us and create a lot of noise.\n */\nconst isSecurityError = (error) => error instanceof Error && error.name === 'SecurityError';\n/*\n    This method returns the location of the user from guardian/libs getLocale\n    It will return fastly's 'GU_geo_country' if it exists,\n    or an overridden geolocation from 'gu.geo.override' localStorage\n    or if none of those exists, it will call the geo endpoint to fetch it and set it in `GU_geo_country`\n */\nexport const getLocaleCode = async () => {\n    return getLocale().catch((error) => {\n        if (isSecurityError(error))\n            return null;\n        console.log(`Error getting location from libs/getLocale`);\n        window.guardian.modules.sentry.reportError(error, 'get-country-code');\n        return null;\n    });\n};\n","import type { IdentityAuthState } from './@types/OAuth';\nimport type { CustomClaims } from './@types/Token';\nimport type { Emitter, EventCallback } from './emitter';\nimport type { TokenManager } from './tokenManager';\n\n/**\n * @class AuthStateManager\n * @description Manages the authentication state of the user\n */\nexport class AuthStateManager<\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n> {\n\t#authState: IdentityAuthState<AC, IC>;\n\t#emitter: Emitter;\n\t#tokenManager: TokenManager<AC, IC>;\n\n\tconstructor(emitter: Emitter, tokenManager: TokenManager<AC, IC>) {\n\t\tthis.#emitter = emitter;\n\t\tthis.#tokenManager = tokenManager;\n\n\t\t// set default auth state, will be updated if there are existing tokens in storage\n\t\tthis.#authState = {\n\t\t\taccessToken: undefined,\n\t\t\tidToken: undefined,\n\t\t\tisAuthenticated: false,\n\t\t};\n\n\t\t// on init, check if there are existing tokens in storage, and if so, update the auth state\n\t\tthis.#updateAuthState();\n\n\t\t// subscribe to token manager events on addition\n\t\tthis.#emitter.on('added', () => {\n\t\t\tthis.#updateAuthState();\n\t\t});\n\n\t\t// subscribe to token manager events on removal\n\t\tthis.#emitter.on('removed', () => {\n\t\t\tthis.#updateAuthState();\n\t\t});\n\n\t\t// subscribe to token manager events on storage\n\t\tthis.#emitter.on('storage', () => {\n\t\t\tthis.#updateAuthState();\n\t\t});\n\t}\n\n\t/**\n\t * @name updateAuthState\n\t * @description Updates the auth state based on the tokens in storage\n\t * @returns void\n\t */\n\t#updateAuthState() {\n\t\t// check if there are existing tokens in storage\n\t\tconst tokens = this.#tokenManager.getTokensSync();\n\n\t\t// if there are tokens, set the auth state\n\t\tif (tokens) {\n\t\t\tthis.#authState = {\n\t\t\t\taccessToken: tokens.accessToken,\n\t\t\t\tidToken: tokens.idToken,\n\t\t\t\tisAuthenticated: true,\n\t\t\t};\n\t\t} else {\n\t\t\t// if there are no tokens, set the auth state to false\n\t\t\tthis.#authState = {\n\t\t\t\taccessToken: undefined,\n\t\t\t\tidToken: undefined,\n\t\t\t\tisAuthenticated: false,\n\t\t\t};\n\t\t}\n\n\t\t// emit the auth state change\n\t\tthis.#emitter.emit('authStateChange', this.#authState);\n\t}\n\n\t/**\n\t * @name getAuthState\n\t * @description Returns the current auth state\n\t * @returns IdentityAuthState\n\t */\n\tpublic getAuthState(): IdentityAuthState<AC, IC> {\n\t\treturn this.#authState;\n\t}\n\n\t/**\n\t * @name subscribe\n\t * @description Subscribes to auth state changes\n\t * @param handler\t- The EventCallback to use to subscribe\n\t */\n\tpublic subscribe(handler: EventCallback): void {\n\t\tthis.#emitter.on('authStateChange', handler);\n\t}\n\n\t/**\n\t * @name unsubscribe\n\t * @description Unsubscribes from auth state changes\n\t * @param handler\t- The EventCallback to used to subscribe\n\t */\n\tpublic unsubscribe(handler: EventCallback): void {\n\t\tthis.#emitter.off('authStateChange', handler);\n\t}\n}\n","import { getCookie } from '@guardian/libs';\nimport type {\n\tIdentityAuthState,\n\tRequiredIdentityAuthOptions,\n} from './@types/OAuth';\nimport type { AuthStateManager } from './authState';\nimport type { Emitter } from './emitter';\n\n/**\n * @class AutoRenewService\n * @description Managing the auto renewal of tokens, if enabled\n */\nexport class AutoRenewService {\n\t#options: RequiredIdentityAuthOptions;\n\t#emitter: Emitter;\n\t#authStateManager: AuthStateManager;\n\tstarted = false;\n\n\t#renewAtTimeoutId: number | undefined;\n\n\tconstructor(\n\t\toptions: RequiredIdentityAuthOptions,\n\t\temitter: Emitter,\n\t\tauthStateManager: AuthStateManager,\n\t) {\n\t\tthis.#options = options;\n\t\tthis.#emitter = emitter;\n\t\tthis.#authStateManager = authStateManager;\n\n\t\t// if there is a storage event, clear the timeout, and start a new one\n\t\tthis.#emitter.on('storage', () => {\n\t\t\tthis.#clearRenewAtTimeout();\n\t\t\tthis.#handleAuthStateChange();\n\t\t});\n\t}\n\n\t/**\n\t * @name clearRenewAtTimeout\n\t * @description Clears the timeout for renewing the access token, if it exists\n\t */\n\t#clearRenewAtTimeout() {\n\t\tif (this.#renewAtTimeoutId !== undefined) {\n\t\t\twindow.clearTimeout(this.#renewAtTimeoutId);\n\t\t\tthis.#renewAtTimeoutId = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * @name setRenewAtTimeout\n\t * @description Sets the timeout for renewing the access token based on the expiry time and the grace period\n\t * @param expiresAt The time at which the access token expires\n\t * @returns The timeout id\n\t */\n\t#setRenewAtTimeout(expiresAt: number) {\n\t\t// get the time now\n\t\tconst now = Date.now();\n\n\t\t// calculate the time at which the access token should be renewed\n\t\tconst renewAt = (expiresAt - this.#options.renewGracePeriod) * 1000;\n\n\t\t// calculate the timeout duration\n\t\tconst timeout = renewAt - now;\n\n\t\t// set the timeout\n\t\tthis.#renewAtTimeoutId = window.setTimeout(() => {\n\t\t\t// if the document is hidden, then we need to wait for the visibility change event before renewing the token\n\t\t\tif (window.document.visibilityState === 'hidden') {\n\t\t\t\t// if the document is hidden, then wait for the visibility change event\n\t\t\t\twindow.document.addEventListener(\n\t\t\t\t\t'visibilitychange',\n\t\t\t\t\t() => {\n\t\t\t\t\t\tif (window.document.visibilityState === 'visible') {\n\t\t\t\t\t\t\t// now that the document is visible, we first check if any other tabs have renewed the token already\n\t\t\t\t\t\t\tconst authState = this.#authStateManager.getAuthState();\n\n\t\t\t\t\t\t\t// if the user is authenticated, but there is less than the grace period left on the token, then we should renew it\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tauthState.isAuthenticated &&\n\t\t\t\t\t\t\t\tauthState.accessToken.expiresAt -\n\t\t\t\t\t\t\t\t\tthis.#options.renewGracePeriod <\n\t\t\t\t\t\t\t\t\tMath.floor(Date.now() / 1000)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t// if the token has not been renewed, emit the renew event\n\t\t\t\t\t\t\t\tthis.#emitter.emit('renew');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// if the authState is not authenticated, and there is a GU_U cookie, then the token has not been renewed and we can renew it\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!authState.isAuthenticated &&\n\t\t\t\t\t\t\t\t!!getCookie({ name: 'GU_U', shouldMemoize: true })\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t// if the token has not been renewed, emit the renew event\n\t\t\t\t\t\t\t\tthis.#emitter.emit('renew');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tonce: true, // only listen for the event once\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// if the document is not hidden, then we can renew the token\n\t\t\t\t// emit the renew event, which will trigger the renew method in the token manager\n\t\t\t\tthis.#emitter.emit('renew');\n\t\t\t}\n\n\t\t\t// clear the timeout id once the timeout has been triggered\n\t\t\tthis.#renewAtTimeoutId = undefined;\n\t\t}, timeout);\n\t}\n\n\t/**\n\t * @name handleAuthStateChange\n\t * @description Listens for changes to the auth state and sets the timeout for renewing the access token if required\n\t * @param state - The IdentityAuthState\n\t */\n\t#handleAuthStateChange(state?: IdentityAuthState) {\n\t\t// clear the timeout if it exists\n\t\tthis.#clearRenewAtTimeout();\n\n\t\t// if the state was not passed in, get the state from the auth state manager\n\t\tconst authState: IdentityAuthState =\n\t\t\tstate ?? this.#authStateManager.getAuthState();\n\n\t\t// if the user is authenticated, set the timeout for renewing the access token\n\t\tif (authState.isAuthenticated) {\n\t\t\tthis.#setRenewAtTimeout(authState.accessToken.expiresAt);\n\t\t}\n\t}\n\n\t/**\n\t * @name start\n\t * @description Starts the auto renewal service if autoRenew is enabled\n\t */\n\tstart() {\n\t\tif (this.#options.autoRenew && !this.started) {\n\t\t\t// set the started flag to true\n\t\t\tthis.started = true;\n\n\t\t\t// listen for auth state changes\n\t\t\tthis.#emitter.on('authStateChange', (state: IdentityAuthState) =>\n\t\t\t\tthis.#handleAuthStateChange(state),\n\t\t\t);\n\n\t\t\t// handle the auth state change on start\n\t\t\tthis.#handleAuthStateChange();\n\t\t}\n\t}\n}\n","/** @deprecated – favour `isOneOf` from `@guardian/libs` */\nexport const guard =\n\t<T extends readonly unknown[]>(array: T) =>\n\t(value: unknown): value is (typeof array)[number] =>\n\t\tarray.includes(value);\n\n/** @deprecated favour `OneOf` from `@guardian/libs` */\nexport type Guard<T extends (value: unknown) => value is unknown> = T extends (\n\tvalue: unknown,\n) => value is infer G\n\t? G\n\t: never;\n","import { guard } from './guard';\nimport type { Guard } from './guard';\nimport type { AccessToken, CustomClaims, IDToken } from './Token';\n\n/**\n * Defines the `profile` endpoint URL (Identity/Okta endpoint)\n */\n// type of valid domains\ntype GuardianDomain = 'theguardian' | 'code.dev-theguardian' | 'thegulocal';\n// list of valid profile urls\nconst profileUrls = [\n\t'https://profile.theguardian.com',\n\t'https://profile.code.dev-theguardian.com',\n\t'https://profile.thegulocal.com',\n] as const satisfies ReadonlyArray<`https://profile.${GuardianDomain}.com`>;\n\n// type guard for profile urls\nexport const isProfileUrl = guard(profileUrls);\n\n// type for profile urls\nexport type ProfileUrl = Guard<typeof isProfileUrl>;\n\n/**\n * Defines the options that are required to configure the IdentityAuth\n * Ask the Identity team for the values to use for your app.\n *\n * https://developer.okta.com/docs/reference/api/oidc/\n *\n * @param clientId - The client ID of your app\n * @param issuer - The issuer of the tokens\n * @param scopes - The scopes that your app requires\n * @param redirectUri - The redirect URI of your app\n * @param autoRenew - Whether to automatically renew the tokens, defaults to `true`\n * @param renewGracePeriod - The time in seconds before the access token expires to renew the token, defaults to 60 seconds\n * @param idCookieSessionRefresh - If switched on (set to `true`, ), will refresh the okta session and identity cookie (GU_U), if required (once every 30 days), should be based on the id-cookie-refresh (idCookieRefresh) switch if being supplied by theguardian.com, defaults to `false`\n * @param oauthTimeout - The time in milliseconds to wait for the OAuth2 authorization code flow to complete, defaults to 30 seconds (30000 milliseconds)\n * @param maxClockSkew - The maximum time drift in seconds between the client and server, defaults to 300 seconds (5 minutes), based on the default maximum tolerance of the Kerberos protocol\n * @param strictClockSkewCheck - If switched on (set to `true`), will throw an error if the clock skew is greater than the `maxClockSkew`, defaults to `false`\n */\nexport interface IdentityAuthOptions {\n\tclientId: string;\n\tissuer: `${ProfileUrl}/oauth2/${string}`;\n\tscopes: ['openid', 'profile', ...string[]];\n\tredirectUri: string;\n\tautoRenew?: boolean;\n\trenewGracePeriod?: number;\n\tidCookieSessionRefresh?: boolean;\n\toauthTimeout?: number;\n\tmaxClockSkew?: number;\n\tstrictClockSkewCheck?: boolean;\n}\n\n/**\n * Defines the options that are required to configure the IdentityAuth\n */\nexport type RequiredIdentityAuthOptions = Required<IdentityAuthOptions>;\n\n/**\n * Defines the state of the IdentityAuth instance when not authenticated.\n */\nexport type IdentityAuthStateNotAuthenticated = {\n\taccessToken: undefined;\n\tidToken: undefined;\n\tisAuthenticated: false;\n};\n\n/**\n * Defines the state of the IdentityAuth instance when authenticated.\n */\nexport type IdentityAuthStateAuthenticated<\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n> = {\n\taccessToken: AccessToken<AC>;\n\tidToken: IDToken<IC>;\n\tisAuthenticated: true;\n};\n\n/**\n * Defines the state of the IdentityAuth instance.\n *\n * `isAuthenticated` - `true` when access and id token are present, `false` otherwise\n * `accessToken` - the access token, `undefined` if not authenticated\n * `idToken` - the id token, `undefined` if not authenticated\n */\nexport type IdentityAuthState<\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n> = IdentityAuthStateNotAuthenticated | IdentityAuthStateAuthenticated<AC, IC>;\n\n/**\n * Parameter required for the OAuth2 authorization code flow, /authorize endpoint\n *\n * https://developer.okta.com/docs/reference/api/oidc/#authorize\n *\n * In our case specifically set up for:\n * \t- Authorization Code Flow with PKCE\n * \t- Okta Post Message (iframe) response mode\n */\nexport interface AuthorizeParams extends Record<string, string> {\n\tclient_id: string;\n\tcode_challenge: string;\n\tcode_challenge_method: 'S256';\n\tnonce: string;\n\tprompt: 'none';\n\tredirect_uri: string;\n\tresponse_type: 'code';\n\tresponse_mode: 'okta_post_message';\n\tscope: string;\n\tstate: string;\n}\n\n/**\n * Parameter required for the OAuth2 authorization code flow, /token endpoint\n *\n * https://developer.okta.com/docs/reference/api/oidc/#token\n *\n * In our case specifically set up for:\n * \t- Authorization Code Flow with PKCE\n */\nexport interface TokenParams extends Record<string, string> {\n\tclient_id: string;\n\tcode: string;\n\tcode_verifier: string;\n\tgrant_type: 'authorization_code';\n\tredirect_uri: string;\n}\n\n/**\n * Defines the URLs available for the OAuth2 authorization code flow\n *\n * https://developer.okta.com/docs/reference/api/oidc/#endpoints\n */\nexport interface OAuthUrls {\n\tauthorizeUrl: `${IdentityAuthOptions['issuer']}/v1/authorize`;\n\ttokenUrl: `${IdentityAuthOptions['issuer']}/v1/token`;\n\tkeysUrl: `${IdentityAuthOptions['issuer']}/v1/keys`;\n}\n\n/**\n * Defines the response from the OAuth2 /authorize endpoint\n *\n * https://developer.okta.com/docs/reference/api/oidc/#postmessage-data-object\n * https://developer.okta.com/docs/reference/api/oidc/#response-properties\n */\nexport interface OAuthAuthorizeResponse {\n\tcode: string;\n\tstate: string;\n}\n\n/**\n * Defines the response from the OAuth2 /authorize endpoint when an error occurs\n *\n * https://developer.okta.com/docs/reference/api/oidc/#postmessage-data-object\n * https://developer.okta.com/docs/reference/api/oidc/#response-properties\n */\nexport interface OAuthAuthorizeResponseError {\n\tstate: string;\n\terror: string;\n\terror_description: string;\n}\n\n/**\n * Defines the response from the OAuth2 /token endpoint\n *\n * https://developer.okta.com/docs/reference/api/oidc/#response-properties-4\n */\nexport interface OAuthTokenResponse {\n\taccess_token: string;\n\tid_token: string;\n\texpires_in: number;\n\tscope: string;\n\ttoken_type: string;\n}\n\n/**\n * Defines the response from the OAuth2 /token endpoint when an error occurs\n *\n * https://developer.okta.com/docs/reference/api/oidc/#response-properties-4\n */\nexport interface OAuthTokenResponseError {\n\terror: string;\n\terror_description: string;\n}\n","/**\n * @name OAuthError\n * @description Error thrown when an OAuth error occurs\n *\n * @param error - The error object\n * @param error.error - The error string, usually the `error` query param, but can be set to a custom error string\n * @param error.error_description - The error description, usually the `error_description` query param, but can be set to a custom error description string\n * @param error.message - The error message\n * @param error.status - The error status code\n */\nexport class OAuthError extends Error {\n\terror: string;\n\terror_description: string;\n\n\tconstructor(error: {\n\t\terror: string;\n\t\terror_description: string;\n\t\tmessage?: string;\n\t\tstatus?: number;\n\t}) {\n\t\tsuper(error.message);\n\t\tthis.error = error.error;\n\t\tthis.error_description = error.error_description;\n\t\tthis.name = 'OAuthError';\n\t}\n}\n","import { getCookie, storage } from '@guardian/libs';\nimport type { IdentityAuthOptions, ProfileUrl } from './@types/OAuth';\nimport { isProfileUrl } from './@types/OAuth';\nimport { OAuthError } from './error';\n\n// 30 days in milliseconds, used to determine if the lastRefresh value is older than 30 days.\nconst days30InMillis: number = 1000 * 60 * 60 * 24 * 30;\n\n// redirect the user to the /signin/refresh endpoint which will refresh the okta session and GU_U cookie\n// and then redirect the user back to the returnUrl, which should be the current page the user is on\nconst redirectToRefreshEndpoint = (\n\tprofileUrl: ProfileUrl,\n\treturnUrl: string,\n): void => {\n\tconst endpoint = `${profileUrl}/signin/refresh?returnUrl=${returnUrl}`;\n\twindow.location.replace(endpoint);\n};\n\n// check if the lastRefresh value is valid and is older than 30 days\nconst shouldRefreshCookie = (\n\tlastRefresh: unknown,\n\tcurrentTime: number,\n): boolean => {\n\t// `!!Number()` returns `false` for `false`, `null`, `undefined`, `0`, and non-numeric strings.\n\t// We do this because `lastRefresh` can be any type or value and we only want to proceed with\n\t// the rest of the check if it's a number.\n\tconst lastRefreshIsValid = !!Number(lastRefresh);\n\tif (!lastRefreshIsValid) {\n\t\t// We should refresh if we don't have a valid lastRefresh value.\n\t\treturn true;\n\t}\n\n\t// We should refresh if the lastRefresh value is older than 30 days.\n\treturn currentTime - Number(lastRefresh) > days30InMillis;\n};\n\n/**\n * @name cookieRefreshIfRequired\n * @description Refreshes the okta session and GU_U cookie if required, by redirecting the user to the /signin/refresh endpoint, if the GU_U cookie exists, and the lastRefresh value is invalid or older than 30 days\n * @param enabled - Determines if this feature is enabled\n * @param profileUrl - The profile URL of the Identity/Okta\n */\nexport const cookieRefreshIfRequired = (\n\tenabled: boolean,\n\tissuer: IdentityAuthOptions['issuer'],\n): void => {\n\tconst profileUrl = issuer.split('/oauth2')[0];\n\n\tif (!isProfileUrl(profileUrl)) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_issuer',\n\t\t\terror_description: `The issuer, ${issuer}, does not match the expected format.`,\n\t\t});\n\t}\n\n\tconst lastRefreshKey = 'identity.lastRefresh';\n\tif (\n\t\tenabled &&\n\t\tstorage.local.isAvailable() &&\n\t\tgetCookie({ name: 'GU_U', shouldMemoize: true })\n\t) {\n\t\tconst currentTime: number = new Date().getTime();\n\t\t// The storage API could return any type handled by JSON.parse, so\n\t\t// we will assume the type is 'unknown' and attempt to parse the value into\n\t\t// a number in the shouldRefreshCookie function.\n\t\t// storage.local.get will return null in two cases: if the key is missing,\n\t\t// or if the value has expired.\n\t\tconst lastRefresh: unknown = storage.local.get(lastRefreshKey);\n\t\tif (shouldRefreshCookie(lastRefresh, currentTime)) {\n\t\t\t// Set the value in localStorage to expire in 30 days.\n\t\t\tconst newExpiry = currentTime + days30InMillis;\n\t\t\tstorage.local.set(lastRefreshKey, currentTime, newExpiry);\n\t\t\t// we only refresh the okta session and GU_U cookie, users with only an IDAPI session will\n\t\t\t// eventually be logged out by the IDAPI cookie expiry\n\t\t\tredirectToRefreshEndpoint(\n\t\t\t\tprofileUrl,\n\t\t\t\tencodeURIComponent(document.location.href),\n\t\t\t);\n\t\t}\n\t}\n};\n","// eslint-disable-next-line @typescript-eslint/ban-types -- Function can be any function callback type\nexport type EventCallback = Function;\n\ntype Event = {\n\tfn: EventCallback;\n\tctx?: unknown;\n};\n\nexport type EventName =\n\t| 'added'\n\t| 'authStateChange'\n\t| 'removed'\n\t| 'renew'\n\t| 'storage';\n\n/**\n * @class Emitter\n * @description A simple event emitter, based on TinyEmitter (https://github.com/scottcorgan/tiny-emitter)\n *\n * Made this class to avoid importing the entire tiny-emitter package, and only use the parts we need.\n */\nexport class Emitter {\n\t// List of all events\n\t#events: Record<string, Event[]>;\n\n\tconstructor() {\n\t\tthis.#events = {};\n\t}\n\n\t/**\n\t * @name on\n\t * @description Used to subscribe to an event by name\n\t *\n\t * @param name - The name of the event to subscribe to\n\t * @param callback - The callback to run when the event is emitted\n\t * @param ctx - The context to run the callback in\n\t * @returns this - The emitter for chaining purposes\n\t */\n\tpublic on(name: EventName, callback: EventCallback, ctx?: unknown): this {\n\t\t// get the events object\n\t\tconst events = this.#events;\n\n\t\t// see if an event array already exists for this event name, if not create one\n\t\tconst eventArr = events[name] ?? (events[name] = []);\n\n\t\t// push the callback and context to the array\n\t\t// so that when the event is emitted, the callback can be run\n\t\teventArr.push({\n\t\t\tfn: callback,\n\t\t\tctx,\n\t\t});\n\n\t\t// return the emitter for chaining purposes\n\t\treturn this;\n\t}\n\n\t/**\n\t * @name off\n\t * @description Used to unsubscribe from an event by name\n\t *\n\t * @param name - The name of the event to unsubscribe from\n\t * @param callback - The callback to unsubscribe\n\t * @returns this - The emitter for chaining purposes\n\t */\n\tpublic off(name: EventName, callback?: EventCallback): this {\n\t\t// get the events object\n\t\tconst events = this.#events;\n\t\t// get the event array for the event name\n\t\tconst eventArr = events[name];\n\t\t// create an array to hold the current live events\n\t\tconst liveEvents: Event[] = [];\n\n\t\t// if there is an event array, filter out the callback\n\t\tif (eventArr && callback) {\n\t\t\tliveEvents.push(...eventArr.filter((event) => event.fn !== callback));\n\t\t}\n\n\t\t// if there are live events, set them to the event name, otherwise delete the event name\n\t\tliveEvents.length ? (events[name] = liveEvents) : delete events[name];\n\n\t\t// return the emitter for chaining purposes\n\t\treturn this;\n\t}\n\n\t/**\n\t * @name emit\n\t * @description Used to emit an event by name\n\t *\n\t * @param name - The name of the event to emit\n\t * @param data - The data to pass to the callback\n\t * @returns this - The emitter for chaining purposes\n\t */\n\tpublic emit(name: EventName, ...data: unknown[]): this {\n\t\t// get the event array for the event name, if it exists\n\t\tconst eventArr = (this.#events[name] ?? []).slice();\n\n\t\t// loop through the event array and run the callback for each event\n\t\teventArr.forEach((event) => {\n\t\t\tevent.fn.apply(event.ctx, data);\n\t\t});\n\n\t\t// return the emitter for chaining purposes\n\t\treturn this;\n\t}\n}\n","// Provides functions for generating random strings, hashes, and encoding/decoding strings\n\n// Converts a decimal number to a hexadecimal number\nexport const dec2hex = (dec: number) => {\n\tconst hex = dec.toString(16);\n\treturn '0'.substring(0, 2 - hex.length) + hex;\n};\n\n// Returns a random hexadecimal string of a given length\nexport const getRandomString = (length: number) => {\n\tconst arr = new Uint8Array(Math.ceil(length / 2));\n\twindow.crypto.getRandomValues(arr);\n\tconst str = Array.from(arr, dec2hex).join('');\n\treturn str.slice(0, length);\n};\n\n// generates a SHA256 hash of a string\nexport const generateSha256Hash = async (str: string) => {\n\tconst buffer = new TextEncoder().encode(str);\n\tconst hashBuffer = await window.crypto.subtle.digest('SHA-256', buffer);\n\tconst hashArray = Array.from(new Uint8Array(hashBuffer));\n\tconst hash = String.fromCharCode.apply(\n\t\tnull,\n\t\tnew Uint8Array(hashArray) as unknown as number[],\n\t);\n\n\treturn hash;\n};\n\n// Returns a code verifier string of length 128, which is the maximum length allowed\n// used for Authorization Code Flow for the PKCE challenge\nexport const generateCodeVerifier = () => getRandomString(128);\n\n// Generates a code challenge string from a code verifier string\n// used for Authorization Code Flow for the PKCE challenge\n// The code challenge is a base64url encoded SHA256 hash of the code verifier\nexport const generateCodeChallenge = async (codeVerifier: string) => {\n\t// generate SHA256 hash from code verifier\n\tconst hash = await generateSha256Hash(codeVerifier);\n\n\t// convert hash to base64url string\n\tconst base64url = base64UrlEncode(hash);\n\n\treturn base64url;\n};\n\n// Converts a base64url string to a UTF-8 string\nexport const base64UrlToString = (base64Url: string): string => {\n\t// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\n\tlet base64 = base64UrlToBase64(base64Url);\n\t// add padding if needed\n\tswitch (base64.length % 4) {\n\t\tcase 0:\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tbase64 += '==';\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tbase64 += '=';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error('Not a valid Base64Url');\n\t}\n\t// decode base64 string to a UTF-8 string\n\tconst utf8str = window.atob(base64);\n\n\ttry {\n\t\t// decode any URI-encoded UTF-8 characters\n\t\treturn decodeURIComponent(window.escape(utf8str));\n\t} catch (e) {\n\t\t// if there was an error, just return the UTF-8 string\n\t\treturn utf8str;\n\t}\n};\n\n// Converts a UTF-8 string to a Uint8Array buffer\nexport const stringToBuffer = (str: string) => {\n\tconst buffer = new Uint8Array(str.length);\n\tfor (let i = 0; i < str.length; i++) {\n\t\tbuffer[i] = str.charCodeAt(i);\n\t}\n\treturn buffer;\n};\n\n// Converts a base64url string to a \"standard\" base64 string\nexport const base64UrlToBase64 = (base64Url: string) =>\n\tbase64Url.replace(/-/g, '+').replace(/_/g, '/');\n\n// Converts a \"normal\" string to a base64url string\nexport const base64UrlEncode = (str: string) =>\n\twindow.btoa(str).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n","/* eslint-disable @typescript-eslint/no-unnecessary-condition -- we're doing type guards on two different types */\n\nimport { isNonNullable } from '@guardian/libs';\nimport type {\n\tAuthorizeParams,\n\tOAuthAuthorizeResponse,\n\tOAuthAuthorizeResponseError,\n\tOAuthTokenResponse,\n\tOAuthTokenResponseError,\n\tOAuthUrls,\n\tRequiredIdentityAuthOptions,\n\tTokenParams,\n} from './@types/OAuth';\nimport type {\n\tAccessToken,\n\tAccessTokenClaims,\n\tCustomClaims,\n\tIDToken,\n\tIDTokenClaims,\n\tJWK,\n\tJWKS,\n\tJWTHeader,\n\tJWTObject,\n\tJWTPayload,\n\tTokenResponse,\n\tTokens,\n} from './@types/Token';\nimport {\n\tbase64UrlEncode,\n\tbase64UrlToString,\n\tgenerateCodeChallenge,\n\tgenerateCodeVerifier,\n\tgenerateSha256Hash,\n\tgetRandomString,\n\tstringToBuffer,\n} from './crypto';\nimport { OAuthError } from './error';\n\n/**\n * @name isAccessTokenClaims\n * @description Type guard for AccessTokenClaims\n *\n * @param claims - the claims to check\n * @returns\t{boolean} - true if claims is an AccessTokenClaims object\n */\nconst isAccessTokenClaims = (claims: unknown): claims is AccessTokenClaims => {\n\tconst maybeClaims = claims as AccessTokenClaims;\n\treturn (\n\t\tisNonNullable(maybeClaims) &&\n\t\tmaybeClaims.aud !== undefined &&\n\t\tmaybeClaims.auth_time !== undefined &&\n\t\tmaybeClaims.cid !== undefined &&\n\t\tmaybeClaims.email_validated !== undefined &&\n\t\tmaybeClaims.exp !== undefined &&\n\t\tmaybeClaims.iat !== undefined &&\n\t\tmaybeClaims.identity_username !== undefined &&\n\t\tmaybeClaims.iss !== undefined &&\n\t\tmaybeClaims.jti !== undefined &&\n\t\tmaybeClaims.legacy_identity_id !== undefined &&\n\t\tmaybeClaims.scp !== undefined &&\n\t\tmaybeClaims.sub !== undefined &&\n\t\tmaybeClaims.uid !== undefined &&\n\t\tmaybeClaims.ver !== undefined\n\t);\n};\n\n/**\n * @name isAccessToken\n * @description Type guard for AccessToken\n *\n * @param token - the token to check\n * @returns\t{boolean} - true if token is an AccessToken object\n */\nexport const isAccessToken = (token: unknown): token is AccessToken => {\n\tconst maybeToken = token as AccessToken;\n\treturn (\n\t\tisNonNullable(maybeToken) &&\n\t\tmaybeToken.accessToken !== undefined &&\n\t\tmaybeToken.expiresAt !== undefined &&\n\t\tmaybeToken.scopes !== undefined &&\n\t\tmaybeToken.tokenType !== undefined &&\n\t\tisAccessTokenClaims(maybeToken.claims)\n\t);\n};\n\n/**\n * @name isIDTokenClaims\n * @description Type guard for IDTokenClaims\n *\n * @param claims - the claims to check\n * @returns\t{boolean} - true if claims is an IDTokenClaims object\n */\nconst isIDTokenClaims = (claims: unknown): claims is IDTokenClaims => {\n\tconst maybeClaims = claims as IDTokenClaims;\n\treturn (\n\t\tisNonNullable(maybeClaims) &&\n\t\tmaybeClaims.amr !== undefined &&\n\t\tmaybeClaims.at_hash !== undefined &&\n\t\tmaybeClaims.aud !== undefined &&\n\t\tmaybeClaims.auth_time !== undefined &&\n\t\tmaybeClaims.exp !== undefined &&\n\t\tmaybeClaims.iat !== undefined &&\n\t\tmaybeClaims.identity_username !== undefined &&\n\t\tmaybeClaims.idp !== undefined &&\n\t\tmaybeClaims.iss !== undefined &&\n\t\tmaybeClaims.jti !== undefined &&\n\t\tmaybeClaims.legacy_identity_id !== undefined &&\n\t\tmaybeClaims.name !== undefined &&\n\t\tmaybeClaims.nonce !== undefined &&\n\t\tmaybeClaims.preferred_username !== undefined &&\n\t\tmaybeClaims.sub !== undefined &&\n\t\tmaybeClaims.user_groups !== undefined &&\n\t\tmaybeClaims.ver !== undefined\n\t);\n};\n\n/**\n * @name isIDToken\n * @description Type guard for IDToken\n *\n * @param token - the token to check\n * @returns\t{boolean} - true if token is an IDToken object\n */\nexport const isIDToken = (token: unknown): token is IDToken => {\n\tconst maybeToken = token as IDToken;\n\treturn (\n\t\tisNonNullable(maybeToken) &&\n\t\tmaybeToken.expiresAt !== undefined &&\n\t\tmaybeToken.idToken !== undefined &&\n\t\tmaybeToken.scopes !== undefined &&\n\t\tisIDTokenClaims(maybeToken.claims)\n\t);\n};\n\n/**\n * @name isOAuthAuthorizeResponseError\n * @description Type guard for OAuthAuthorizeResponseError\n *\n * Determines if the response is an OAuthAuthorizeResponseError,\n * i.e if it has the error, error_description and state properties\n *\n * @param response OAuthAuthorizeResponse | OAuthAuthorizeResponseError\n * @returns boolean - true if the response is an OAuthAuthorizeResponseError\n */\nconst isOAuthAuthorizeResponseError = (\n\tresponse: OAuthAuthorizeResponse | OAuthAuthorizeResponseError,\n): response is OAuthAuthorizeResponseError => {\n\tconst maybeResponse = response as OAuthAuthorizeResponseError;\n\treturn (\n\t\tisNonNullable(maybeResponse) &&\n\t\tmaybeResponse.error !== undefined &&\n\t\tmaybeResponse.error_description !== undefined &&\n\t\tmaybeResponse.state !== undefined\n\t);\n};\n\n/**\n * @name isOAuthTokenResponseError\n * @description Type guard for OAuthTokenResponseError\n *\n * Determines if the response is an OAuthTokenResponseError,\n * i.e if it has the error and error_description properties\n *\n * @param response OAuthTokenResponse | OAuthTokenResponseError\n * @returns boolean - true if the response is an OAuthTokenResponseError\n */\nconst isOAuthTokenResponseError = (\n\tresponse: OAuthTokenResponse | OAuthTokenResponseError,\n): response is OAuthTokenResponseError => {\n\tconst maybeResponse = response as OAuthTokenResponseError;\n\treturn (\n\t\tisNonNullable(maybeResponse) &&\n\t\tmaybeResponse.error !== undefined &&\n\t\tmaybeResponse.error_description !== undefined\n\t);\n};\n\n/**\n * @name calculateClockSkew\n * @description Calculates the clock skew between the current time and the iat claim in seconds\n *\n * @param now `number` - current time in seconds to compare against the iat claim\n * @param token `string` - raw JWT token\n * @returns `number` - the clock skew in seconds\n */\nconst calculateClockSkew = (now: number, token: string): number => {\n\t// decode the token and extract the iat claim\n\tconst { iat } = decodeToken(token).payload;\n\n\t// check that the iat claim is present\n\tif (!iat) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'iat claim is missing from token',\n\t\t});\n\t}\n\n\t// return the difference between the current time and the iat claim\n\treturn now - iat;\n};\n\n/**\n * @name decodeToken\n * @description Decodes a JWT token into its parts, i.e header, payload and signature\n *\n * @param token `string` - JWT token\n * @returns JWTObject - object containing the decoded token parts\n */\nconst decodeToken = <T extends CustomClaims = CustomClaims>(\n\ttoken: string,\n): JWTObject<T> => {\n\t// attempt to split the token into its parts\n\tconst [headerStr, payloadStr, signature] = token.split('.');\n\n\ttry {\n\t\t// check that all parts are present\n\t\tif (\n\t\t\theaderStr === undefined ||\n\t\t\tpayloadStr === undefined ||\n\t\t\tsignature === undefined\n\t\t) {\n\t\t\tthrow 'Missing token parts';\n\t\t}\n\n\t\tconst header = JSON.parse(base64UrlToString(headerStr)) as JWTHeader;\n\t\tconst payload = JSON.parse(base64UrlToString(payloadStr)) as JWTPayload<T>;\n\n\t\t// validate the header, all okta oauth tokens have an alg and kid claim\n\t\tif (!header.alg || !header.kid) {\n\t\t\tthrow 'Missing algorithm in header';\n\t\t}\n\n\t\t// validate the payload, all okta oauth tokens have an jti claim\n\t\tif (!payload.jti) {\n\t\t\tthrow 'Possibly malformed payload';\n\t\t}\n\n\t\treturn {\n\t\t\theader,\n\t\t\tpayload,\n\t\t\tsignature,\n\t\t};\n\t} catch (error) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Malformed token',\n\t\t\tmessage: error as string,\n\t\t});\n\t}\n};\n\ninterface DecodeTokenParams {\n\taccessTokenRaw: string;\n\taccessTokenClockSkew: number;\n\tidTokenRaw: string;\n\tidTokenClockSkew: number;\n\tnonce: string;\n\toptions: RequiredIdentityAuthOptions;\n}\n\n/**\n * @name decodeTokens\n * @description Decodes the access and ID tokens, returning the decoded claims, without verifying the tokens\n *\n * @param accessToken - Raw access token string to decode\n * @param idToken - Raw ID token string to decode\n * @param nonce - Nonce used when generating the tokens\n *\n * @returns Tokens - decoded access and ID tokens\n */\nconst decodeTokens = <\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n>({\n\taccessTokenRaw,\n\taccessTokenClockSkew,\n\tidTokenRaw,\n\tidTokenClockSkew,\n\tnonce,\n\toptions,\n}: DecodeTokenParams): Tokens<AC, IC> => {\n\t// get the current time in seconds\n\tconst now = Math.floor(Date.now() / 1000);\n\n\t// decode the access tokens\n\tconst decodedAccessToken = decodeToken<AC>(accessTokenRaw);\n\n\t// get the access token claims, not type validated\n\tconst accessTokenPayload = decodedAccessToken.payload;\n\n\t// validate the type of access token claims\n\tif (!isAccessTokenClaims(accessTokenPayload)) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid access token claims',\n\t\t\tmessage: 'Invalid access token claims',\n\t\t});\n\t}\n\n\t// if strict clock skew checking is enabled and the the clock skew is greater than maxClockSkew (default 5 mins),\n\t// throw an error, as this is likely a replay attack\n\tif (\n\t\toptions.strictClockSkewCheck &&\n\t\tMath.abs(accessTokenClockSkew) > options.maxClockSkew\n\t) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid Access token',\n\t\t\tmessage: 'Clock skew too large',\n\t\t});\n\t}\n\n\t// construct the access token\n\tconst accessToken: AccessToken<AC> = {\n\t\taccessToken: accessTokenRaw,\n\t\tclaims: accessTokenPayload,\n\t\texpiresAt: accessTokenPayload.exp - accessTokenPayload.iat + now, // adjusting expiresAt to be in local (machine) time, to account for clock skew\n\t\tclockSkew: accessTokenClockSkew,\n\t\ttokenType: 'Bearer',\n\t\tscopes: accessTokenPayload.scp,\n\t};\n\n\t// validate the type of the access token\n\tif (!isAccessToken(accessToken)) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid access token',\n\t\t\tmessage: 'Invalid access token',\n\t\t});\n\t}\n\n\t// decode the ID token\n\tconst decodedIDToken = decodeToken<IC>(idTokenRaw);\n\n\t// get the id token claims, not type validated\n\tconst idTokenPayload = decodedIDToken.payload;\n\n\t// validate the type of the ID token claims\n\tif (!isIDTokenClaims(idTokenPayload)) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid ID token claims',\n\t\t\tmessage: 'Invalid ID token claims',\n\t\t});\n\t}\n\n\t// if strict clock skew checking is enabled and the the clock skew is greater than maxClockSkew (default 5 mins),\n\t// throw an error, as this is likely a replay attack\n\tif (\n\t\toptions.strictClockSkewCheck &&\n\t\tMath.abs(idTokenClockSkew) > options.maxClockSkew\n\t) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid ID token',\n\t\t\tmessage: 'Clock skew too large',\n\t\t});\n\t}\n\n\t// construct the ID token\n\tconst idToken: IDToken<IC> = {\n\t\tidToken: idTokenRaw,\n\t\tissuer: options.issuer,\n\t\tclientId: options.clientId,\n\t\tclaims: idTokenPayload,\n\t\texpiresAt: idTokenPayload.exp - idTokenPayload.iat + now, // adjusting expiresAt to be in local (machine) time, to account for clock skew\n\t\tclockSkew: idTokenClockSkew,\n\t\tscopes: options.scopes,\n\t\tnonce: nonce,\n\t};\n\n\t// validate the type of the ID token\n\tif (!isIDToken(idToken)) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid ID token',\n\t\t\tmessage: 'Invalid ID token',\n\t\t});\n\t}\n\n\treturn {\n\t\taccessToken,\n\t\tidToken,\n\t};\n};\n\n/**\n * @name verifyIdTokenClaims\n * @description Verifies the claims of an ID token are valid and expected\n *\n * @param decoded - decoded ID token\n * @param claims - ID token claims\n * @param options - RequiredIdentityAuthOptions\n *\n * @throws Error - if the claims are invalid\n * @returns void\n */\nexport const verifyIdTokenClaims = (\n\tdecoded: IDToken,\n\tclaims: JWTPayload,\n\toptions: RequiredIdentityAuthOptions,\n): void => {\n\t// get the local time in seconds\n\tconst localTime = Math.floor(Date.now() / 1000);\n\n\t// calculate the normalised time, which takes into account clock skew\n\tconst normalisedTime = localTime - decoded.clockSkew;\n\n\t// check the nonce is valid\n\tif (claims.nonce !== decoded.nonce) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid nonce in ID token',\n\t\t\tmessage: 'Invalid nonce in ID token',\n\t\t});\n\t}\n\n\t// check the issuer is the one configured in the options\n\tif (claims.iss !== options.issuer) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid issuer in ID token',\n\t\t\tmessage: 'Invalid issuer in ID token',\n\t\t});\n\t}\n\n\t// check the audience is the one configured in the options (clientId)\n\tif (claims.aud !== options.clientId) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid audience in ID token',\n\t\t\tmessage: 'Invalid audience in ID token',\n\t\t});\n\t}\n\n\t// check that the iat (issued at) claim is present\n\tif (!claims.iat) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Missing iat claim in ID token',\n\t\t\tmessage: 'Token does not contain required claims',\n\t\t});\n\t}\n\n\t// check the token wasn't issued in the future\n\tif (claims.iat > normalisedTime) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Token was issued in the future',\n\t\t\tmessage: 'Token was issued in the future',\n\t\t});\n\t}\n};\n\n/**\n * @name verifyAccessTokenWithAtHash\n * @description Verifies the access token with the id token at_hash claim\n *\n * @param at_hash - at_hash claim from the id token\n * @param access_token - access token to verify\n * @returns Promise<void> - resolves if the access token is valid, rejects if not\n */\nexport const verifyAccessTokenWithAtHash = async (\n\tat_hash: string,\n\taccess_token: string,\n): Promise<void> => {\n\t// verify the access token with the id token at_hash claim\n\t// generate the access token hash\n\tconst accessTokenHash = await generateSha256Hash(access_token);\n\n\t// take the first 128 bits of the hash (the first half)\n\tconst accessTokenHash128 = accessTokenHash.substring(0, 16);\n\n\t// convert the hash to a base64url string\n\tconst accessTokenHashBase64 = base64UrlEncode(accessTokenHash128);\n\n\t// compare the hash with the at_hash claim\n\t// if they don't match, the token is invalid\n\tif (accessTokenHashBase64 !== at_hash) {\n\t\t// throw an error\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid token',\n\t\t\tmessage: 'The access token hash does not match the at_hash claim',\n\t\t});\n\t}\n\t// if they do match, the token is valid, return void\n\treturn;\n};\n\n/**\n * @name verifySignature\n * @description Verifies the signature of a JWT token\n *\n * Get's the public key from the JWKS endpoint, imports it and verifies the signature\n * of a given JWT token\n *\n * @param issuer\n * @param jwt\n * @param token\n */\nexport const verifySignature = async (\n\tjwksUri: string,\n\tjwt: JWTObject,\n\ttoken: string,\n): Promise<void> => {\n\t// fetch the JWKS, okta returns standard cache-control headers, so caching is handled by the browser\n\tconst jwksResponse = await fetch(jwksUri);\n\n\t// throw an error if the response isn't ok\n\tif (!jwksResponse.ok) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'failed_request',\n\t\t\terror_description: 'Failed to fetch JWKS',\n\t\t\tmessage: 'Failed to fetch JWKS',\n\t\t});\n\t}\n\n\t// parse the JWKS response\n\tconst jwks = (await jwksResponse.json()) as JWKS;\n\n\t// validate the JWKS, first check that there are keys\n\tif (!jwks.keys || jwks.keys.length === 0) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_jwks',\n\t\t\terror_description: 'No keys found in JWKS',\n\t\t\tmessage: 'No keys found in JWKS',\n\t\t});\n\t}\n\n\t// next loop through the keys and check that they have the required properties\n\tfor (const key of jwks.keys) {\n\t\tif (!key.kty || !key.n || !key.e || !key.alg || !key.use || !key.kid) {\n\t\t\tthrow new OAuthError({\n\t\t\t\terror: 'invalid_jwks',\n\t\t\t\terror_description: 'Invalid key in JWKS',\n\t\t\t\tmessage: 'Invalid key in JWKS',\n\t\t\t});\n\t\t}\n\t}\n\n\t// find the key that matches the kid in the JWT header\n\tconst key = jwks.keys.find((k: JWK) => k.kid === jwt.header.kid);\n\n\t// throw an error if no key was found\n\tif (key === undefined) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_jwks',\n\t\t\terror_description: 'No key found for token in JWKS',\n\t\t\tmessage: 'No key found for token in JWKS',\n\t\t});\n\t}\n\n\t// create the algorithm to use for the verification\n\tconst algorithm: HmacImportParams = {\n\t\tname: 'RSASSA-PKCS1-v1_5',\n\t\thash: { name: 'SHA-256' },\n\t};\n\n\t// import the public key using the jwk format\n\tconst publicKey = await window.crypto.subtle.importKey(\n\t\t'jwk',\n\t\t{\n\t\t\tkty: key.kty,\n\t\t\tn: key.n,\n\t\t\te: key.e,\n\t\t\talg: key.alg,\n\t\t\tuse: key.use,\n\t\t},\n\t\talgorithm,\n\t\ttrue,\n\t\t['verify'],\n\t);\n\n\t// split the token into it's parts\n\tconst [header, payload, sig] = token.split('.');\n\n\t// throw an error if the token is malformed\n\tif (header === undefined || payload === undefined || sig === undefined) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Malformed token',\n\t\t\tmessage: 'Malformed token',\n\t\t});\n\t}\n\n\t// create the data to verify, i.e the header and payload\n\tconst data = `${header}.${payload}`;\n\n\t// verify the signature\n\tconst isValid = await window.crypto.subtle.verify(\n\t\talgorithm,\n\t\tpublicKey,\n\t\tstringToBuffer(base64UrlToString(sig)),\n\t\tstringToBuffer(data),\n\t);\n\n\t// throw an error if the signature is invalid\n\tif (!isValid) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Invalid signature',\n\t\t\tmessage: 'Invalid signature',\n\t\t});\n\t}\n};\n\n/**\n * @name verifyAccessTokenTimestamps\n * @description Verifies the timestamps of an access token, used to determine if both the access token and ID token are valid\n *\n * We validate the access token token timestamps rather than the ID token timestamps, because the ID token in Okta is only valid for\n * 1 hour with no way to change this, whereas the access token can be valid anywhere from 5 minutes to 24 hours, so we use the access token\n * timestamps to determine if the tokens are valid.\n *\n * @param decoded - the decoded access token object\n * @param claims - the jwt payload from the access token\n * @returns void - resolves if the access token timestamps are valid, rejects if not\n */\nexport const verifyAccessTokenTimestamps = (\n\tdecoded: AccessToken,\n\tclaims: JWTPayload,\n) => {\n\t// get the local time in seconds\n\tconst localTime = Math.floor(Date.now() / 1000);\n\n\t// calculate the normalised time, which takes into account clock skew\n\tconst normalisedTime = localTime - decoded.clockSkew;\n\n\t// check that the iat (issued at) and exp (expiry) claims are present\n\tif (!claims.iat || !claims.exp) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Missing iat or exp claim in access token',\n\t\t\tmessage: 'Token does not contain required claims',\n\t\t});\n\t}\n\n\t// check that the iat isn't after the exp\n\tif (claims.iat > claims.exp) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'iat claim is after exp claim in access token',\n\t\t\tmessage: 'Token has expired before it was issued',\n\t\t});\n\t}\n\n\t// check the token hasn't expired\n\tif (normalisedTime > claims.exp) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Token has expired',\n\t\t\tmessage: 'Token has expired',\n\t\t});\n\t}\n\n\t// check the token wasn't issued in the future\n\tif (claims.iat > normalisedTime) {\n\t\tthrow new OAuthError({\n\t\t\terror: 'invalid_token',\n\t\t\terror_description: 'Token was issued in the future',\n\t\t\tmessage: 'Token was issued in the future',\n\t\t});\n\t}\n};\n\n/**\n * @name addPostMessageListener\n * @description Adds a postMessage listener to the window to listen for the response from the authorization server when performing the Authorization Code Flow with PKCE in an iframe\n *\n * @param opts - RequiredIdentityAuthOptions\n * @param state - state to match the response\n * @returns Promise<OAuthAuthorizeResponse | OAuthAuthorizeResponseError> - resolves with the response from the authorization server\n */\nexport const addPostMessageListener = (\n\topts: RequiredIdentityAuthOptions,\n\tstate: string,\n) => {\n\t// setup the response handler variable\n\tlet responseHandler: (\n\t\te: MessageEvent<OAuthAuthorizeResponse | OAuthAuthorizeResponseError>,\n\t) => void;\n\n\t// setup the timeout id variable to clear the timeout\n\tlet timeoutId: number;\n\n\t// create a promise that resolves when the message is received or rejects when the timeout is reached\n\tconst msgReceivedOrTimeout: Promise<\n\t\tOAuthAuthorizeResponse | OAuthAuthorizeResponseError\n\t> = new Promise((resolve, reject) => {\n\t\t// create the response handler\n\t\tresponseHandler = (e) => {\n\t\t\t// check the message is for us, i.e the state matches\n\t\t\tif (e.data.state !== state) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// check the message is from the correct origin, i.e the issuer\n\t\t\tif (e.origin !== opts.issuer.split('/oauth2/')[0]) {\n\t\t\t\treturn reject(\n\t\t\t\t\tnew OAuthError({\n\t\t\t\t\t\terror: 'invalid_origin',\n\t\t\t\t\t\terror_description: 'Invalid origin',\n\t\t\t\t\t\tmessage: 'The request does not originate from the issuer',\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// resolve the promise with the response\n\t\t\treturn resolve(e.data);\n\t\t};\n\n\t\t// add the response handler to the window\n\t\twindow.addEventListener('message', responseHandler);\n\n\t\t// set the timeout\n\t\ttimeoutId = window.setTimeout(() => {\n\t\t\t// reject the promise with a timeout error if the timeout is reached\n\t\t\treturn reject(\n\t\t\t\tnew OAuthError({\n\t\t\t\t\terror: 'timeout',\n\t\t\t\t\terror_description: 'Timeout',\n\t\t\t\t\tmessage: 'The oauth request timed out',\n\t\t\t\t}),\n\t\t\t);\n\t\t}, opts.oauthTimeout);\n\t});\n\n\t// return the promise, clearing the timeout and removing the event listener when the promise resolves\n\treturn msgReceivedOrTimeout.finally(() => {\n\t\twindow.clearTimeout(timeoutId);\n\t\twindow.removeEventListener('message', responseHandler);\n\t});\n};\n\n/**\n * @name loadFrame\n * @description Loads a hidden iframe with the given url\n *\n * @param url - url to load in the iframe\n * @returns\tHTMLIFrameElement - the iframe element\n */\nexport const loadFrame = (url: string) => {\n\tconst frame = document.createElement('iframe');\n\tframe.style.display = 'none';\n\tframe.src = url;\n\n\treturn document.body.appendChild(frame);\n};\n\n/**\n * @name performAuthCodeFlowIframe\n * @description Performs the authorization code flow with PKCE using an iframe, and returns the AuthorizationResponse\n *\n * @param authorizeParams - AuthorizeParams\n * @param options - RequiredIdentityAuthOptions\n * @param oauthUrls - OAuthUrls\n * @returns OAuthAuthorizeResponse | OAuthAuthorizeResponseError - resolves with the AuthorizationResponse\n */\nexport const performAuthCodeFlowIframe = async (\n\tauthorizeParams: AuthorizeParams,\n\toptions: RequiredIdentityAuthOptions,\n\toauthUrls: OAuthUrls,\n): Promise<OAuthAuthorizeResponse | OAuthAuthorizeResponseError> => {\n\t// convert the authorize params to a query string\n\tconst searchParams = new URLSearchParams(authorizeParams);\n\n\t// create the postMessage listener for the iframe\n\tconst postMessageListener = addPostMessageListener(\n\t\toptions,\n\t\tauthorizeParams.state,\n\t);\n\t// load the iframe with the authorize url\n\tconst iframe = loadFrame(\n\t\t`${oauthUrls.authorizeUrl}?${searchParams.toString()}`,\n\t);\n\n\t// wait for the postMessage listener to resolve\n\tconst authorizeResponse = await postMessageListener.finally(() => {\n\t\tif (document.body.contains(iframe)) {\n\t\t\tdocument.body.removeChild(iframe);\n\t\t}\n\t});\n\n\treturn authorizeResponse;\n};\n\n// memoized verify token map\nconst memoizedVerifyTokens = new Map<string, unknown>();\n\n/**\n * @name verifyTokens\n * @description Verifies the ID token, checking the signature and claims, and verifies the access token using the at_hash claim\n *\n * @param idToken - IDToken\n * @param accessToken - AccessToken\n * @param options - RequiredIdentityAuthOptions\n * @returns Promise<void> - resolves when the token is verified\n */\nexport const verifyTokens = async (\n\tidToken: IDToken,\n\taccessToken: AccessToken,\n\toptions: RequiredIdentityAuthOptions,\n\toauthUrls: OAuthUrls,\n) => {\n\t// check if the token has already been verified\n\tif (memoizedVerifyTokens.has(idToken.claims.jti)) {\n\t\t// get the memoized value\n\t\tconst memoized = memoizedVerifyTokens.get(idToken.claims.jti);\n\n\t\t// if the memoized value is true, return, already verified\n\t\tif (memoized === true) {\n\t\t\treturn;\n\t\t}\n\n\t\t// otherwise the memoized value is an error, throw the error\n\t\tthrow memoized;\n\t}\n\n\ttry {\n\t\t// decode the token\n\t\tconst idTokenJWT = decodeToken(idToken.idToken);\n\n\t\t// verify the claims\n\t\tverifyIdTokenClaims(idToken, idTokenJWT.payload, options);\n\n\t\t// verify the signature\n\t\tawait verifySignature(oauthUrls.keysUrl, idTokenJWT, idToken.idToken);\n\n\t\t// verify the access token using the at_hash claim\n\t\tawait verifyAccessTokenWithAtHash(\n\t\t\tidToken.claims.at_hash,\n\t\t\taccessToken.accessToken,\n\t\t);\n\n\t\tconst accessTokenJWT = decodeToken(accessToken.accessToken);\n\n\t\t// verify access token timestamps\n\t\tverifyAccessTokenTimestamps(accessToken, accessTokenJWT.payload);\n\n\t\t// if successful, memoize the token\n\t\tmemoizedVerifyTokens.set(idToken.claims.jti, true);\n\t} catch (error) {\n\t\t// if there is an error, memoize the error\n\t\tmemoizedVerifyTokens.set(idToken.claims.jti, error);\n\n\t\t// throw the error\n\t\tthrow error;\n\t}\n};\n\n/**\n * @name exchangeCodeForTokens\n * @description Exchanges the authorization code for tokens using the OAuth token endpoint\n *\n * @param code - authorization code\n * @param codeVerifier - code verifier used to generate the code challenge\n * @param options - RequiredIdentityAuthOptions\n * @param oauthUrls - OAuthUrls\n * @returns Promise<OAuthTokenResponse> - resolves with the response from the authorization server\n */\nexport const exchangeCodeForTokens = async (\n\tcode: string,\n\tcodeVerifier: string,\n\toptions: RequiredIdentityAuthOptions,\n\toauthUrls: OAuthUrls,\n): Promise<OAuthTokenResponse | OAuthTokenResponseError> => {\n\t// create the token params\n\t// https://developer.okta.com/docs/reference/api/oidc/#token\n\tconst tokenParams: TokenParams = {\n\t\tclient_id: options.clientId,\n\t\tcode,\n\t\tcode_verifier: codeVerifier,\n\t\tgrant_type: 'authorization_code',\n\t\tredirect_uri: options.redirectUri,\n\t};\n\n\t// make the request to the token endpoint\n\tconst response = await fetch(oauthUrls.tokenUrl, {\n\t\tmethod: 'POST',\n\t\tbody: new URLSearchParams(tokenParams),\n\t\theaders: {\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t},\n\t});\n\n\treturn response.json() as Promise<\n\t\tOAuthTokenResponse | OAuthTokenResponseError\n\t>;\n};\n\n/**\n * @name handleOAuthResponse\n * @description Handles the response from the token endpoint, verifying the ID token and returning the access and ID tokens\n *\n * @param oauthTokenResponse - response from the token endpoint\n * @param authorizeParams - params used to generate the authorization request (/authorize)\n * @returns Promise<TokenResponse> - resolves with the access and ID tokens\n */\nexport const handleOAuthResponse = async <\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n>(\n\toauthTokenResponse: OAuthTokenResponse,\n\tauthorizeParams: AuthorizeParams,\n\toptions: RequiredIdentityAuthOptions,\n\toauthUrls: OAuthUrls,\n): Promise<TokenResponse<AC, IC>> => {\n\t// destructure the response\n\tconst { access_token, id_token } = oauthTokenResponse;\n\n\t// calculate the clock skew for both tokens\n\t// get the current time in seconds\n\tconst now = Math.floor(Date.now() / 1000);\n\tconst accessTokenClockSkew = calculateClockSkew(now, access_token);\n\tconst idTokenClockSkew = calculateClockSkew(now, id_token);\n\n\t// decode the tokens\n\tconst { accessToken, idToken } = decodeTokens<AC, IC>({\n\t\taccessTokenRaw: access_token,\n\t\taccessTokenClockSkew,\n\t\tidTokenRaw: id_token,\n\t\tidTokenClockSkew,\n\t\tnonce: authorizeParams.nonce,\n\t\toptions,\n\t});\n\n\t// verify the tokens\n\tawait verifyTokens(idToken, accessToken, options, oauthUrls);\n\n\t// return the tokens\n\treturn {\n\t\tstate: authorizeParams.state,\n\t\ttokens: {\n\t\t\taccessToken,\n\t\t\tidToken,\n\t\t},\n\t};\n};\n\n/**\n * @class Token\n * @description Class for performing the Authorization Code Flow with PKCE, exchanging the authorization code for tokens and verifying the ID token\n */\nexport class Token<\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n> {\n\t#options: RequiredIdentityAuthOptions;\n\t#oauthUrls: OAuthUrls;\n\n\t// holder if there is currently a get token flow in progress\n\t#getTokensInProgress: Promise<TokenResponse<AC, IC>> | undefined;\n\n\tconstructor(options: RequiredIdentityAuthOptions, oauthUrls: OAuthUrls) {\n\t\tthis.#options = options;\n\t\tthis.#oauthUrls = oauthUrls;\n\t\tthis.#getTokensInProgress = undefined;\n\t}\n\n\t#exchangeCodeForTokens = (\n\t\tcode: string,\n\t\tcodeVerifier: string,\n\t): Promise<OAuthTokenResponse | OAuthTokenResponseError> =>\n\t\texchangeCodeForTokens(code, codeVerifier, this.#options, this.#oauthUrls);\n\n\t#handleOAuthResponse = (\n\t\toauthTokenResponse: OAuthTokenResponse,\n\t\tauthorizeParams: AuthorizeParams,\n\t): Promise<TokenResponse<AC, IC>> =>\n\t\thandleOAuthResponse<AC, IC>(\n\t\t\toauthTokenResponse,\n\t\t\tauthorizeParams,\n\t\t\tthis.#options,\n\t\t\tthis.#oauthUrls,\n\t\t);\n\n\t#performAuthCodeFlowIframe = (\n\t\tauthorizeParams: AuthorizeParams,\n\t): Promise<OAuthAuthorizeResponse | OAuthAuthorizeResponseError> =>\n\t\tperformAuthCodeFlowIframe(authorizeParams, this.#options, this.#oauthUrls);\n\n\t/**\n\t * @name getWithoutPrompt\n\t * @description Performs the Authorization Code Flow with PKCE, exchanging the authorization code for tokens and verifying the ID token, without prompting the user and using a hidden iframe\n\t * @returns Promise<TokenResponse> - resolves with the access and ID tokens\n\t */\n\tasync #getWithoutPrompt(): Promise<TokenResponse<AC, IC>> {\n\t\t// generate the code verifier and code challenge for PKCE\n\t\t// see https://www.oauth.com/oauth2-servers/pkce/authorization-request/\n\t\t// the `code_verifier` is a cryptographically random string using the characters A-Z, a-z, 0-9\n\t\t// the `code_challenge` is the `code_verifier` hashed with SHA-256 and then base64url encoded\n\t\tconst codeVerifier = generateCodeVerifier();\n\t\tconst codeChallenge = await generateCodeChallenge(codeVerifier);\n\n\t\t// create the authorize params\n\t\t// https://developer.okta.com/docs/reference/api/oidc/#authorize\n\t\tconst authorizeParams: AuthorizeParams = {\n\t\t\tclient_id: this.#options.clientId,\n\t\t\tcode_challenge: codeChallenge,\n\t\t\tcode_challenge_method: 'S256',\n\t\t\tprompt: 'none',\n\t\t\tnonce: getRandomString(16),\n\t\t\tredirect_uri: this.#options.redirectUri,\n\t\t\tresponse_type: 'code',\n\t\t\tresponse_mode: 'okta_post_message',\n\t\t\tscope: this.#options.scopes.join(' '),\n\t\t\tstate: getRandomString(42),\n\t\t};\n\n\t\t// perform the authorization code flow with PKCE using an iframe\n\t\tconst authorizeResponse =\n\t\t\tawait this.#performAuthCodeFlowIframe(authorizeParams);\n\n\t\t// check for an error response\n\t\tif (isOAuthAuthorizeResponseError(authorizeResponse)) {\n\t\t\tthrow new OAuthError({\n\t\t\t\terror: authorizeResponse.error,\n\t\t\t\terror_description: authorizeResponse.error_description,\n\t\t\t\tmessage: `OAuth Authorize Error | ${authorizeResponse.error} | ${authorizeResponse.error_description}`,\n\t\t\t});\n\t\t}\n\n\t\t// successful response\n\t\tconst { code, state } = authorizeResponse;\n\n\t\t// check the state parameter matches\n\t\tif (state !== authorizeParams.state) {\n\t\t\tthrow new OAuthError({\n\t\t\t\terror: 'invalid_state',\n\t\t\t\terror_description: 'Invalid state parameter',\n\t\t\t\tmessage: 'Invalid state parameter',\n\t\t\t});\n\t\t}\n\n\t\t// exchange the authorization code for tokens\n\t\tconst tokenResponse = await this.#exchangeCodeForTokens(code, codeVerifier);\n\n\t\t// check for an error response\n\t\tif (isOAuthTokenResponseError(tokenResponse)) {\n\t\t\tthrow new OAuthError({\n\t\t\t\terror: tokenResponse.error,\n\t\t\t\terror_description: tokenResponse.error_description,\n\t\t\t\tmessage: `OAuth Token Error | ${tokenResponse.error} | ${tokenResponse.error_description}`,\n\t\t\t});\n\t\t}\n\n\t\t// parse the response\n\t\tconst parsed = await this.#handleOAuthResponse(\n\t\t\ttokenResponse,\n\t\t\tauthorizeParams,\n\t\t);\n\n\t\t// return the tokens\n\t\treturn parsed;\n\t}\n\n\t/**\n\t * @name getWithoutPrompt\n\t * @description Performs the Authorization Code Flow with PKCE, exchanging the authorization code for tokens and verifying the ID token, without prompting the user and using a hidden iframe\n\t * @returns Promise<TokenResponse> - resolves with the access and ID tokens\n\t */\n\tpublic async getWithoutPrompt(): Promise<TokenResponse<AC, IC>> {\n\t\t// check if there is already an auth code flow in progress\n\t\tif (this.#getTokensInProgress) {\n\t\t\t// return the existing promise\n\t\t\treturn this.#getTokensInProgress;\n\t\t}\n\n\t\t// create a new promise that clears itself when it resolves\n\t\tthis.#getTokensInProgress = this.#getWithoutPrompt().finally(() => {\n\t\t\tthis.#getTokensInProgress = undefined;\n\t\t});\n\n\t\t// return the promise\n\t\treturn this.#getTokensInProgress;\n\t}\n\n\t/**\n\t * @name verifyTokens\n\t * @description Verifies the ID token, checking the signature and claims, and verifies the access token using the at_hash claim\n\t *\n\t * @param idToken - ID token to verify\n\t * @param accessToken - Access token to verify\n\t * @returns void\n\t */\n\tpublic async verifyTokens(idToken: IDToken, accessToken: AccessToken) {\n\t\treturn verifyTokens(idToken, accessToken, this.#options, this.#oauthUrls);\n\t}\n\n\t/**\n\t * @name decodeTokens\n\t * @description Decodes the access and ID tokens, returning the decoded claims, without verifying the tokens\n\t *\n\t * @param accessToken - Raw access token string to decode\n\t * @param idToken - Raw ID token string to decode\n\t * @param nonce - Nonce used when generating the tokens\n\t *\n\t * @returns Tokens - decoded access and ID tokens\n\t */\n\tpublic decodeTokens({\n\t\taccessTokenRaw,\n\t\taccessTokenClockSkew,\n\t\tidTokenRaw,\n\t\tidTokenClockSkew,\n\t\tnonce,\n\t}: Omit<DecodeTokenParams, 'options'>) {\n\t\treturn decodeTokens<AC, IC>({\n\t\t\taccessTokenRaw,\n\t\t\taccessTokenClockSkew,\n\t\t\tidTokenRaw,\n\t\t\tidTokenClockSkew,\n\t\t\tnonce,\n\t\t\toptions: this.#options,\n\t\t});\n\t}\n}\n","import { storage } from '@guardian/libs';\nimport type {\n\tAccessToken,\n\tAccessTokenStorage,\n\tCustomClaims,\n\tIDToken,\n\tIDTokenStorage,\n\tTokens,\n\tTokenType,\n} from './@types/Token';\nimport type { Emitter } from './emitter';\nimport type { Token } from './token';\nimport { isAccessToken, isIDToken } from './token';\n\n/**\n * @class TokenManager\n * @description Manages the storage and retrieval of tokens\n */\nexport class TokenManager<\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n> {\n\t#token: Token<AC, IC>;\n\t#emitter: Emitter;\n\t#storage = storage.local;\n\t#accessTokenKey = 'gu.access_token';\n\t#idTokenKey = 'gu.id_token';\n\n\tconstructor(emitter: Emitter, tokenClass: Token<AC, IC>) {\n\t\tthis.#emitter = emitter;\n\t\tthis.#token = tokenClass;\n\n\t\t// subscribe to storage events, and emit an event when the storage is updated\n\t\twindow.addEventListener('storage', (event) => {\n\t\t\tif (\n\t\t\t\tevent.key === this.#accessTokenKey ||\n\t\t\t\tevent.key === this.#idTokenKey\n\t\t\t) {\n\t\t\t\tthis.#emitStorage();\n\t\t\t}\n\t\t});\n\n\t\tthis.#emitter.on('renew', async () => {\n\t\t\tawait this.renew();\n\t\t});\n\t}\n\n\t/**\n\t * @name emitAdded\n\t * @description Emits an event when a token is added\n\t */\n\t#emitAdded(key: TokenType, token?: AccessToken | IDToken) {\n\t\tthis.#emitter.emit('added', key, token);\n\t}\n\n\t/**\n\t * @name emitRemoved\n\t * @description Emits an event when a token is removed\n\t */\n\t#emitRemoved(key: TokenType, token?: AccessToken | IDToken) {\n\t\tthis.#emitter.emit('removed', key, token);\n\t}\n\n\t/**\n\t * @name emitStorage\n\t * @description Emits an event when the local storage is updated\n\t */\n\t#emitStorage() {\n\t\tthis.#emitter.emit('storage');\n\t}\n\n\t/**\n\t * @name setTokens\n\t * @description Sets the tokens in storage and emits an event\n\t * @param tokens - The tokens to set\n\t * @returns void\n\t */\n\tpublic setTokens(tokens: Tokens<AC, IC>): void {\n\t\t// setup the valid token types\n\t\tconst tokenTypes: TokenType[] = ['accessToken', 'idToken'];\n\n\t\t// check if there are existing tokens in storage\n\t\tconst existingTokens = this.getTokensSync();\n\n\t\t// setup the storage objects\n\t\tconst accessTokenStorage: AccessTokenStorage = {\n\t\t\taccessToken: tokens.accessToken.accessToken,\n\t\t\tclockSkew: tokens.accessToken.clockSkew,\n\t\t};\n\n\t\tconst idTokenStorage: IDTokenStorage = {\n\t\t\tidToken: tokens.idToken.idToken,\n\t\t\tnonce: tokens.idToken.nonce,\n\t\t\tclockSkew: tokens.idToken.clockSkew,\n\t\t};\n\n\t\t// set the new tokens in storage\n\t\tthis.#storage.set(\n\t\t\tthis.#accessTokenKey,\n\t\t\taccessTokenStorage,\n\t\t\tnew Date(tokens.accessToken.expiresAt * 1000),\n\t\t);\n\t\tthis.#storage.set(\n\t\t\tthis.#idTokenKey,\n\t\t\tidTokenStorage,\n\t\t\t// use access token expiry as id token expiry as id token is always 1 hour\n\t\t\t// while the access token can be between 5 mins and 24 hours\n\t\t\t// the id token is refreshed at the same time as the access token, and is tied to\n\t\t\t// a given access token using the at_hash claim, so it is safe to use the access token expiry\n\t\t\tnew Date(tokens.accessToken.expiresAt * 1000),\n\t\t);\n\n\t\t// emit events for each token type\n\t\ttokenTypes.forEach((tokenType) => {\n\t\t\tconst newToken = tokens[tokenType];\n\t\t\tconst existingToken = existingTokens?.[tokenType];\n\n\t\t\tif (existingToken) {\n\t\t\t\tthis.#emitRemoved(tokenType, existingToken);\n\t\t\t\tthis.#emitAdded(tokenType, newToken);\n\t\t\t} else {\n\t\t\t\tthis.#emitAdded(tokenType, newToken);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @name getTokensSync\n\t * @description Gets the tokens from storage synchronously, does not refresh tokens or verify them\n\t *\n\t * @returns Tokens | undefined - The tokens if they exist\n\t */\n\tpublic getTokensSync(): Tokens<AC, IC> | undefined {\n\t\tconst accessTokenFromStorage = this.#storage.get(\n\t\t\tthis.#accessTokenKey,\n\t\t) as AccessTokenStorage | null;\n\n\t\tconst idTokenFromStorage = this.#storage.get(\n\t\t\tthis.#idTokenKey,\n\t\t) as IDTokenStorage | null;\n\n\t\tif (\n\t\t\t!accessTokenFromStorage?.accessToken ||\n\t\t\t!idTokenFromStorage?.idToken ||\n\t\t\t!idTokenFromStorage.nonce\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst { accessToken, idToken } = this.#token.decodeTokens({\n\t\t\taccessTokenRaw: accessTokenFromStorage.accessToken,\n\t\t\taccessTokenClockSkew: accessTokenFromStorage.clockSkew,\n\t\t\tidTokenRaw: idTokenFromStorage.idToken,\n\t\t\tidTokenClockSkew: idTokenFromStorage.clockSkew,\n\t\t\tnonce: idTokenFromStorage.nonce,\n\t\t});\n\n\t\tif (!isAccessToken(accessToken) || !isIDToken(idToken)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\taccessToken,\n\t\t\tidToken,\n\t\t};\n\t}\n\n\t/**\n\t * @name getTokens\n\t * @description Gets the tokens from storage asynchronously, can refresh tokens if required and verify them\n\t *\n\t * @param verifyTokens - If true, will verify the tokens before returning (default: true)\n\t * @param refreshIfRequired - If true, will refresh the tokens if they are expired (default: false)\n\t * @returns Promise<Tokens | undefined> - The tokens if they exist\n\t */\n\tpublic async getTokens({\n\t\trefreshIfRequired = false,\n\t\tverifyTokens = true,\n\t} = {}): Promise<Tokens<AC, IC> | undefined> {\n\t\ttry {\n\t\t\tconst tokens = this.getTokensSync();\n\n\t\t\tif (tokens) {\n\t\t\t\tif (verifyTokens) {\n\t\t\t\t\tawait this.#token.verifyTokens(tokens.idToken, tokens.accessToken);\n\t\t\t\t\treturn tokens;\n\t\t\t\t}\n\t\t\t\treturn tokens;\n\t\t\t}\n\n\t\t\tif (refreshIfRequired) {\n\t\t\t\tconst tokenResponse = await this.#token.getWithoutPrompt();\n\t\t\t\tthis.setTokens(tokenResponse.tokens);\n\t\t\t\treturn tokenResponse.tokens;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t} catch (error) {\n\t\t\tthis.clear();\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\t/**\n\t * @name clear\n\t * @description Clears the tokens from storage and emits an event\n\t * @returns void\n\t */\n\tpublic clear(): void {\n\t\tthis.#storage.remove(this.#accessTokenKey);\n\t\tthis.#storage.remove(this.#idTokenKey);\n\t\tthis.#emitRemoved('accessToken');\n\t\tthis.#emitRemoved('idToken');\n\t}\n\n\t/**\n\t * @name renew\n\t * @description Attempts to renew the tokens, regardless of whether they are expired or not\n\t * @returns Promise<Tokens | undefined> - The tokens if they exist\n\t */\n\tpublic async renew(): Promise<Tokens<AC, IC> | undefined> {\n\t\tconst tokenResponse = await this.#token.getWithoutPrompt();\n\t\tthis.setTokens(tokenResponse.tokens);\n\t\treturn tokenResponse.tokens;\n\t}\n}\n","import { getCookie, removeCookie } from '@guardian/libs';\nimport type {\n\tIdentityAuthOptions,\n\tIdentityAuthState,\n\tOAuthUrls,\n\tRequiredIdentityAuthOptions,\n} from './@types/OAuth';\nimport type { CustomClaims } from './@types/Token';\nimport { AuthStateManager } from './authState';\nimport { AutoRenewService } from './autoRenew';\nimport { cookieRefreshIfRequired } from './cookieRefresh';\nimport { Emitter } from './emitter';\nimport { OAuthError } from './error';\nimport { Token } from './token';\nimport { TokenManager } from './tokenManager';\n\n/**\n * @class IdentityAuth\n * @description IdentityAuth is the main class for interacting with the Guardian's OAuth2.0 implementation within a browser\n *\n * This provides minimal functionality for the Guardian's OAuth2.0 implementation.\n *\n * It provides the following functionality when instantiated:\n * - A `tokenManager` for managing oauth tokens\n * - A `token` for requesting new oauth tokens\n * - An `authStateManager` for managing the current authentication state\n *\n * @param {IdentityAuthOptions} options - The options for IdentityAuth\n */\nexport class IdentityAuth<\n\tAC extends CustomClaims = CustomClaims,\n\tIC extends CustomClaims = CustomClaims,\n> {\n\t#options: RequiredIdentityAuthOptions;\n\t#oauthUrls: OAuthUrls;\n\t#emitter: Emitter;\n\t#autoRenewService: AutoRenewService;\n\n\t// holder if there is currently an is signed in check in progress\n\t#isSignedInWithAuthStateInProgress:\n\t\t| Promise<IdentityAuthState<AC, IC>>\n\t\t| undefined;\n\n\tpublic tokenManager: TokenManager<AC, IC>;\n\tpublic token: Token<AC, IC>;\n\tpublic authStateManager: AuthStateManager<AC, IC>;\n\n\tconstructor(options: IdentityAuthOptions) {\n\t\tthis.#options = {\n\t\t\tautoRenew: true,\n\t\t\trenewGracePeriod: 60,\n\t\t\tmaxClockSkew: 300,\n\t\t\tidCookieSessionRefresh: false,\n\t\t\toauthTimeout: 30000,\n\t\t\tstrictClockSkewCheck: false,\n\t\t\t...options,\n\t\t};\n\t\tthis.#oauthUrls = {\n\t\t\tauthorizeUrl: `${this.#options.issuer}/v1/authorize`,\n\t\t\ttokenUrl: `${this.#options.issuer}/v1/token`,\n\t\t\tkeysUrl: `${this.#options.issuer}/v1/keys`,\n\t\t};\n\n\t\t// before doing anything else, we check if the user's session should be refreshed based on the idCookieSessionRefresh option\n\t\tcookieRefreshIfRequired(\n\t\t\tthis.#options.idCookieSessionRefresh,\n\t\t\tthis.#options.issuer,\n\t\t);\n\n\t\tthis.#emitter = new Emitter();\n\t\tthis.token = new Token<AC, IC>(this.#options, this.#oauthUrls);\n\t\tthis.tokenManager = new TokenManager<AC, IC>(this.#emitter, this.token);\n\t\tthis.authStateManager = new AuthStateManager<AC, IC>(\n\t\t\tthis.#emitter,\n\t\t\tthis.tokenManager,\n\t\t);\n\t\tthis.#autoRenewService = new AutoRenewService(\n\t\t\tthis.#options,\n\t\t\tthis.#emitter,\n\t\t\tthis.authStateManager,\n\t\t);\n\n\t\tthis.#isSignedInWithAuthStateInProgress = undefined;\n\n\t\tthis.#autoRenewService.start();\n\t}\n\n\t/**\n\t * @name #isSignedInWithAuthState\n\t * @description Private implementation of `isSignedInWithAuthState`, see `isSignedInWithAuthState` for more details\n\t * @returns `AuthState` - Returns the current authentication state\n\t */\n\tasync #isSignedInWithAuthState(): Promise<IdentityAuthState<AC, IC>> {\n\t\ttry {\n\t\t\t// first check if the user has valid access and id tokens\n\t\t\tconst authState = this.authStateManager.getAuthState();\n\t\t\t// if they do we need to check if a user has recently signed out\n\t\t\tif (authState.isAuthenticated) {\n\t\t\t\t// validate the id token and access token to make sure auth state is still valid\n\t\t\t\tawait this.token.verifyTokens(authState.idToken, authState.accessToken);\n\n\t\t\t\t// if a user has a GU_SO cookie, they might have recently signed out\n\t\t\t\tconst guSoCookie = parseInt(\n\t\t\t\t\tgetCookie({ name: 'GU_SO', shouldMemoize: true }) ?? '',\n\t\t\t\t);\n\n\t\t\t\t// calculate the clock skew between the user's device and the server\n\t\t\t\tconst normalisedCurrentTime =\n\t\t\t\t\tMath.floor(Date.now() / 1000) - authState.idToken.clockSkew;\n\n\t\t\t\t// if the GU_SO cookie value (the timestamp when a user last signed out) is greater than the id token's iat (issued at) value,\n\t\t\t\t// then the user has recently signed out, so we should clear their tokens\n\t\t\t\tif (\n\t\t\t\t\t// make sure that the GU_SO cookie is in the past\n\t\t\t\t\tguSoCookie <= normalisedCurrentTime &&\n\t\t\t\t\t// compare the GU_SO cookie to the id token's iat value\n\t\t\t\t\tguSoCookie > authState.idToken.claims.iat\n\t\t\t\t) {\n\t\t\t\t\t// clear the tokens\n\t\t\t\t\t// we don't return a blank auth state here,\n\t\t\t\t\t// as the user * might * still be signed in, so we go to the next check\n\t\t\t\t\tthis.tokenManager.clear();\n\t\t\t\t} else {\n\t\t\t\t\t// otherwise the user is signed in, so return the auth state\n\t\t\t\t\t// if the id token is valid, return the auth state\n\t\t\t\t\treturn authState;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if the user doesn't have tokens, but they have a GU_U cookie, they are \"maybe\" signed in\n\t\t\t// we can try to get tokens without prompting/redirecting the user for credentials\n\t\t\t// it will error if the user is not signed in\n\t\t\t// if testing on localhost, you will need to set the GU_U cookie manually\n\t\t\tif (getCookie({ name: 'GU_U', shouldMemoize: true })) {\n\t\t\t\tconst tokens = await this.tokenManager.getTokens({\n\t\t\t\t\trefreshIfRequired: true,\n\t\t\t\t});\n\t\t\t\tif (tokens) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\taccessToken: tokens.accessToken,\n\t\t\t\t\t\tidToken: tokens.idToken,\n\t\t\t\t\t\tisAuthenticated: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\t// if we weren't able to get the tokens, despite having a GU_U cookie, the user is not signed in\n\t\t\t\t\t// we should clear the GU_U cookie, as it is likely invalid\n\t\t\t\t\tremoveCookie({ name: 'GU_U' });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if the user doesn't have tokens or a GU_U cookie, they are not signed in\n\t\t\treturn {\n\t\t\t\taccessToken: undefined,\n\t\t\t\tidToken: undefined,\n\t\t\t\tisAuthenticated: false,\n\t\t\t};\n\t\t} catch (error) {\n\t\t\t// check if the error is an OAuthError and the error is login_required, in which case the user is not signed in\n\t\t\tif (error instanceof OAuthError && error.error === 'login_required') {\n\t\t\t\t// remove the GU_U cookie, as it is likely invalid\n\t\t\t\tremoveCookie({ name: 'GU_U' });\n\n\t\t\t\t// and return isAuthenticated: false\n\t\t\t\treturn {\n\t\t\t\t\taccessToken: undefined,\n\t\t\t\t\tidToken: undefined,\n\t\t\t\t\tisAuthenticated: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// otherwise there is an unknown error, so clear any tokens and throw the error\n\t\t\tthis.tokenManager.clear();\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\t/**\n\t * @name isSignedInWithAuthState\n\t * @description Checks if the user is signed in, and updates the auth state as necessary, returns the current auth state\n\t *\n\t * This performs side effects.\n\t *\n\t * This follows the flowchart from https://github.com/guardian/gateway/blob/main/docs/okta/web-apps-integration-guide.md#how-to-know-if-a-reader-is-signed-in to determine if the user is signed in\n\t *\n\t * 1. If the user tokens already exist, then verify them to make sure they are still valid\n\t * 2. If they do, check if the user has a `GU_SO` cookie and compare it to the `iat` value of the id token\n\t *   a. If the `GU_SO` cookie value is greater than the `iat` value, the user has recently signed out, so we should clear their tokens (side effect)\n\t *   b. Otherwise, the user is signed in, so return the auth state\n\t * 3. If the user doesn't have tokens, but they have a `GU_U` cookie, they are \"maybe\" signed in\n\t *  a. We can try to get tokens without prompting/redirecting the user for credentials (side effect)\n\t * \tb. If no tokens are returned, we clear the `GU_U` cookie, as it is likely invalid (side effect)\n\t *  c. If there is an error getting the tokens:\n\t *    i. If the error is an `OAuthError` and the error is `login_required`, the user is not signed in, so we clear the `GU_U` cookie, as it is likely invalid (side effect)\n\t *    ii. Otherwise, there is an unknown error, so clear any tokens and throw the error\n\t * 4. If the user doesn't have tokens or a GU_U cookie, they are not signed in\n\t *\n\t * For optimisation, this method will only run one signed in check at a time,\n\t * and will return the existing promise if a check is already in progress\n\t *\n\t * @returns `AuthState` - Returns the current authentication state\n\t */\n\tpublic async isSignedInWithAuthState(): Promise<IdentityAuthState<AC, IC>> {\n\t\t// check if there is already a signed in check in progress\n\t\tif (this.#isSignedInWithAuthStateInProgress) {\n\t\t\t// if there is, return the existing promise\n\t\t\treturn this.#isSignedInWithAuthStateInProgress;\n\t\t}\n\n\t\t// if there isn't, start a new signed in check\n\t\t// by creating a new promise that clears itself when it finishes\n\t\tthis.#isSignedInWithAuthStateInProgress =\n\t\t\tthis.#isSignedInWithAuthState().finally(() => {\n\t\t\t\tthis.#isSignedInWithAuthStateInProgress = undefined;\n\t\t\t});\n\n\t\t// return the new promise\n\t\treturn this.#isSignedInWithAuthStateInProgress;\n\t}\n\n\t/**\n\t * @name isSignedIn\n\t * @description Checks if the user is signed in, and updates the auth state as necessary, returns boolean\n\t *\n\t * This performs side effects.\n\t *\n\t * This follows the flowchart from https://github.com/guardian/gateway/blob/main/docs/okta/web-apps-integration-guide.md#how-to-know-if-a-reader-is-signed-in to determine if the user is signed in\n\t *\n\t * 1. If the user tokens already exist, then verify them to make sure they are still valid\n\t * 2. If they do, check if the user has a `GU_SO` cookie and compare it to the `iat` value of the id token\n\t *   a. If the `GU_SO` cookie value is greater than the `iat` value, the user has recently signed out, so we should clear their tokens (side effect)\n\t *   b. Otherwise, the user is signed in, so return the auth state\n\t * 3. If the user doesn't have tokens, but they have a `GU_U` cookie, they are \"maybe\" signed in\n\t *  a. We can try to get tokens without prompting/redirecting the user for credentials (side effect)\n\t * \tb. If no tokens are returned, we clear the `GU_U` cookie, as it is likely invalid (side effect)\n\t *  c. If there is an error getting the tokens:\n\t *    i. If the error is an `OAuthError` and the error is `login_required`, the user is not signed in, so we clear the `GU_U` cookie, as it is likely invalid (side effect)\n\t *    ii. Otherwise, there is an unknown error, so clear any tokens and throw the error\n\t * 4. If the user doesn't have tokens or a GU_U cookie, they are not signed in\n\t *\n\t * @returns `boolean` - `true` if the user is signed in, `false` if not\n\t */\n\tpublic async isSignedIn(): Promise<boolean> {\n\t\treturn (await this.isSignedInWithAuthState()).isAuthenticated;\n\t}\n}\n","import { IdentityAuth } from '@guardian/identity-auth';\nimport type { CustomClaims } from '@guardian/identity-auth';\nimport { isOneOf } from '@guardian/libs';\n\nconst stages = ['PROD', 'CODE', 'DEV'] as const;\ntype Stage = (typeof stages)[number];\nconst isStage = isOneOf(stages);\n\nexport type FrontendIdTokenClaims = CustomClaims & {\n\temail: string;\n\tbraze_uuid: string;\n\tgoogle_tag_id: string;\n};\n\nexport type FrontendIdentityAuth = IdentityAuth<never, FrontendIdTokenClaims>;\n\nconst getStage = (isDev: boolean, stage: string) =>\n\tisDev || !isStage(stage) ? 'DEV' : stage;\n\n/**\n * Decide Issuer URL based on Stage.\n *\n * NOTE: These values are specifically are solely for use on www.theguardian.com\n *\n * @param stage\n * @returns issuer URL\n */\nconst getIssuer = (stage: Stage) =>\n\tstage === 'PROD'\n\t\t? 'https://profile.theguardian.com/oauth2/aus3xgj525jYQRowl417'\n\t\t: 'https://profile.code.dev-theguardian.com/oauth2/aus3v9gla95Toj0EE0x7';\n\n/**\n * Decide Client ID based on Stage.\n *\n * NOTE: These values are specifically are solely for use on www.theguardian.com\n *\n * @param stage\n * @returns Client ID\n */\nconst getClientId = (stage: Stage) =>\n\tstage === 'PROD' ? '0oa79m1fmgzrtaHc1417' : '0oa53x6k5wGYXOGzm0x7';\n\nconst getRedirectUri = (stage: Stage) => {\n\tswitch (stage) {\n\t\tcase 'PROD':\n\t\t\treturn 'https://www.theguardian.com/';\n\t\tcase 'CODE':\n\t\t\treturn 'https://m.code.dev-theguardian.com/';\n\t\tcase 'DEV':\n\t\tdefault:\n\t\t\treturn 'http://localhost:3030/';\n\t}\n};\n\nexport const getIdentityAuth = () => {\n\tif (!window.guardian) {\n\t\tthrow new Error('window.guardian has not yet been initialized');\n\t}\n\n\tconst {\n\t\tisDev = false,\n\t\tstage = 'PROD',\n\t\tswitches,\n\t} = window.guardian.config ?? {};\n\tconst stageOrDev = getStage(isDev, stage);\n\n\twindow.guardian.identityAuth ||= new IdentityAuth<\n\t\tnever,\n\t\tFrontendIdTokenClaims\n\t>({\n\t\tissuer: getIssuer(stageOrDev),\n\t\tclientId: getClientId(stageOrDev),\n\t\tredirectUri: getRedirectUri(stageOrDev),\n\t\tidCookieSessionRefresh: switches?.idCookieRefresh ?? false,\n\t\tscopes: [\n\t\t\t'openid', // required for open id connect, returns an id token\n\t\t\t'profile', // populates the id token with basic profile information\n\t\t\t'email', // populates the id token with the user's email address\n\t\t\t'guardian.discussion-api.private-profile.read.self', // allows the access token to be used to make requests to the discussion api to read the user's profile\n\t\t\t'guardian.discussion-api.update.secure', // allows the access token to be used to make requests to the discussion api to post comments, upvote etc\n\t\t\t'guardian.identity-api.newsletters.read.self', // allows the access token to be used to make requests to the identity api to read the user's newsletter subscriptions\n\t\t\t'guardian.identity-api.newsletters.update.self', // allows the access token to be used to make requests to the identity api to update the user's newsletter subscriptions\n\t\t\t'guardian.identity-api.user.username.create.self.secure', // allows the access token to set the user's username\n\t\t\t'guardian.members-data-api.read.self', // allows the access token to be used to make requests to the members data api to read the user's membership status\n\t\t\t'id_token.profile.theguardian', // populates the id token with application specific profile information\n\t\t],\n\t});\n\n\treturn window.guardian.identityAuth;\n};\n","import { getIdentityAuth } from '@guardian/identity-auth-frontend';\nimport { getCookie } from '@guardian/libs';\nexport async function isSignedInWithOktaAuthState() {\n    return getIdentityAuth()\n        .isSignedInWithAuthState()\n        .catch((e) => {\n        // eslint-disable-next-line no-console -- we want to log the error to console, not Sentry\n        console.error(e);\n        return {\n            isAuthenticated: false,\n            accessToken: undefined,\n            idToken: undefined,\n        };\n    });\n}\nlet userFromCookieCache = null;\nconst cookieName = 'GU_U';\nconst getUserCookie = () => getCookie({ name: cookieName, shouldMemoize: true });\nconst decodeBase64 = (str) => decodeURIComponent(escape(window.atob(str.replace(/-/g, '+').replace(/_/g, '/').replace(/,/g, '='))));\nconst getUserFromCookie = () => {\n    if (userFromCookieCache === null) {\n        const cookieData = getUserCookie();\n        if (cookieData) {\n            try {\n                const userData = JSON.parse(decodeBase64(cookieData.split('.')[0] ?? ''));\n                const id = parseInt(userData[0] ?? '', 10);\n                const displayName = decodeURIComponent(userData[2] ?? '');\n                const accountCreatedDate = userData[6];\n                const userEmailValidated = Boolean(userData[7]);\n                if (id && accountCreatedDate) {\n                    userFromCookieCache = {\n                        id,\n                        publicFields: {\n                            displayName,\n                        },\n                        dates: { accountCreatedDate },\n                        statusFields: {\n                            userEmailValidated,\n                        },\n                        rawResponse: cookieData,\n                    };\n                }\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console -- we want to log the error to console, not Sentry\n                console.error('Cookie value is malformed', e);\n            }\n        }\n    }\n    return userFromCookieCache;\n};\nexport const isUserLoggedIn = () => getUserFromCookie() !== null;\nexport const getOptionsHeadersWithOkta = (authStatus) => {\n    if (authStatus.kind === 'SignedInWithCookies') {\n        return {\n            credentials: 'include',\n        };\n    }\n    return {\n        headers: {\n            Authorization: `Bearer ${authStatus.accessToken.accessToken}`,\n            'X-GU-IS-OAUTH': 'true',\n        },\n    };\n};\nexport async function getAuthState() {\n    const authState = await isSignedInWithOktaAuthState();\n    return authState;\n}\nexport async function eitherInOktaTestOrElse(inOktaTestFunction, notInOktaTestFunction) {\n    const useOkta = !!window.guardian.config.switches.okta;\n    if (useOkta) {\n        const authState = await getAuthState();\n        return inOktaTestFunction(authState);\n    }\n    else {\n        return notInOktaTestFunction();\n    }\n}\nexport function getSignedInStatusWithOkta(authState) {\n    if (authState.isAuthenticated) {\n        return {\n            kind: 'SignedInWithOkta',\n            accessToken: authState.accessToken,\n            idToken: authState.idToken,\n        };\n    }\n    return { kind: 'SignedOutWithOkta' };\n}\nexport const isUserLoggedInOktaRefactor = () => getAuthStatus().then((authStatus) => authStatus.kind === 'SignedInWithCookies' ||\n    authStatus.kind === 'SignedInWithOkta'\n    ? true\n    : false);\nexport function getSignedInStatusWithCookies() {\n    const GU_UCookie = getUserCookie();\n    return GU_UCookie === null || GU_UCookie === ''\n        ? { kind: 'SignedOutWithCookies' }\n        : { kind: 'SignedInWithCookies' };\n}\nexport const getAuthStatus = async () => {\n    const useOkta = !!window.guardian.config.switches.okta;\n    if (useOkta) {\n        const authState = await getAuthState();\n        return getSignedInStatusWithOkta(authState);\n    }\n    else {\n        return getSignedInStatusWithCookies();\n    }\n};\n","export const isServer = typeof window === 'undefined';\n","import { isOneOf, startPerformanceMeasure } from '@guardian/libs';\nconst START = Date.now();\n/**\n * Keeps a count of how many tasks are currently running, so we can manage concurrency.\n */\nlet RUNNING_TASK_COUNT = 0;\n/**\n * The maximum amount of concurrent tasks.\n * @default Infinity\n */\nlet CONCURRENCY_COUNT = Infinity;\n/**\n * Possible task priorities.\n *\n * These are the Guardian's priorities, not the user's or browser's.\n *\n * The order of this array is important. Tasks are batched according to these\n * priorities, and the scheduler will prefer the priority with the lowest index.\n **/\nconst PRIORITIES = ['critical', 'feature', 'enhancement'];\nexport const isValidSchedulerPriority = isOneOf(PRIORITIES);\n/**\n * Stores scheduled tasks in a queue, grouped by priority.\n */\nconst queue = {\n    critical: { lastStartTime: Infinity, tasks: [] },\n    feature: { lastStartTime: Infinity, tasks: [] },\n    enhancement: { lastStartTime: Infinity, tasks: [] },\n};\n/**\n * Checks whether there's spare task-running capacity.\n */\nfunction atConcurrencyLimit() {\n    return RUNNING_TASK_COUNT === CONCURRENCY_COUNT;\n}\n/**\n * Gets the next task to run, according to priority and the order they were\n * scheduled.\n */\nfunction getNextTask() {\n    if (atConcurrencyLimit())\n        return undefined;\n    const runningTime = Date.now() - START;\n    for (const priority of PRIORITIES) {\n        const { lastStartTime, tasks } = queue[priority];\n        const nextTask = tasks.shift();\n        if (runningTime <= lastStartTime && nextTask?.canRun({ runningTime })) {\n            return nextTask;\n        }\n    }\n    // found no suitable tasks, so return undefined\n    return undefined;\n}\n/**\n * Handles running tasks.\n *\n * Gets the next eligible task from the queue, executes it, then calls the\n * task's resolver with the result.\n *\n * If there are no tasks to run, or the maximum number of tasks are already\n * running, then it does nothing.\n */\nfunction run() {\n    const nextTask = getNextTask();\n    if (!nextTask)\n        return;\n    RUNNING_TASK_COUNT++;\n    const { name, task, resolver } = nextTask;\n    const { endPerformanceMeasure } = startPerformanceMeasure('dotcom', 'scheduler', name);\n    task()\n        .then(resolver)\n        .catch(console.error)\n        .finally(() => {\n        endPerformanceMeasure();\n        RUNNING_TASK_COUNT--;\n        run();\n    });\n}\n/**\n * Schedules a task for execution.\n * @param name Human name for the task, used for logging etc.\n * @param task The thing you want to do. This should be a function that\n * returns a promise. Make sure its an _honest_ promise! If you just return\n * `Promise.resolve()` to keep the compiler happy, then the scheduler will\n * think the task instantly completed and start the next one too soon.\n * @param options Options for scheduling a task.\n * @param {Priority} options.priority Priority of the task. Tasks with\n * higher priority will be run first. Defaults to `'standard'`.\n * @returns A promise that resolves when the task completes.\n */\nexport async function schedule(name, task, { priority, canRun = () => true }) {\n    const queueableTask = { name, task, canRun };\n    const scheduledTask = new Promise((resolve) => (queueableTask.resolver = resolve));\n    // we know this is safe because we know function in the new Promise above\n    // is synchronous (even if TS doesn't)\n    queue[priority].tasks.push(queueableTask);\n    run();\n    return scheduledTask;\n}\nexport function setSchedulerConcurrency(concurrency) {\n    CONCURRENCY_COUNT = concurrency;\n}\n/**\n * Set the number of milliseconds since the scheduler was initialised\n * after which tasks of a given priority will no longer be started.\n *\n * Defaults to `Infinity` for all priorities.\n */\nexport function setSchedulerPriorityLastStartTime(priority, lastStartTime) {\n    queue[priority].lastStartTime = lastStartTime;\n    run();\n}\n","\"use strict\";\n/**\n * Controls whether we should build the variant bundle.\n *\n * Set this to `true` if you want to serve a server-side experiment against\n * the a variant bundle A/B test.\n *\n * Ensure Sentry sampling in sentry/sentryLoader.ts is adjusted for the sample\n * size of the test\n *\n * @type {boolean} prevent TS from narrowing this to its current value\n */\nconst BUILD_VARIANT = false;\n/**\n * Server-side test names for running variant test.\n *\n * The name is transformed from kebab-case to camelCase,\n * so we have the relevant prefix captured here.\n *\n * @see https://github.com/guardian/frontend/blob/main/common/app/experiments/Experiments.scala\n *\n * @type {(variant: 'Variant' | 'Control') => import(\"../src/types/config\").ServerSideTestNames}\n */\nconst dcrJavascriptBundle = (variant) => `dcrJavascriptBundle${variant}`;\nmodule.exports = {\n    BUILD_VARIANT,\n    dcrJavascriptBundle,\n};\n","/**\nDetect whether or not the user has an ad blocking extension enabled.\nA few ad blockers are not detectable with this approach e.g. Safari / Adblock\nCode inspired by just-detect-adblock's:\nhttps://github.com/wmcmurray/just-detect-adblock/blob/master/src/helpers.js\n*/\n/*istanbul ignore file -- adElementBlocked can't be tested without patching each of the properties of\nHTMLElement.prototype that it accesses, defeating the purpose of the test! */\nlet adBlockInUse = undefined;\nfunction adElementBlocked(ad) {\n    if (ad.offsetParent === null ||\n        ad.offsetHeight === 0 ||\n        ad.offsetLeft === 0 ||\n        ad.offsetTop === 0 ||\n        ad.offsetWidth === 0 ||\n        ad.clientHeight === 0 ||\n        ad.clientWidth === 0) {\n        return true;\n    }\n    const adStyles = window.getComputedStyle(ad);\n    if (adStyles.getPropertyValue('display') === 'none')\n        return true;\n    if (adStyles.getPropertyValue('visibility') === 'hidden')\n        return true;\n    const mozBindingProp = adStyles.getPropertyValue('-moz-binding');\n    if (mozBindingProp.includes('about:'))\n        return true;\n    return false;\n}\n/**\n * Determines whether or not the user has an ad blocking extension enabled.\n * Note: positive results can be considered reliable while negative ones may not be.\n * @returns Promise\n */\nexport function isAdBlockInUse() {\n    if (adBlockInUse !== undefined) {\n        return Promise.resolve(adBlockInUse);\n    }\n    if (typeof window.getComputedStyle !== 'function') {\n        // Old browsers not supporting getComputedStyle most likely won't have adBlockers\n        adBlockInUse = false;\n        return Promise.resolve(adBlockInUse);\n    }\n    return new Promise((resolve) => {\n        window.requestAnimationFrame(() => {\n            // create a fake ad element and append it to the document\n            const ad = document.createElement('div');\n            ad.setAttribute('class', 'ad_unit pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner');\n            ad.setAttribute('style', 'width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;');\n            document.body.appendChild(ad);\n            // avoid a forced layout\n            window.requestAnimationFrame(() => {\n                // if the ad element has been hidden, an ad blocker is enabled.\n                resolve(adElementBlocked(ad));\n            });\n        });\n    });\n}\n","import { log } from '@guardian/libs';\nconst supportsPerformanceAPI = () => typeof window !== 'undefined' &&\n    typeof window.performance !== 'undefined' &&\n    typeof window.performance.mark === 'function';\n// Events will be logged using the performance API for all slots, but only these slots will be tracked as commercial metrics and sent to the data lake\nconst trackedSlots = [\n    'top-above-nav',\n    'inline1',\n    'inline2',\n    'fronts-banner-1',\n    'fronts-banner-2',\n];\n// marks that we want to save as commercial metrics\nconst slotMarks = [\n    'slotReady',\n    'adRenderStart',\n    'prebidStart',\n    'adOnPage',\n    'viewable',\n];\n// measures that we want to save as commercial metrics\nconst slotMeasures = [\n    'adRender',\n    'defineSlot',\n    'prepareSlot',\n    'prebid',\n    'fetchAd',\n];\nconst pageMarks = ['commercialStart', 'commercialModulesLoaded'];\n// measures that we want to save as commercial metrics\nconst pageMeasures = ['commercialBoot', 'googletagInit'];\n// all marks, including the measure start and end marks\nconst allSlotMarks = [\n    ...slotMarks,\n    ...slotMeasures.map((measure) => `${measure}Start`),\n    ...slotMeasures.map((measure) => `${measure}End`),\n];\nconst externalMarks = [\n    'cmp-init',\n    'cmp-ui-displayed',\n    'cmp-got-consent',\n];\nconst shouldSave = (name) => {\n    let [origin, type] = name.split('_');\n    if (!type) {\n        type = origin;\n        origin = 'page';\n    }\n    const shouldSaveMark = (trackedSlots.includes(origin) &&\n        slotMarks.includes(type)) ||\n        (origin === 'page' && pageMarks.includes(type));\n    const shouldSaveMeasure = (trackedSlots.includes(origin) &&\n        slotMeasures.includes(type)) ||\n        (origin === 'page' && pageMeasures.includes(type));\n    return shouldSaveMark || shouldSaveMeasure;\n};\nclass EventTimer {\n    _marks;\n    _measures;\n    properties;\n    /**\n     * Initialise the EventTimer class on page.\n     * Returns the singleton instance of the EventTimer class and binds\n     * to window.guardian.commercialTimer. If it's been previously\n     * initialised and bound it returns the original instance\n     * Note: We save to window.guardian.commercialTimer because\n     * different bundles (DCR / DCP) can use commercial core, and we want\n     * all timer events saved to a single instance per-page\n     * @returns {EventTimer} Instance of EventTimer\n     */\n    static init() {\n        return (window.guardian.commercialTimer ||= new EventTimer());\n    }\n    /**\n     * Just a helper method to access the singleton instance of EventTimer.\n     * Typical use case is EventTimer.get().trigger\n     */\n    static get() {\n        return this.init();\n    }\n    /**\n     * These are marks that are not triggered by commercial but we are interested in\n     * tracking their performance. For example, CMP-related events.\n     **/\n    get _externalMarks() {\n        if (!supportsPerformanceAPI()) {\n            return new Map();\n        }\n        return externalMarks.reduce((map, mark) => {\n            const entries = window.performance.getEntriesByName(mark);\n            if (entries.length && entries[0]) {\n                map.set(mark, entries[0]);\n            }\n            return map;\n        }, new Map());\n    }\n    /**\n     * Returns all performance marks that should be saved as commercial metrics.\n     */\n    get marks() {\n        return [...this._marks, ...this._externalMarks].map(([name, timer]) => ({\n            name,\n            ts: timer.startTime,\n        }));\n    }\n    /**\n     * Returns all performance measures that should be saved as commercial metrics.\n     */\n    get measures() {\n        return [...this._measures].map(([name, measure]) => ({\n            name,\n            duration: measure.duration,\n        }));\n    }\n    constructor() {\n        this._marks = new Map();\n        this._measures = new Map();\n        this.properties = {};\n        if (window.navigator.connection) {\n            this.properties.type = window.navigator.connection.type;\n            this.properties.downlink = window.navigator.connection.downlink;\n            this.properties.effectiveType =\n                window.navigator.connection.effectiveType;\n        }\n    }\n    /**\n     * Adds a non timer measurement\n     *\n     * @param {string} name - the property's name\n     * @param value - the property's value\n     */\n    setProperty(name, value) {\n        this.properties[name] = value;\n    }\n    /**\n     * Creates a new performance mark, and if the mark ends with 'End' it will\n     * create a performance measure between the start and end marks.\n     *\n     * Marks can  be triggered multiple times, but we only save the first\n     * instance of a mark, as things like ad refreshes can trigger the same mark.\n     *\n     * More info on the performance API:\n     * https://developer.mozilla.org/en-US/docs/Web/API/Performance/mark\n     * https://developer.mozilla.org/en-US/docs/Web/API/Performance/measure\n     *\n     * @todo more strict typing for eventName and origin\n     * @param eventName The short name applied to the mark\n     * @param origin - Either 'page' (default) or the name of the slot\n     */\n    mark(eventName, origin = 'page') {\n        let name = eventName;\n        if (allSlotMarks.includes(eventName) && origin !== 'page') {\n            name = `${origin}_${name}`;\n        }\n        if (!!this._marks.get(name) || !supportsPerformanceAPI()) {\n            return;\n        }\n        const mark = window.performance.mark(name);\n        if (\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- browser support is patchy\n        typeof mark?.startTime === 'number' &&\n            // we only want to save the marks that are related to certain slots or the page\n            shouldSave(name)) {\n            this._marks.set(name, mark);\n        }\n        if (name.endsWith('End')) {\n            this.measure(name);\n        }\n    }\n    /**\n     * Creates a performance measure given the name of the end marks.\n     * The start mark is inferred from the end mark.\n     *\n     * @param endMark - The name of the mark that ends the measure\n     **/\n    measure(endMark) {\n        const startMark = endMark.replace('End', 'Start');\n        const measureName = endMark.replace('End', '');\n        const startMarkExists = window.performance.getEntriesByName(startMark).length > 0;\n        if (startMarkExists) {\n            try {\n                const measure = window.performance.measure(measureName, startMark, endMark);\n                // we only want to save the measures that are related to certain slots or the page\n                if (measure && shouldSave(measureName)) {\n                    this._measures.set(measureName, measure);\n                }\n            }\n            catch (e) {\n                log('commercial', `error measuring ${measureName}`, e);\n            }\n        }\n    }\n}\nconst _ = {\n    slotMarks,\n    slotMeasures,\n    trackedSlots,\n};\nexport { EventTimer, _, supportsPerformanceAPI };\n","import { breakpoints, isBreakpoint } from './lib/breakpoint';\n/**\n * Store ad sizes in a way that is compatible with google-tag but also accessible via\n * more semantic `width`/`height` properties and keep things readonly.\n *\n * example:\n * const size = new AdSize([300, 250]);\n *\n * size.width === 300; // true\n * size[0] === 300; // true\n *\n * size.height === 250; // true\n * size[1] === 250; // true\n *\n * size[0] = 200; // throws error\n * size.width = 200; // throws error\n *\n */\nclass AdSize extends Array {\n    [0];\n    [1];\n    constructor([width, height]) {\n        super();\n        this[0] = width;\n        this[1] = height;\n    }\n    toString() {\n        return this.width === 0 && this.height === 0\n            ? 'fluid'\n            : `${this.width},${this.height}`;\n    }\n    toArray() {\n        return [this[0], this[1]];\n    }\n    // The advert size is not reflective of the actual size of the advert.\n    // For example, fluid ads and Guardian merch ads are larger than the dimensions\n    isProxy() {\n        const isOutOfPage = this.width === 1 && this.height === 1;\n        const isEmpty = this.width === 2 && this.height === 2;\n        const isFluid = this.toString() === 'fluid';\n        const isMerch = this.width === 88;\n        const isSponsorLogo = this.width === 3 && this.height === 3;\n        return isOutOfPage || isEmpty || isFluid || isMerch || isSponsorLogo;\n    }\n    get width() {\n        return this[0];\n    }\n    get height() {\n        return this[1];\n    }\n}\nconst createAdSize = (width, height) => {\n    return new AdSize([width, height]);\n};\nconst namedStandardAdSizes = {\n    billboard: createAdSize(970, 250),\n    halfPage: createAdSize(300, 600),\n    leaderboard: createAdSize(728, 90),\n    mobilesticky: createAdSize(320, 50),\n    mpu: createAdSize(300, 250),\n    portrait: createAdSize(300, 1050),\n    skyscraper: createAdSize(160, 600),\n    cascade: createAdSize(940, 230),\n    portraitInterstitial: createAdSize(320, 480),\n};\nconst standardAdSizes = {\n    '970x250': namedStandardAdSizes.billboard,\n    '300x600': namedStandardAdSizes.halfPage,\n    '728x90': namedStandardAdSizes.leaderboard,\n    '300x250': namedStandardAdSizes.mpu,\n    '300x1050': namedStandardAdSizes.portrait,\n    '160x600': namedStandardAdSizes.skyscraper,\n};\nconst outstreamSizes = {\n    outstreamDesktop: createAdSize(620, 350),\n    outstreamGoogleDesktop: createAdSize(550, 310),\n    outstreamMobile: createAdSize(300, 197),\n};\n/**\n * Ad sizes commonly associated with third parties\n */\nconst proprietaryAdSizes = {\n    fluid: createAdSize(0, 0),\n    googleCard: createAdSize(300, 274),\n    outOfPage: createAdSize(1, 1),\n    pubmaticInterscroller: createAdSize(371, 660), // pubmatic only mobile size\n};\n/**\n * Ad sizes associated with in-house formats\n */\nconst guardianProprietaryAdSizes = {\n    empty: createAdSize(2, 2),\n    fabric: createAdSize(88, 71),\n    merchandising: createAdSize(88, 88),\n    merchandisingHigh: createAdSize(88, 87),\n    merchandisingHighAdFeature: createAdSize(88, 89),\n    /**\n     * This is a proxy size (not the true size of the rendered creative)\n     * that can be used to ensure that no other high priority line items\n     * fill a certain slot.\n     */\n    sponsorLogo: createAdSize(3, 3),\n};\nconst adSizes = {\n    ...namedStandardAdSizes,\n    ...standardAdSizes,\n    ...outstreamSizes,\n    ...proprietaryAdSizes,\n    ...guardianProprietaryAdSizes,\n};\n/**\n * mark: 432b3a46-90c1-4573-90d3-2400b51af8d0\n * Some of these may or may not need to be synced for with the sizes in ./create-ad-slot.ts\n * these were originally from DCR, create-ad-slot.ts ones were in frontend.\n *\n * Note:\n * If a breakpoint is not defined in a size mapping for a slot, that breakpoint will use the sizes\n * of the next breakpoint down that has a size mapping. For example, if only \"mobile\" and \"phablet\" sizes\n * are defined for a slot, all breakpoints larger than \"phablet\" will use the mapping for \"phablet\".\n *\n * In another example, if a slot has only \"tablet\" as a size mapping defined,\n * then \"desktop\" will use the size mapping for \"tablet\". \"mobile\" and \"phablet\"\n * will have no size mapping. This type of example may be used in cases where\n * we only want the slot to appear on the \"tablet\" size or greater.\n **/\nconst slotSizeMappings = {\n    inline: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n    },\n    right: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.fluid,\n        ],\n    },\n    comments: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n    },\n    'comments-expanded': {\n        mobile: [adSizes.mpu, adSizes.empty],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n            adSizes.skyscraper,\n            adSizes.halfPage,\n        ],\n    },\n    'top-above-nav': {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.fabric,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.fluid,\n        ],\n        tablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.fabric,\n            adSizes.fluid,\n            adSizes.leaderboard,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.leaderboard,\n            createAdSize(940, 230),\n            createAdSize(900, 250),\n            adSizes.billboard,\n            adSizes.fabric,\n            adSizes.fluid,\n        ],\n    },\n    'fronts-banner': {\n        tablet: [adSizes.empty, adSizes.leaderboard],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.billboard,\n            adSizes.merchandisingHigh,\n            adSizes.fluid,\n        ],\n    },\n    mostpop: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        phablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.fluid,\n        ],\n        tablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.fluid,\n        ],\n    },\n    'liveblog-top': {\n        mobile: [adSizes.outOfPage, adSizes.empty, adSizes.mpu, adSizes.fluid],\n        tablet: [],\n        desktop: [],\n    },\n    'merchandising-high': {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandisingHigh,\n            adSizes.fluid,\n            adSizes.mpu,\n        ],\n        tablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandisingHigh,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandisingHigh,\n            adSizes.fluid,\n            adSizes.billboard,\n        ],\n    },\n    merchandising: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandising,\n            adSizes.fluid,\n            adSizes.mpu,\n        ],\n        tablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandising,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandising,\n            adSizes.fluid,\n            adSizes.billboard,\n        ],\n    },\n    survey: {\n        desktop: [adSizes.outOfPage],\n    },\n    carrot: {\n        mobile: [adSizes.fluid],\n    },\n    'mobile-sticky': {\n        mobile: [adSizes.mobilesticky, adSizes.empty, createAdSize(300, 50)],\n    },\n    'crossword-banner-mobile': {\n        mobile: [adSizes.mobilesticky],\n    },\n    'crossword-banner': {\n        phablet: [adSizes.outOfPage, adSizes.empty, adSizes.leaderboard],\n    },\n    'football-right': {\n        desktop: [\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.skyscraper,\n            adSizes.halfPage,\n        ],\n    },\n    'article-end': {\n        mobile: [], // Mappings are dynamically added for this slot using additionalSizes\n    },\n    exclusion: {\n        mobile: [adSizes.empty],\n    },\n    /**\n     * @deprecated Use `slotSizeMappings['sponsor-logo']` instead\n     */\n    external: {\n        mobile: [adSizes.outOfPage, adSizes.empty, adSizes.fluid, adSizes.mpu],\n    },\n    'sponsor-logo': {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.fluid,\n            adSizes.sponsorLogo,\n        ],\n    },\n    interactive: {\n        // Mappings are dynamically added for this slot using data attributes\n        mobile: [adSizes.outOfPage, adSizes.empty],\n        tablet: [adSizes.outOfPage, adSizes.empty],\n        desktop: [adSizes.outOfPage, adSizes.empty],\n    },\n};\nconst getAdSize = (size) => adSizes[size];\n/**\n * Finds the ad sizes that will be used for a breakpoint given a size mapping\n *\n * If ad sizes are defined in the size mapping for the specified breakpoint, we use that.\n * If no sizes are defined for the breakpoint, use the next smallest breakpoint with defined ad sizes.\n * If no smaller breakpoints have defined ad sizes, return an empty array\n *\n * Example:\n * For the following slotSizeMappings:\n *     inline: {\n *         phablet: [adSizes.mpu],\n *         desktop: [adSizes.billboard]\n *     }\n * the applied sizes for each breakpoint for the \"inline\" slot will be:\n *     mobile: []\n *     phablet: [adSizes.mpu]\n *     tablet: [adSizes.mpu]\n *     desktop: [adSizes.billboard]\n *\n * See ad-sizes.test.ts for more examples\n */\nconst findAppliedSizesForBreakpoint = (sizeMappings, breakpoint) => {\n    if (!isBreakpoint(breakpoint)) {\n        return [];\n    }\n    let breakpointIndex = breakpoints.findIndex((b) => b === breakpoint);\n    while (breakpointIndex >= 0) {\n        const breakpointToTry = breakpoints[breakpointIndex];\n        const sizeMapping = sizeMappings[breakpointToTry];\n        if (sizeMapping?.length) {\n            return sizeMapping;\n        }\n        breakpointIndex--;\n    }\n    // There are no size mappings defined for any size smaller than the breakpoint\n    return [];\n};\n// Export for testing\nexport const _ = { createAdSize };\nexport { AdSize, adSizes, standardAdSizes, outstreamSizes, getAdSize, slotSizeMappings, createAdSize, findAppliedSizesForBreakpoint, };\n","import { getMeasures, isNonNullable, log, onConsent } from '@guardian/libs';\nimport { EventTimer } from './event-timer';\nvar Endpoints;\n(function (Endpoints) {\n    Endpoints[\"CODE\"] = \"//performance-events.code.dev-guardianapis.com/commercial-metrics\";\n    Endpoints[\"PROD\"] = \"//performance-events.guardianapis.com/commercial-metrics\";\n})(Endpoints || (Endpoints = {}));\nlet commercialMetricsPayload = {\n    page_view_id: undefined,\n    browser_id: undefined,\n    platform: 'NEXT_GEN',\n    metrics: [],\n    properties: [],\n};\nlet devProperties = [];\nlet adBlockerProperties = [];\nlet endpoint;\nconst setEndpoint = (isDev) => (endpoint = isDev ? Endpoints.CODE : Endpoints.PROD);\nconst setDevProperties = (isDev) => (devProperties = isDev\n    ? [{ name: 'isDev', value: window.location.hostname }]\n    : []);\nconst setAdBlockerProperties = (adBlockerInUse) => {\n    adBlockerProperties =\n        adBlockerInUse !== undefined\n            ? [\n                {\n                    name: 'adBlockerInUse',\n                    value: adBlockerInUse.toString(),\n                },\n            ]\n            : [];\n};\nconst transformToObjectEntries = (eventTimerProperties) => {\n    // Transforms object {key: value} pairs into an array of [key, value] arrays\n    return Object.entries(eventTimerProperties);\n};\nconst mapEventTimerPropertiesToString = (properties) => {\n    return properties.map(([name, value]) => ({\n        name: String(name),\n        value: String(value),\n    }));\n};\nconst roundTimeStamp = (events, measures) => {\n    const roundedEvents = events.map(({ name, ts }) => ({\n        name,\n        value: Math.ceil(ts),\n    }));\n    const roundedMeasures = measures.map(({ name, duration }) => ({\n        name,\n        value: Math.ceil(duration),\n    }));\n    return [...roundedEvents, ...roundedMeasures];\n};\nfunction sendMetrics() {\n    log('commercial', 'About to send commercial metrics', commercialMetricsPayload);\n    void fetch(endpoint, {\n        method: 'POST',\n        body: JSON.stringify(commercialMetricsPayload),\n        keepalive: true,\n        cache: 'no-store',\n        mode: 'no-cors',\n    });\n}\n/**\n * Gather how many times the user has experienced the “offline” event\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/offline_event\n *\n * This value should be fetched as late as possible in the page lifecycle,\n * to get an accurate value.\n *\n * Relevant for an @guardian/open-journalism investigation.\n */\nconst getOfflineCount = () => typeof window.guardian.offlineCount === 'number'\n    ? [\n        {\n            name: 'offlineCount',\n            value: window.guardian.offlineCount,\n        },\n    ]\n    : [];\n/**\n * Measures added with @guardian/libs’s `startPerformanceMeasure`\n *\n * Allows for more granular monitoring of web page performance.\n */\nconst getPerformanceMeasures = (...teams) => getMeasures(teams).map(({ detail: { subscription, name, action }, duration }) => ({\n    name: [subscription, name, action].filter(isNonNullable).join('_'),\n    value: duration,\n}));\nfunction gatherMetricsOnPageUnload() {\n    // Assemble commercial properties and metrics\n    const eventTimer = EventTimer.get();\n    const transformedEntries = transformToObjectEntries(eventTimer.properties);\n    const filteredEventTimerProperties = transformedEntries.filter((item) => typeof item[1] !== 'undefined');\n    const mappedEventTimerProperties = mapEventTimerPropertiesToString(filteredEventTimerProperties);\n    const properties = mappedEventTimerProperties\n        .concat(devProperties)\n        .concat(adBlockerProperties);\n    commercialMetricsPayload.properties = properties;\n    const metrics = roundTimeStamp(eventTimer.marks, eventTimer.measures)\n        .concat(getOfflineCount())\n        .concat(getPerformanceMeasures('dotcom'));\n    commercialMetricsPayload.metrics = metrics;\n    sendMetrics();\n}\nconst listener = (e) => {\n    if (window.guardian.config.shouldSendCommercialMetrics === true) {\n        switch (e.type) {\n            case 'visibilitychange':\n                if (document.visibilityState === 'hidden') {\n                    gatherMetricsOnPageUnload();\n                }\n                return;\n            case 'pagehide':\n                gatherMetricsOnPageUnload();\n                return;\n        }\n    }\n};\nconst addVisibilityListeners = () => {\n    // Report all available metrics when the page is unloaded or in background.\n    window.addEventListener('visibilitychange', listener, { once: true });\n    // Safari does not reliably fire the `visibilitychange` on page unload.\n    window.addEventListener('pagehide', listener, { once: true });\n};\nconst checkConsent = async () => {\n    const consentState = await onConsent();\n    if (consentState.tcfv2) {\n        // TCFv2 mode - check for consent\n        const consents = consentState.tcfv2.consents;\n        const REQUIRED_CONSENTS = [7, 8];\n        return REQUIRED_CONSENTS.every((consent) => consents[consent]);\n    }\n    // non-TCFv2 mode - don't check for consent\n    return true;\n};\n/**\n * A method to asynchronously send metrics after initialization.\n */\nasync function bypassCommercialMetricsSampling() {\n    if (!window.guardian.config.commercialMetricsInitialised) {\n        console.warn('initCommercialMetrics not yet initialised');\n        return;\n    }\n    const consented = await checkConsent();\n    if (consented) {\n        window.guardian.config.shouldSendCommercialMetrics = true;\n    }\n    else {\n        log('commercial', \"Metrics won't be sent because consent wasn't given\");\n    }\n}\n/**\n * A method to initialise metrics.\n * Note: this is initialised in the frontend/DCR bundles, not the commercial bundle.\n * @param init.pageViewId - identifies the page view. Usually available on `guardian.config.ophan.pageViewId`. Defaults to `null`\n * @param init.browserId - identifies the browser. Usually available via `getCookie({ name: 'bwid' })`. Defaults to `null`\n * @param init.isDev - used to determine whether to use CODE or PROD endpoints.\n * @param init.adBlockerInUse - indicates whether or not an adblocker is being used.\n * @param init.sampling - rate at which to sample commercial metrics - the default is to send for 1% of pageviews\n */\nasync function initCommercialMetrics({ pageViewId, browserId, isDev, adBlockerInUse, sampling = 1 / 100, }) {\n    commercialMetricsPayload.page_view_id = pageViewId;\n    commercialMetricsPayload.browser_id = browserId;\n    setEndpoint(isDev);\n    setDevProperties(isDev);\n    setAdBlockerProperties(adBlockerInUse);\n    addVisibilityListeners();\n    if (window.guardian.config.commercialMetricsInitialised) {\n        return false;\n    }\n    window.guardian.config.commercialMetricsInitialised = true;\n    const userIsInSamplingGroup = Math.random() <= sampling;\n    if (isDev || userIsInSamplingGroup) {\n        const consented = await checkConsent();\n        if (consented) {\n            window.guardian.config.shouldSendCommercialMetrics = true;\n            return true;\n        }\n        log('commercial', \"Metrics won't be sent because consent wasn't given\");\n    }\n    return false;\n}\nexport const _ = {\n    Endpoints,\n    setEndpoint,\n    mapEventTimerPropertiesToString,\n    roundTimeStamp,\n    transformToObjectEntries,\n    reset: () => {\n        window.guardian.config.commercialMetricsInitialised = false;\n        window.guardian.config.shouldSendCommercialMetrics = false;\n        commercialMetricsPayload = {\n            page_view_id: undefined,\n            browser_id: undefined,\n            platform: 'NEXT_GEN',\n            metrics: [],\n            properties: [],\n        };\n        removeEventListener('visibilitychange', listener);\n        removeEventListener('pagehide', listener);\n    },\n};\nexport { bypassCommercialMetricsSampling, initCommercialMetrics, checkConsent };\n","/**\n * Unit: pixels\n */\nexport const AD_LABEL_HEIGHT = 24;\n","import { getCookie, isString, storage } from '@guardian/libs';\nconst KEY = 'GU_geo_country';\nconst KEY_OVERRIDE = 'gu.geo.override';\nconst COUNTRY_REGEX = /^[A-Z]{2}$/;\n// best guess that we have a valid code, without actually shipping the entire list\nconst isValidCountryCode = (country) => isString(country) && COUNTRY_REGEX.test(country);\n// we'll cache any successful lookups so we only have to do this once\nlet locale;\nconst editionToGeolocationMap = {\n    UK: 'GB',\n    US: 'US',\n    AU: 'AU',\n};\nconst editionToGeolocation = (editionKey) => editionToGeolocationMap[editionKey];\n// just used for tests\nexport const __resetCachedValue = () => (locale = undefined);\n/**\n * Fetches the user's current location as an ISO 3166-1 alpha-2 string e.g. 'GB', 'AU' etc\n * Note: This has been copied from guardian-libs and made syncronous by ommiting the call to\n * the geolocation API\n */\nexport const getLocale = () => {\n    if (locale)\n        return locale;\n    // return overridden geo from localStorage, used for changing geo only for development purposes\n    const geoOverride = storage.local.get(KEY_OVERRIDE);\n    if (isValidCountryCode(geoOverride)) {\n        return (locale = geoOverride);\n    }\n    // return locale from cookie if it exists\n    const stored = getCookie({ name: KEY });\n    if (stored && isValidCountryCode(stored)) {\n        return (locale = stored);\n    }\n    // return locale from edition\n    const editionCountryCode = editionToGeolocation(window.guardian.config.page.edition);\n    return (locale = editionCountryCode);\n};\n","import { isString } from '@guardian/libs';\n/* -- Types -- */\nconst videoLengths = [\n    '25', // TODO: confirm this is a real value\n    '30',\n    '60',\n    '90',\n    '120',\n    '150',\n    '180',\n    '210',\n    '240',\n    '270',\n    '300',\n];\n/* -- Methods -- */\nconst getVideoLength = (videoLength) => {\n    const index = Math.min(Math.ceil(videoLength / 30), 10);\n    return videoLengths[index] ?? null;\n};\nconst getUrlKeywords = (url) => {\n    const lastSegment = url\n        .split('/')\n        .filter(Boolean) // This handles a trailing slash\n        .slice(-1)[0];\n    return isString(lastSegment) ? lastSegment.split('-').filter(Boolean) : [];\n};\nconst concatUnique = (a, b) => [\n    ...new Set([...a, ...b]),\n];\n// \"0\" means content < 2 hours old\n// \"1\" means content between 2 hours and 24 hours old.\n// \"2\" means content between 24 hours and 3 days old\n// \"3\" means content between 3 and 7 days old\n// \"4\" means content between 7 days and 1 month old\n// \"5\" means content between 1 and 10 months old\n// \"6\" means content between 10 and 14 months old\n// \"7\" means content more than 14 months old\nconst calculateRecentlyPublishedBucket = (webPublicationDate) => {\n    const now = Date.now();\n    const hoursSincePublication = (now - webPublicationDate) / 1000 / 60 / 60;\n    const daysSincePublication = hoursSincePublication / 24;\n    const monthsSincePublication = daysSincePublication / 30; // near enough for our purposes\n    if (hoursSincePublication < 2)\n        return '0';\n    if (hoursSincePublication < 24)\n        return '1';\n    if (daysSincePublication < 3)\n        return '2';\n    if (daysSincePublication < 7)\n        return '3';\n    if (daysSincePublication < 30)\n        return '4';\n    if (monthsSincePublication < 10)\n        return '5';\n    if (monthsSincePublication < 14)\n        return '6';\n    return '7';\n};\nconst getContentTargeting = ({ eligibleForDCR, path, renderingPlatform, section, sensitive, videoLength, webPublicationDate, keywords, }) => {\n    const urlkw = getUrlKeywords(path);\n    return {\n        dcre: eligibleForDCR ? 't' : 'f',\n        rc: calculateRecentlyPublishedBucket(webPublicationDate),\n        rp: renderingPlatform,\n        s: section,\n        sens: sensitive ? 't' : 'f',\n        urlkw,\n        vl: videoLength ? getVideoLength(videoLength) : null,\n        allkw: concatUnique(urlkw, keywords),\n    };\n};\nexport { getContentTargeting };\n","import { storage } from '@guardian/libs';\nconst PERMUTIVE_KEY = `_papns`;\nconst PERMUTIVE_PFP_KEY = `_pdfps`;\nconst getSegments = (key) => {\n    try {\n        const rawSegments = storage.local.getRaw(key);\n        const segments = rawSegments\n            ? JSON.parse(rawSegments)\n            : null;\n        if (!Array.isArray(segments))\n            return [];\n        return segments\n            .slice(0, 250)\n            .map((s) => Number.parseInt(s, 10))\n            .filter((n) => typeof n === 'number' && !Number.isNaN(n))\n            .map(String);\n    }\n    catch (err) {\n        return [];\n    }\n};\nconst getPermutiveSegments = () => getSegments(PERMUTIVE_KEY);\nconst getPermutivePFPSegments = () => getSegments(PERMUTIVE_PFP_KEY);\nconst clearPermutiveSegments = () => {\n    storage.local.remove(PERMUTIVE_KEY);\n    storage.local.remove(PERMUTIVE_PFP_KEY);\n};\nexport const _ = {\n    PERMUTIVE_KEY,\n    PERMUTIVE_PFP_KEY,\n    getSegments,\n};\nexport { getPermutiveSegments, getPermutivePFPSegments, clearPermutiveSegments, };\n","import { storage } from '@guardian/libs';\nimport { clearPermutiveSegments, getPermutivePFPSegments, getPermutiveSegments, } from '../permutive';\n/* -- Types -- */\nconst frequency = [\n    '0',\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6-9',\n    '10-15',\n    '16-19',\n    '20-29',\n    '30plus',\n];\nconst AMTGRP_STORAGE_KEY = 'gu.adManagerGroup';\nconst adManagerGroups = [\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6',\n    '7',\n    '8',\n    '9',\n    '10',\n    '11',\n    '12',\n];\n/* -- Methods -- */\nconst getRawWithConsent = (key, state) => {\n    if (state.tcfv2) {\n        if (state.tcfv2.consents['1'])\n            return storage.local.getRaw(key);\n    }\n    if (state.usnat) {\n        if (!state.usnat.doNotSell)\n            return storage.local.getRaw(key);\n    }\n    if (state.aus) {\n        if (state.aus.personalisedAdvertising)\n            return storage.local.getRaw(key);\n    }\n    return null;\n};\nconst getFrequencyValue = (state) => {\n    const rawValue = getRawWithConsent('gu.alreadyVisited', state);\n    if (!rawValue)\n        return '0';\n    const visitCount = parseInt(rawValue, 10);\n    if (visitCount <= 5) {\n        return frequency[visitCount] ?? '0';\n    }\n    else if (visitCount >= 6 && visitCount <= 9) {\n        return '6-9';\n    }\n    else if (visitCount >= 10 && visitCount <= 15) {\n        return '10-15';\n    }\n    else if (visitCount >= 16 && visitCount <= 19) {\n        return '16-19';\n    }\n    else if (visitCount >= 20 && visitCount <= 29) {\n        return '20-29';\n    }\n    else if (visitCount >= 30) {\n        return '30plus';\n    }\n    return '0';\n};\nconst getCMPTargeting = (state) => {\n    if (state.tcfv2) {\n        return {\n            cmp_interaction: state.tcfv2.eventStatus,\n            pa: state.canTarget ? 't' : 'f',\n            consent_tcfv2: state.canTarget ? 't' : 'f',\n            rdp: 'na',\n        };\n    }\n    if (state.usnat) {\n        return {\n            consent_tcfv2: 'na',\n            rdp: !state.canTarget ? 't' : 'f',\n            pa: state.canTarget ? 't' : 'f',\n        };\n    }\n    if (state.aus) {\n        return {\n            consent_tcfv2: 'na',\n            rdp: 'na',\n            pa: state.canTarget ? 't' : 'f',\n        };\n    }\n    return {\n        cmp_interaction: 'na',\n        consent_tcfv2: 'na',\n        rdp: 'na',\n        pa: 'f',\n    };\n};\nconst isAdManagerGroup = (s) => adManagerGroups.some((g) => g === s);\nconst createAdManagerGroup = () => {\n    const index = Math.floor(Math.random() * adManagerGroups.length);\n    const group = adManagerGroups[index] ?? '12';\n    storage.local.setRaw(AMTGRP_STORAGE_KEY, group);\n    return group;\n};\nconst getAdManagerGroup = (state) => {\n    if (!state.framework) {\n        storage.local.remove(AMTGRP_STORAGE_KEY);\n        return null;\n    }\n    if (state.tcfv2 && !state.canTarget) {\n        storage.local.remove(AMTGRP_STORAGE_KEY);\n        return null;\n    }\n    const existingGroup = storage.local.getRaw(AMTGRP_STORAGE_KEY);\n    return isAdManagerGroup(existingGroup)\n        ? existingGroup\n        : createAdManagerGroup();\n};\nconst getPermutiveWithState = (state, youtube) => {\n    if (state.canTarget) {\n        return youtube ? getPermutivePFPSegments() : getPermutiveSegments();\n    }\n    clearPermutiveSegments();\n    return [];\n};\nconst getPersonalisedTargeting = ({ state, youtube, }) => ({\n    amtgrp: getAdManagerGroup(state),\n    fr: getFrequencyValue(state),\n    permutive: getPermutiveWithState(state, youtube),\n    ...getCMPTargeting(state),\n});\nexport { getPersonalisedTargeting };\n","import { isString } from '@guardian/libs';\n/* -- Types -- */\nconst referrers = [\n    {\n        id: 'facebook',\n        match: 'facebook.com',\n    },\n    {\n        id: 'google',\n        match: 'www.google',\n    },\n    {\n        id: 'twitter',\n        match: '/t.co/',\n    },\n    {\n        id: 'reddit',\n        match: 'reddit.com',\n    },\n];\n/* -- Methods -- */\nconst getReferrer = (referrer) => {\n    if (referrer === '')\n        return null;\n    const matchedRef = referrers.find((referrerType) => referrer.includes(referrerType.match)) ?? null;\n    return matchedRef ? matchedRef.id : null;\n};\nconst experimentsTargeting = ({ clientSideParticipations, serverSideParticipations, }) => {\n    const testToParams = (testName, variant) => {\n        if (variant === 'notintest')\n            return null;\n        // GAM key-value pairs accept value strings up to 40 characters long\n        return `${testName}-${variant}`.substring(0, 40);\n    };\n    const clientSideExperiment = Object.entries(clientSideParticipations)\n        .map((test) => {\n        const [name, variant] = test;\n        return testToParams(name, variant.variant);\n    })\n        .filter(isString);\n    const serverSideExperiments = Object.entries(serverSideParticipations)\n        .map((test) => testToParams(...test))\n        .filter(isString);\n    if (clientSideExperiment.length + serverSideExperiments.length === 0) {\n        return null;\n    }\n    return [...clientSideExperiment, ...serverSideExperiments];\n};\nconst getSessionTargeting = ({ adTest, countryCode, isSignedIn, pageViewId, participations, referrer, }) => ({\n    ab: experimentsTargeting(participations),\n    at: adTest,\n    cc: countryCode,\n    pv: pageViewId,\n    ref: getReferrer(referrer),\n    si: isSignedIn ? 't' : 'f',\n});\nexport { getSessionTargeting, experimentsTargeting };\n","import { isString } from '@guardian/libs';\nconst isTargetingString = (string) => isString(string) && string !== '';\nconst isTargetingArray = (array) => Array.isArray(array) && array.filter(isTargetingString).length > 0;\nconst isValidTargeting = (value) => {\n    if (isTargetingString(value))\n        return true;\n    if (isTargetingArray(value))\n        return true;\n    return false;\n};\n/**\n * Picks only keys with targeting values from an object.\n * A targeting values is defined as either:\n * - a non-empty string\n * - an array of non-empty strings\n *\n * If you object is read-only, you can safely access properties on the result.\n * For example:\n *\n * ```ts\n * dirty = {\n *   valid: 'real',\n *   invalid: undefined,\n * } as const;\n *\n * clean = pickDefinedValues(dirty);\n *\n * // @ts-expect-error -- you can’t access this property\n * clean.invalid\n * ```\n */\nexport const pickTargetingValues = (obj) => {\n    const initialValue = {};\n    return Object.entries(obj).reduce((valid, [key, value]) => {\n        if (isValidTargeting(value)) {\n            // @ts-expect-error -- isValidTargeting checks this\n            valid[key] = Array.isArray(value)\n                ? value.filter(isTargetingString)\n                : value;\n        }\n        return valid;\n    }, initialValue);\n};\n","import { pickTargetingValues } from './pick-targeting-values';\n/* -- Types -- */\nconst brands = {\n    Foundation: 'f',\n    Paid: 'p',\n    Sponsored: 's',\n};\nconst contentTypes = [\n    'article',\n    'audio',\n    'crossword',\n    'gallery',\n    'interactive',\n    'liveblog',\n    'network-front',\n    'section',\n    'tag',\n    'video',\n];\nconst editions = {\n    UnitedKingdom: 'uk',\n    UnitedStates: 'us',\n    Australia: 'au',\n    International: 'int',\n};\nconst platforms = {\n    R2: 'r2',\n    NextGen: 'ng',\n    MobileApp: 'app',\n    AcceleratedMobilePages: 'amp',\n};\nconst surges = {\n    0: '0',\n    50: '5',\n    100: '4',\n    200: '3',\n    300: '2',\n    400: '1',\n};\n/* -- Methods -- */\nconst getSurgingParam = (surging) => {\n    if (surging < 50 || isNaN(surging))\n        return ['0'];\n    const thresholds = [400, 300, 200, 100, 50];\n    return thresholds.filter((n) => n <= surging).map((s) => surges[s]);\n};\n/* -- Targeting -- */\n/**\n * What goes in comes out\n */\nconst getSharedTargeting = (shared) => pickTargetingValues(shared);\nexport const _ = {\n    getSurgingParam,\n};\nexport { getSharedTargeting };\n","import { cmp, getCookie, isString } from '@guardian/libs';\nimport { supportsPerformanceAPI } from '../event-timer';\nimport { getLocale } from '../lib/get-locale';\nimport { getContentTargeting } from './content';\nimport { getPersonalisedTargeting } from './personalised';\nimport { getSessionTargeting } from './session';\nimport { getSharedTargeting } from './shared';\nimport { getViewportTargeting } from './viewport';\nconst filterValues = (pageTargets) => {\n    const filtered = {};\n    for (const key in pageTargets) {\n        const value = pageTargets[key];\n        if (isString(value)) {\n            filtered[key] = value;\n        }\n        else if (Array.isArray(value) &&\n            value.length > 0 &&\n            value.every(isString)) {\n            filtered[key] = value;\n        }\n    }\n    return filtered;\n};\nconst lastPerformanceEntryIsNavigationType = () => {\n    if (!supportsPerformanceAPI()) {\n        return false;\n    }\n    const navigationEvents = performance.getEntriesByType('navigation');\n    const lastNavigationEvent = navigationEvents[navigationEvents.length - 1];\n    // https://developer.mozilla.org/en-US/docs/Web/API/PerformanceEntry/entryType#navigation\n    return lastNavigationEvent?.entryType === 'navigation';\n};\nconst referrerMatchesHost = (referrer) => {\n    if (!referrer) {\n        return false;\n    }\n    const referrerUrl = new URL(referrer);\n    return referrerUrl.hostname === window.location.hostname;\n};\n// A consentless friendly way of determining if this is the users first visit to the page\nconst isFirstVisit = (referrer) => {\n    if (supportsPerformanceAPI() && !lastPerformanceEntryIsNavigationType()) {\n        return false;\n    }\n    return !referrerMatchesHost(referrer);\n};\nconst buildPageTargeting = ({ adFree, clientSideParticipations, consentState, isSignedIn = false, youtube = false, }) => {\n    const { page, isDotcomRendering } = window.guardian.config;\n    const adFreeTargeting = adFree ? { af: 't' } : {};\n    const sharedAdTargeting = page.sharedAdTargeting\n        ? getSharedTargeting(page.sharedAdTargeting)\n        : {};\n    const contentTargeting = getContentTargeting({\n        webPublicationDate: page.webPublicationDate,\n        eligibleForDCR: page.dcrCouldRender,\n        path: `/${page.pageId}`,\n        renderingPlatform: isDotcomRendering\n            ? 'dotcom-rendering'\n            : 'dotcom-platform',\n        section: page.section,\n        sensitive: page.isSensitive,\n        videoLength: page.videoDuration,\n        keywords: sharedAdTargeting.k ?? [],\n    });\n    const referrer = document.referrer || '';\n    const sessionTargeting = getSessionTargeting({\n        adTest: getCookie({ name: 'adtest', shouldMemoize: true }),\n        countryCode: getLocale(),\n        isSignedIn,\n        pageViewId: window.guardian.config.ophan.pageViewId,\n        participations: {\n            clientSideParticipations,\n            serverSideParticipations: window.guardian.config.tests ?? {},\n        },\n        referrer,\n    });\n    const getViewport = () => {\n        return {\n            width: window.innerWidth || document.body.clientWidth || 0,\n            height: window.innerHeight || document.body.clientHeight || 0,\n        };\n    };\n    const viewportTargeting = getViewportTargeting({\n        viewPortWidth: getViewport().width,\n        cmpBannerWillShow: !cmp.hasInitialised() || cmp.willShowPrivacyMessageSync(),\n    });\n    const personalisedTargeting = getPersonalisedTargeting({\n        state: consentState,\n        youtube,\n    });\n    const consentlessTargeting = {};\n    if (!consentState.canTarget) {\n        consentlessTargeting.firstvisit = isFirstVisit(referrer) ? 't' : 'f';\n    }\n    const pageTargets = {\n        ...personalisedTargeting,\n        ...sharedAdTargeting,\n        ...adFreeTargeting,\n        ...contentTargeting,\n        ...sessionTargeting,\n        ...viewportTargeting,\n        ...consentlessTargeting,\n    };\n    // filter !(string | string[]) and empty values\n    const pageTargeting = filterValues(pageTargets);\n    return pageTargeting;\n};\nexport { buildPageTargeting, filterValues };\n","/* -- Methods -- */\nconst findBreakpoint = (width) => {\n    if (width >= 980)\n        return 'desktop';\n    if (width >= 660)\n        return 'tablet';\n    return 'mobile';\n};\nconst getViewportTargeting = ({ viewPortWidth, cmpBannerWillShow, }) => {\n    // Don’t show inskin if if a privacy message will be shown or on preview\n    const isPreview = window.guardian.config.page.isPreview;\n    const inskin = cmpBannerWillShow || isPreview ? 'f' : 't';\n    return {\n        bp: findBreakpoint(viewPortWidth),\n        skinsize: viewPortWidth >= 1560 ? 'l' : 's',\n        inskin,\n    };\n};\nexport { getViewportTargeting };\n","import { log } from '@guardian/libs';\nimport { buildPageTargeting, filterValues } from './build-page-targeting';\n/**\n * @param  {Record<string, MaybeArray<string|number|boolean>>\n * Follows https://support.google.com/admanager/answer/1080597\n */\nconst encodeCustomParams = (params) => {\n    const encodedParams = Object.entries(params)\n        .map(([key, value]) => {\n        const queryValue = Array.isArray(value)\n            ? value.join(',')\n            : String(value);\n        return `${key}=${encodeURIComponent(queryValue)}`;\n    })\n        .join('&');\n    return encodedParams;\n};\nconst mergeCustomParamsWithTargeting = (customParams, consentState, clientSideParticipations, isSignedIn) => {\n    let pageTargeting = {};\n    try {\n        pageTargeting = buildPageTargeting({\n            adFree: false,\n            clientSideParticipations,\n            consentState: consentState,\n            isSignedIn: isSignedIn,\n        });\n    }\n    catch (e) {\n        /**\n         * Defensive error handling in case YoutubeAtom is used in an\n         * environment where guardian.config, cookies, localstorage etc\n         * are not available\n         */\n        log('commercial', 'Error building YouTube IMA custom params', e);\n        return customParams;\n    }\n    const mergedCustomParams = {\n        ...customParams,\n        ...pageTargeting,\n    };\n    return mergedCustomParams;\n};\nconst buildImaAdTagUrl = ({ adUnit, clientSideParticipations, consentState, customParams, isSignedIn, }) => {\n    const mergedCustomParams = mergeCustomParamsWithTargeting(customParams, consentState, clientSideParticipations, isSignedIn);\n    const queryParams = {\n        iu: adUnit,\n        tfcd: '0',\n        npa: '0',\n        sz: '480x360|480x361|400x300',\n        gdfp_req: '1',\n        output: 'vast',\n        unviewed_position_start: '1',\n        env: 'vp',\n        impl: 's',\n        vad_type: 'linear',\n        vpos: 'preroll',\n        description_url: encodeURIComponent(`${window.guardian.config.page.host}/${window.guardian.config.page.pageId}`),\n        /**\n         * cust_params string is encoded\n         * cust_params values are also encoded so they will get double encoded\n         * this ensures any values with separator chars (=&,) do not conflict with the main string\n         */\n        cust_params: encodeURIComponent(encodeCustomParams(filterValues(mergedCustomParams))),\n    };\n    const queryParamsArray = [];\n    for (const [k, v] of Object.entries(queryParams)) {\n        queryParamsArray.push(`${k}=${v}`);\n    }\n    return ('https://securepubads.g.doubleclick.net/gampad/ads?' +\n        queryParamsArray.join('&'));\n};\nexport { buildImaAdTagUrl };\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nexport { _iterableToArray as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var s = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.includes(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nexport { _toConsumableArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nexport { _arrayWithoutHoles as default };","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableSpread as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nfunction _wrapNativeSuper(t) {\n  var r = \"function\" == typeof Map ? new Map() : void 0;\n  return _wrapNativeSuper = function _wrapNativeSuper(t) {\n    if (null === t || !isNativeFunction(t)) return t;\n    if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n    if (void 0 !== r) {\n      if (r.has(t)) return r.get(t);\n      r.set(t, Wrapper);\n    }\n    function Wrapper() {\n      return construct(t, arguments, getPrototypeOf(this).constructor);\n    }\n    return Wrapper.prototype = Object.create(t.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), setPrototypeOf(Wrapper, t);\n  }, _wrapNativeSuper(t);\n}\nexport { _wrapNativeSuper as default };","function _isNativeFunction(t) {\n  try {\n    return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n  } catch (n) {\n    return \"function\" == typeof t;\n  }\n}\nexport { _isNativeFunction as default };","import isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _construct(t, e, r) {\n  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && setPrototypeOf(p, r.prototype), p;\n}\nexport { _construct as default };","var version = \"19.2.1\";\nexport { version };\n","import { log } from '../logger/logger.js';\nlet currentFramework;\nconst setCurrentFramework = (framework) => {\n    log(\"cmp\", `Framework set to ${framework}`);\n    currentFramework = framework;\n};\nconst getCurrentFramework = () => currentFramework;\nexport { getCurrentFramework, setCurrentFramework };\n","import { isServerSide } from '../server.js';\nlet isGuardian;\nconst isGuardianDomain = () => {\n    if (typeof isGuardian === \"undefined\") {\n        if (isServerSide) {\n            isGuardian = true;\n        }\n        else {\n            isGuardian = window.location.host.endsWith(\".theguardian.com\");\n        }\n    }\n    return isGuardian;\n};\nexport { isGuardianDomain };\n","import { log } from '../../logger/logger.js';\nconst mark = (label) => {\n    window.performance?.mark?.(label);\n    if (process.env.NODE_ENV !== \"test\") {\n        log(\"cmp\", \"[event]\", label);\n    }\n};\nexport { mark };\n","const isServerSide = typeof window === \"undefined\";\nconst serverSideWarn = () => {\n    console.warn(\"This is a server-side version of the @guardian/consent-management-platform\", \"No consent signals will be received.\");\n};\nconst serverSideWarnAndReturn = (arg) => {\n    return () => {\n        serverSideWarn();\n        return arg;\n    };\n};\nconst cmp = {\n    __disable: serverSideWarn,\n    __enable: serverSideWarnAndReturn(false),\n    __isDisabled: serverSideWarnAndReturn(false),\n    hasInitialised: serverSideWarnAndReturn(false),\n    init: serverSideWarn,\n    showPrivacyManager: serverSideWarn,\n    version: \"n/a\",\n    willShowPrivacyMessage: serverSideWarnAndReturn(Promise.resolve(false)),\n    willShowPrivacyMessageSync: serverSideWarnAndReturn(false)\n};\nconst onConsent = () => {\n    serverSideWarn();\n    return Promise.resolve({\n        canTarget: false,\n        framework: null\n    });\n};\nconst onConsentChange = () => {\n    return serverSideWarn();\n};\nconst getConsentFor = (vendor, consent) => {\n    console.log(`Server-side call for getConsentFor(${vendor}, ${JSON.stringify(consent)})`, \"getConsentFor will always return false server-side\");\n    serverSideWarn();\n    return false;\n};\nexport { cmp, getConsentFor, isServerSide, onConsent, onConsentChange, serverSideWarn, serverSideWarnAndReturn };\n","import { isGuardianDomain } from './domain.js';\nconst ACCOUNT_ID = 1257;\nconst PRIVACY_MANAGER_USNAT = 1068329;\nconst PROPERTY_ID = 7417;\nconst PROPERTY_ID_AUSTRALIA = 13348;\nconst PRIVACY_MANAGER_TCFV2 = 106842;\nconst PRIVACY_MANAGER_AUSTRALIA = 1178486;\nconst ENDPOINT = isGuardianDomain() ? \"https://sourcepoint.theguardian.com\" : \"https://cdn.privacy-mgmt.com\";\nexport { ACCOUNT_ID, ENDPOINT, PRIVACY_MANAGER_AUSTRALIA, PRIVACY_MANAGER_TCFV2, PRIVACY_MANAGER_USNAT, PROPERTY_ID, PROPERTY_ID_AUSTRALIA };\n","const api = (command) => new Promise((resolve, reject) => {\n    if (window.__uspapi) {\n        window.__uspapi(command, 1, (result, success) => success ? resolve(result) : (\n        /* istanbul ignore next */\n        reject(new Error(`Unable to get ${command} data`))));\n    }\n    else {\n        reject(new Error(\"No __uspapi found on window\"));\n    }\n});\nconst getUSPData = () => api(\"getUSPData\");\nexport { getUSPData };\n","import { getUSPData } from './api.js';\nconst getConsentState = async () => {\n    const uspData = await getUSPData();\n    const optedOut = uspData.uspString.charAt(2) === \"Y\";\n    return {\n        personalisedAdvertising: !optedOut\n    };\n};\nexport { getConsentState };\n","const api = (command) => new Promise((resolve, reject) => {\n    if (window.__tcfapi) {\n        window.__tcfapi(command, 2, (result, success) => success ? resolve(result) : (\n        /* istanbul ignore next */\n        reject(new Error(`Unable to get ${command} data`))));\n    }\n    else {\n        reject(new Error(\"No __tcfapi found on window\"));\n    }\n});\nconst getTCData = () => api(\"addEventListener\");\nconst getCustomVendorConsents = () => api(\"getCustomVendorConsents\");\nexport { getCustomVendorConsents, getTCData };\n","import { getCurrentFramework } from '../getCurrentFramework.js';\nimport { getTCData, getCustomVendorConsents } from './api.js';\nconst defaultConsents = {\n    \"1\": false,\n    \"2\": false,\n    \"3\": false,\n    \"4\": false,\n    \"5\": false,\n    \"6\": false,\n    \"7\": false,\n    \"8\": false,\n    \"9\": false,\n    \"10\": false,\n    \"11\": false\n};\nconst getConsentState = async () => {\n    const [tcData, customVendors] = await Promise.all([\n        getTCData(),\n        getCustomVendorConsents()\n    ]);\n    if (typeof tcData === \"undefined\") {\n        const currentFramework = getCurrentFramework() ?? \"undefined\";\n        throw new Error(`No TC Data found with current framework: ${currentFramework}`);\n    }\n    const consents = {\n        ...defaultConsents,\n        ...tcData.purpose.consents\n    };\n    const { eventStatus, gdprApplies, tcString, addtlConsent } = tcData;\n    const { grants } = customVendors;\n    const vendorConsents = Object.keys(grants).sort().reduce((acc, cur) => ({ ...acc, [cur]: grants[cur]?.vendorGrant }), {});\n    return {\n        consents,\n        eventStatus,\n        vendorConsents,\n        addtlConsent,\n        gdprApplies,\n        tcString\n    };\n};\nexport { getConsentState };\n","const api = (command) => new Promise((resolve, reject) => {\n    if (window.__gpp) {\n        window.__gpp(command, (result, success) => success ? resolve(result) : (\n        /* istanbul ignore next */\n        reject(new Error(`Unable to get ${command} data`))));\n    }\n    else {\n        reject(new Error(\"No __gpp found on window\"));\n    }\n});\nconst getGPPData = () => api(\"ping\");\nexport { getGPPData };\n","import { getGPPData } from './api.js';\nconst getConsentState = async () => {\n    let doNotSell = false;\n    const gppData = await getGPPData();\n    const supportedAPI = Object.values(gppData.parsedSections)[0];\n    if (supportedAPI) {\n        doNotSell = supportedAPI.SaleOptOut !== 2 || supportedAPI.Gpc;\n    }\n    return {\n        doNotSell,\n        signalStatus: gppData.signalStatus\n    };\n};\nexport { getConsentState };\n","import { getConsentState as getConsentState$3 } from './aus/getConsentState.js';\nimport { getCurrentFramework } from './getCurrentFramework.js';\nimport { getGpcSignal } from './lib/signals.js';\nimport { getConsentState as getConsentState$1 } from './tcfv2/getConsentState.js';\nimport { getConsentState as getConsentState$2 } from './usnat/getConsentState.js';\nconst callBackQueue = [];\nconst finalCallbackQueue = [];\nconst awaitingUserInteractionInTCFv2 = (state) => state.tcfv2?.eventStatus === \"cmpuishown\";\nconst awaitingUserInteractionInUSNAT = (state) => state.usnat?.signalStatus === \"not ready\";\nconst invokeCallback = (callback, state) => {\n    if (awaitingUserInteractionInTCFv2(state) || awaitingUserInteractionInUSNAT(state)) {\n        return;\n    }\n    const stateString = JSON.stringify(state);\n    if (stateString !== callback.lastState) {\n        callback.fn(state);\n        callback.lastState = stateString;\n    }\n};\nconst enhanceConsentState = (consentState) => {\n    const gpcSignal = getGpcSignal();\n    if (consentState.tcfv2) {\n        const consents = consentState.tcfv2.consents;\n        return {\n            ...consentState,\n            canTarget: Object.keys(consents).length > 0 && Object.values(consents).every(Boolean),\n            framework: \"tcfv2\",\n            gpcSignal\n        };\n    }\n    else if (consentState.usnat) {\n        return {\n            ...consentState,\n            canTarget: !consentState.usnat.doNotSell,\n            framework: \"usnat\",\n            gpcSignal\n        };\n    }\n    else if (consentState.aus) {\n        return {\n            ...consentState,\n            canTarget: consentState.aus.personalisedAdvertising,\n            framework: \"aus\",\n            gpcSignal\n        };\n    }\n    return {\n        ...consentState,\n        canTarget: false,\n        framework: null,\n        gpcSignal\n    };\n};\nconst getConsentState = async () => {\n    switch (getCurrentFramework()) {\n        case \"aus\":\n            return enhanceConsentState({ aus: await getConsentState$3() });\n        case \"usnat\": {\n            return enhanceConsentState({\n                usnat: await getConsentState$2()\n            });\n        }\n        case \"tcfv2\":\n            return enhanceConsentState({ tcfv2: await getConsentState$1() });\n        default:\n            throw new Error(\"no IAB consent framework found on the page\");\n    }\n};\nconst invokeCallbacks = () => {\n    const callbacksToInvoke = callBackQueue.concat(finalCallbackQueue);\n    if (callbacksToInvoke.length === 0) {\n        return;\n    }\n    void getConsentState().then((state) => {\n        if (awaitingUserInteractionInTCFv2(state) || awaitingUserInteractionInUSNAT(state)) {\n            return;\n        }\n        callbacksToInvoke.forEach((callback) => invokeCallback(callback, state));\n    });\n};\nconst onConsentChange = (callBack, final = false) => {\n    const newCallback = { fn: callBack };\n    if (final) {\n        finalCallbackQueue.push(newCallback);\n    }\n    else {\n        callBackQueue.push(newCallback);\n    }\n    void getConsentState().then((consentState) => {\n        invokeCallback(newCallback, consentState);\n    }).catch(() => {\n    });\n};\nexport { invokeCallbacks, onConsentChange };\n","import { log } from '../logger/logger.js';\nimport { setCurrentFramework } from './getCurrentFramework.js';\nimport { isGuardianDomain } from './lib/domain.js';\nimport { mark } from './lib/mark.js';\nimport { ENDPOINT, ACCOUNT_ID, PROPERTY_ID_AUSTRALIA, PROPERTY_ID } from './lib/sourcepointConfig.js';\nimport { invokeCallbacks } from './onConsentChange.js';\nimport { stub } from './stub.js';\nlet resolveWillShowPrivacyMessage;\nconst willShowPrivacyMessage = new Promise((resolve) => {\n    resolveWillShowPrivacyMessage = resolve;\n});\nconst getPropertyHref = (framework) => {\n    if (framework == \"aus\") {\n        return \"https://au.theguardian.com\";\n    }\n    return isGuardianDomain() ? null : \"https://test.theguardian.com\";\n};\nconst getPropertyId = (framework) => {\n    if (framework == \"aus\") {\n        return PROPERTY_ID_AUSTRALIA;\n    }\n    return PROPERTY_ID;\n};\nconst init = (framework, pubData = {}) => {\n    stub(framework);\n    if (window._sp_) {\n        throw new Error(\"Sourcepoint global (window._sp_) is already defined!\");\n    }\n    setCurrentFramework(framework);\n    invokeCallbacks();\n    let frameworkMessageType;\n    switch (framework) {\n        case \"usnat\":\n            frameworkMessageType = \"usnat\";\n            break;\n        case \"aus\":\n            frameworkMessageType = \"ccpa\";\n            break;\n        case \"tcfv2\":\n        default:\n            frameworkMessageType = \"gdpr\";\n            break;\n    }\n    const isInPropertyIdABTest = window.guardian?.config?.tests?.useSourcepointPropertyIdVariant === \"variant\";\n    log(\"cmp\", `framework: ${framework}`);\n    log(\"cmp\", `frameworkMessageType: ${frameworkMessageType}`);\n    window._sp_queue = [];\n    window._sp_ = {\n        config: {\n            baseEndpoint: ENDPOINT,\n            accountId: ACCOUNT_ID,\n            propertyHref: getPropertyHref(framework),\n            targetingParams: {\n                framework\n            },\n            pubData: { ...pubData, cmpInitTimeUtc: ( /* @__PURE__ */new Date()).getTime() },\n            // ccpa or gdpr object added below\n            events: {\n                onConsentReady: (message_type, consentUUID, euconsent) => {\n                    log(\"cmp\", `onConsentReady ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                    log(\"cmp\", `consentUUID ${consentUUID}`);\n                    log(\"cmp\", `euconsent ${euconsent}`);\n                    mark(\"cmp-got-consent\");\n                    setTimeout(invokeCallbacks, 0);\n                },\n                onMessageReady: (message_type) => {\n                    log(\"cmp\", `onMessageReady ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                    mark(\"cmp-ui-displayed\");\n                },\n                onMessageReceiveData: (message_type, data) => {\n                    log(\"cmp\", `onMessageReceiveData ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                    log(\"cmp\", \"onMessageReceiveData \", data);\n                    void resolveWillShowPrivacyMessage(data.messageId !== 0);\n                },\n                onMessageChoiceSelect: (message_type, choice_id, choiceTypeID) => {\n                    log(\"cmp\", `onMessageChoiceSelect message_type: ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                    log(\"cmp\", `onMessageChoiceSelect choice_id: ${choice_id}`);\n                    log(\"cmp\", `onMessageChoiceSelect choice_type_id: ${choiceTypeID}`);\n                    if (\n                    // https://documentation.sourcepoint.com/web-implementation/web-implementation/multi-campaign-web-implementation/event-callbacks#choice-type-id-descriptions\n                    choiceTypeID === 11 || choiceTypeID === 13 || choiceTypeID === 15) {\n                        setTimeout(invokeCallbacks, 0);\n                    }\n                },\n                onPrivacyManagerAction: function (message_type, pmData) {\n                    log(\"cmp\", `onPrivacyManagerAction message_type: ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                    log(\"cmp\", `onPrivacyManagerAction ${pmData}`);\n                },\n                onMessageChoiceError: function (message_type, err) {\n                    log(\"cmp\", `onMessageChoiceError ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                    log(\"cmp\", `onMessageChoiceError ${err}`);\n                },\n                onPMCancel: function (message_type) {\n                    log(\"cmp\", `onPMCancel ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                },\n                onSPPMObjectReady: function () {\n                    log(\"cmp\", \"onSPPMObjectReady\");\n                },\n                onError: function (message_type, errorCode, errorObject, userReset) {\n                    log(\"cmp\", `errorCode: ${message_type}`);\n                    if (message_type != frameworkMessageType) {\n                        return;\n                    }\n                    log(\"cmp\", `errorCode: ${errorCode}`);\n                    log(\"cmp\", errorObject);\n                    log(\"cmp\", `userReset: ${userReset}`);\n                }\n            }\n        }\n    };\n    if (isInPropertyIdABTest) {\n        window._sp_.config.propertyId = getPropertyId(framework);\n    }\n    switch (framework) {\n        case \"tcfv2\":\n            window._sp_.config.gdpr = {\n                targetingParams: {\n                    framework\n                }\n            };\n            break;\n        case \"usnat\":\n            window._sp_.config.usnat = {\n                targetingParams: {\n                    framework\n                },\n                includeUspApi: true,\n                transitionCCPAAuth: true\n            };\n            break;\n        case \"aus\":\n            window._sp_.config.ccpa = {\n                targetingParams: {\n                    framework\n                }\n            };\n            break;\n    }\n    const spLib = document.createElement(\"script\");\n    spLib.id = \"sourcepoint-lib\";\n    spLib.src = `${ENDPOINT}/unified/wrapperMessagingWithoutDetection.js`;\n    document.body.appendChild(spLib);\n};\nexport { init, willShowPrivacyMessage };\n","import { isServerSide } from '../server.js';\nconst getGpcSignal = () => {\n    return isServerSide ? void 0 : navigator.globalPrivacyControl;\n};\nexport { getGpcSignal };\n","const stub_uspapi_ccpa = () => {\n    (function () {\n        var e = false;\n        var c = window;\n        var t = document;\n        function r() {\n            if (!c.frames[\"__uspapiLocator\"]) {\n                if (t.body) {\n                    var a = t.body;\n                    var e2 = t.createElement(\"iframe\");\n                    e2.style.cssText = \"display:none\";\n                    e2.name = \"__uspapiLocator\";\n                    a.appendChild(e2);\n                }\n                else {\n                    setTimeout(r, 5);\n                }\n            }\n        }\n        r();\n        function p() {\n            var a = arguments;\n            __uspapi.a = __uspapi.a || [];\n            if (!a.length) {\n                return __uspapi.a;\n            }\n            else if (a[0] === \"ping\") {\n                a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true);\n            }\n            else {\n                __uspapi.a.push([].slice.apply(a));\n            }\n        }\n        function l(t2) {\n            var r2 = typeof t2.data === \"string\";\n            try {\n                var a = r2 ? JSON.parse(t2.data) : t2.data;\n                if (a.__cmpCall) {\n                    var n = a.__cmpCall;\n                    c.__uspapi(n.command, n.parameter, function (a2, e2) {\n                        var c2 = {\n                            __cmpReturn: {\n                                returnValue: a2,\n                                success: e2,\n                                callId: n.callId\n                            }\n                        };\n                        t2.source.postMessage(r2 ? JSON.stringify(c2) : c2, \"*\");\n                    });\n                }\n            }\n            catch (a2) {\n            }\n        }\n        if (typeof __uspapi !== \"function\") {\n            c.__uspapi = p;\n            __uspapi.msgHandler = l;\n            c.addEventListener(\"message\", l, false);\n        }\n    })();\n};\nexport { stub_uspapi_ccpa };\n","import { stub_gpp_usnat } from './stub_gpp_usnat.js';\nimport { stub_tcfv2 } from './stub_tcfv2.js';\nimport { stub_uspapi_ccpa } from './stub_uspapi_ccpa.js';\nconst stub = (framework) => {\n    switch (framework) {\n        case \"tcfv2\":\n            stub_tcfv2();\n            break;\n        case \"usnat\":\n            stub_gpp_usnat();\n            stub_uspapi_ccpa();\n            break;\n        case \"aus\":\n            stub_uspapi_ccpa();\n            break;\n    }\n};\nexport { stub };\n","const stub_tcfv2 = () => {\n    !function (t) {\n        var e = {};\n        function n(r) {\n            if (e[r])\n                return e[r].exports;\n            var o = e[r] = { i: r, l: false, exports: {} };\n            return t[r].call(o.exports, o, o.exports, n), o.l = true, o.exports;\n        }\n        n.m = t, n.c = e, n.d = function (t2, e2, r) {\n            n.o(t2, e2) || Object.defineProperty(t2, e2, { enumerable: true, get: r });\n        }, n.r = function (t2) {\n            \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, {\n                value: \"Module\"\n            }), Object.defineProperty(t2, \"__esModule\", { value: true });\n        }, n.t = function (t2, e2) {\n            if (1 & e2 && (t2 = n(t2)), 8 & e2)\n                return t2;\n            if (4 & e2 && \"object\" == typeof t2 && t2 && t2.__esModule)\n                return t2;\n            var r = /* @__PURE__ */ Object.create(null);\n            if (n.r(r), Object.defineProperty(r, \"default\", {\n                enumerable: true,\n                value: t2\n            }), 2 & e2 && \"string\" != typeof t2)\n                for (var o in t2)\n                    n.d(r, o, function (e3) {\n                        return t2[e3];\n                    }.bind(null, o));\n            return r;\n        }, n.n = function (t2) {\n            var e2 = t2 && t2.__esModule ? function () {\n                return t2.default;\n            } : function () {\n                return t2;\n            };\n            return n.d(e2, \"a\", e2), e2;\n        }, n.o = function (t2, e2) {\n            return Object.prototype.hasOwnProperty.call(t2, e2);\n        }, n.p = \"\", n(n.s = 3);\n    }([\n        function (t, e, n) {\n            var r = n(2);\n            t.exports = !r(function () {\n                return 7 != Object.defineProperty({}, \"a\", {\n                    get: function () {\n                        return 7;\n                    }\n                }).a;\n            });\n        },\n        function (t, e) {\n            t.exports = function (t2) {\n                return \"object\" == typeof t2 ? null !== t2 : \"function\" == typeof t2;\n            };\n        },\n        function (t, e) {\n            t.exports = function (t2) {\n                try {\n                    return !!t2();\n                }\n                catch (t3) {\n                    return true;\n                }\n            };\n        },\n        function (t, e, n) {\n            n(4), function () {\n                if (\"function\" != typeof window.__tcfapi) {\n                    var t2, e2 = [], n2 = window, r = n2.document;\n                    !n2.__tcfapi && function t3() {\n                        var e3 = !!n2.frames.__tcfapiLocator;\n                        if (!e3)\n                            if (r.body) {\n                                var o = r.createElement(\"iframe\");\n                                o.style.cssText = \"display:none\", o.name = \"__tcfapiLocator\", r.body.appendChild(o);\n                            }\n                            else\n                                setTimeout(t3, 5);\n                        return !e3;\n                    }() && (n2.__tcfapi = function () {\n                        for (var n3 = arguments.length, r2 = new Array(n3), o = 0; o < n3; o++)\n                            r2[o] = arguments[o];\n                        if (!r2.length)\n                            return e2;\n                        if (\"setGdprApplies\" === r2[0])\n                            r2.length > 3 && 2 === parseInt(r2[1], 10) && \"boolean\" == typeof r2[3] && (t2 = r2[3], \"function\" == typeof r2[2] && r2[2](\"set\", true));\n                        else if (\"ping\" === r2[0]) {\n                            var i = {\n                                gdprApplies: t2,\n                                cmpLoaded: false,\n                                apiVersion: \"2.0\"\n                            };\n                            \"function\" == typeof r2[2] && r2[2](i, true);\n                        }\n                        else\n                            e2.push(r2);\n                    }, n2.addEventListener(\"message\", function (t3) {\n                        var e3 = \"string\" == typeof t3.data, r2 = {};\n                        try {\n                            r2 = e3 ? JSON.parse(t3.data) : t3.data;\n                        }\n                        catch (t4) {\n                        }\n                        var o = r2.__tcfapiCall;\n                        o && n2.__tcfapi(o.command, o.version, function (n3, r3) {\n                            var i = {\n                                __tcfapiReturn: {\n                                    returnValue: n3,\n                                    success: r3,\n                                    callId: o.callId\n                                }\n                            };\n                            e3 && (i = JSON.stringify(i)), t3.source.postMessage(i, \"*\");\n                        }, o.parameter);\n                    }, false));\n                }\n            }();\n        },\n        function (t, e, n) {\n            var r = n(0), o = n(5).f, i = Function.prototype, c = i.toString, u = /^s*function ([^ (]*)/;\n            r && !(\"name\" in i) && o(i, \"name\", {\n                configurable: true,\n                get: function () {\n                    try {\n                        return c.call(this).match(u)[1];\n                    }\n                    catch (t2) {\n                        return \"\";\n                    }\n                }\n            });\n        },\n        function (t, e, n) {\n            var r = n(0), o = n(6), i = n(10), c = n(11), u = Object.defineProperty;\n            e.f = r ? u : function (t2, e2, n2) {\n                if (i(t2), e2 = c(e2, true), i(n2), o)\n                    try {\n                        return u(t2, e2, n2);\n                    }\n                    catch (t3) {\n                    }\n                if (\"get\" in n2 || \"set\" in n2)\n                    throw TypeError(\"Accessors not supported\");\n                return \"value\" in n2 && (t2[e2] = n2.value), t2;\n            };\n        },\n        function (t, e, n) {\n            var r = n(0), o = n(2), i = n(7);\n            t.exports = !r && !o(function () {\n                return 7 != Object.defineProperty(i(\"div\"), \"a\", {\n                    get: function () {\n                        return 7;\n                    }\n                }).a;\n            });\n        },\n        function (t, e, n) {\n            var r = n(8), o = n(1), i = r.document, c = o(i) && o(i.createElement);\n            t.exports = function (t2) {\n                return c ? i.createElement(t2) : {};\n            };\n        },\n        function (t, e, n) {\n            (function (e2) {\n                var n2 = function (t2) {\n                    return t2 && t2.Math == Math && t2;\n                };\n                t.exports = n2(\"object\" == typeof globalThis && globalThis) || n2(\"object\" == typeof window && window) || n2(\"object\" == typeof self && self) || n2(\"object\" == typeof e2 && e2) || Function(\"return this\")();\n            }).call(this, n(9));\n        },\n        function (t, e) {\n            var n;\n            n = /* @__PURE__ */ function () {\n                return this;\n            }();\n            try {\n                n = n || new Function(\"return this\")();\n            }\n            catch (t2) {\n                \"object\" == typeof window && (n = window);\n            }\n            t.exports = n;\n        },\n        function (t, e, n) {\n            var r = n(1);\n            t.exports = function (t2) {\n                if (!r(t2))\n                    throw TypeError(String(t2) + \" is not an object\");\n                return t2;\n            };\n        },\n        function (t, e, n) {\n            var r = n(1);\n            t.exports = function (t2, e2) {\n                if (!r(t2))\n                    return t2;\n                var n2, o;\n                if (e2 && \"function\" == typeof (n2 = t2.toString) && !r(o = n2.call(t2)))\n                    return o;\n                if (\"function\" == typeof (n2 = t2.valueOf) && !r(o = n2.call(t2)))\n                    return o;\n                if (!e2 && \"function\" == typeof (n2 = t2.toString) && !r(o = n2.call(t2)))\n                    return o;\n                throw TypeError(\"Can't convert object to primitive value\");\n            };\n        }\n    ]);\n};\nexport { stub_tcfv2 };\n","const stub_gpp_usnat = () => {\n    window.__gpp_addFrame = function (e) {\n        if (!window.frames[e])\n            if (document.body) {\n                var t = document.createElement(\"iframe\");\n                t.style.cssText = \"display:none\", t.name = e, document.body.appendChild(t);\n            }\n            else\n                window.setTimeout(window.__gpp_addFrame, 10, e);\n    }, window.__gpp_stub = function () {\n        var e = arguments;\n        if (__gpp.queue = __gpp.queue || [], __gpp.events = __gpp.events || [], !e.length || 1 == e.length && \"queue\" == e[0])\n            return __gpp.queue;\n        if (1 == e.length && \"events\" == e[0])\n            return __gpp.events;\n        var t = e[0], p = e.length > 1 ? e[1] : null, s = e.length > 2 ? e[2] : null;\n        if (\"ping\" === t)\n            p({\n                gppVersion: \"1.1\",\n                cmpStatus: \"stub\",\n                cmpDisplayStatus: \"hidden\",\n                signalStatus: \"not ready\",\n                supportedAPIs: [\n                    \"2:tcfeuv2\",\n                    \"5:tcfcav1\",\n                    \"6:uspv1\",\n                    \"7:usnatv1\",\n                    \"8:uscav1\",\n                    \"9:usvav1\",\n                    \"10:uscov1\",\n                    \"11:usutv1\",\n                    \"12:usctv1\"\n                ],\n                cmpId: 0,\n                sectionList: [],\n                applicableSections: [],\n                gppString: \"\",\n                parsedSections: {}\n            }, true);\n        else if (\"addEventListener\" === t) {\n            \"lastId\" in __gpp || (__gpp.lastId = 0), __gpp.lastId++;\n            var n = __gpp.lastId;\n            __gpp.events.push({ id: n, callback: p, parameter: s }), p({\n                eventName: \"listenerRegistered\",\n                listenerId: n,\n                data: true,\n                pingData: {\n                    gppVersion: \"1.1\",\n                    cmpStatus: \"stub\",\n                    cmpDisplayStatus: \"hidden\",\n                    signalStatus: \"not ready\",\n                    supportedAPIs: [\n                        \"2:tcfeuv2\",\n                        \"5:tcfcav1\",\n                        \"6:uspv1\",\n                        \"7:usnatv1\",\n                        \"8:uscav1\",\n                        \"9:usvav1\",\n                        \"10:uscov1\",\n                        \"11:usutv1\",\n                        \"12:usctv1\"\n                    ],\n                    cmpId: 0,\n                    sectionList: [],\n                    applicableSections: [],\n                    gppString: \"\",\n                    parsedSections: {}\n                }\n            }, true);\n        }\n        else if (\"removeEventListener\" === t) {\n            for (var a = false, i = 0; i < __gpp.events.length; i++)\n                if (__gpp.events[i].id == s) {\n                    __gpp.events.splice(i, 1), a = true;\n                    break;\n                }\n            p({\n                eventName: \"listenerRemoved\",\n                listenerId: s,\n                data: a,\n                pingData: {\n                    gppVersion: \"1.1\",\n                    cmpStatus: \"stub\",\n                    cmpDisplayStatus: \"hidden\",\n                    signalStatus: \"not ready\",\n                    supportedAPIs: [\n                        \"2:tcfeuv2\",\n                        \"5:tcfcav1\",\n                        \"6:uspv1\",\n                        \"7:usnatv1\",\n                        \"8:uscav1\",\n                        \"9:usvav1\",\n                        \"10:uscov1\",\n                        \"11:usutv1\",\n                        \"12:usctv1\"\n                    ],\n                    cmpId: 0,\n                    sectionList: [],\n                    applicableSections: [],\n                    gppString: \"\",\n                    parsedSections: {}\n                }\n            }, true);\n        }\n        else\n            \"hasSection\" === t ? p(false, true) : \"getSection\" === t || \"getField\" === t ? p(null, true) : __gpp.queue.push([].slice.apply(e));\n    }, window.__gpp_msghandler = function (e) {\n        var t = \"string\" == typeof e.data;\n        try {\n            var p = t ? JSON.parse(e.data) : e.data;\n        }\n        catch (e2) {\n            p = null;\n        }\n        if (\"object\" == typeof p && null !== p && \"__gppCall\" in p) {\n            var s = p.__gppCall;\n            window.__gpp(s.command, function (p2, n) {\n                var a = {\n                    __gppReturn: {\n                        returnValue: p2,\n                        success: n,\n                        callId: s.callId\n                    }\n                };\n                e.source.postMessage(t ? JSON.stringify(a) : a, \"*\");\n            }, \"parameter\" in s ? s.parameter : null, \"version\" in s ? s.version : \"1.1\");\n        }\n    }, \"__gpp\" in window && \"function\" == typeof window.__gpp || (window.__gpp = window.__gpp_stub, window.addEventListener(\"message\", window.__gpp_msghandler, false), window.__gpp_addFrame(\"__gppLocator\"));\n};\nexport { stub_gpp_usnat };\n","import { getCurrentFramework } from './getCurrentFramework.js';\nimport { mark } from './lib/mark.js';\nimport { PRIVACY_MANAGER_AUSTRALIA, PRIVACY_MANAGER_USNAT, PRIVACY_MANAGER_TCFV2 } from './lib/sourcepointConfig.js';\nimport { init as init$1, willShowPrivacyMessage as willShowPrivacyMessage$1 } from './sourcepoint.js';\nconst init = (framework, pubData) => {\n    mark(\"cmp-init\");\n    init$1(framework, pubData);\n};\nconst willShowPrivacyMessage = () => willShowPrivacyMessage$1;\nfunction showPrivacyManager() {\n    switch (getCurrentFramework()) {\n        case \"tcfv2\":\n            window._sp_?.gdpr?.loadPrivacyManagerModal?.(PRIVACY_MANAGER_TCFV2);\n            break;\n        case \"usnat\":\n            window._sp_?.usnat?.loadPrivacyManagerModal?.(PRIVACY_MANAGER_USNAT);\n            break;\n        case \"aus\":\n            window._sp_?.ccpa?.loadPrivacyManagerModal?.(PRIVACY_MANAGER_AUSTRALIA);\n            break;\n    }\n}\nconst CMP = {\n    init,\n    willShowPrivacyMessage,\n    showPrivacyManager\n};\nexport { CMP };\n","const COOKIE_NAME = \"gu-cmp-disabled\";\nconst disable = () => {\n    document.cookie = `${COOKIE_NAME}=true`;\n};\nconst enable = () => {\n    document.cookie = `${COOKIE_NAME}=false`;\n};\nconst isDisabled = () => new RegExp(`${COOKIE_NAME}=true(\\\\W+|$)`).test(document.cookie);\nexport { disable, enable, isDisabled };\n","const TCFV2VendorIDs = {\n    // keep the list in README.md up to date with these values\n    a9: [\"5f369a02b8e05c308701f829\"],\n    acast: [\"5f203dcb1f0dea790562e20f\"],\n    braze: [\"5ed8c49c4b8ce4571c7ad801\"],\n    comscore: [\"5efefe25b8e05c06542b2a77\"],\n    criteo: [\"5e98e7f1b8e05c111d01b462\"],\n    \"google-mobile-ads\": [\"5f1aada6b8e05c306c0597d7\"],\n    \"google-tag-manager\": [\"5e952f6107d9d20c88e7c975\"],\n    googletag: [\"5f1aada6b8e05c306c0597d7\"],\n    ias: [\"5e7ced57b8e05c485246ccf3\"],\n    inizio: [\"5e37fc3e56a5e6615502f9c9\"],\n    ipsos: [\"5fa51b29a228638b4a1980e4\"],\n    magnite: [\"5e7ced57b8e05c485246cce5\"],\n    nielsen: [\"5ef5c3a5b8e05c69980eaa5b\"],\n    ophan: [\"5f203dbeeaaaa8768fd3226a\"],\n    permutive: [\"5f369a02b8e05c2f2d546a40\"],\n    prebidCustom: [\"5f22bfd82a6b6c1afd1181a9\"],\n    qm: [\"5f295fa4b8e05c76a44c3149\"],\n    remarketing: [\"5ed0eb688a76503f1016578f\"],\n    sentry: [\"5f0f39014effda6e8bbd2006\"],\n    teads: [\"5eab3d5ab8e05c2bbe33f399\"],\n    twitter: [\"5e71760b69966540e4554f01\"],\n    \"youtube-player\": [\"5e7ac3fae30e7d1bc1ebf5e8\"]\n};\nconst MiscVendorID = {\n    prebid: [\"5f92a62aa22863685f4daa4c\"]\n};\nconst AusVendorIDs = {\n    redplanet: [\"not-tcfv2-vendor\"]\n};\nconst VendorIDs = {\n    ...TCFV2VendorIDs,\n    ...AusVendorIDs,\n    ...MiscVendorID\n};\nexport { AusVendorIDs, MiscVendorID, TCFV2VendorIDs, VendorIDs };\n","import { VendorIDs } from './vendors.js';\nconst getConsentFor = (vendor, consent) => {\n    const sourcepointIds = VendorIDs[vendor];\n    if (typeof sourcepointIds === \"undefined\" || sourcepointIds.length === 0) {\n        throw new Error(`Vendor '${vendor}' not found, or with no Sourcepoint ID. If it should be added, raise an issue at https://github.com/guardian/consent-management-platform/issues`);\n    }\n    if (consent.usnat) {\n        return !consent.usnat.doNotSell;\n    }\n    if (consent.aus) {\n        return consent.aus.personalisedAdvertising;\n    }\n    const foundSourcepointId = sourcepointIds.find((id) => typeof consent.tcfv2?.vendorConsents[id] !== \"undefined\");\n    if (typeof foundSourcepointId === \"undefined\") {\n        console.warn(`No consent returned from Sourcepoint for vendor: '${vendor}'`);\n        return false;\n    }\n    const tcfv2Consent = consent.tcfv2?.vendorConsents[foundSourcepointId];\n    if (typeof tcfv2Consent === \"undefined\") {\n        console.warn(`No consent returned from Sourcepoint for vendor: '${vendor}'`);\n        return false;\n    }\n    return tcfv2Consent;\n};\nexport { getConsentFor };\n","const vendorStorageIds = {\n    a9: {\n        localStorage: [\"apstagUserAgentClientHints\", \"apstagCxMEnabled\"]\n    },\n    inizio: {\n        localStorage: [\"__bm_s\", \"__bm_m\"]\n    },\n    criteo: {\n        cookies: [\"cto_bundle\"],\n        localStorage: [\n            \"criteo_fast_bid_expires\",\n            \"cto_bundle\",\n            \"criteo_fast_bid\",\n            \"criteo_pt_cdb_mngr_metrics\",\n            \"__ansync3rdp_criteo\"\n        ]\n    },\n    comscore: {\n        cookies: [\"comScore\", \"_scor_uid\"]\n    },\n    ipsos: {\n        cookies: [\"DM_SitId1073\", \"DM_SitId1073SecId5802\", \"DotMetrics.AmpCookie\"],\n        localStorage: [\n            \"DotmetricsSiteData\",\n            \"DotMetricsTimeOnPage\",\n            \"DotMetricsUserId\",\n            \"DotMetricsDeviceGuidId\"\n        ]\n    },\n    permutive: {\n        cookies: [\"permutive-id\"],\n        localStorage: [\n            \"permutive-data-queries\",\n            \"_pubcid\",\n            \"permutive-pvc\",\n            \"permutive-data-enrichers\",\n            \"permutive-session\",\n            \"permutive-data-misc\",\n            \"permutive-unprocessed-pba\",\n            \"permutive-app\",\n            \"permutive-data-models\",\n            \"permutive-id\",\n            \"permutive-consent\",\n            \"permutive-events-cache\",\n            \"permutive-data-queries\",\n            \"permutive-events-for-page\",\n            \"__permutiveConfigQueryParams\"\n        ],\n        sessionStorage: [\"__permutiveConfigQueryParams\"]\n    },\n    prebid: {\n        localStorage: [\"_psegs\", \"_pubcid_exp\"]\n    },\n    googletag: { cookies: [\"__gpi\", \"__gads\"] }\n};\nconst deprecatedVendorStorageIds = {\n    \"google-analytics\": {\n        cookies: [\"_gid\", \"_ga\"]\n    }\n};\nexport { deprecatedVendorStorageIds, vendorStorageIds };\n","import { removeCookie } from '../cookies/removeCookie.js';\nimport { storage } from '../storage/storage.js';\nimport { getConsentFor } from './getConsentFor.js';\nimport { onConsentChange } from './onConsentChange.js';\nimport { vendorStorageIds, deprecatedVendorStorageIds } from './vendorStorageIds.js';\nconst removeData = ({ cookies = [], localStorage = [], sessionStorage = [] }) => {\n    for (const name of cookies) {\n        removeCookie({ name });\n    }\n    for (const name of localStorage) {\n        storage.local.remove(name);\n    }\n    for (const name of sessionStorage) {\n        storage.session.remove(name);\n    }\n};\nconst removeUnconsentedData = (consent) => {\n    Object.keys(vendorStorageIds).forEach((vendor) => {\n        const consentForVendor = getConsentFor(vendor, consent);\n        const vendorData = vendorStorageIds[vendor];\n        if (!consentForVendor) {\n            removeData(vendorData);\n        }\n    });\n    Object.entries(deprecatedVendorStorageIds).forEach(([, vendorData]) => removeData(vendorData));\n};\nconst initVendorDataManager = () => {\n    onConsentChange((consent) => {\n        if (\"requestIdleCallback\" in window) {\n            requestIdleCallback(() => {\n                removeUnconsentedData(consent);\n            }, {\n                timeout: 2e3\n            });\n        }\n        else {\n            removeUnconsentedData(consent);\n        }\n    });\n};\nexport { initVendorDataManager };\n","import { version } from '../package.json.js';\nimport { log } from '../logger/logger.js';\nimport { CMP } from './cmp.js';\nimport { isDisabled, enable, disable } from './disable.js';\nimport { getConsentFor as getConsentFor$2 } from './getConsentFor.js';\nimport { getFramework } from './getFramework.js';\nimport { onConsent as onConsent$2 } from './onConsent.js';\nimport { onConsentChange as onConsentChange$2 } from './onConsentChange.js';\nimport { isServerSide, cmp as cmp$1, onConsent as onConsent$1, onConsentChange as onConsentChange$1, getConsentFor as getConsentFor$1 } from './server.js';\nimport { initVendorDataManager } from './vendorDataManager.js';\nvar _a, _b, _c, _d;\nif (!isServerSide) {\n    if (typeof window.guCmpHotFix === \"undefined\") {\n        window.guCmpHotFix = {};\n    }\n}\nlet _willShowPrivacyMessage;\nlet initComplete = false;\nlet resolveInitialised;\nconst initialised = new Promise((resolve) => {\n    resolveInitialised = resolve;\n});\nconst init = ({ pubData, country }) => {\n    if (isDisabled() || isServerSide) {\n        return;\n    }\n    if (window.guCmpHotFix.initialised) {\n        if (window.guCmpHotFix.cmp?.version !== version) {\n            console.warn(\"Two different versions of the CMP are running:\", [\n                version,\n                window.guCmpHotFix.cmp?.version\n            ]);\n        }\n        return;\n    }\n    window.guCmpHotFix.initialised = true;\n    if (typeof country === \"undefined\") {\n        throw new Error(\"CMP initialised without `country` property. A 2-letter, ISO ISO_3166-1 country code is required.\");\n    }\n    const framework = getFramework(country);\n    CMP.init(framework, pubData ?? {});\n    void CMP.willShowPrivacyMessage().then((willShowValue) => {\n        _willShowPrivacyMessage = willShowValue;\n        initComplete = true;\n        log(\"cmp\", \"initComplete\");\n    });\n    resolveInitialised();\n    initVendorDataManager();\n};\nconst willShowPrivacyMessage = () => initialised.then(() => CMP.willShowPrivacyMessage());\nconst willShowPrivacyMessageSync = () => {\n    if (_willShowPrivacyMessage !== void 0) {\n        return _willShowPrivacyMessage;\n    }\n    throw new Error(\"CMP has not been initialised. Use the async willShowPrivacyMessage() instead.\");\n};\nconst hasInitialised = () => initComplete;\nconst showPrivacyManager = () => {\n    void initialised.then(CMP.showPrivacyManager);\n};\nconst cmp = isServerSide ? cmp$1 : (_a = window.guCmpHotFix).cmp || (_a.cmp = {\n    init,\n    willShowPrivacyMessage,\n    willShowPrivacyMessageSync,\n    hasInitialised,\n    showPrivacyManager,\n    version,\n    // special helper methods for disabling CMP\n    __isDisabled: isDisabled,\n    __enable: enable,\n    __disable: disable\n});\nconst onConsent = isServerSide ? onConsent$1 : (_b = window.guCmpHotFix).onConsent || (_b.onConsent = onConsent$2);\nconst onConsentChange = isServerSide ? onConsentChange$1 : (_c = window.guCmpHotFix).onConsentChange || (_c.onConsentChange = onConsentChange$2);\nconst getConsentFor = isServerSide ? getConsentFor$1 : (_d = window.guCmpHotFix).getConsentFor || (_d.getConsentFor = getConsentFor$2);\nexport { cmp, getConsentFor, onConsent, onConsentChange };\n","const getFramework = (countryCode) => {\n    let framework;\n    switch (countryCode) {\n        case \"US\":\n            framework = \"usnat\";\n            break;\n        case \"AU\":\n            framework = \"aus\";\n            break;\n        case \"GB\":\n        default:\n            framework = \"tcfv2\";\n            break;\n    }\n    return framework;\n};\nexport { getFramework };\n","import { onConsentChange } from './onConsentChange.js';\nconst onConsent = () => new Promise((resolve, reject) => {\n    onConsentChange((consentState) => {\n        if (consentState.tcfv2 ?? consentState.usnat ?? consentState.aus) {\n            resolve(consentState);\n        }\n        reject(\"Unknown framework\");\n    });\n});\nexport { onConsent };\n","const ERR_INVALID_COOKIE = `Cookie must not contain invalid characters (space, tab and the following characters: '()<>@,;\"/[]?={}')`;\nexport { ERR_INVALID_COOKIE };\n","import { getCookieValues } from './getCookieValues.js';\nimport { memoizedCookies } from './memoizedCookies.js';\nconst getCookie = ({ name, shouldMemoize = false }) => {\n    const memoizedCookie = memoizedCookies.get(name);\n    if (memoizedCookie) {\n        return memoizedCookie;\n    }\n    const [value] = getCookieValues(name);\n    if (value) {\n        if (shouldMemoize) {\n            memoizedCookies.set(name, value);\n        }\n        return value;\n    }\n    return null;\n};\nexport { getCookie };\n","const getCookieValues = (name) => {\n    const nameEq = `${name}=`;\n    const cookies = document.cookie.split(\";\");\n    return cookies.reduce((acc, cookie) => {\n        const cookieTrimmed = cookie.trim();\n        if (cookieTrimmed.startsWith(nameEq)) {\n            acc.push(cookieTrimmed.substring(nameEq.length, cookieTrimmed.length));\n        }\n        return acc;\n    }, []);\n};\nexport { getCookieValues };\n","import { getShortDomain } from './getShortDomain.js';\nconst getDomainAttribute = ({ isCrossSubdomain = false } = {}) => {\n    const shortDomain = getShortDomain({ isCrossSubdomain });\n    return shortDomain === \"localhost\" ? \"\" : ` domain=${shortDomain};`;\n};\nexport { getDomainAttribute };\n","const getShortDomain = ({ isCrossSubdomain = false } = {}) => {\n    const domain = document.domain || \"\";\n    if (domain === \"localhost\" || window.guardian?.config?.page?.isPreview) {\n        return domain;\n    }\n    if (isCrossSubdomain) {\n        return [\"\", ...domain.split(\".\").slice(-2)].join(\".\");\n    }\n    return domain.replace(/^(www|m\\.code|dev|m)\\./, \".\");\n};\nexport { getShortDomain };\n","const COOKIE_REGEX = /[()<>@,;\"\\\\/[\\]?={} \\t]/g;\nconst isValidCookieValue = (name) => !COOKIE_REGEX.test(name);\nconst isValidCookie = (name, value) => isValidCookieValue(name) && isValidCookieValue(value);\nexport { isValidCookie };\n","const memoizedCookies = /* @__PURE__ */ new Map();\nexport { memoizedCookies };\n","import { getShortDomain } from './getShortDomain.js';\nconst removeCookie = ({ name, currentDomainOnly = false }) => {\n    const expires = \"expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n    const path = \"path=/;\";\n    document.cookie = `${name}=;${path}${expires}`;\n    if (!currentDomainOnly) {\n        document.cookie = `${name}=;${path}${expires} domain=${getShortDomain()};`;\n    }\n};\nexport { removeCookie };\n","import { ERR_INVALID_COOKIE } from './ERR_INVALID_COOKIE.js';\nimport { getCookieValues } from './getCookieValues.js';\nimport { getDomainAttribute } from './getDomainAttribute.js';\nimport { isValidCookie } from './isValidCookie.js';\nimport { memoizedCookies } from './memoizedCookies.js';\nconst setCookie = ({ name, value, daysToLive, isCrossSubdomain = false }) => {\n    const expires = /* @__PURE__ */ new Date();\n    if (!isValidCookie(name, value)) {\n        throw new Error(`${ERR_INVALID_COOKIE} ${name}=${value}`);\n    }\n    if (daysToLive) {\n        expires.setUTCDate(expires.getUTCDate() + daysToLive);\n    }\n    else {\n        expires.setUTCMonth(expires.getUTCMonth() + 5);\n        expires.setUTCDate(1);\n    }\n    document.cookie = `${name}=${value}; path=/; expires=${expires.toUTCString()};${getDomainAttribute({\n        isCrossSubdomain\n    })}`;\n    if (memoizedCookies.has(name)) {\n        const [value2] = getCookieValues(name);\n        if (value2) {\n            memoizedCookies.set(name, value2);\n        }\n    }\n};\nexport { setCookie };\n","import { ERR_INVALID_COOKIE } from './ERR_INVALID_COOKIE.js';\nimport { getCookieValues } from './getCookieValues.js';\nimport { getDomainAttribute } from './getDomainAttribute.js';\nimport { isValidCookie } from './isValidCookie.js';\nimport { memoizedCookies } from './memoizedCookies.js';\nconst setSessionCookie = ({ name, value }) => {\n    if (!isValidCookie(name, value)) {\n        throw new Error(`${ERR_INVALID_COOKIE} ${name}=${value}`);\n    }\n    document.cookie = `${name}=${value}; path=/;${getDomainAttribute()}`;\n    if (memoizedCookies.has(name)) {\n        const [value2] = getCookieValues(name);\n        if (value2) {\n            memoizedCookies.set(name, value2);\n        }\n    }\n};\nexport { setSessionCookie };\n","const isBoolean = (_) => {\n    return typeof _ === \"boolean\";\n};\nexport { isBoolean };\n","const isNonNullable = (_) => _ !== void 0 && _ !== null;\nexport { isNonNullable };\n","const isObject = (value) => {\n    if (Object.prototype.toString.call(value) !== \"[object Object]\") {\n        return false;\n    }\n    const prototype = Object.getPrototypeOf(value);\n    return prototype === null || prototype === Object.prototype;\n};\nexport { isObject };\n","const isOneOf = (literals) => (value) => literals.includes(value);\nexport { isOneOf };\n","const isString = (_) => {\n    return Object.prototype.toString.call(_) === \"[object String]\";\n};\nexport { isString };\n","const isUndefined = (_) => _ === void 0;\nexport { isUndefined };\n","import { getCookie } from '../cookies/getCookie.js';\nimport { setSessionCookie } from '../cookies/setSessionCookie.js';\nimport { isString } from '../isString/isString.js';\nimport { storage } from '../storage/storage.js';\nconst KEY = \"GU_geo_country\";\nconst KEY_OVERRIDE = \"gu.geo.override\";\nconst URL = \"https://api.nextgen.guardianapps.co.uk/geolocation\";\nconst COUNTRY_REGEX = /^[A-Z]{2}$/;\nconst isValidCountryCode = (country) => isString(country) && COUNTRY_REGEX.test(country);\nlet locale;\nconst getLocale = async () => {\n    if (locale) {\n        return locale;\n    }\n    const geoOverride = storage.local.get(KEY_OVERRIDE);\n    if (isValidCountryCode(geoOverride)) {\n        return locale = geoOverride;\n    }\n    const stored = getCookie({ name: \"GU_geo_country\" });\n    if (stored && isValidCountryCode(stored)) {\n        return locale = stored;\n    }\n    try {\n        const { country } = await fetch(URL).then((response) => response.json());\n        if (isValidCountryCode(country)) {\n            setSessionCookie({ name: KEY, value: country });\n            return locale = country;\n        }\n    }\n    catch (e) {\n    }\n    return null;\n};\nexport { getLocale };\n","import { isString } from '../isString/isString.js';\nimport { isUndefined } from '../isUndefined/isUndefined.js';\nimport { storage } from '../storage/storage.js';\nimport { STORAGE_KEY } from './storage-key.js';\nimport { subscriptionStyles, isSubscription, commonStyle } from './subscriptions.js';\nvar _a;\nlet SUBSCRIPTIONS_CACHE;\nconst getSubscriptions = () => {\n    if (isUndefined(SUBSCRIPTIONS_CACHE)) {\n        const storedSubscriptions = storage.local.get(STORAGE_KEY);\n        if (isString(storedSubscriptions)) {\n            SUBSCRIPTIONS_CACHE = new Set(storedSubscriptions.split(\",\").filter(isSubscription));\n        }\n        else {\n            SUBSCRIPTIONS_CACHE = /* @__PURE__ */ new Set();\n        }\n    }\n    return SUBSCRIPTIONS_CACHE;\n};\nconst subscribeTo = (subscription) => {\n    const subscriptions = getSubscriptions();\n    subscriptions.add(subscription);\n    storage.local.set(STORAGE_KEY, Array.from(subscriptions).join(\",\"));\n    log(subscription, \"\\u{1F514} Subscribed, hello!\");\n};\nconst unsubscribeFrom = (subscription) => {\n    const subscriptions = getSubscriptions();\n    subscriptions.delete(subscription);\n    storage.local.set(STORAGE_KEY, Array.from(subscriptions).join(\",\"));\n    log(subscription, \"\\u{1F515} Unsubscribed, good-bye!\");\n};\nconst isSubscribedTo = (subscription) => getSubscriptions().has(subscription);\nconst logStyles = { ...subscriptionStyles, ...commonStyle };\nconst messageStyle = (subscriptionStyle) => {\n    const { background, font } = logStyles[subscriptionStyle];\n    return `background: ${background}; color: ${font}; padding: 2px 6px; border-radius:20px`;\n};\nconst log = (subscription, ...args) => {\n    if (isSubscribedTo(subscription)) {\n        const styles = [messageStyle(\"common\"), \"\", messageStyle(subscription), \"\"];\n        console.log(`%c@guardian%c %c${subscription}%c`, ...styles, ...args);\n    }\n};\nif (typeof window !== \"undefined\") {\n    window.guardian || (window.guardian = {});\n    (_a = window.guardian).logger || (_a.logger = {\n        subscribeTo,\n        unsubscribeFrom,\n        teams: () => {\n            console.warn(\"guardian.logger.teams() is deprecated - use subscriptions()\");\n            return Object.keys(subscriptionStyles);\n        },\n        subscriptions: () => Object.keys(subscriptionStyles)\n    });\n}\nexport { isSubscribedTo, log, messageStyle };\n","const STORAGE_KEY = \"gu.logger\";\nexport { STORAGE_KEY };\n","const commonStyle = {\n    common: {\n        background: \"#C1D8FC\",\n        font: \"#052962\"\n    }\n};\nconst subscriptionStyles = {\n    commercial: {\n        background: \"#77EEAA\",\n        font: \"#004400\"\n    },\n    cmp: {\n        background: \"#FF6BB5\",\n        font: \"#2F0404\"\n    },\n    dotcom: {\n        background: \"#000000\",\n        font: \"#ff7300\"\n    },\n    design: {\n        background: \"#185E36\",\n        font: \"#FFF4F2\"\n    },\n    tx: {\n        background: \"#2F4F4F\",\n        font: \"#FFFFFF\"\n    },\n    supporterRevenue: {\n        background: \"#0F70B7\",\n        font: \"#ffffff\"\n    },\n    identity: {\n        background: \"#6F5F8F\",\n        font: \"#ffffff\"\n    },\n    openJournalism: {\n        background: \"#C74600\",\n        font: \"#FEF9F5\"\n    },\n    perf: {\n        background: \"#FFD700\",\n        font: \"#000000\"\n    }\n};\nconst isSubscription = (subscription) => Object.keys(subscriptionStyles).includes(subscription);\nexport { commonStyle, isSubscription, subscriptionStyles };\n","import { deserialise } from './serialise.js';\nconst getMeasures = (subscriptions) => (\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntriesByType#browser_compatibility\n\"getEntriesByType\" in window.performance ? window.performance.getEntriesByType(\"measure\").flatMap(({ entryType, name, duration, startTime }) => {\n    const detail = deserialise(name);\n    return entryType === \"measure\" && detail && subscriptions.includes(detail.subscription) ? {\n        name,\n        detail,\n        duration,\n        entryType,\n        startTime,\n        toJson: () => JSON.stringify(void 0)\n    } : [];\n}) : []);\nexport { getMeasures };\n","import { isNonNullable } from '../isNonNullable/isNonNullable.js';\nimport { isString } from '../isString/isString.js';\nimport { isSubscription } from '../logger/subscriptions.js';\nconst SEPARATOR = \":\";\nconst serialise = ({ subscription, name, action }) => [subscription, name, action].filter(isNonNullable).join(SEPARATOR);\nconst deserialise = (id) => {\n    const [subscription, name, action] = id.split(SEPARATOR);\n    return isString(subscription) && isSubscription(subscription) && isString(name) ? { subscription, name, action } : void 0;\n};\nexport { deserialise, serialise };\n","import { log } from '../logger/logger.js';\nimport { logPerf } from './log.js';\nimport { serialise } from './serialise.js';\nconst fallbackDuration = -1;\nconst getId = () => Math.trunc(Math.random() * 1679615).toString(36).padStart(4, \"0\");\nconst startPerformanceMeasure = (subscription, name, action) => {\n    try {\n        const measureName = serialise({ subscription, name, action });\n        const markName = `${measureName}-${getId()}`;\n        const start = performance.now();\n        performance.mark(markName);\n        const endPerformanceMeasure = () => {\n            try {\n                const { duration } = window.performance.measure(measureName, markName) ?? {\n                    duration: performance.now() - start\n                };\n                const formattedDuration = Math.ceil(duration);\n                logPerf(measureName, formattedDuration);\n                return formattedDuration;\n            }\n            catch (error) {\n                log(subscription, error);\n                return fallbackDuration;\n            }\n        };\n        return { endPerformanceMeasure };\n    }\n    catch (error) {\n        log(subscription, error);\n        return { endPerformanceMeasure: () => fallbackDuration };\n    }\n};\nexport { startPerformanceMeasure };\n","import { isSubscribedTo, messageStyle } from '../logger/logger.js';\nconst logPerf = (measurement, duration) => {\n    if (!isSubscribedTo(\"perf\")) {\n        return;\n    }\n    const styles = [\n        messageStyle(\"common\"),\n        \"\",\n        messageStyle(\"perf\"),\n        \"\",\n        `font-weight: bold;`\n    ];\n    console.log(`%c@guardian%c %c${measurement}%c %c${duration}ms`, ...styles);\n};\nexport { logPerf };\n","import { isObject } from '../isObject/isObject.js';\nimport { isString } from '../isString/isString.js';\nvar __defProp = Object.defineProperty;\nvar __typeError = (msg) => {\n    throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), member.set(obj, value), value);\nvar _storage, _local, _session, _a;\nclass StorageFactory {\n    // https://mdn.io/Private_class_fields\n    constructor(storageHandler) {\n        __privateAdd(this, _storage);\n        /**\n         * Check whether storage is available.\n         */\n        __publicField(this, \"isAvailable\", () => Boolean(__privateGet(this, _storage)));\n        /**\n         * Retrieve an item from storage.\n         *\n         * @param key - the name of the item\n         */\n        __publicField(this, \"get\", (key) => {\n            try {\n                const data = JSON.parse(__privateGet(this, _storage)?.getItem(key) ?? \"\");\n                if (!isObject(data)) {\n                    return null;\n                }\n                const { value, expires } = data;\n                if ((isString(expires) || typeof expires === \"number\") && /* @__PURE__ */ new Date() > new Date(expires)) {\n                    this.remove(key);\n                    return null;\n                }\n                return value;\n            }\n            catch (e) {\n                return null;\n            }\n        });\n        /**\n         * Save a value to storage.\n         *\n         * @param key - the name of the item\n         * @param value - the data to save\n         * @param expires - optional date on which this data will expire\n         */\n        __publicField(this, \"set\", (key, value, expires) => __privateGet(this, _storage)?.setItem(key, JSON.stringify({\n            value,\n            expires: expires ? new Date(expires) : void 0\n        })));\n        /**\n         * Remove an item from storage.\n         *\n         * @param key - the name of the item\n         */\n        __publicField(this, \"remove\", (key) => __privateGet(this, _storage)?.removeItem(key));\n        /**\n         * Removes all items from storage.\n         */\n        __publicField(this, \"clear\", () => __privateGet(this, _storage)?.clear());\n        /**\n         * Retrieve an item from storage in its raw state.\n         *\n         * @param key - the name of the item\n         */\n        __publicField(this, \"getRaw\", (key) => __privateGet(this, _storage)?.getItem(key) ?? null);\n        /**\n         * Save a raw value to storage.\n         *\n         * @param key - the name of the item\n         * @param value - the data to save\n         */\n        __publicField(this, \"setRaw\", (key, value) => __privateGet(this, _storage)?.setItem(key, value));\n        /**\n         * Get key by index.\n         * @returns the name of the key at that index (`string`), or `null` (if\n         *      index is out of range of if storage is unavailable) - if the index\n         *      is out of range, or if storage is not available.\n         *\n         * Wrapper for the `key` method on the native `Storage` object, with\n         * additional check for availability of storage. Note that the _order_ of\n         * keys in storage is dependent on user-agent implementation, and so you\n         * should not assume that keys will be stored in any particular order (e.g.\n         * order of insertion).\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Storage/key\n         */\n        __publicField(this, \"key\", (index) => __privateGet(this, _storage)?.key(index) ?? null);\n        /**\n         * Get the number of items in storage.\n         * @returns the number of items in storage, or `null` if storage is\n         * \tnot available.\n         */\n        __publicField(this, \"length\", () => __privateGet(this, _storage)?.length ?? null);\n        try {\n            const storage2 = window[storageHandler];\n            const uid = ( /* @__PURE__ */new Date()).toString();\n            storage2.setItem(uid, uid);\n            const available = storage2.getItem(uid) == uid;\n            storage2.removeItem(uid);\n            if (available) {\n                __privateSet(this, _storage, storage2);\n            }\n        }\n        catch (e) {\n        }\n    }\n}\n_storage = new WeakMap();\nconst storage = new (_a = class {\n    constructor() {\n        __privateAdd(this, _local);\n        __privateAdd(this, _session);\n    }\n    // creating the instance requires testing the native implementation\n    // which is blocking. therefore, only create new instances of the factory\n    // when it's accessed i.e. we know we're going to use it\n    get local() {\n        return __privateGet(this, _local) || __privateSet(this, _local, new StorageFactory(\"localStorage\"));\n    }\n    get session() {\n        return __privateGet(this, _session) || __privateSet(this, _session, new StorageFactory(\"sessionStorage\"));\n    }\n}, _local = new WeakMap(), _session = new WeakMap(), _a)();\nexport { storage };\n","const ophanRemoteHost = window?.ophanRemoteHost || 'https://ophan.theguardian.com';\n/**\n * Generates a unique page view ID.\n * @returns {string}\n */\nconst generatePageViewId = () => {\n    return `${new Date().getTime().toString(36)}${'xxxxxxxxxxxx'.replace(/x/g, () => Math.floor(Math.random() * 36).toString(36))}`;\n};\n// Guardian Frontend Project pre-generates the pageViewId\nlet viewId;\nif (typeof guardian !== 'undefined') {\n    viewId = guardian.config?.ophan?.pageViewId ?? generatePageViewId();\n}\nelse {\n    viewId = generatePageViewId();\n}\nconst bumpViewId = () => {\n    viewId = generatePageViewId();\n};\n/**\n * Sends the initial event associated with this page view.\n * @param {Record<string, any>} obj - The data to be sent.\n */\nconst sendInitial = (obj) => {\n    send(`${ophanRemoteHost}/img/1?${buildQueryString(obj)}`);\n};\n/**\n * Encodes a value for URL transmission.\n * @param {string | number} value - The value to encode.\n * @returns {string} The encoded value.\n */\nconst smartEncode = (value) => {\n    if (typeof value === 'string' || typeof value === 'number') {\n        return encodeURIComponent(value);\n    }\n    else {\n        return encodeURIComponent(JSON.stringify(value));\n    }\n};\n/**\n * Used for sending additional events after the initial PageView event.\n * @param {EventPayload} obj - The data object to be sent.\n * @param {Function} [f] - An optional callback function.\n */\nconst sendMore = (obj, f) => {\n    if (!JSON)\n        return;\n    const values = [];\n    for (const prop in obj) {\n        // @ts-ignore\n        if (obj.hasOwnProperty(prop) && isDefined(obj[prop])) {\n            // @ts-ignore\n            values.push(`${encodeURIComponent(prop)}=${smartEncode(obj[prop])}`);\n        }\n    }\n    if (values.length === 0) {\n        return;\n    }\n    const url = `${ophanRemoteHost}/img/2?viewId=${viewId}&${values.join('&')}`;\n    send(url, f);\n};\n/**\n * Checks if a value is defined and not null.\n * @param {*} v - The value to check.\n * @returns {boolean} True if the value is defined, false otherwise.\n */\nconst isDefined = (v) => {\n    if (Array.isArray(v)) {\n        return !!v.length;\n    }\n    else {\n        return v != null;\n    }\n};\n/**\n * Builds a query string from an object.\n * @param {Record<string, any>} obj - The object to convert to a query string.\n * @returns {string} The resulting query string.\n */\nconst buildQueryString = (obj) => {\n    obj.viewId = viewId;\n    const values = [];\n    for (const prop in obj) {\n        if (obj.hasOwnProperty(prop) && obj[prop] != null) {\n            values.push(`${encodeURIComponent(prop)}=${encodeURIComponent(obj[prop])}`);\n        }\n    }\n    return values.join('&');\n};\n/**\n * Sends data to a specified URL.\n * @param {string} url - The URL to send data to.\n * @param {() => void} [f] - An optional callback function.\n */\nconst send = (url, f) => {\n    if (typeof fetch === 'function') {\n        fetch(url, {\n            method: 'GET',\n            mode: 'no-cors',\n            keepalive: true,\n            credentials: 'include',\n        }).then(() => f?.());\n    }\n    else {\n        const image = new Image();\n        const checker = setInterval(() => {\n            if (image.complete) {\n                if (typeof f === 'function') {\n                    f();\n                }\n                clearInterval(checker);\n            }\n        }, 10);\n        image.src = url;\n    }\n};\nexport default {\n    sendInitial,\n    sendMore,\n    viewId,\n    bumpViewId,\n};\n/**\n * Exports for testing purposes.\n */\nexport const _testExports = {\n    generatePageViewId,\n    smartEncode,\n    isDefined,\n    buildQueryString,\n};\n","export default {\n    state: () => document.visibilityState ||\n        document.webkitVisibilityState ||\n        document.mozVisibilityState ||\n        document.msVisibilityState,\n    changeEvent: getChangeEvent(),\n};\nfunction getChangeEvent() {\n    if (document.visibilityState) {\n        return 'visibilitychange';\n    }\n    else if (document.webkitVisibilityState) {\n        return 'webkitvisibilitychange';\n    }\n    else if (document.mozVisibilityState) {\n        return 'mozvisibilitychange';\n    }\n    else if (document.msVisibilityState) {\n        return 'msvisibilitychange';\n    }\n    return undefined;\n}\n","// Generated by CoffeeScript 2.7.0\n// TLDR; This is stripped down from the IAB ad block detection library.\n// https://github.com/InteractiveAdvertisingBureau/AdBlockDetection\n// The aforementioned library is not well maintained\n// and had work in progress network adblocking detection\nvar init = function () {\n    var ofs = 'offset', cl = 'client';\n    var noop = function () { };\n    var testedOnce = false;\n    var testExecuting = false;\n    var isOldIEevents = window.addEventListener === undefined;\n    /**\n     * Options set with default options initialized\n     *\n     */\n    var _options = {\n        loopDelay: 50,\n        maxLoop: 5,\n        debug: false,\n        found: noop,\n        notfound: noop,\n        complete: noop,\n    };\n    var listeners = []; // event response listeners\n    var baitNode = null;\n    var quickBait = {\n        cssClass: 'ad-slot pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links',\n    };\n    var baitTriggers = {\n        nullProps: [ofs + 'Parent'],\n        zeroProps: [],\n    };\n    baitTriggers.zeroProps = [\n        ofs + 'Height',\n        ofs + 'Left',\n        ofs + 'Top',\n        ofs + 'Width',\n        ofs + 'Height',\n        cl + 'Height',\n        cl + 'Width',\n    ];\n    // result object\n    var exeResult = {\n        quick: null,\n        remote: null,\n    };\n    var findResult = null; // result of test for ad blocker\n    var timerIds = {\n        test: 0,\n        download: 0,\n    };\n    function isFunc(fn) {\n        return typeof fn == 'function';\n    }\n    /**\n     * Make a DOM element\n     */\n    function makeEl(tag, attributes) {\n        var k, v, el, attr = attributes;\n        var d = document;\n        el = d.createElement(tag);\n        if (attr) {\n            for (k in attr) {\n                if (attr.hasOwnProperty(k)) {\n                    el.setAttribute(k, attr[k]);\n                }\n            }\n        }\n        return el;\n    }\n    function attachEventListener(dom, eventName, handler) {\n        if (isOldIEevents) {\n            dom.attachEvent('on' + eventName, handler);\n        }\n        else {\n            dom.addEventListener(eventName, handler, false);\n        }\n    }\n    function log(message, isError) {\n        if (!_options.debug && !isError) {\n            return;\n        }\n        if (window.console && window.console.log) {\n            if (isError) {\n                console.error('[ABD] ' + message);\n            }\n            else {\n                console.log('[ABD] ' + message);\n            }\n        }\n    }\n    function beginTest(bait) {\n        log('start beginTest');\n        if (findResult == true) {\n            return;\n        }\n        testExecuting = true;\n        castBait(bait);\n        exeResult.quick = 'testing';\n        timerIds.test = setTimeout(function () {\n            reelIn(bait, 1);\n        }, 5);\n    }\n    /**\n     * Create the bait node to see how the browser page reacts\n     */\n    function castBait(bait) {\n        var i, d = document, b = d.body;\n        var t;\n        var baitStyle = 'width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;';\n        if (bait == null || typeof bait == 'string') {\n            log('invalid bait being cast');\n            return;\n        }\n        if (bait.style != null) {\n            baitStyle += bait.style;\n        }\n        baitNode = makeEl('div', {\n            class: bait.cssClass,\n            style: baitStyle,\n        });\n        log('adding bait node to DOM');\n        b.appendChild(baitNode);\n        // touch these properties\n        for (i = 0; i < baitTriggers.nullProps.length; i++) {\n            t = baitNode[baitTriggers.nullProps[i]];\n        }\n        for (i = 0; i < baitTriggers.zeroProps.length; i++) {\n            t = baitNode[baitTriggers.zeroProps[i]];\n        }\n    }\n    /**\n     * Run tests to see if browser has taken the bait and blocked the bait element\n     */\n    function reelIn(bait, attemptNum) {\n        var i, k, v;\n        var body = document.body;\n        var found = false;\n        if (baitNode == null) {\n            log('recast bait');\n            castBait(bait || quickBait);\n        }\n        if (typeof bait == 'string') {\n            log('invalid bait used', true);\n            if (clearBaitNode()) {\n                setTimeout(function () {\n                    testExecuting = false;\n                }, 5);\n            }\n            return;\n        }\n        if (timerIds.test > 0) {\n            clearTimeout(timerIds.test);\n            timerIds.test = 0;\n        }\n        // test for issues\n        if (body.getAttribute('abp') !== null) {\n            log('found adblock body attribute');\n            found = true;\n        }\n        for (i = 0; i < baitTriggers.nullProps.length; i++) {\n            if (baitNode[baitTriggers.nullProps[i]] == null) {\n                if (attemptNum > 4)\n                    found = true;\n                log('found adblock null attr: ' + baitTriggers.nullProps[i]);\n                break;\n            }\n            if (found == true) {\n                break;\n            }\n        }\n        for (i = 0; i < baitTriggers.zeroProps.length; i++) {\n            if (found == true) {\n                break;\n            }\n            if (baitNode[baitTriggers.zeroProps[i]] == 0) {\n                if (attemptNum > 4)\n                    found = true;\n                log('found adblock zero attr: ' + baitTriggers.zeroProps[i]);\n            }\n        }\n        if (window.getComputedStyle !== undefined) {\n            var baitTemp = window.getComputedStyle(baitNode, null);\n            if (baitTemp.getPropertyValue('display') == 'none' ||\n                baitTemp.getPropertyValue('visibility') == 'hidden') {\n                if (attemptNum > 4)\n                    found = true;\n                log('found adblock computedStyle indicator');\n            }\n        }\n        testedOnce = true;\n        if (found || attemptNum++ >= _options.maxLoop) {\n            findResult = found;\n            log('exiting test loop - value: ' + findResult);\n            notifyListeners();\n            if (clearBaitNode()) {\n                setTimeout(function () {\n                    testExecuting = false;\n                }, 5);\n            }\n        }\n        else {\n            timerIds.test = setTimeout(function () {\n                reelIn(bait, attemptNum);\n            }, _options.loopDelay);\n        }\n    }\n    function clearBaitNode() {\n        if (baitNode === null) {\n            return true;\n        }\n        try {\n            if (isFunc(baitNode.remove)) {\n                baitNode.remove();\n            }\n            document.body.removeChild(baitNode);\n        }\n        catch (ex) { }\n        baitNode = null;\n        return true;\n    }\n    /**\n     * Halt the test and any pending timeouts\n     */\n    function stopFishing() {\n        if (timerIds.test > 0) {\n            clearTimeout(timerIds.test);\n        }\n        if (timerIds.download > 0) {\n            clearTimeout(timerIds.download);\n        }\n        clearBaitNode();\n    }\n    /**\n     * Fire all registered listeners\n     */\n    function notifyListeners() {\n        var i, funcs;\n        if (findResult === null) {\n            return;\n        }\n        for (i = 0; i < listeners.length; i++) {\n            funcs = listeners[i];\n            try {\n                if (funcs != null) {\n                    if (isFunc(funcs['complete'])) {\n                        funcs['complete'](findResult);\n                    }\n                    if (findResult && isFunc(funcs['found'])) {\n                        funcs['found']();\n                    }\n                    else if (findResult === false && isFunc(funcs['notfound'])) {\n                        funcs['notfound']();\n                    }\n                }\n            }\n            catch (ex) {\n                log('Failure in notify listeners ' + ex.Message, true);\n            }\n        }\n    }\n    /**\n     * Attaches event listener or fires if events have already passed.\n     */\n    function attachOrFire() {\n        var fireNow = false;\n        var fn;\n        if (document.readyState) {\n            if (document.readyState == 'complete') {\n                fireNow = true;\n            }\n        }\n        fn = function () {\n            beginTest(quickBait, false);\n        };\n        if (fireNow) {\n            fn();\n        }\n        else {\n            attachEventListener(window, 'load', fn);\n        }\n    }\n    /**\n     * Public interface of adblock detector\n     */\n    return function (options) {\n        var k, v, funcs;\n        if (!options) {\n            return;\n        }\n        funcs = {\n            complete: noop,\n            found: noop,\n            notfound: noop,\n        };\n        for (k in options) {\n            if (options.hasOwnProperty(k)) {\n                if (k == 'complete' || k == 'found' || k == 'notFound') {\n                    funcs[k.toLowerCase()] = options[k];\n                }\n                else {\n                    _options[k] = options[k];\n                }\n            }\n        }\n        listeners.push(funcs);\n        attachOrFire();\n    };\n};\nexport default {\n    init: init(),\n};\n","let init, sendInitialEvent, storeDataToSendOnNextEvent, hasProp = {}.hasOwnProperty;\nimport transmit from './transmit.js';\nimport visibility from './visibility.js';\nimport adblockDetection from './adblock-detection.js';\nconst VERSION = 17;\nlet doc = window.document;\nconst canStoreEventsInLocalStorage = window.localStorage != null && typeof JSON !== 'undefined' && JSON !== null;\nlet platform = null;\nconst MaximumComponentNameLength = 50;\ninit = function (servingPlatform, httpStatus) {\n    platform = servingPlatform;\n    if (visibility.state() !== 'prerender') {\n        return sendInitialEvent(httpStatus);\n    }\n    else {\n        if (visibility.changeEvent) {\n            return doc.addEventListener(visibility.changeEvent, function () {\n                if (visibility.state() === 'visible') {\n                    return sendInitialEvent(httpStatus);\n                }\n            }, false);\n        }\n    }\n};\n/**\n * Retrieves the value of a specified query parameter from the current page's URL.\n * Using an old-fashioned way of finding a query param rather than using searchParams\n * as we don't control which environments the CDN distribution is being used in and so don't know if it's supported.\n * @param {string} paramName - The name of the query parameter to retrieve.\n * @returns {string | undefined} The value of the query parameter, or undefined if not found.\n */\nconst getQueryParameterValue = (paramName) => {\n    const queryString = window.location.search.substring(1);\n    const queryParams = queryString.split('&');\n    for (const param of queryParams) {\n        const [key, value] = param.split('=');\n        if (key === paramName) {\n            return decodeURIComponent(value);\n        }\n    }\n};\n/**\n * Retrieves the referrer URL from the given referrer or a fallback query parameter.\n * If an authentication flow takes place on page load, the referrer is lost.\n * So, if no referrer, fall back to query param holding the value of the referrer before the auth flow began.\n * See https://github.com/guardian/support-frontend/blob/main/support-frontend/app/controllers/AuthCodeFlowController.scala#L105\n * for an example use. * @param {string} referrer - The document referrer.\n * @param {string} referrer - The document referrer.\n * @returns {string} The referrer URL or the fallback query parameter value.\n */\nconst getReferrer = (referrer) => {\n    return referrer || getQueryParameterValue('pre-auth-ref') || '';\n};\n/**\n * Retrieves the type of navigation that occurred to arrive at the current page, using the Performance API.\n * Returns null if the navigation type is not available.\n * @returns {string | null} The navigation type (e.g., 'navigate', 'reload', 'back_forward'), or null if not available.\n */\nconst getNavigationType = () => {\n    if (window.performance?.getEntriesByType) {\n        const entries = window.performance.getEntriesByType('navigation');\n        if (entries.length > 0) {\n            return entries[0].type;\n        }\n    }\n    return null;\n};\nsendInitialEvent = function (httpStatus, url = location.href, referrer = window.document.referrer) {\n    const navigationType = getNavigationType();\n    // send initial event\n    const event = {\n        v: VERSION,\n        platform: platform,\n        url: url,\n        ref: getReferrer(referrer),\n        visibilityState: visibility.state(),\n        isModernBrowser: typeof guardian !== 'undefined' && guardian !== null\n            ? guardian.isModernBrowser\n            : void 0,\n        httpStatus: httpStatus,\n        tz: new Date().getTimezoneOffset(),\n    };\n    if (navigationType != null) {\n        // Add navigation type as metadata to the event if it's not null\n        event.navigationType = navigationType;\n    }\n    appendContentType(event);\n    appendDataFromLocalStorageToEvent(event);\n    transmit.sendInitial(event);\n    return adblockDetection.run().then(function (adBlockerEnabled) {\n        // `adUnitWasHidden` is the query param used\n        // by the previous adblock detection, hence reusing it here.\n        return transmit.sendMore({\n            adUnitWasHidden: adBlockerEnabled,\n        });\n    });\n};\nconst onLoadCaptures = [];\n/**\n * Registers a data capture function to be called when the document is fully loaded.\n * The result of this function is then sent to the tracker backend service.\n * If the document is already loaded, this is done immediately.\n *\n * @param {() => Record<string, unknown>} dataCapture - A function that returns an object containing performance metrics such as page load time, network latency, etc.\n * Refer to the `perf.js` file where this function is used for more info.\n */\nconst onLoadCapture = (dataCapture) => {\n    if (document.readyState === 'complete') {\n        const msg = { ...dataCapture() };\n        transmit.sendMore(msg);\n    }\n    else {\n        onLoadCaptures.push(dataCapture);\n    }\n};\n/**\n * Processes all registered data capture functions, merges their outputs and sends it to the tracker backend service.\n * If on a 'next-gen' platform, additional component data is appended to the event via the `appendComponentDataToEvent` function.\n */\nconst processCaptures = () => {\n    const msg = {};\n    for (const capture of onLoadCaptures) {\n        const captureData = capture();\n        for (const key in captureData) {\n            if (captureData.hasOwnProperty(key)) {\n                msg[key] = captureData[key];\n            }\n        }\n    }\n    if (platform === 'next-gen') {\n        appendComponentDataToEvent(msg);\n    }\n    transmit.sendMore(msg);\n};\nwindow.addEventListener?.('load', processCaptures, false);\n/**\n * Appends data from local storage to a given event object.\n * Specifically targets data stored under the 'ophan_follow' key in localStorage.\n * After appending the data to the event, it removes the data from localStorage.\n * @param {Record<string, unknown>} event - The event object to which the local storage data will be appended.\n */\nconst appendDataFromLocalStorageToEvent = (event) => {\n    if (canStoreEventsInLocalStorage) {\n        const localStorageItems = JSON.parse(window.localStorage.getItem('ophan_follow'));\n        if (localStorageItems != null) {\n            for (const key in localStorageItems) {\n                if (localStorageItems.hasOwnProperty(key)) {\n                    event[key] = localStorageItems[key];\n                }\n            }\n        }\n        window.localStorage.removeItem('ophan_follow');\n    }\n};\n/**\n * Trims component names to a maximum length to ensure they are URL safe.\n * If a component name exceeds the maximum length, it is truncated and appended with an ellipsis.\n * @param {string[]} componentNames - An array of component names.\n * @returns {string[]} An array of trimmed component names.\n */\nconst trimComponentNamesToUrlSafeLength = (componentNames) => {\n    return componentNames.map((componentName) => componentName.length > MaximumComponentNameLength\n        ? componentName.substring(0, MaximumComponentNameLength).concat('…')\n        : componentName);\n};\n/**\n * Appends data about rendered components to an event object.\n * Extracts component names from elements with a 'data-component' attribute, trims them for URL safety, ensures uniqueness, and adds them to the event.\n * @param {Object} event - The event object to which component data will be appended.\n */\nconst appendComponentDataToEvent = (event) => {\n    const componentElements = document.querySelectorAll('[data-component]');\n    const componentNames = Array.prototype.slice.call(componentElements).map((el) => el.getAttribute('data-component'));\n    if (componentNames.length > 0) {\n        const trimmedComponentNames = trimComponentNamesToUrlSafeLength(componentNames);\n        // uniquify\n        const uniqueComponents = new Set(trimmedComponentNames);\n        event.renderedComponents = [...uniqueComponents];\n    }\n};\nstoreDataToSendOnNextEvent = function (newData) {\n    let existingData, key, value;\n    if (canStoreEventsInLocalStorage) {\n        existingData =\n            JSON.parse(window.localStorage.getItem('ophan_follow')) || {};\n        for (key in newData) {\n            if (!hasProp.call(newData, key))\n                continue;\n            value = newData[key];\n            existingData[key] = value;\n        }\n        return window.localStorage.setItem('ophan_follow', JSON.stringify(existingData));\n    }\n};\n/**\n * Determines the 'content type' based on the platform and guardian object.\n * @param {Record<string, unknown>} event - The event object that will be updated with contentType.\n * @param {string} platform - The current platform ('next-gen', 'embed' or other).\n * @param {Record<string, unknown>} guardian - The guardian object.\n */\nconst appendContentType = (event, platform, guardian) => {\n    const contentType = platform === 'next-gen' || platform === 'embed'\n        ? guardian?.config?.page?.contentType\n        : guardian?.page?.contentTypes;\n    if (contentType) {\n        event.contentType = contentType.toLowerCase();\n    }\n};\nexport default {\n    init: init,\n    storeDataToSendOnNextEvent: storeDataToSendOnNextEvent,\n    onLoadCapture: onLoadCapture,\n    servingPlatform: function () {\n        return platform;\n    },\n    viewId: transmit.viewId,\n    sendInitialEvent: sendInitialEvent,\n};\n/**\n * Exports for testing purposes.\n */\nexport const _testExports = {\n    appendComponentDataToEvent,\n    trimComponentNamesToUrlSafeLength,\n    getQueryParameterValue,\n    onLoadCaptures,\n    onLoadCapture,\n    processCaptures,\n    appendContentType,\n};\n","import abd from './vendor/adBlockDetectionLib.js';\nexport default {\n    run() {\n        return new Promise((resolve, reject) => {\n            if (abd.init) {\n                try {\n                    abd.init({\n                        complete: resolve,\n                    });\n                }\n                catch (error) {\n                    reject(error);\n                }\n            }\n            else {\n                reject(new Error('Failed to initialise adblock detection'));\n            }\n        });\n    },\n};\n","/**\n * @type {Component[]}\n */\nexport const components = [];\n/**\n * theguardian.com uses a custom scroll event for performance reasons.\n * We pass in the event emitter so that we can listen to this custom scroll event.\n * If not on theguardian.com, we default to the native scroll event\n * @type {Object|null}\n */\nlet eventEmitter = null;\n// Tracks attention time of elements on the page with data-component attributes.\n// This should always be less than or equal to the page attention time.\n// If the page does not have attention, no component has attention.\n// If the page does have attention, a given component *may* also have\n// attention, if it is within the viewport and not hidden.\nclass Component {\n    /**\n     * Component constructor.\n     * @param {string} name - The name of the component.\n     * @param {HTMLElement} element - The DOM element of the component.\n     * @param {number} visibilityThreshold1 -\n     *    visibilityThreshold represents the fraction of each component that must\n     *    be in the viewport before it is considered visible.\n     *    e.g. 0.5 means that half the height or width must be in the viewport\n     *    1 means that the entire element must be in the viewport\n     * @param {number} reportingInterval1 - ??\n     */\n    constructor(name, element, visibilityThreshold1, reportingInterval1) {\n        this.name = name;\n        this.element = element;\n        this.visibilityThreshold = visibilityThreshold1;\n        this.reportingInterval = reportingInterval1;\n        this.visible = false;\n        // total attention time so far for this element\n        this.totalAttentionMs = 0;\n        // the time elapsed since the time origin (https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp#the_time_origin)\n        // when the most recent period of attention (that is, attention\n        // which we haven't yet added to totalAttentionMs) began.\n        // null if we don't have attention.\n        this.unrecordedAttentionStarted = null;\n        // the attention time when getAttentionTime() was last called\n        this.reportedTotalAttentionMs = 0;\n        this.usingEmitter = false;\n        this.visCheck = this.checkVisibility.bind(this);\n        if (eventEmitter != null) {\n            this.usingEmitter = true;\n            eventEmitter.on('window:throttledScroll', this.visCheck);\n        }\n        else {\n            window.addEventListener('scroll', this.visCheck);\n        }\n        window.addEventListener('resize', this.visCheck);\n    }\n    isVisible(threshold = 1) {\n        if (!this.element.offsetParent) {\n            // exclude hidden elements\n            // will also exclude position: fixed elements but we don't care about these\n            // (because their attention time would always be the same as the whole page)\n            // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n            return false;\n        }\n        const box = this.element.getBoundingClientRect();\n        const width = box.width;\n        const height = box.height;\n        const windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        const windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        return (box.left >= -(width * (1 - threshold)) &&\n            box.top >= -(height * (1 - threshold)) &&\n            box.right <= windowWidth + width * (1 - threshold) &&\n            box.bottom <= windowHeight + height * (1 - threshold));\n    }\n    visibilityHasChanged() {\n        const wasVisible = this.visible;\n        this.visible = this.isVisible(this.visibilityThreshold);\n        return wasVisible !== this.visible;\n    }\n    rebindToEventEmitter() {\n        if (!this.usingEmitter && eventEmitter != null) {\n            window.removeEventListener('scroll', this.visCheck);\n            this.usingEmitter = true;\n            return eventEmitter.on('window:throttledScroll', this.visCheck);\n        }\n    }\n    checkVisibility() {\n        this.rebindToEventEmitter();\n        if (this.visibilityHasChanged()) {\n            return this.visible ? this.makeActive() : this.makeInactive();\n        }\n    }\n    makeActive() {\n        // mark when the latest period of attention began,\n        // if we're not already in an attention period\n        return this.unrecordedAttentionStarted != null\n            ? this.unrecordedAttentionStarted\n            : (this.unrecordedAttentionStarted = performance.now());\n    }\n    makeInactive() {\n        this.incrementTotalAttentionTimeByUnrecordedAmount();\n        return (this.unrecordedAttentionStarted = null);\n    }\n    hadAttentionSinceLastGet() {\n        this.incrementTotalAttentionTimeByUnrecordedAmount();\n        return this.totalAttentionMs !== this.reportedTotalAttentionMs;\n    }\n    getAttentionTime() {\n        this.incrementTotalAttentionTimeByUnrecordedAmount();\n        this.reportedTotalAttentionMs = this.totalAttentionMs;\n        return this.totalAttentionMs;\n    }\n    incrementTotalAttentionTimeByUnrecordedAmount() {\n        if (this.unrecordedAttentionStarted != null) {\n            const now = performance.now();\n            // the Math.min here is to deal with occasions where we don't get an event indicating that the user\n            // has become inactive - this can happen e.g. due to users suspending their phone. Never send\n            // crazy big values!\n            const unrecordedMs = Math.min(now - this.unrecordedAttentionStarted, this.reportingInterval);\n            this.totalAttentionMs += unrecordedMs;\n            return (this.unrecordedAttentionStarted = now);\n        }\n    }\n}\n/**\n * Begins monitoring the components on the page for attention time.\n * @returns {Array} Array of results from makeActive() for each visible component.\n */\nconst startMonitoring = () => {\n    return components\n        .filter((component) => component.isVisible())\n        .map((component) => component.makeActive());\n};\n/**\n * Stops monitoring the components on the page for attention time.\n * @returns {Array} Array of results from makeInactive() for each component.\n */\nconst stopMonitoring = () => {\n    return components.map((component) => component.makeInactive());\n};\n/**\n * Retrieves the attention times for all components.\n * @returns {Object}\n */\nconst getAttentionTimes = () => {\n    const obj = {};\n    for (const component of components) {\n        if (component.hadAttentionSinceLastGet()) {\n            // if there are duplicate component names, only the last one survives\n            obj[component.name] = Math.round(component.getAttentionTime());\n        }\n    }\n    return obj;\n};\nexport default {\n    /**\n     * @param {Object} emitter - The event emitter to set.\n     * @returns {Object}\n     */\n    setEventEmitter: function (emitter) {\n        return (eventEmitter = emitter);\n    },\n    startMonitoring,\n    stopMonitoring,\n    getAttentionTimes,\n    /** @type {(...args: ConstructorParameters<typeof Component>) => void} */\n    registerComponent: function (name, el, visibilityThreshold, reportingInterval) {\n        return components.push(new Component(name, el, visibilityThreshold, reportingInterval));\n    },\n};\n","// Generated by CoffeeScript 2.7.0\nimport transmit from './transmit.js';\nimport components from './components.js';\n// The upworthy definition of attention minutes, from\n// http://upworthy.github.io/2014/06/implementing-attention-minutes-part-1/ :\n// \"We consider the page to have the user’s attention if\n//  1. some activity is happening on the page. For our purposes this means:\n//     1. the page currently has focus\n//     2. and the user has interacted with the page within a certain timeout\n//  2. or a video is playing on the page\n//  Attention Minutes, then, are the total number of minutes that a user has spent on\n//  a page where the above conditions have held true.\"\n// our definition of \"within a certain timeout\" above:\nconst ATTENTIONDECAY = 5000;\n// our definition of \"the user has interacted with the page\"\nconst EVENTS = [\n    'focus',\n    'click',\n    'scroll',\n    'mousemove',\n    'touchstart',\n    'touchend',\n    'touchcancel',\n    'touchleave',\n    'touchmove',\n    'keyup',\n    'keydown',\n];\nconst REPORTINGINTERVAL = 10000;\n// total attention time so far on this page\nlet totalAttentionMs = 0;\n// the time elapsed since the time origin (https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp#the_time_origin)\n// when the most recent period of attention (that is, attention\n// which we haven't yet added to totalAttentionMs) began.\n// null if we don't have attention.\nlet unrecordedAttentionStarted = null;\n// the attention time we last reported to ophan\nlet reportedTotalAttentionMs = null; // setting null here forces a first report of attention time, even if it's only 0ms\n// the decay timer if we've set one\nlet decayTimerId = null;\n// is video currently playing?\nlet videoPlaying = false;\nconst cancelDecayTimer = () => {\n    if (decayTimerId != null) {\n        window.clearTimeout(decayTimerId);\n    }\n    decayTimerId = null;\n};\nconst makeActive = () => {\n    if (unrecordedAttentionStarted == null) {\n        unrecordedAttentionStarted = performance.now();\n    }\n    components.startMonitoring();\n    cancelDecayTimer();\n    decayTimerId = window.setTimeout(() => {\n        if (!videoPlaying) {\n            makeInactive();\n        }\n    }, ATTENTIONDECAY);\n};\nconst incrementTotalAttentionTimeByUnrecordedAmount = () => {\n    if (unrecordedAttentionStarted != null) {\n        const now = performance.now();\n        const unrecordedMs = Math.min(now - unrecordedAttentionStarted, REPORTINGINTERVAL);\n        totalAttentionMs += unrecordedMs;\n        unrecordedAttentionStarted = now;\n    }\n};\nconst makeInactive = () => {\n    cancelDecayTimer();\n    components.stopMonitoring();\n    incrementTotalAttentionTimeByUnrecordedAmount();\n    unrecordedAttentionStarted = null;\n};\nconst reporter = () => {\n    incrementTotalAttentionTimeByUnrecordedAmount();\n    if (totalAttentionMs !== reportedTotalAttentionMs) {\n        const report = {\n            attentionMs: Math.round(totalAttentionMs),\n        };\n        const componentAttentionTimes = components.getAttentionTimes();\n        if (Object.keys(componentAttentionTimes).length) {\n            report.componentAttentionMs = componentAttentionTimes;\n        }\n        transmit.sendMore(report);\n        reportedTotalAttentionMs = totalAttentionMs;\n    }\n};\nconst initComponent = (name, el, visibilityThreshold = 0.5) => {\n    components.registerComponent(name, el, visibilityThreshold, REPORTINGINTERVAL);\n};\nconst initAttention = (visibility) => {\n    EVENTS.forEach((event) => {\n        window.addEventListener(event, makeActive);\n    });\n    document.addEventListener(visibility.changeEvent, () => {\n        if (visibility.state() === 'visible') {\n            makeActive();\n        }\n        else {\n            makeInactive();\n        }\n    }, false);\n    document.addEventListener('videoPlaying', () => {\n        videoPlaying = true;\n        makeActive();\n    });\n    document.addEventListener('videoEnded', () => {\n        videoPlaying = false;\n        makeInactive();\n    });\n    document.addEventListener('videoPause', () => {\n        videoPlaying = false;\n        makeInactive();\n    });\n    window.setTimeout(reporter, 100);\n    window.setInterval(reporter, REPORTINGINTERVAL);\n};\nconst setEventEmitter = (emitter) => {\n    components.setEventEmitter(emitter);\n};\nexport default {\n    init: initAttention,\n    initComponent: initComponent,\n    setEventEmitter: setEventEmitter,\n};\n","let heatmapFired = false;\nconst init = () => {\n    const addHeatmap = () => {\n        let heatmapParam;\n        if (typeof localStorage !== 'undefined' &&\n            localStorage !== null &&\n            !heatmapFired) {\n            heatmapFired = true;\n            heatmapParam = window.location.search.replace(/^(?:.*[&\\?]heatmap(?:\\=([^&]*))?)?.*$/, '$1');\n            if (heatmapParam === 'experimental') {\n                return (document.body.appendChild(document.createElement('script')).src = '//dashboard.ophan.co.uk/assets/js/react/heatphan/index.js');\n            }\n            if (heatmapParam === 'true' || heatmapParam === 'false') {\n                localStorage['ophan_heatmap'] = heatmapParam;\n            }\n            if (localStorage['ophan_heatmap'] === 'true' || heatmapParam === 'show') {\n                return (document.body.appendChild(document.createElement('script')).src = '//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js');\n            }\n        }\n    };\n    if (document.readyState === 'complete') {\n        return addHeatmap();\n    }\n    else {\n        return typeof window.addEventListener === 'function'\n            ? window.addEventListener('load', function () {\n                return addHeatmap();\n            }, false)\n            : void 0;\n    }\n};\nexport default {\n    init,\n};\n","import ophan from './core.js';\nimport transmit from './transmit.js';\n/**\n * Finds the closest ancestor anchor (`<a>`) element of the given element.\n *\n * @param {Element} el - The element to start searching from.\n * @returns {Element|null} The closest ancestor anchor element or null if none found.\n */\nexport const validAncestorAnchorElement = (el) => {\n    if (!el || el.nodeName?.toLowerCase() === 'body')\n        return null;\n    return el.nodeName.toLowerCase() === 'a'\n        ? el\n        : validAncestorAnchorElement(el.parentNode);\n};\n/**\n * Retrieves the value of the `data-component` attribute from the closest ancestor.\n *\n * @param {Element} el - The element to start searching from.\n * @returns {string|null} The `data-component` attribute value or null if not found.\n */\nexport const getContainingComponent = (el) => {\n    if (!el || el.nodeName?.toLowerCase() === 'body')\n        return null;\n    return (el.getAttribute('data-component') || getContainingComponent(el.parentNode));\n};\n/**\n * Collects all `data-link-name` attribute values from the ancestor elements.\n *\n * @param {Element} el - The element to start searching from.\n * @param {string[]} dataLinkNames - Initial array of data link names (optional).\n * @returns {string[]} Array of `data-link-name` values.\n */\nconst getDataLinkNames = (el, dataLinkNames = []) => {\n    if (!el || el === document.body || el === document)\n        return dataLinkNames;\n    const dataLinkName = el.getAttribute('data-link-name');\n    if (dataLinkName)\n        dataLinkNames.push(dataLinkName);\n    return getDataLinkNames(el.parentNode, dataLinkNames);\n};\nif (typeof document.addEventListener === 'function') {\n    document.addEventListener('click', function (e) {\n        let target = e.target;\n        let info;\n        // For anchors, use validAncestorAnchorElement\n        const anchorTarget = validAncestorAnchorElement(target);\n        const nonTrackableElements = [\n            'div',\n            'span',\n            'p',\n            'section',\n            'article',\n            'main',\n            'header',\n            'footer',\n            'nav',\n        ];\n        if (nonTrackableElements.includes(target.tagName.toLowerCase()) &&\n            !anchorTarget) {\n            return;\n        }\n        // If it's an anchor, use anchorTarget, otherwise use the original target\n        const trackingTarget = anchorTarget || target;\n        info = {\n            from: [location.protocol, '//', location.host, location.pathname].join(''),\n            to: trackingTarget.href || undefined,\n            referringComponent: getContainingComponent(trackingTarget),\n            referringDataLinkNames: getDataLinkNames(trackingTarget),\n            refPlatform: ophan.servingPlatform(),\n            refViewId: ophan.viewId,\n        };\n        if (info.referringDataLinkNames && info.referringDataLinkNames.length > 0) {\n            transmit.sendMore({\n                clickComponent: info.referringComponent,\n                clickLinkNames: info.referringDataLinkNames,\n            });\n        }\n        if (anchorTarget) {\n            // If it's an anchor, we may be about to navigate away from this page, so store to send on next request\n            return ophan.storeDataToSendOnNextEvent(info);\n        }\n    }, false);\n}\nexport default {\n    getDataLinkNames: getDataLinkNames,\n};\n","// Generated by CoffeeScript 2.7.0\nimport core from './core.js';\nconst perf = window.performance ||\n    window.msPerformance ||\n    window.webkitPerformance ||\n    window.mozPerformance;\nconst sendTimingData = () => {\n    const t = perf?.timing;\n    if (t) {\n        return {\n            performance: {\n                // Time required for domain lookup.\n                dns: t.domainLookupEnd - t.domainLookupStart,\n                // Time to establish a connection to server.\n                connection: t.connectEnd - t.connectStart,\n                // From connection established to first byte of data.\n                firstByte: t.responseStart - t.connectEnd,\n                // First byte to last byte, or closed, including if from cache.\n                lastByte: t.responseEnd - t.responseStart,\n                // From last byte of doc to start of domContentLoaded\n                domContentLoadedEvent: t.domContentLoadedEventStart - t.responseEnd,\n                // domcontentLoaded to start of load event.\n                loadEvent: t.loadEventStart - t.domContentLoadedEventStart,\n                // click, back/forward, etc...\n                navType: perf.navigation.type,\n                // No. of redirects on current domain.\n                redirectCount: perf.navigation.redirectCount,\n            },\n        };\n    }\n    else {\n        return {};\n    }\n};\ncore.onLoadCapture(sendTimingData);\nexport default perf;\n","import transmit from './transmit.js';\n/*\n    TO-DO:\n    This function could probably be simplified with an async function.\n    It basically returns a `boolean`, but uses a callback to do so... I can only guess it’s because of [`requestFileSystem`’s signature](https://developer.mozilla.org/en-US/docs/Web/API/Window/requestFileSystem).\n */\nconst privateBrowsingMode = (callback) => {\n    const reportNormalMode = () => callback(false);\n    const reportPrivateMode = () => callback(true);\n    const tryLocalStorage = () => {\n        try {\n            if (localStorage.length) {\n                reportNormalMode();\n            }\n            else {\n                localStorage.x = 1;\n                localStorage.removeItem('x');\n                reportNormalMode();\n            }\n        }\n        catch (error) {\n            reportPrivateMode();\n        }\n    };\n    const tryIndexedDB = () => {\n        try {\n            const db = indexedDB.open('test');\n            db.onsuccess = reportNormalMode;\n            db.onerror = reportPrivateMode;\n        }\n        catch (error) {\n            reportPrivateMode();\n        }\n    };\n    // Blink\n    if (window.webkitRequestFileSystem) {\n        window.webkitRequestFileSystem(window.TEMPORARY, 1, reportNormalMode, reportPrivateMode);\n        // Firefox\n    }\n    else if ('MozAppearance' in document.documentElement.style) {\n        tryIndexedDB();\n        // Safari\n    }\n    else if (/constructor/i.test(window.HTMLElement)) {\n        tryLocalStorage();\n    }\n    else if (!window.indexedDB &&\n        (window.PointerEvent || window.MSPointerEvent)) {\n        reportPrivateMode();\n    }\n    else {\n        // Rest\n        reportNormalMode();\n    }\n};\nexport default {\n    init() {\n        privateBrowsingMode((value) => {\n            const report = {\n                inPrivateBrowsingMode: value,\n            };\n            transmit.sendMore(report);\n        });\n    },\n    privateBrowsingMode,\n};\n","import clickCapture from './click-path-capture.js';\nconst validIframeDomains = [\n    '.theguardian.com',\n    '.dev-theguardian.com',\n    '.thegulocal.com', // NB - leading dot is essential here to avoid matching on non-Guardian-owned domains\n];\n/**\n * Handles messages received from iframes, recording events as necessary.\n * @param {MessageEvent} messageEvent - The message event received from an iframe.\n */\nconst handleIframeMessage = (messageEvent) => {\n    const originDomain = retrieveOriginDomain(messageEvent.origin);\n    if (originDomain &&\n        validIframeDomains.some((domain) => originDomain.endsWith(domain))) {\n        if (messageEvent.data.type === 'ophan-iframe-click-event') {\n            const eventObject = messageEvent.data.value;\n            const iFrame = document.getElementById(messageEvent.data.iframeId);\n            recordIframeClickEvent(iFrame, eventObject);\n        }\n        else if (messageEvent.data.type === 'ophan-iframe-component-event') {\n            const eventObject = messageEvent.data.value;\n            recordIframeComponentEvent(eventObject);\n        }\n    }\n};\n/**\n * Retrieves the domain from an event's origin URL.\n * @param {string} eventOrigin - The origin URL of the event.\n * @returns {(string|null)} The domain of the origin URL or null if it cannot be parsed.\n */\nconst retrieveOriginDomain = (eventOrigin) => {\n    try {\n        const originURL = new URL(eventOrigin);\n        return originURL.host;\n    }\n    catch (error) {\n        if (error instanceof TypeError) {\n            // We failed to parse origin as an URL, we should ignore the event\n            return null;\n        }\n        else {\n            throw error;\n        }\n    }\n};\n/**\n * Records a click event occurring within an iframe.\n * @param {HTMLElement} iFrame - The iframe element where the click event occurred.\n * @param {Object} clickEvent - The click event object to record.\n */\nconst recordIframeClickEvent = (iFrame, clickEvent) => {\n    if (iFrame) {\n        clickEvent.clickLinkNames =\n            clickCapture.getDataLinkNames(iFrame, clickEvent.clickLinkNames) ||\n                clickEvent.clickLinkNames;\n    }\n    window.guardian.ophan.record(clickEvent);\n};\n/**\n * Validates if an event object is a valid component event.\n * @param {Object} eventObject - The event object to validate.\n * @returns {boolean} True if the event object is valid, false otherwise.\n */\nconst componentEventIsValid = (eventObject) => {\n    return (eventObject &&\n        typeof eventObject === 'object' &&\n        eventObject.componentEvent &&\n        typeof eventObject.componentEvent === 'object');\n};\n/**\n * Records a component event from an iframe.\n * @param {Object} eventObject - The component event object to record.\n */\nconst recordIframeComponentEvent = (eventObject) => {\n    if (!componentEventIsValid(eventObject)) {\n        return;\n    }\n    window.guardian.ophan.record(eventObject);\n};\nwindow.addEventListener('message', handleIframeMessage, false);\n","import core from './core.js';\nimport transmit from './transmit.js';\nimport attention from './attention.js';\nimport visibility from './visibility.js';\nimport privatebrowsing from './privatebrowsing.js';\nimport heatmap from './heatmap.js';\nimport './click-path-capture.js';\nimport './perf.js';\nimport './iframe-tracking.js';\nexport * from './types/abtest.js';\nexport * from './types/acquisition.js';\nexport * from './types/subscription.js';\nexport * from './types/interaction.js';\nexport * from './types/inpageclick.js';\nexport * from './types/printproduct.js';\nexport * from './types/product.js';\nexport * from './types/platform.js';\nexport * from './types/media.js';\nexport * from './types/consent.js';\nexport * from './types/component-type.js';\nexport * from './types/component-event.js';\nexport * from './types/event.js';\nlet ng;\nif (window.guardian && window.guardian.ophan) {\n    ng = window.guardian.ophan;\n}\nelse {\n    core.init('next-gen');\n    privatebrowsing.init();\n    heatmap.init();\n    if (window.addEventListener) {\n        attention.init(visibility);\n    }\n    if (!window.guardian) {\n        window.guardian = {};\n    }\n    window.guardian.ophan = {\n        setEventEmitter: attention.setEventEmitter,\n        trackComponentAttention: attention.initComponent,\n        record: transmit.sendMore,\n        viewId: transmit.viewId,\n        pageViewId: transmit.viewId,\n    };\n    ng = window.guardian.ophan;\n}\nexport default ng;\n","const palette = {\n    brand: {\n        \"100\": \"#001536\",\n        \"300\": \"#041F4A\",\n        \"400\": \"#052962\",\n        \"500\": \"#0077B6\",\n        \"600\": \"#506991\",\n        \"800\": \"#C1D8FC\"\n    },\n    brandAlt: {\n        \"200\": \"#F3C100\",\n        \"300\": \"#FFD900\",\n        \"400\": \"#FFE500\"\n    },\n    culture: {\n        \"50\": \"#2B2625\",\n        \"100\": \"#3E3323\",\n        \"200\": \"#574835\",\n        \"300\": \"#6B5840\",\n        /** @deprecated Use palette.culture.400 */\n        \"350\": \"#866D50\",\n        \"400\": \"#866D50\",\n        \"450\": \"#A1845C\",\n        \"500\": \"#EACCA0\",\n        \"600\": \"#E7D4B9\",\n        \"700\": \"#EFE8DD\",\n        \"800\": \"#FBF6EF\"\n    },\n    error: {\n        \"400\": \"#C70000\",\n        \"500\": \"#FF9081\"\n    },\n    focus: {\n        \"400\": \"#0077B6\"\n    },\n    labs: {\n        \"200\": \"#0C7A73\",\n        \"300\": \"#65A897\",\n        \"400\": \"#69D1CA\"\n    },\n    lifestyle: {\n        \"100\": \"#510043\",\n        \"200\": \"#650054\",\n        \"300\": \"#7D0068\",\n        \"400\": \"#BB3B80\",\n        \"450\": \"#F37ABC\",\n        \"500\": \"#FFABDB\",\n        \"600\": \"#FEC8D3\",\n        \"800\": \"#FEEEF7\"\n    },\n    neutral: {\n        \"0\": \"#000000\",\n        \"7\": \"#121212\",\n        \"10\": \"#1A1A1A\",\n        \"20\": \"#333333\",\n        \"38\": \"#545454\",\n        \"46\": \"#707070\",\n        \"60\": \"#999999\",\n        \"73\": \"#BABABA\",\n        \"86\": \"#DCDCDC\",\n        \"93\": \"#EDEDED\",\n        \"97\": \"#F6F6F6\",\n        \"100\": \"#FFFFFF\"\n    },\n    news: {\n        \"100\": \"#660505\",\n        \"200\": \"#8B0000\",\n        \"300\": \"#AB0613\",\n        \"400\": \"#C70000\",\n        \"500\": \"#FF5943\",\n        \"550\": \"#FF9081\",\n        \"600\": \"#FFBAC8\",\n        \"800\": \"#FFF4F2\"\n    },\n    opinion: {\n        \"100\": \"#672005\",\n        \"200\": \"#8D2700\",\n        /** @deprecated Use palette.opinion.400 */\n        \"300\": \"#C74600\",\n        \"400\": \"#C74600\",\n        \"450\": \"#E05E00\",\n        \"500\": \"#FF7F0F\",\n        \"550\": \"#FF9941\",\n        \"600\": \"#F9B376\",\n        \"800\": \"#FEF9F5\"\n    },\n    specialReport: {\n        \"100\": \"#222527\",\n        \"200\": \"#303538\",\n        \"300\": \"#3F464A\",\n        \"400\": \"#595C5F\",\n        \"450\": \"#9DA0A2\",\n        \"500\": \"#ABC2C9\",\n        \"700\": \"#E4E5E8\",\n        \"800\": \"#EFF1F2\"\n    },\n    specialReportAlt: {\n        \"100\": \"#2B2B2A\",\n        \"200\": \"#B9300A\",\n        \"300\": \"#FF663D\",\n        \"700\": \"#EBE6E1\",\n        \"800\": \"#F5F0EB\"\n    },\n    sport: {\n        \"100\": \"#003C60\",\n        \"200\": \"#004E7C\",\n        \"300\": \"#005689\",\n        \"400\": \"#0077B6\",\n        \"500\": \"#00B2FF\",\n        \"600\": \"#90DCFF\",\n        \"800\": \"#F1F8FC\"\n    },\n    success: {\n        \"300\": \"#185E36\",\n        \"400\": \"#22874D\",\n        \"500\": \"#58D08B\"\n    }\n};\nexport { palette };\n","const height = {\n    /** Medium height call to action buttons and links */\n    ctaMedium: 44,\n    /** Small height call to action buttons and links */\n    ctaSmall: 36,\n    /** Extra small height call to action buttons and links */\n    ctaXsmall: 24,\n    iconMedium: 30,\n    iconSmall: 26,\n    /** Checkables such as checkboxes or radio buttons */\n    iconXsmall: 20,\n    /** Text input fields, radio and checkbox labels */\n    inputMedium: 44,\n    /** Checkables such as checkboxes or radio buttons */\n    inputXsmall: 24\n};\nconst iconSize = {\n    /** Meets WCAG 2.1 AAA compliance for touch targets. */\n    medium: 30,\n    small: 26,\n    xsmall: 20\n};\nconst size = {\n    /** Meets WCAG 2.1 AAA compliance for touch targets. */\n    medium: 44,\n    small: 36,\n    xsmall: 24\n};\nconst width = {\n    /** Medium height call to action buttons and links */\n    ctaMedium: 44,\n    /** Small height call to action buttons and links */\n    ctaSmall: 36,\n    /** Extra small height call to action buttons and links */\n    ctaXsmall: 24,\n    iconMedium: 30,\n    iconSmall: 26,\n    /** Checkables such as checkboxes or radio buttons */\n    iconXsmall: 20,\n    /** Checkables such as checkboxes or radio buttons */\n    inputXsmall: 24\n};\nconst remHeight = {\n    /** Medium height call to action buttons and links */\n    ctaMedium: \"2.75rem\",\n    /** Small height call to action buttons and links */\n    ctaSmall: \"2.25rem\",\n    /** Extra small height call to action buttons and links */\n    ctaXsmall: \"1.5rem\",\n    iconMedium: \"1.875rem\",\n    iconSmall: \"1.625rem\",\n    /** Checkables such as checkboxes or radio buttons */\n    iconXsmall: \"1.25rem\",\n    /** Text input fields, radio and checkbox labels */\n    inputMedium: \"2.75rem\",\n    /** Checkables such as checkboxes or radio buttons */\n    inputXsmall: \"1.5rem\"\n};\nconst remWidth = {\n    /** Medium height call to action buttons and links */\n    ctaMedium: \"2.75rem\",\n    /** Small height call to action buttons and links */\n    ctaSmall: \"2.25rem\",\n    /** Extra small height call to action buttons and links */\n    ctaXsmall: \"1.5rem\",\n    iconMedium: \"1.875rem\",\n    iconSmall: \"1.625rem\",\n    /** Checkables such as checkboxes or radio buttons */\n    iconXsmall: \"1.25rem\",\n    /** Checkables such as checkboxes or radio buttons */\n    inputXsmall: \"1.5rem\"\n};\nexport { height, iconSize, remHeight, remWidth, size, width };\n","const space = {\n    0: 2,\n    1: 4,\n    2: 8,\n    3: 12,\n    4: 16,\n    5: 20,\n    6: 24,\n    8: 32,\n    9: 36,\n    10: 40,\n    12: 48,\n    14: 56,\n    16: 64,\n    18: 72,\n    24: 96\n};\nconst remSpace = {\n    0: \"0.125rem\",\n    1: \"0.25rem\",\n    2: \"0.5rem\",\n    3: \"0.75rem\",\n    4: \"1rem\",\n    5: \"1.25rem\",\n    6: \"1.5rem\",\n    8: \"2rem\",\n    9: \"2.25rem\",\n    10: \"2.5rem\",\n    12: \"3rem\",\n    14: \"3.5rem\",\n    16: \"4rem\",\n    18: \"4.5rem\",\n    24: \"6rem\"\n};\nexport { remSpace, space };\n","const article15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.4;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst article15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.4,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst article17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.4;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst article17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.4,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst articleBold15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.4;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst articleBold15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.4,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst articleBold17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.4;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst articleBold17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.4,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst articleBoldItalic15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.4;\n\tfont-weight: 700;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst articleBoldItalic15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.4,\n    fontWeight: 700,\n    fontStyle: \"italic\"\n};\nconst articleBoldItalic17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.4;\n\tfont-weight: 700;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst articleBoldItalic17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.4,\n    fontWeight: 700,\n    fontStyle: \"italic\"\n};\nconst articleItalic15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.4;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst articleItalic15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.4,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst articleItalic17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.4;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst articleItalic17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.4,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst headlineBold14 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineBold14Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold15 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineBold15Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold17 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineBold17Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold20 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineBold20Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold24 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineBold24Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold28 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineBold28Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold34 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst headlineBold34Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold42 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.625rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 5px;\n`;\nconst headlineBold42Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.625rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold50 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 3.125rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineBold50Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"3.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineBold64 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 4rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineBold64Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"4rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst headlineLight14 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineLight14Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight15 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineLight15Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight17 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineLight17Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight20 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineLight20Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight24 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineLight24Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight28 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineLight28Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight34 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst headlineLight34Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight42 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.625rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 5px;\n`;\nconst headlineLight42Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.625rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight50 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 3.125rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineLight50Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"3.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLight64 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 4rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineLight64Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"4rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"normal\"\n};\nconst headlineLightItalic14 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineLightItalic14Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic15 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineLightItalic15Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic17 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineLightItalic17Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic20 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineLightItalic20Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic24 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineLightItalic24Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic28 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineLightItalic28Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic34 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst headlineLightItalic34Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic42 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.625rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 5px;\n`;\nconst headlineLightItalic42Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.625rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic50 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 3.125rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineLightItalic50Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"3.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineLightItalic64 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 4rem;\n\tline-height: 1.15;\n\tfont-weight: 300;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineLightItalic64Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"4rem\",\n    lineHeight: 1.15,\n    fontWeight: 300,\n    fontStyle: \"italic\"\n};\nconst headlineMedium14 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineMedium14Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium15 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineMedium15Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium17 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineMedium17Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium20 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineMedium20Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium24 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineMedium24Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium28 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineMedium28Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium34 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst headlineMedium34Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium42 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.625rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 5px;\n`;\nconst headlineMedium42Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.625rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium50 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 3.125rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineMedium50Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"3.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMedium64 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 4rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineMedium64Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"4rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"normal\"\n};\nconst headlineMediumItalic14 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineMediumItalic14Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic15 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineMediumItalic15Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic17 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst headlineMediumItalic17Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic20 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineMediumItalic20Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic24 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineMediumItalic24Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic28 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst headlineMediumItalic28Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic34 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst headlineMediumItalic34Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic42 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 2.625rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 5px;\n`;\nconst headlineMediumItalic42Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"2.625rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic50 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 3.125rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineMediumItalic50Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"3.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst headlineMediumItalic64 = `\n\tfont-family: \"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif;\n\tfont-size: 4rem;\n\tline-height: 1.15;\n\tfont-weight: 500;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst headlineMediumItalic64Object = {\n    fontFamily: '\"GH Guardian Headline\", \"Guardian Egyptian Web\", Georgia, serif',\n    fontSize: \"4rem\",\n    lineHeight: 1.15,\n    fontWeight: 500,\n    fontStyle: \"italic\"\n};\nconst textEgyptian14 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptian14Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textEgyptian15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptian15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textEgyptian17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptian17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textEgyptianBold14 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianBold14Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textEgyptianBold15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianBold15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textEgyptianBold17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianBold17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textEgyptianBoldItalic14 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianBoldItalic14Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"italic\"\n};\nconst textEgyptianBoldItalic15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianBoldItalic15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"italic\"\n};\nconst textEgyptianBoldItalic17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianBoldItalic17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"italic\"\n};\nconst textEgyptianItalic14 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianItalic14Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textEgyptianItalic15 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianItalic15Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textEgyptianItalic17 = `\n\tfont-family: GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textEgyptianItalic17Object = {\n    fontFamily: 'GuardianTextEgyptian, \"Guardian Text Egyptian Web\", Georgia, serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSans12 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.75rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSans12Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.75rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSans14 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSans14Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSans15 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSans15Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSans17 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSans17Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSans20 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSans20Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSans24 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSans24Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSans28 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSans28Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSans34 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst textSans34Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"normal\"\n};\nconst textSansBold12 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.75rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansBold12Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.75rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansBold14 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansBold14Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansBold15 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansBold15Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansBold17 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansBold17Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansBold20 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSansBold20Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansBold24 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSansBold24Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansBold28 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSansBold28Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansBold34 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.3;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst textSansBold34Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.3,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst textSansItalic12 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.75rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansItalic12Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.75rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSansItalic14 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.875rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansItalic14Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.875rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSansItalic15 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 0.9375rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansItalic15Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"0.9375rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSansItalic17 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.0625rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 2px;\n`;\nconst textSansItalic17Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.0625rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSansItalic20 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.25rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSansItalic20Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.25rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSansItalic24 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.5rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSansItalic24Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.5rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSansItalic28 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 1.75rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 3px;\n`;\nconst textSansItalic28Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"1.75rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst textSansItalic34 = `\n\tfont-family: GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n\tfont-size: 2.125rem;\n\tline-height: 1.3;\n\tfont-weight: 400;\n\tfont-style: italic;\n\t--source-text-decoration-thickness: 4px;\n`;\nconst textSansItalic34Object = {\n    fontFamily: 'GuardianTextSans, \"Guardian Text Sans Web\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif',\n    fontSize: \"2.125rem\",\n    lineHeight: 1.3,\n    fontWeight: 400,\n    fontStyle: \"italic\"\n};\nconst titlepiece42 = `\n\tfont-family: \"GT Guardian Titlepiece\", Georgia, serif;\n\tfont-size: 2.625rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 5px;\n`;\nconst titlepiece42Object = {\n    fontFamily: '\"GT Guardian Titlepiece\", Georgia, serif',\n    fontSize: \"2.625rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst titlepiece50 = `\n\tfont-family: \"GT Guardian Titlepiece\", Georgia, serif;\n\tfont-size: 3.125rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst titlepiece50Object = {\n    fontFamily: '\"GT Guardian Titlepiece\", Georgia, serif',\n    fontSize: \"3.125rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nconst titlepiece70 = `\n\tfont-family: \"GT Guardian Titlepiece\", Georgia, serif;\n\tfont-size: 4.375rem;\n\tline-height: 1.15;\n\tfont-weight: 700;\n\tfont-style: normal;\n\t--source-text-decoration-thickness: 6px;\n`;\nconst titlepiece70Object = {\n    fontFamily: '\"GT Guardian Titlepiece\", Georgia, serif',\n    fontSize: \"4.375rem\",\n    lineHeight: 1.15,\n    fontWeight: 700,\n    fontStyle: \"normal\"\n};\nexport { article15, article15Object, article17, article17Object, articleBold15, articleBold15Object, articleBold17, articleBold17Object, articleBoldItalic15, articleBoldItalic15Object, articleBoldItalic17, articleBoldItalic17Object, articleItalic15, articleItalic15Object, articleItalic17, articleItalic17Object, headlineBold14, headlineBold14Object, headlineBold15, headlineBold15Object, headlineBold17, headlineBold17Object, headlineBold20, headlineBold20Object, headlineBold24, headlineBold24Object, headlineBold28, headlineBold28Object, headlineBold34, headlineBold34Object, headlineBold42, headlineBold42Object, headlineBold50, headlineBold50Object, headlineBold64, headlineBold64Object, headlineLight14, headlineLight14Object, headlineLight15, headlineLight15Object, headlineLight17, headlineLight17Object, headlineLight20, headlineLight20Object, headlineLight24, headlineLight24Object, headlineLight28, headlineLight28Object, headlineLight34, headlineLight34Object, headlineLight42, headlineLight42Object, headlineLight50, headlineLight50Object, headlineLight64, headlineLight64Object, headlineLightItalic14, headlineLightItalic14Object, headlineLightItalic15, headlineLightItalic15Object, headlineLightItalic17, headlineLightItalic17Object, headlineLightItalic20, headlineLightItalic20Object, headlineLightItalic24, headlineLightItalic24Object, headlineLightItalic28, headlineLightItalic28Object, headlineLightItalic34, headlineLightItalic34Object, headlineLightItalic42, headlineLightItalic42Object, headlineLightItalic50, headlineLightItalic50Object, headlineLightItalic64, headlineLightItalic64Object, headlineMedium14, headlineMedium14Object, headlineMedium15, headlineMedium15Object, headlineMedium17, headlineMedium17Object, headlineMedium20, headlineMedium20Object, headlineMedium24, headlineMedium24Object, headlineMedium28, headlineMedium28Object, headlineMedium34, headlineMedium34Object, headlineMedium42, headlineMedium42Object, headlineMedium50, headlineMedium50Object, headlineMedium64, headlineMedium64Object, headlineMediumItalic14, headlineMediumItalic14Object, headlineMediumItalic15, headlineMediumItalic15Object, headlineMediumItalic17, headlineMediumItalic17Object, headlineMediumItalic20, headlineMediumItalic20Object, headlineMediumItalic24, headlineMediumItalic24Object, headlineMediumItalic28, headlineMediumItalic28Object, headlineMediumItalic34, headlineMediumItalic34Object, headlineMediumItalic42, headlineMediumItalic42Object, headlineMediumItalic50, headlineMediumItalic50Object, headlineMediumItalic64, headlineMediumItalic64Object, textEgyptian14, textEgyptian14Object, textEgyptian15, textEgyptian15Object, textEgyptian17, textEgyptian17Object, textEgyptianBold14, textEgyptianBold14Object, textEgyptianBold15, textEgyptianBold15Object, textEgyptianBold17, textEgyptianBold17Object, textEgyptianBoldItalic14, textEgyptianBoldItalic14Object, textEgyptianBoldItalic15, textEgyptianBoldItalic15Object, textEgyptianBoldItalic17, textEgyptianBoldItalic17Object, textEgyptianItalic14, textEgyptianItalic14Object, textEgyptianItalic15, textEgyptianItalic15Object, textEgyptianItalic17, textEgyptianItalic17Object, textSans12, textSans12Object, textSans14, textSans14Object, textSans15, textSans15Object, textSans17, textSans17Object, textSans20, textSans20Object, textSans24, textSans24Object, textSans28, textSans28Object, textSans34, textSans34Object, textSansBold12, textSansBold12Object, textSansBold14, textSansBold14Object, textSansBold15, textSansBold15Object, textSansBold17, textSansBold17Object, textSansBold20, textSansBold20Object, textSansBold24, textSansBold24Object, textSansBold28, textSansBold28Object, textSansBold34, textSansBold34Object, textSansItalic12, textSansItalic12Object, textSansItalic14, textSansItalic14Object, textSansItalic15, textSansItalic15Object, textSansItalic17, textSansItalic17Object, textSansItalic20, textSansItalic20Object, textSansItalic24, textSansItalic24Object, textSansItalic28, textSansItalic28Object, textSansItalic34, textSansItalic34Object, titlepiece42, titlepiece42Object, titlepiece50, titlepiece50Object, titlepiece70, titlepiece70Object };\n","import { palette } from '../__generated__/palette.js';\nconst focusHalo = `\n outline: 0;\n html:not(.src-focus-disabled) & {\n\t box-shadow: 0 0 0 3px ${palette.focus[400]};\n }\n`;\nconst focusHaloSpaced = `\n outline: 0;\n html:not(.src-focus-disabled) & {\n\toutline: 5px solid ${palette.focus[400]};\n\toutline-offset: 3px;\n }\n`;\nexport { focusHalo, focusHaloSpaced };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { linkContents } from './shared.js';\nimport { linkStyles } from './styles.js';\nconst ButtonLink = ({ priority = \"primary\", icon: iconSvg, iconSide = \"left\", cssOverrides, children, theme, ...props }) => {\n    return /* @__PURE__ */ jsx(\"button\", {\n        css: linkStyles({\n            isButton: true,\n            priority,\n            iconSvg,\n            iconSide,\n            cssOverrides,\n            theme\n        }),\n        ...props,\n        children: linkContents({ children, iconSvg, iconSide })\n    });\n};\nexport { ButtonLink };\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { cloneElement, Fragment } from 'react';\nconst linkContents = ({ children, iconSvg, iconSide }) => {\n    const spacer = /* @__PURE__ */ jsx(Fragment, { children: \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\" }, \"spacer\");\n    const linkContents2 = [children];\n    if (iconSvg) {\n        if (iconSide === \"left\") {\n            linkContents2.unshift(spacer, cloneElement(iconSvg, {\n                key: \"svg\"\n            }));\n        }\n        else {\n            linkContents2.push(spacer, cloneElement(iconSvg, {\n                key: \"svg\"\n            }));\n        }\n    }\n    return linkContents2;\n};\nexport { linkContents };\n","import { palette } from '../../foundations/__generated__/palette.js';\nconst linkThemeDefault = {\n    link: {\n        textPrimary: palette.brand[500],\n        textPrimaryHover: palette.brand[500],\n        textSecondary: palette.neutral[7],\n        textSecondaryHover: palette.neutral[7]\n    }\n};\nconst linkThemeBrand = {\n    link: {\n        textPrimary: palette.neutral[100],\n        textPrimaryHover: palette.neutral[100]\n    }\n};\nconst linkThemeBrandAlt = {\n    link: {\n        textPrimary: palette.neutral[7],\n        textPrimaryHover: palette.neutral[7]\n    }\n};\nconst themeLink = {\n    textPrimary: palette.brand[500],\n    textPrimaryHover: palette.brand[500],\n    textSecondary: palette.neutral[7],\n    textSecondaryHover: palette.neutral[7]\n};\nconst themeLinkBrand = {\n    textPrimary: palette.neutral[100],\n    textPrimaryHover: palette.neutral[100]\n};\nconst themeLinkBrandAlt = {\n    textPrimary: palette.neutral[7],\n    textPrimaryHover: palette.neutral[7]\n};\nexport { linkThemeBrand, linkThemeBrandAlt, linkThemeDefault, themeLink, themeLinkBrand, themeLinkBrandAlt };\n","import { css } from '@emotion/react';\nimport { mergeThemes } from '../utils/themes.js';\nimport { themeLink } from './theme.js';\nimport { focusHalo } from '../../foundations/accessibility/focus-halo.js';\nimport { width } from '../../foundations/__generated__/size.js';\nimport { space } from '../../foundations/__generated__/space.js';\nimport { textSans17 } from '../../foundations/__generated__/typography.js';\nconst link = css `\n\tposition: relative;\n\t${textSans17};\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n\ttext-underline-offset: 5%;\n\n\tdisplay: inline;\n\talign-items: center;\n\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\n\t&:hover {\n\t\t/* If the hover text decoration thickness is not set, we default to the initial value. */\n\t\ttext-decoration-thickness: var(--source-text-decoration-thickness, auto);\n\t}\n`;\nconst buttonLink = css `\n\t/* override user agent styles */\n\tborder: none;\n\tbackground: transparent;\n\tpadding: 0;\n`;\nconst primary = (link2) => css `\n\tcolor: ${link2.textPrimary};\n\n\t&:hover {\n\t\tcolor: ${link2.textPrimaryHover};\n\t}\n`;\nconst secondary = (link2) => css `\n\tcolor: ${link2.textSecondary};\n\n\t&:hover {\n\t\tcolor: ${link2.textSecondaryHover};\n\t}\n`;\nconst icon = css `\n\tsvg {\n\t\tfill: currentColor;\n\t\t/*\n\t\tTODO: hardcoded bottom margin to vertically align\n\t\ticons with text. This needs to be revisited when\n\t\tthe rules of icon spacing have been formalised\n\t\t */\n\t\tmargin-bottom: -3px;\n\t\twidth: ${width.iconXsmall}px;\n\t\theight: auto;\n\t}\n`;\nconst iconRight = css `\n\tsvg {\n\t\tmargin-left: -${space[5]}px;\n\t}\n`;\nconst iconLeft = css `\n\tsvg {\n\t\tmargin-left: -${space[6]}px;\n\t\tmargin-right: ${space[1]}px;\n\t}\n`;\nconst priorities = {\n    primary,\n    secondary\n};\nconst iconSides = {\n    right: iconRight,\n    left: iconLeft\n};\nconst linkStyles = ({ isButton, priority, iconSvg, iconSide = \"left\", cssOverrides, theme }) => {\n    const mergedTheme = (providerTheme) => mergeThemes(themeLink, theme, providerTheme);\n    return (providerTheme) => [\n        link,\n        isButton ? buttonLink : \"\",\n        priorities[priority](mergedTheme(providerTheme.link)),\n        iconSvg ? icon : \"\",\n        iconSvg ? iconSides[iconSide] : \"\",\n        cssOverrides\n    ];\n};\nexport { buttonLink, icon, iconLeft, iconRight, link, linkStyles, primary, secondary };\n","const mergeThemes = (defaultTheme, themeOverrides, providerTheme, transform) => ({\n    ...defaultTheme,\n    ...transform ? transform(providerTheme) : providerTheme,\n    ...themeOverrides\n});\nexport { mergeThemes };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + ({\"288\":\"RichLinkComponent-importable\",\"490\":\"VideoFacebookBlockComponent-importable\",\"543\":\"MostViewedRightWithAd-importable\",\"689\":\"AlreadyVisited-importable\",\"729\":\"PersonalityQuizAtom-importable\",\"829\":\"AudioAtomWrapper-importable\",\"970\":\"ShareButton-importable\",\"1005\":\"AdPortals-importable\",\"1104\":\"SlotBodyEnd-importable\",\"1169\":\"TimelineAtom-importable\",\"1204\":\"Branding-importable\",\"1398\":\"contributions-epic\",\"1491\":\"VineBlockComponent-importable\",\"1505\":\"CalloutBlockComponent-importable\",\"1564\":\"ScrollableFeature-importable\",\"1631\":\"GetMatchNav-importable\",\"1720\":\"CarouselForNewsletters-importable\",\"1836\":\"ProfileAtomWrapper-importable\",\"2014\":\"ShowHideContainers-importable\",\"2051\":\"guardian-braze-components-banner\",\"2066\":\"SecureSignup-importable\",\"2075\":\"AuEoy2024Wrapper-importable\",\"2115\":\"FetchOnwardsData-importable\",\"2118\":\"Dropdown-importable\",\"2242\":\"PulsingDot-importable\",\"2372\":\"ChartAtom-importable\",\"2407\":\"GuideAtomWrapper-importable\",\"2552\":\"AdBlockAsk-importable\",\"2695\":\"CommentCount-importable\",\"2704\":\"LightboxLayout-importable\",\"2713\":\"ProfileAtom-importable\",\"2919\":\"OnwardsUpper-importable\",\"2992\":\"LiveBlogEpic-importable\",\"3015\":\"ScrollableHighlights-importable\",\"3222\":\"DocumentBlockComponent-importable\",\"3326\":\"sentry\",\"3408\":\"YoutubeBlockComponent-importable\",\"3454\":\"Liveness-importable\",\"3481\":\"InstagramBlockComponent-importable\",\"3585\":\"FollowWrapper-importable\",\"3642\":\"ExpandableMarketingCardWrapper-importable\",\"3988\":\"AppsFooter-importable\",\"4001\":\"ScrollableMedium-importable\",\"4057\":\"Carousel-importable\",\"4111\":\"AppsLightboxImage-importable\",\"4289\":\"ScrollableSmall-importable\",\"4331\":\"SetAdTargeting-importable\",\"4454\":\"TableOfContents-importable\",\"4490\":\"TopBarSupport-importable\",\"4541\":\"LatestLinks-importable\",\"4650\":\"EditionSwitcherBanner-importable\",\"4672\":\"AustralianTerritorySwitcher-importable\",\"4702\":\"LightboxHash-importable\",\"4747\":\"SlideshowCarousel-importable\",\"4767\":\"EnhancePinnedPost-importable\",\"4889\":\"InteractiveBlockComponent-importable\",\"4942\":\"AppsEpic-importable\",\"4994\":\"readerRevenueDevUtils\",\"5241\":\"shimport\",\"5307\":\"Titlepiece-importable\",\"5427\":\"TopBar-importable\",\"5532\":\"MapEmbedBlockComponent-importable\",\"5645\":\"UsEoy2024Wrapper-importable\",\"5661\":\"CardCommentCount-importable\",\"5801\":\"FrontSubNav-importable\",\"5904\":\"Metrics-importable\",\"5926\":\"FooterLabel-importable\",\"5927\":\"ReaderRevenueDev-importable\",\"6005\":\"FilterKeyEventsToggle-importable\",\"6025\":\"GetMatchStats-importable\",\"6171\":\"LiveblogNotifications-importable\",\"6205\":\"AudioPlayerWrapper-importable\",\"6274\":\"StickyLiveblogAskWrapper-importable\",\"6382\":\"SignInGateMainCheckoutComplete\",\"6508\":\"WeatherWrapper-importable\",\"6599\":\"contributions-liveblog-epic\",\"6799\":\"FocusStyles-importable\",\"6827\":\"SpotifyBlockComponent-importable\",\"6929\":\"KnowledgeQuizAtom-importable\",\"6981\":\"Accessibility-importable\",\"7018\":\"DiscussionMeta-importable\",\"7171\":\"SignInGateSelector-importable\",\"7322\":\"UnsafeEmbedBlockComponent-importable\",\"7362\":\"SendTargetingParams-importable\",\"7659\":\"braze-web-sdk-core\",\"7728\":\"EmbedBlockComponent-importable\",\"7763\":\"InteractiveAtomMessenger-importable\",\"7844\":\"TweetBlockComponent-importable\",\"7865\":\"KeyEventsCarousel-importable\",\"8007\":\"guardian-braze-components-end-of-article\",\"8019\":\"InteractiveContentsBlockComponent-importable\",\"8047\":\"DiscussionWeb-importable\",\"8207\":\"QandaAtom-importable\",\"8295\":\"MostViewedFooterData-importable\",\"8301\":\"BrazeMessaging-importable\",\"8351\":\"ShowMore-importable\",\"8858\":\"FooterReaderRevenueLinks-importable\",\"8968\":\"AppsLightboxImageStore-importable\",\"8970\":\"RelativeTime-importable\",\"8979\":\"DiscussionApps-importable\",\"9116\":\"SubNav-importable\",\"9267\":\"ManyNewsletterSignUp-importable\",\"9339\":\"SetABTests-importable\",\"9382\":\"CalloutEmbedBlockComponent-importable\",\"9442\":\"GetCricketScoreboard-importable\",\"9761\":\"StickyBottomBanner-importable\",\"9762\":\"GetMatchTabs-importable\",\"9787\":\"SignInGateMain\",\"9959\":\"MostViewedFooter-importable\"}[chunkId] || chunkId) + \".client.web.legacy.\" + {\"83\":\"7feb987bd11cf3b2eccd\",\"170\":\"d6da82d5261208d0eee8\",\"267\":\"0afd18f25d69fcf98ca0\",\"281\":\"f0ddc1c7228a468569ec\",\"288\":\"10a671256fbbc1022019\",\"439\":\"4f36dd6f79bbe07cc739\",\"490\":\"59ebf1ecf663925b2cf6\",\"543\":\"3e4ccafe2be1194067f8\",\"678\":\"ebd85cdd1e03e1ee5a0a\",\"689\":\"af447a3eec7a3172465b\",\"729\":\"240dc5b36f92ee38ee30\",\"829\":\"6902180063ca936c4c20\",\"939\":\"009020897de580844cd7\",\"970\":\"ad55cd571d84bf88d79f\",\"1000\":\"9b952d841c6e0977e969\",\"1005\":\"b90f31345acdf5dbf33e\",\"1026\":\"743f95849120515750b3\",\"1090\":\"6a280e029934b17f53e3\",\"1104\":\"e58db60d76ed7b28fa67\",\"1169\":\"e6972b6bbb38fc900281\",\"1204\":\"cc23ee5a35883082d832\",\"1391\":\"15552ec6f8abcc69a74e\",\"1398\":\"f3f43fe61173e717a71d\",\"1476\":\"42093e780a8790ca9f67\",\"1491\":\"cc74da8bfe86c48f032e\",\"1505\":\"77d767847633bfe248b7\",\"1564\":\"9ef1057822dbd29d7be5\",\"1631\":\"ceed93d91c1d47a4b2e1\",\"1652\":\"a0a7f71a50b38b0e4fa8\",\"1667\":\"ab7b92939804eeb78542\",\"1720\":\"7171cd3e36cf5daf7352\",\"1754\":\"f039fa3bf9ef6d281450\",\"1769\":\"79371c9f1e42cb2bb10f\",\"1836\":\"9903a0e6eac4722bb09b\",\"1940\":\"29d7b2257e4087bd4938\",\"2014\":\"05aa45d571ac0309bbb1\",\"2051\":\"abb9024ab58f286dd042\",\"2066\":\"268e8818217d300a9342\",\"2075\":\"a8967db3d267e6f6b2e8\",\"2115\":\"07f41828af767854f1a8\",\"2118\":\"1e7d9fae381827bdebd2\",\"2143\":\"525a69f6572620a1c96b\",\"2191\":\"f0299e192d8685b2d09a\",\"2242\":\"6bca346a6fabce5b7d9d\",\"2310\":\"a7c4b54cf9b1132c45cb\",\"2372\":\"063c1c393f81e159a208\",\"2382\":\"d63fd951ef4f1071fb96\",\"2407\":\"233446346de8a3539e4d\",\"2545\":\"a10ec61716fa85cd2fb7\",\"2552\":\"1b8399c308ccfe410f9d\",\"2695\":\"94534540f7907eb42197\",\"2702\":\"089fe0b34e061125eeca\",\"2704\":\"7df522983533f1921d1c\",\"2713\":\"b4b53c503e340027fcdf\",\"2770\":\"4b7c0e502e80c9a5fd10\",\"2919\":\"3bf6809b3873bebd67d4\",\"2957\":\"508d3f4f35644b2704e6\",\"2987\":\"f7213d12926433e7d3c9\",\"2992\":\"f8574b8278612d51d013\",\"3015\":\"1ae9c5d839ee9e40ad75\",\"3109\":\"1da414f48455c8644dae\",\"3222\":\"3c2da92866c37f89b529\",\"3270\":\"0d43fe6c62c00be6f372\",\"3304\":\"ba9f5c10c3d992d1f381\",\"3326\":\"119bf5002d1c101c4136\",\"3408\":\"670a3f1450ace0bb31f4\",\"3454\":\"ed68a8b29e918244bd16\",\"3481\":\"75331a8178a4f8286afb\",\"3518\":\"f592cf65c841a65c1e24\",\"3577\":\"97082e98ba85fae64730\",\"3585\":\"67474b27824f354f3164\",\"3642\":\"558767d39053a3b0d96a\",\"3725\":\"1d90b1f961e4bf128d06\",\"3769\":\"7619d5533504e03c75a2\",\"3836\":\"1464ca79140d838beb45\",\"3897\":\"e0feff97e94b4561e65e\",\"3956\":\"7254e5c4fe6a841503a2\",\"3988\":\"8851c98aaa5a11689220\",\"4001\":\"24ed0832ef272cf8d588\",\"4057\":\"cdcf4e2145a805797415\",\"4111\":\"e97f4494b3ed7d003a53\",\"4282\":\"71f97f5857a93a92f113\",\"4289\":\"94c17688544dcb8e8cf6\",\"4331\":\"510a54be682830faa8ec\",\"4454\":\"327dcc880bf9e6de1029\",\"4490\":\"0bea8c8ec7595382ce5d\",\"4501\":\"d1bb7f7e6f10a29bedfe\",\"4541\":\"74dce30844fb155d12ad\",\"4572\":\"9825ef38faa5452fc9e1\",\"4628\":\"51861048faac71491a0c\",\"4650\":\"584e387bb20fd14add2f\",\"4672\":\"a3d5590145682b6e20cf\",\"4702\":\"18d985ad4c5363c82a6d\",\"4722\":\"74a5a2ff996ce9548c62\",\"4745\":\"51e88373cba885a9cde1\",\"4747\":\"b3e00f360a9ba3be572c\",\"4767\":\"e11aab08eb7ec7a5e690\",\"4889\":\"9102ab6920532ce5c1a3\",\"4924\":\"512512d371f2d0675b9e\",\"4926\":\"392ab51985926379a028\",\"4933\":\"5db51483abb6866fd908\",\"4941\":\"c2cfed8c3881604134ee\",\"4942\":\"900940e156d27bd26038\",\"4994\":\"bd9539c3feefeed6bec2\",\"5084\":\"af723f5de421f0aacb10\",\"5085\":\"4ca8c0dc8e363355f41b\",\"5241\":\"279747541dd05e088173\",\"5247\":\"4dc850a9f7bad1c8f29b\",\"5307\":\"04ab7c9e71825f1cc57a\",\"5427\":\"bea81448fe99919d5b74\",\"5496\":\"d7552d907f73e12b4709\",\"5532\":\"96a9900432c6a19eb5de\",\"5645\":\"1fa3ae5d89ad2c48bcf6\",\"5658\":\"e4f6c574de8b938c2617\",\"5661\":\"57c040362d63265318cd\",\"5676\":\"faf55bd9c85324321e4f\",\"5723\":\"3bae551484d0b499f2c5\",\"5757\":\"c43a0310e8cdb7a7511b\",\"5801\":\"0159660583b8f34b199a\",\"5880\":\"3c4f19bdc889604be3d9\",\"5904\":\"9aeb9ddb0161a8ed8bc5\",\"5926\":\"d21e59d8cb0b093f232a\",\"5927\":\"543a8ee8e4548bbc0cd1\",\"6005\":\"d589385bbac6e8322e57\",\"6025\":\"888c1be21d9193d8b54a\",\"6044\":\"1abb7d4cb70db3919b40\",\"6071\":\"6be7b20ff9de9efa86af\",\"6135\":\"49092a8e1d0a50e49bf6\",\"6171\":\"ed1d6b416b0ab6b48a84\",\"6205\":\"582d05e05261ca9ee265\",\"6241\":\"9cf3eff77b6216dc4786\",\"6248\":\"a646dffa7395b5ea60c3\",\"6274\":\"b4a18a17e75bff4eefcd\",\"6382\":\"de64d8e3a8910d8f5394\",\"6448\":\"d422657168a1843408dc\",\"6505\":\"0278946bc034c44e20b4\",\"6508\":\"e0cb0aa416346538a05c\",\"6598\":\"d2c09e1fdd9a7800f320\",\"6599\":\"b085c63898557cd43f4a\",\"6638\":\"5ffd8680b69c4c9cd2a6\",\"6658\":\"af31a725ec73f66d964e\",\"6751\":\"63fe9235103c552a8dd1\",\"6799\":\"486948540cd94aaa5c59\",\"6827\":\"b89132794f41d68ffddd\",\"6859\":\"97e5c0f4fa056a475ee6\",\"6926\":\"d37cc309d56d1dff5283\",\"6929\":\"6c7a27423302f0c471be\",\"6936\":\"9460042e87a2afb68138\",\"6981\":\"b28b58c838de98a77ad5\",\"7018\":\"d1090b902d2fc228b9b4\",\"7116\":\"cbc40355e84960ee14fc\",\"7171\":\"0b694f371da99c63db19\",\"7197\":\"847d0a0ec7e79c85af86\",\"7210\":\"e30fbbbae32019945606\",\"7322\":\"46a5ceaec4d2afc54ee0\",\"7362\":\"b1c3a97cc6a848f51bd3\",\"7366\":\"fa14c39cc0231ef7814f\",\"7593\":\"b8dc039954b31286708d\",\"7633\":\"b1351a1650632aebc123\",\"7659\":\"41fca15596bed983e027\",\"7691\":\"6d0587a591dc7d33d009\",\"7728\":\"8826018e90f66ce04a57\",\"7763\":\"4922e604c202f1627307\",\"7799\":\"8cd8dbaba657e3e7e2d9\",\"7844\":\"34d35b5fe2f45389165f\",\"7865\":\"854ba39f358c62c77850\",\"8007\":\"59f5cd34054ccfa1f98b\",\"8016\":\"244d9d8e955d614193d4\",\"8019\":\"3e4bb8985c64d60887c3\",\"8047\":\"169d2beaffdee0432ea8\",\"8079\":\"c46aaa865d91d5b773c3\",\"8111\":\"c14d69cede369ead889a\",\"8207\":\"31fbab4722b67adfa8d1\",\"8219\":\"fb7aa654c874eb13256f\",\"8260\":\"4c7730a96af7a4342db0\",\"8295\":\"698ca987080801903d64\",\"8301\":\"eee5422bd82df9982b29\",\"8351\":\"1b48a2e32f9cbdd26e0d\",\"8459\":\"649d15c688435c8043a2\",\"8504\":\"5fae91c7c8a4ea54a755\",\"8536\":\"db419116f3239f9e94a4\",\"8626\":\"c8ffaf10227ebd52f746\",\"8697\":\"4523b63a91414082e296\",\"8833\":\"d434c58f41da9c106aea\",\"8858\":\"a042f8ff9a051e7effb0\",\"8908\":\"8e3c88e5b78ecf70de7f\",\"8968\":\"9fc0a1461c8e6dabf5f0\",\"8970\":\"67febb50a277b75edbdb\",\"8979\":\"eadd84f9d45f3af11667\",\"9116\":\"15a24180b16e250b00ca\",\"9126\":\"433daa0a2d8048a288db\",\"9184\":\"4978e67ee0131678c64a\",\"9240\":\"7ff6f80c618e2b13bac9\",\"9267\":\"5f5fd613cfe2d0499679\",\"9339\":\"078edf5c0448cfefeaea\",\"9355\":\"1072a3ab9e5726fda38f\",\"9382\":\"62731edb0d846e17bb4d\",\"9428\":\"9568d1561395cefcefe7\",\"9442\":\"9a03a7ae61654fb12ed0\",\"9493\":\"170e90c815da9ada3f84\",\"9557\":\"6d3dfebea7eb7be888f0\",\"9687\":\"01e6a23d402e7eaebea3\",\"9688\":\"c7792f6b1ed08baa374f\",\"9696\":\"0484b85cc43d68cf9fbe\",\"9721\":\"8a6162930b19285663a2\",\"9742\":\"9f37830bf8cd7f1164c8\",\"9761\":\"8ad1ec1cc4a6258342de\",\"9762\":\"09ffba6815d71e8b5790\",\"9787\":\"9804c769ce0abe04e048\",\"9810\":\"26d3cdf2ea29a0793d39\",\"9835\":\"70a06f3e14c7e03536c7\",\"9899\":\"2712e325125972a3d921\",\"9959\":\"d873a1bc95c54101dce5\"}[chunkId] + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t3057: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_guardian_dotcom_rendering\"] = self[\"webpackChunk_guardian_dotcom_rendering\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7000], () => (__webpack_require__(84771)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","module","exports","shouldAdapt","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$import","isPerformingPoorly","_context","prev","next","isServer","abrupt","window","location","hash","guardian","config","switches","adaptiveSite","host","sent","stop","apply","arguments","adaptSite","renderingTarget","style","log","setSchedulerPriorityLastStartTime","document","createElement","innerHTML","head","appendChild","recordExperiences","recordAdaptedSite","submitConsentToOphan","consentState","consentDetails","ophan","onConsent","_getCookie","_getCookie3","tcfv2","consentJurisdiction","consentUUID","getCookie","name","consent","tcString","usnat","_getCookie2","doNotSell","aus","personalisedAdvertising","getOphan","record","_x","initialiseCmp","_ref2","_callee2","browserId","pageViewId","country","_context2","getLocaleCode","shouldMemoize","undefined","cmp","init","pubData","platform","bootCmp","_ref3","_callee3","_context3","consentManagement","_x2","freeze","initialize","length","_ref$modulePath","modulePath","_ref$importFunctionNa","importFunctionName","t","self","Function","r","URL","n","revokeObjectURL","src","remove","a","c","moduleMap","l","Blob","concat","type","m","assign","createObjectURL","onerror","onload","initialiseDynamicImportLegacy","shimport","initialise","guardianPolyfilledImport","load","dynamicImport","url","reject","mustardCut","dynamicImportPolyfill","initialiseDynamicImport","doHydration","data","element","emotionCache","_startPerformanceMeas","endImportPerformanceMeasure","isUndefined","dataset","islandStatus","startPerformanceMeasure","endPerformanceMeasure","importDuration","endIslandPerformanceMeasure","hydrateRoot","_jsx","ConfigProvider","value","children","CacheProvider","islandDuration","performance","catch","error","message","includes","console","_x3","_x4","_x5","getEmotionCache","createCache","key","getConfig","_document$querySelect","serialised","querySelector","JSON","parse","String","getName","marker","getAttribute","getProps","props","getPriority","priority","isString","isValidSchedulerPriority","onInteraction","callback","addEventListener","target","HTMLElement","once","onNavigation","whenVisible","rootMargin","io","IntersectionObserver","entry","_slicedToArray","isIntersecting","disconnect","observe","setTimeout","hasLightboxHash","startsWith","initHydration","scheduleHydration","deferUntil","_element$getAttribute","schedule","t0","requestIdleCallback","timeout","targetElement","dispatchEvent","MouseEvent","islands","elements","querySelectorAll","_toConsumableArray","isPolyfilled","polyfilled","queue","push","startup","task","options","recordInitialPageEvents","_ref4","sentryLoader","_ref5","_ref6","_ref7","recordPoorPerformance","_ref8","refresh","_ref9","atomIframe","_ref10","embedIframe","_ref11","newsletterEmbedIframe","_ref12","discussion","cachedOphan","trackComponentAttention","setEventEmitter","modules","sentry","reportError","viewId","default","event","el","visibilityThreshold","_objectSpread","submitComponentEvent","componentEvent","recordPerformance","_callee4","_window","performanceAPI","timing","_context4","dns","domainLookupEnd","domainLookupStart","connection","connectEnd","connectStart","firstByte","responseStart","lastByte","responseEnd","domContentLoadedEvent","domContentLoadedEventStart","loadEvent","loadEventStart","navType","navigation","redirectCount","_x7","experiencesSet","Set","_callee5","experiences","_iterator","_step","experience","_context5","_createForOfIteratorHelper","s","done","add","err","f","_defineProperty","sort","join","_x8","_x9","getEditionForOphan","editionId","_yield$getOphan","edition","page","removeEventListener","memoizedPerformingPoorly","logPerformanceInfo","isFirstContentfulPaintAboveThreshold","threshold","fcp","_args","Infinity","now","PerformanceObserver","entries","observer","getEntries","startTime","buffered","isTimeToFirstByteAboveThreshold","_window$performance$g","getEntriesByType","nav","PerformanceNavigationTiming","domContentLoadedEventEnd","_memoizedPerformingPo","t1","loadSentryOnError","loadSentry","initialised","errorQueue","feature","tags","queuedError","isAdBlockInUse","shift","loadSentryCreator","line","column","onunhandledrejection","reason","isSentryEnabled","enableSentryReporting","isDev","isInBrowserVariantTest","random","_window$guardian$conf","tests","BUILD_VARIANT","dcrJavascriptBundle","Math","timeInDaysFromNow","daysFromNow","tmpDate","Date","setDate","getDate","getTime","toString","cookieIsExpiredOrMissing","cookieName","cookie","expiryTime","parseInt","AD_FREE_USER_COOKIE","getAdFreeCookie","adFreeDataIsPresent","cookieVal","Number","isNaN","setAdFreeCookie","daysToLive","expires","setMonth","getMonth","setCookie","isPathAbsoluteURL","path","RegExp","exec","fetchJson","resource","resp","ajaxUrl","mode","fetch","ok","status","json","statusText","USER_FEATURES_EXPIRY_COOKIE","ACTION_REQUIRED_FOR_COOKIE","DIGITAL_SUBSCRIBER_COOKIE","HIDE_SUPPORT_MESSAGING_COOKIE","forcedAdFreeMode","persistResponse","JsonResponse","contentAccess","digitalPack","showSupportMessaging","removeCookie","alertAvailableFor","isDigitalSubscriber","userHasDataAfterSignout","isUserLoggedInOktaRefactor","_getAdFreeCookie","getAuthStatus","authStatus","kind","signedInAuthStatus","userAttributesApiUrl","getOptionsHeadersWithOkta","response","isObject","isBoolean","paidMember","recurringContributor","validateResponse","__webpack_public_path__","hostname","frontendAssetsFullURL","ConfigContext","createContext","Provider","useConfig","context","useContext","footerLink","css","palette","brandAlt","PrivacySettingsLink","extraClasses","_useState","useState","_useState2","framework","setFramework","useEffect","_consentState$framewo","ButtonLink","className","cssOverrides","onClick","preventDefault","showPrivacyManager","color","isSecurityError","getLocale","AuthStateManager","_createClass","emitter","tokenManager","_this","_classCallCheck","_AuthStateManager_brand","_classPrivateFieldInitSpec","_authState","_emitter","_tokenManager","_classPrivateFieldSet","this","accessToken","idToken","isAuthenticated","_assertClassBrand","_updateAuthState","call","_classPrivateFieldGet","on","handler","off","tokens","getTokensSync","emit","AutoRenewService","authStateManager","_authStateManager","_renewAtTimeoutId","_options","_AutoRenewService_brand","_clearRenewAtTimeout","_handleAuthStateChange","_this2","autoRenew","started","clearTimeout","expiresAt","_this3","visibilityState","authState","renewGracePeriod","floor","state","_setRenewAtTimeout","array","isProfileUrl","OAuthError","_Error","_callSuper","error_description","_inherits","_wrapNativeSuper","days30InMillis","Emitter","_events","ctx","_events$name","events","fn","eventArr","liveEvents","filter","_classPrivateFieldGet2","_len","Array","_key","forEach","dec2hex","dec","hex","substring","getRandomString","arr","Uint8Array","ceil","crypto","getRandomValues","from","generateSha256Hash","str","buffer","hashBuffer","hashArray","TextEncoder","encode","subtle","digest","fromCharCode","generateCodeVerifier","generateCodeChallenge","codeVerifier","base64url","base64UrlEncode","base64UrlToString","base64Url","base64","base64UrlToBase64","utf8str","atob","decodeURIComponent","escape","stringToBuffer","i","charCodeAt","replace","btoa","isAccessTokenClaims","claims","maybeClaims","isNonNullable","aud","auth_time","cid","email_validated","exp","iat","identity_username","iss","jti","legacy_identity_id","scp","sub","uid","ver","isAccessToken","token","maybeToken","scopes","tokenType","isIDTokenClaims","amr","at_hash","idp","nonce","preferred_username","user_groups","isIDToken","isOAuthAuthorizeResponseError","maybeResponse","isOAuthTokenResponseError","calculateClockSkew","decodeToken","payloadStr","signature","header","headerStr","payload","decodeTokens","accessTokenRaw","accessTokenClockSkew","idTokenRaw","idTokenClockSkew","abs","maxClockSkew","accessTokenPayload","clockSkew","issuer","clientId","idTokenPayload","verifyIdTokenClaims","decoded","verifyAccessTokenWithAtHash","access_token","accessTokenHash","accessTokenHash128","verifySignature","jwksUri","jwt","jwksResponse","jwks","algorithm","publicKey","_token$split3","_token$split4","sig","kty","alg","use","kid","finish","verifyAccessTokenTimestamps","addPostMessageListener","opts","oauthTimeout","timeoutId","responseHandler","performAuthCodeFlowIframe","authorizeParams","oauthUrls","searchParams","postMessageListener","iframe","authorizeResponse","frame","display","body","contains","removeChild","_x6","memoizedVerifyTokens","Map","verifyTokens","memoized","idTokenJWT","accessTokenJWT","_x10","_x11","_x12","exchangeCodeForTokens","tokenParams","client_id","code_verifier","grant_type","redirect_uri","redirectUri","method","URLSearchParams","headers","_x13","_x14","_x15","_x16","handleOAuthResponse","_callee6","oauthTokenResponse","id_token","_decodeTokens","_context6","_x17","_x18","_x19","_x20","WeakMap","_oauthUrls","_getTokensInProgress","_exchangeCodeForTokens","_handleOAuthResponse","_performAuthCodeFlowIframe","_Token_brand","WeakSet","Token","_callee7","_context7","_getWithoutPrompt2","_callee8","_context8","_x21","_x22","_verifyTokens2","_getWithoutPrompt","_getWithoutPrompt3","_callee9","codeChallenge","tokenResponse","parsed","_context9","code_challenge","code_challenge_method","prompt","response_type","response_mode","scope","TokenManager","tokenClass","_storage","storage","local","_accessTokenKey","_idTokenKey","_token","_TokenManager_brand","_emitStorage","renew","idTokenStorage","set","newToken","existingToken","existingTokens","_emitRemoved","_emitAdded","accessTokenFromStorage","get","idTokenFromStorage","_ref2$refreshIfRequir","refreshIfRequired","_ref2$verifyTokens","_args2","getWithoutPrompt","setTokens","clear","_getTokens","_renew","IdentityAuth","_autoRenewService","idCookieSessionRefresh","strictClockSkewCheck","authorizeUrl","tokenUrl","keysUrl","enabled","profileUrl","split","lastRefreshKey","isAvailable","currentTime","lastRefresh","shouldRefreshCookie","newExpiry","returnUrl","endpoint","_isSignedInWithAuthStateInProgress","start","_IdentityAuth_brand","_isSignedInWithAuthState","finally","_isSignedInWithAuthState2","isSignedInWithAuthState","_isSignedIn","_isSignedInWithAuthState3","guSoCookie","normalisedCurrentTime","getTokens","isStage","isOneOf","getIssuer","stage","getClientId","getRedirectUri","getIdentityAuth","_window$guardian","_switches$idCookieRef","_ref$isDev","_ref$stage","stageOrDev","getStage","identityAuth","idCookieRefresh","isSignedInWithOktaAuthState","_isSignedInWithOktaAuthState","getUserCookie","credentials","Authorization","getAuthState","_getAuthState","eitherInOktaTestOrElse","_eitherInOktaTestOrElse","inOktaTestFunction","notInOktaTestFunction","okta","getSignedInStatusWithOkta","getSignedInStatusWithCookies","GU_UCookie","START","RUNNING_TASK_COUNT","CONCURRENCY_COUNT","PRIORITIES","critical","lastStartTime","tasks","enhancement","getNextTask","runningTime","_queue$priority","nextTask","canRun","run","resolver","_schedule","_ref$canRun","queueableTask","scheduledTask","variant","adBlockInUse","getComputedStyle","requestAnimationFrame","ad","setAttribute","offsetParent","offsetHeight","offsetLeft","offsetTop","offsetWidth","clientHeight","clientWidth","adStyles","getPropertyValue","adElementBlocked","supportsPerformanceAPI","mark","trackedSlots","slotMarks","slotMeasures","pageMarks","pageMeasures","allSlotMarks","measure","externalMarks","shouldSave","_name$split","_name$split2","origin","shouldSaveMark","shouldSaveMeasure","EventTimer","_marks","_measures","properties","navigator","downlink","effectiveType","reduce","getEntriesByName","_externalMarks","ts","duration","eventName","_mark","endsWith","endMark","startMark","measureName","commercialTimer","Endpoints","AdSize","_Array","width","height","isOutOfPage","isEmpty","isFluid","isMerch","isSponsorLogo","createAdSize","namedStandardAdSizes","billboard","halfPage","leaderboard","mobilesticky","mpu","portrait","skyscraper","cascade","portraitInterstitial","standardAdSizes","outstreamSizes","outstreamDesktop","outstreamGoogleDesktop","outstreamMobile","proprietaryAdSizes","fluid","googleCard","outOfPage","pubmaticInterscroller","guardianProprietaryAdSizes","empty","fabric","merchandising","merchandisingHigh","merchandisingHighAdFeature","sponsorLogo","adSizes","AD_LABEL_HEIGHT","commercialMetricsPayload","page_view_id","browser_id","metrics","devProperties","adBlockerProperties","setEndpoint","CODE","PROD","setDevProperties","setAdBlockerProperties","adBlockerInUse","gatherMetricsOnPageUnload","eventTimerProperties","eventTimer","mapEventTimerPropertiesToString","item","measures","roundedEvents","roundedMeasures","marks","offlineCount","teams","getMeasures","_ref5$detail","detail","subscription","action","getPerformanceMeasures","stringify","keepalive","cache","listener","shouldSendCommercialMetrics","addVisibilityListeners","checkConsent","consents","REQUIRED_CONSENTS","every","bypassCommercialMetricsSampling","_bypassCommercialMetricsSampling","commercialMetricsInitialised","warn","initCommercialMetrics","_initCommercialMetrics","_ref7$sampling","sampling","userIsInSamplingGroup","locale","COUNTRY_REGEX","isValidCountryCode","test","editionToGeolocationMap","UK","US","AU","geoOverride","stored","editionKey","editionCountryCode","videoLengths","getVideoLength","videoLength","_videoLengths$index","index","min","calculateRecentlyPublishedBucket","webPublicationDate","hoursSincePublication","daysSincePublication","monthsSincePublication","PERMUTIVE_KEY","PERMUTIVE_PFP_KEY","frequency","AMTGRP_STORAGE_KEY","adManagerGroups","getFrequencyValue","rawValue","getRaw","getRawWithConsent","_frequency$visitCount","visitCount","getAdManagerGroup","canTarget","_adManagerGroups$inde","group","existingGroup","some","g","setRaw","getPermutiveWithState","youtube","rawSegments","segments","isArray","getSegments","referrers","match","getReferrer","referrer","_referrers$find","matchedRef","find","referrerType","isTargetingString","string","getSharedTargeting","shared","obj","valid","isValidTargeting","filterValues","pageTargets","filtered","buildPageTargeting","_sharedAdTargeting$k","_window$guardian$conf2","adFree","clientSideParticipations","_ref$isSignedIn","isSignedIn","_ref$youtube","isDotcomRendering","adFreeTargeting","af","sharedAdTargeting","contentTargeting","lastSegment","b","eligibleForDCR","renderingPlatform","section","sensitive","keywords","urlkw","Boolean","dcre","rc","rp","sens","vl","allkw","getContentTargeting","dcrCouldRender","pageId","isSensitive","videoDuration","k","sessionTargeting","serverSideParticipations","testToParams","clientSideExperiment","serverSideExperiments","adTest","countryCode","ab","participations","testName","_test","at","cc","pv","ref","si","getSessionTargeting","viewportTargeting","viewPortWidth","cmpBannerWillShow","isPreview","bp","skinsize","inskin","getViewportTargeting","innerWidth","innerHeight","getViewport","hasInitialised","willShowPrivacyMessageSync","personalisedTargeting","amtgrp","fr","permutive","cmp_interaction","eventStatus","pa","consent_tcfv2","rdp","getCMPTargeting","getPersonalisedTargeting","consentlessTargeting","firstvisit","navigationEvents","lastNavigationEvent","entryType","lastPerformanceEntryIsNavigationType","referrerMatchesHost","isFirstVisit","buildImaAdTagUrl","params","adUnit","mergedCustomParams","customParams","pageTargeting","mergeCustomParamsWithTargeting","queryParams","iu","tfcd","npa","sz","gdfp_req","output","unviewed_position_start","env","impl","vad_type","vpos","description_url","encodeURIComponent","cust_params","queryValue","queryParamsArray","_i","_Object$entries","_Object$entries$_i","v","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","prototype","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","defineProperty","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","_typeof","__esModule","hasOwnProperty","Symbol","iterator","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","_sent","dispatchException","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isGeneratorFunction","constructor","setPrototypeOf","__proto__","awrap","async","reverse","pop","charAt","rval","handle","complete","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","_extends","bind","_arrayLikeToArray","_arrayWithHoles","asyncGeneratorStep","_next","_throw","_defineProperties","_getPrototypeOf","_iterableToArray","_nonIterableRest","_objectWithoutProperties","propertyIsEnumerable","_possibleConstructorReturn","ReferenceError","_setPrototypeOf","arrayWithHoles","unsupportedIterableToArray","nonIterableRest","arrayLikeToArray","iterableToArray","toPropertyKey","toPrimitive","_unsupportedIterableToArray","_isNativeReflectConstruct","valueOf","Reflect","construct","indexOf","has","Wrapper","currentFramework","isGuardian","version","getCurrentFramework","label","_window$performance","_window$performance$m","isServerSide","serverSideWarn","serverSideWarnAndReturn","__disable","__enable","__isDisabled","willShowPrivacyMessage","isGuardianDomain","ENDPOINT","getUSPData","command","__uspapi","result","success","getConsentState","uspData","optedOut","uspString","api","__tcfapi","defaultConsents","_yield$Promise$all","_yield$Promise$all2","tcData","customVendors","_getCurrentFramework","gdprApplies","addtlConsent","grants","vendorConsents","purpose","acc","cur","_grants$cur","vendorGrant","getGPPData","__gpp","gppData","supportedAPI","parsedSections","SaleOptOut","Gpc","signalStatus","resolveWillShowPrivacyMessage","callBackQueue","finalCallbackQueue","awaitingUserInteractionInTCFv2","_state$tcfv","awaitingUserInteractionInUSNAT","_state$usnat","invokeCallback","stateString","lastState","enhanceConsentState","gpcSignal","globalPrivacyControl","getConsentState$3","t2","t3","t4","getConsentState$2","t5","t6","t7","getConsentState$1","t8","t9","invokeCallbacks","callbacksToInvoke","onConsentChange","callBack","newCallback","stub_uspapi_ccpa","r2","__cmpCall","parameter","a2","e2","c2","__cmpReturn","returnValue","callId","source","postMessage","frames","cssText","gdprAppliesGlobally","cmpLoaded","msgHandler","getPropertyHref","frameworkMessageType","e3","n2","__tcfapiLocator","n3","apiVersion","__tcfapiCall","r3","__tcfapiReturn","__gpp_addFrame","__gpp_stub","gppVersion","cmpStatus","cmpDisplayStatus","supportedAPIs","cmpId","sectionList","applicableSections","gppString","lastId","listenerId","pingData","splice","__gpp_msghandler","__gppCall","p2","__gppReturn","stub","_sp_","setCurrentFramework","isInPropertyIdABTest","useSourcepointPropertyIdVariant","_sp_queue","baseEndpoint","accountId","propertyHref","targetingParams","cmpInitTimeUtc","onConsentReady","message_type","euconsent","onMessageReady","onMessageReceiveData","messageId","onMessageChoiceSelect","choice_id","choiceTypeID","onPrivacyManagerAction","pmData","onMessageChoiceError","onPMCancel","onSPPMObjectReady","onError","errorCode","errorObject","userReset","propertyId","getPropertyId","gdpr","includeUspApi","transitionCCPAAuth","ccpa","spLib","CMP","willShowPrivacyMessage$1","_window$_sp_","_window$_sp_$loadPriv","_window$_sp_2","_window$_sp_2$loadPri","_window$_sp_3","_window$_sp_3$loadPri","loadPrivacyManagerModal","COOKIE_NAME","isDisabled","VendorIDs","a9","acast","braze","comscore","criteo","googletag","ias","inizio","ipsos","magnite","nielsen","prebidCustom","qm","remarketing","teads","twitter","redplanet","prebid","getConsentFor","vendor","_consent$tcfv2","sourcepointIds","foundSourcepointId","_consent$tcfv","tcfv2Consent","vendorStorageIds","localStorage","cookies","sessionStorage","deprecatedVendorStorageIds","_a","_b","_c","_d","_willShowPrivacyMessage","removeData","_ref$cookies","_ref$localStorage","_ref$sessionStorage","_step2","_iterator2","_step3","_iterator3","session","removeUnconsentedData","vendorData","guCmpHotFix","resolveInitialised","initComplete","cmp$1","_window$guCmpHotFix$c","_window$guCmpHotFix$c2","init$1","getFramework","willShowValue","_consentState$tcfv","onConsentChange$2","getConsentFor$2","ERR_INVALID_COOKIE","_ref$shouldMemoize","memoizedCookie","memoizedCookies","_getCookieValues","getCookieValues","nameEq","cookieTrimmed","trim","getDomainAttribute","_ref$isCrossSubdomain","isCrossSubdomain","shortDomain","getShortDomain","domain","COOKIE_REGEX","isValidCookieValue","isValidCookie","_ref$currentDomainOnl","currentDomainOnly","setUTCDate","getUTCDate","setUTCMonth","getUTCMonth","toUTCString","value2","setSessionCookie","_","literals","_yield$fetch$then","SUBSCRIPTIONS_CACHE","STORAGE_KEY","getSubscriptions","storedSubscriptions","isSubscription","isSubscribedTo","logStyles","subscriptionStyles","commonStyle","messageStyle","subscriptionStyle","_logStyles$subscripti","background","font","_console","styles","args","logger","subscribeTo","subscriptions","unsubscribeFrom","delete","common","commercial","dotcom","design","tx","supporterRevenue","identity","openJournalism","perf","flatMap","deserialise","toJson","serialise","_id$split","_id$split2","markName","trunc","padStart","formattedDuration","measurement","logPerf","_local","_session","__defProp","__typeError","msg","__publicField","__defNormalProp","__accessCheck","member","__privateGet","getter","__privateAdd","__privateSet","setter","StorageFactory","storageHandler","_privateGet$getItem","_privateGet","getItem","_privateGet2","setItem","_privateGet3","removeItem","_privateGet4","_privateGet$getItem2","_privateGet5","_privateGet6","_privateGet$key","_privateGet7","_privateGet$length","_privateGet8","storage2","available","_guardian$config$opha","_guardian$config","ophanRemoteHost","generatePageViewId","send","image","Image","checker","setInterval","clearInterval","sendInitial","prop","buildQueryString","sendMore","bumpViewId","webkitVisibilityState","mozVisibilityState","msVisibilityState","changeEvent","ofs","cl","noop","isOldIEevents","loopDelay","maxLoop","debug","found","notfound","listeners","baitNode","quickBait","cssClass","baitTriggers","nullProps","zeroProps","exeResult","quick","remote","findResult","timerIds","download","isFunc","isError","beginTest","bait","castBait","reelIn","baitStyle","tag","attributes","attr","makeEl","class","attemptNum","clearBaitNode","baitTemp","funcs","ex","Message","notifyListeners","dom","fireNow","toLowerCase","readyState","attachEvent","sendInitialEvent","hasProp","doc","canStoreEventsInLocalStorage","servingPlatform","httpStatus","visibility","getQueryParameterValue","paramName","search","_param$split","_param$split2","href","navigationType","getNavigationType","isModernBrowser","tz","getTimezoneOffset","appendContentType","appendDataFromLocalStorageToEvent","transmit","abd","adBlockerEnabled","adUnitWasHidden","onLoadCaptures","_window$addEventListe","_onLoadCaptures","captureData","capture","appendComponentDataToEvent","localStorageItems","componentElements","componentNames","trimmedComponentNames","componentName","trimComponentNamesToUrlSafeLength","uniqueComponents","renderedComponents","_guardian$page","contentType","contentTypes","storeDataToSendOnNextEvent","newData","existingData","onLoadCapture","dataCapture","components","eventEmitter","Component","visibilityThreshold1","reportingInterval1","reportingInterval","visible","totalAttentionMs","unrecordedAttentionStarted","reportedTotalAttentionMs","usingEmitter","visCheck","checkVisibility","box","getBoundingClientRect","windowHeight","documentElement","windowWidth","left","top","right","bottom","wasVisible","isVisible","rebindToEventEmitter","visibilityHasChanged","makeActive","makeInactive","incrementTotalAttentionTimeByUnrecordedAmount","unrecordedMs","EVENTS","REPORTINGINTERVAL","decayTimerId","videoPlaying","cancelDecayTimer","reporter","report","attentionMs","round","componentAttentionTimes","_components","hadAttentionSinceLastGet","getAttentionTime","componentAttentionMs","initComponent","heatmapFired","validAncestorAnchorElement","_el$nodeName","nodeName","parentNode","getContainingComponent","_el$nodeName2","getDataLinkNames","dataLinkNames","dataLinkName","info","anchorTarget","tagName","trackingTarget","protocol","pathname","to","referringComponent","referringDataLinkNames","refPlatform","refViewId","clickComponent","clickLinkNames","msPerformance","webkitPerformance","mozPerformance","core","addHeatmap","reportNormalMode","reportPrivateMode","validIframeDomains","messageEvent","originDomain","eventOrigin","retrieveOriginDomain","eventObject","iFrame","clickEvent","clickCapture","recordIframeClickEvent","getElementById","iframeId","componentEventIsValid","recordIframeComponentEvent","inPrivateBrowsingMode","webkitRequestFileSystem","TEMPORARY","db","indexedDB","open","onsuccess","tryIndexedDB","x","tryLocalStorage","PointerEvent","MSPointerEvent","heatmapParam","attention","brand","culture","focus","labs","lifestyle","neutral","news","opinion","specialReport","specialReportAlt","sport","ctaMedium","ctaSmall","ctaXsmall","iconMedium","iconSmall","iconXsmall","inputMedium","inputXsmall","iconSize","medium","small","xsmall","size","remHeight","remWidth","space","remSpace","article15","article17","articleBold17","articleBoldItalic15","articleBoldItalic17","articleItalic17","headlineBold14","headlineBold15","headlineBold17","headlineBold20","headlineBold24","headlineBold28","headlineBold28Object","fontFamily","fontSize","lineHeight","fontWeight","fontStyle","headlineBold34","headlineBold42","headlineBold50","headlineLight14","headlineLight15","headlineLight17","headlineLight20","headlineLight24","headlineLight28","headlineLight34","headlineLight42","headlineLight50","headlineLight64","headlineMedium14","headlineMedium15","headlineMedium17","headlineMedium20","headlineMedium24","headlineMedium28","headlineMedium34","headlineMedium42","headlineMedium50","headlineMedium64","textEgyptian14","textEgyptian15","textEgyptian17","textEgyptianBold15","textEgyptianBold17","textEgyptianItalic17","textSans12","textSans14","textSans15","textSans17","textSans20","textSans24","textSans34","textSansBold12","textSansBold14","textSansBold15","textSansBold17","textSansBold17Object","textSansBold20","textSansBold24","textSansBold28","textSansBold34","textSansItalic15","focusHalo","focusHaloSpaced","_ref$priority","iconSvg","icon","_ref$iconSide","iconSide","theme","_excluded","jsx","linkStyles","isButton","linkContents","spacer","Fragment","linkContents2","unshift","cloneElement","themeLink","textPrimary","textPrimaryHover","textSecondary","textSecondaryHover","link","buttonLink","iconRight","iconLeft","priorities","primary","link2","secondary","iconSides","mergedTheme","providerTheme","mergeThemes","defaultTheme","themeOverrides","transform","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","O","chunkIds","notFulfilled","fulfilled","j","ns","def","current","definition","chunkId","promises","hmd","script","needAttach","scripts","getElementsByTagName","charset","nc","onScriptComplete","doneFns","nmd","paths","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}