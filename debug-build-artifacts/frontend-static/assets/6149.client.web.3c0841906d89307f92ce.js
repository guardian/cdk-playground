(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[6149],{94144:(t,e,n)=>{"use strict";n.d(e,{H:()=>G});var o,r=n(50484),i=n(24017),s=n(7351),a=n(99923),c=n(96378),d=n(16632),l=n(53694),u=n(67400);function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},p.apply(null,arguments)}const h=function(t){return u.createElement("svg",p({width:18,height:13,viewBox:"0 0 18 13"},t),o||(o=u.createElement("path",{d:"M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"})))};var f;function g(){return g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},g.apply(null,arguments)}const m=function(t){return u.createElement("svg",g({width:36,height:23,viewBox:"0 0 36 23"},t),f||(f=u.createElement("path",{d:"M3.2 0l-3.2 3.3v16.4l3.3 3.3h18.7v-23h-18.8m30.4 1l-8.6 8v5l8.6 8h2.4v-21h-2.4"})))};function v(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function b(){const t=v(["\n\t",";\n\tline-height: 135%;\n\tpadding-top: 6px;\n\toverflow-wrap: break-word;\n\tcolor: ",";\n"]);return b=function(){return t},t}function w(){const t=v(["\n\tmargin-bottom: 6px;\n"]);return w=function(){return t},t}function y(){const t=v(["\n\t\t\tpadding-bottom: 2.5rem;\n\t\t"]);return y=function(){return t},t}function x(){const t=v(["\n\t\tpadding-bottom: 0.375rem;\n\t"]);return x=function(){return t},t}function P(){const t=v(["\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(18, 18, 18, 0.8);\n\n\tspan {\n\t\tcolor: ",";\n\t\tfont-size: 0.75rem;\n\t\tline-height: 1rem;\n\t}\n\n\tsvg {\n\t\tfill: currentcolor;\n\t}\n\tcolor: ",";\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding-top: 0.375rem;\n\tpadding-right: 2.5rem;\n\tpadding-left: 0.75rem;\n\t",";\n\n\tflex-grow: 1;\n\tmin-height: 2.25rem;\n"]);return P=function(){return t},t}function j(){const t=v(["\n\t"," {\n\t\twidth: 140px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t"," {\n\t\twidth: 220px;\n\t}\n"]);return j=function(){return t},t}function E(){const t=v(["\n\t"," {\n\t\twidth: 120px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t"," {\n\t\twidth: 184px;\n\t}\n"]);return E=function(){return t},t}function O(){const t=v(["\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n"]);return O=function(){return t},t}function I(){const t=v(["\n\t"," {\n\t\t","\n\t}\n"]);return I=function(){return t},t}function S(){const t=v(["\n\twidth: inherit;\n\tmargin-left: ","px;\n\t"," {\n\t\tmargin-left: 20px;\n\t\tmargin-right: 20px;\n\t}\n\t"," {\n\t\tmargin-left: 10px;\n\t\tmargin-right: 10px;\n\t}\n"]);return S=function(){return t},t}function T(){const t=v(["\n\t"," {\n\t\tdisplay: none;\n\t}\n"]);return T=function(){return t},t}function k(){const t=v(["\n\tfill: ",";\n\tmargin-right: ","px;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 1em;\n\tvertical-align: baseline;\n\t::before {\n\t\tcontent: ' ';\n\t\tdisplay: block;\n\t\tpadding-top: ","%;\n\t}\n\tsvg {\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\theight: 100%;\n\t}\n"]);return k=function(){return t},t}function M(){const t=v(["\n\twidth: 1.1em;\n\t::before {\n\t\tpadding-top: ","%;\n\t}\n"]);return M=function(){return t},t}function C(){const t=v(["\n\ta {\n\t\tcolor: ",";\n\t\ttext-decoration: none;\n\t}\n\ta:hover {\n\t\ttext-decoration: underline;\n\t}\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n"]);return C=function(){return t},t}function A(){const t=v(["\n\t\t\t\t\t\t\t",";\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * Typography preset styles should not be overridden.\n\t\t\t\t\t\t\t * This has been done because the styles do not directly map to the new presets.\n\t\t\t\t\t\t\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tline-height: 1.15;\n\t\t\t\t\t\t\tcolor: ",";\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-top: ","px;\n\t\t\t\t\t\t\tli:not(:first-child) {\n\t\t\t\t\t\t\t\tmargin-top: ","px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tli {\n\t\t\t\t\t\t\t\tpadding-top: ","px;\n\t\t\t\t\t\t\t\tborder-top: 1px solid\n\t\t\t\t\t\t\t\t\t",";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t"]);return A=function(){return t},t}const R=(0,i.css)(b(),s.WuG,(0,l.M)("--caption-text")),B=(0,i.css)(w()),L=t=>(0,i.css)(P(),(0,l.M)("--caption-overlay-text"),(0,l.M)("--caption-overlay-text"),(t=>t.display===d.Ns.Showcase&&t.design===d.vw.Review?(0,i.css)(y()):(0,i.css)(x()))(t)),Y=(0,i.css)(j(),a.HT.leftCol,a.HT.wide),z=(0,i.css)(E(),a.HT.leftCol,a.HT.wide),V=(0,i.css)(O()),D=(0,i.css)(I(),a.TG.desktop,V),F=(0,i.css)(S(),c.x[9],a.TG.wide,a.TG.mobileLandscape),N=(0,i.css)(T(),a.TG.leftCol),_=(0,i.css)(k(),(0,l.M)("--caption-text"),c.x[1],13/18*100),U=(0,i.css)(M(),23/36*100),q=(0,i.css)(C(),(0,l.M)("--caption-link")),H=t=>{let{format:e}=t;return(0,r.jsx)("span",{css:[_,e.display===d.Ns.Immersive&&N],children:(0,r.jsx)(h,{})})},W=t=>{let{format:e}=t;return(0,r.jsx)("span",{css:[_,e.display===d.Ns.Immersive&&N,U],children:(0,r.jsx)(m,{})})},G=t=>{let{captionText:e,format:n,padCaption:o=!1,credit:a,displayCredit:u=!0,shouldLimitWidth:p=!1,isOverlaid:h,isLeftCol:f,mediaType:g="Gallery",isMainMedia:m=!1}=t;if(!((null==e?void 0:e.trim())||a&&u))return null;const v=n.design===d.vw.LiveBlog||n.design===d.vw.DeadBlog,b=(0,r.jsxs)("figcaption",{css:[R,p&&Y,h?L(n):B,m&&(v||"Video"===g)&&D,o&&V],"data-spacefinder-role":"inline",children:["Video"===g?(0,r.jsx)(W,{format:n}):(0,r.jsx)(H,{format:n}),!!e&&(0,r.jsx)("span",{css:q,dangerouslySetInnerHTML:{__html:e||""}},"caption"),!!a&&u&&" ".concat(a)]});return n.design===d.vw.PhotoEssay?n.theme===d.A$.Labs&&f?b:(0,r.jsxs)("figcaption",{css:[(0,i.css)(A(),s.Ikj,m?(0,l.M)("--caption-photo-essay-main-media-text"):(0,l.M)("--caption-text"),c.x[3],c.x[3],c.x[2],m?(0,l.M)("--caption-photo-essay-main-media-text"):(0,l.M)("--caption-text")),B,o&&V,p&&z,p&&F],"data-spacefinder-role":"inline",children:[!!e&&(0,r.jsx)("span",{css:q,dangerouslySetInnerHTML:{__html:e||""}},"caption"),!!a&&u&&" ".concat(a)]}):b}},7081:(t,e,n)=>{"use strict";n.d(e,{u:()=>h});var o=n(50484),r=n(24017),i=n(99923),s=n(77907),a=n(11671);function c(){const t=(e=["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tbackground-color: rgba(18, 18, 18, 0.6);\n\tborder-radius: 50%;\n\twidth: ","px;\n\theight: ","px;\n\t"," {\n\t\twidth: ","px;\n\t\theight: ","px;\n\t}\n\n\tsvg {\n\t\ttransform: translateX(1px);\n\t\twidth: ","px;\n\t\theight: ","px;\n\t\t"," {\n\t\t\twidth: ","px;\n\t\t\theight: ","px;\n\t\t}\n\t}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return c=function(){return t},t}const d={small:{button:40,icon:32},large:{button:80,icon:72}},l={fill:s.M.neutral[100]},u=t=>{switch(t){case"jumbo":case"large":case"carousel":case"medium":case"feature":case"feature-large":return"large";case"small":return"small"}},p=t=>"left"===t||"right"===t?"small":"large",h=t=>{let{imageSize:e,imagePositionOnMobile:n}=t;return(0,o.jsx)("div",{className:"play-icon",css:[(s=u(e),h=p(n),(0,r.css)(c(),d[h].button,d[h].button,i.HT.tablet,d[s].button,d[s].button,d[h].icon,d[h].icon,i.HT.tablet,d[s].icon,d[s].icon))],children:(0,o.jsx)(a.v,{theme:l})});var s,h}},34942:(t,e,n)=>{"use strict";n.d(e,{h:()=>s});var o=n(50484),r=n(24017);function i(){const t=(e=["\n\t\t\t\t/* position relative to contain the absolutely positioned iframe plus any Overlay image */\n\t\t\t\tposition: relative;\n\t\t\t\tpadding-bottom: ",";\n\t\t\t\t& > iframe,\n\t\t\t\t& > video {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t}\n\t\t\t"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return i=function(){return t},t}const s=t=>{let{height:e,width:n,aspectRatio:s,children:a}=t;const c="".concat("5:4"===s?80:e/n*100,"%");return(0,o.jsx)("div",{css:(0,r.css)(i(),c),children:a})}},61350:(t,e,n)=>{"use strict";n.d(e,{L:()=>l,j:()=>u});var o=n(50484),r=n(24017),i=n(96378),s=n(7351),a=n(3959);function c(){const t=(e=["\n\tposition: absolute;\n\ttop: ","px;\n\tright: ","px;\n\tbackground-color: rgba(0, 0, 0, 0.7);\n\twidth: fit-content;\n\tpadding: ","px ","px;\n\tborder-radius: ","px;\n\tcolor: white;\n\t",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return c=function(){return t},t}const d=(0,r.css)(c(),i.x[2],i.x[2],i.x[1],i.x[3],i.x[3],s.rDY);function l(t){if(void 0===t||0===t)return"";const e=Number(t),n=Math.floor(e/3600),o=Math.floor(e%3600/60),r=Math.floor(e%3600%60),i=[];return n>0&&i.push(n),0===n&&o>0&&0===r?i.push("".concat(o,":00")):n>0&&o<10?i.push("0".concat(o)):i.push(o),r>0&&(r<10?i.push("0".concat(r)):i.push(r)),i.join(":")}const u=t=>{let{mediaDuration:e,imagePositionOnDesktop:n,imagePositionOnMobile:r}=t;return"left"===n?null:"left"===r?(0,o.jsx)(a.L,{until:"tablet",children:(0,o.jsx)("div",{css:d,children:(0,o.jsx)("p",{children:l(e)})})}):(0,o.jsx)("div",{css:d,children:(0,o.jsx)("p",{children:l(e)})})}},23264:(t,e,n)=>{"use strict";n.r(e),n.d(e,{YoutubeBlockComponent:()=>Gt});var o=n(50484),r=n(67400),i=n(67061),s=n(70704),a=n(94144),c=n(15593),d=n(56779),l=n(60439),u=n(9474),p=n(50026),h=n(42631);const f=t=>e=>{(0,p.V5)("Web").then((n=>{const o={video:{id:"gu-video-youtube-".concat(t),eventType:"video:content:".concat(e)}};(0,l.Rm)("dotcom",{from:"YoutubeAtom event emitter web",id:t,event:o}),n.record(o)}))},g=t=>e=>{const n=(t=>{switch(t){case"cued":return d.MediaEvent.ready;case"play":return d.MediaEvent.play;case"25":return d.MediaEvent.percent25;case"50":return d.MediaEvent.percent50;case"75":return d.MediaEvent.percent75;case"end":return d.MediaEvent.end;default:return}})(e);if(!(0,u.b)(n)){const e={videoId:t,event:n};(0,l.Rm)("dotcom",{from:"YoutubeAtom event emitter apps",id:t,event:e}),(0,h.FA)().sendVideoEvent(e)}};var m=n(34942),v=n(24017),b=n(96378),w=n(7351),y=n(77907),x=n(99923),P=n(53694),j=n(7081),E=n(78410),O=n(64363),I=n(61350),S=n(92280),T=n(73047),k=n(37540);function M(){const t=(e=["\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return M=function(){return t},t}const C=t=>{let{image:e,alt:n,height:r,width:i,aspectRatio:s}=t;const a=(0,k.Ip)((0,T.m)(e),[{breakpoint:S.f.mobile,width:465},{breakpoint:S.f.mobileLandscape,width:645},{breakpoint:S.f.phablet,width:620},{breakpoint:S.f.tablet,width:700},{breakpoint:S.f.desktop,width:620}],s),c=(0,k.sP)(a);return(0,o.jsxs)("picture",{itemProp:"contentUrl",children:[(0,o.jsx)(k.jp,{sources:a}),(0,o.jsx)("img",{alt:n,src:c.lowResUrl,height:r,width:i,css:(0,v.css)(M())})]})};function A(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function R(){const t=A(["\n\tbackground-size: cover;\n\tbackground-position: 49% 49%;\n\tbackground-repeat: no-repeat;\n\ttext-align: center;\n\theight: 100%;\n\twidth: 100%;\n\tposition: absolute;\n\tmax-height: 100vh;\n\tcursor: pointer;\n\tborder: 0;\n\tpadding: 0;\n\n\timg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.play-icon {\n\t\ttransition: transform 300ms;\n\t}\n\n\t/* We scale the play icon on hover and focus to indicate it's playable content. */\n\t:focus .play-icon,\n\t:hover .play-icon {\n\t\ttransform: translate(-50%, -50%) scale(1.15);\n\t}\n"]);return R=function(){return t},t}function B(){const t=A(["\n\tposition: absolute;\n\ttop: ","px;\n\tright: ","px;\n\t",";\n\tbackground-color: rgba(0, 0, 0, 0.7);\n\tcolor: ",";\n\tborder-radius: ","px;\n\tpadding: 0 6px;\n\tdisplay: inline-flex;\n"]);return B=function(){return t},t}function L(){const t=A(["\n\t/* Target all but the first element, and add a border */\n\t:nth-of-type(n + 2) {\n\t\tborder-left: 1px solid rgba(255, 255, 255, 0.5);\n\t}\n"]);return L=function(){return t},t}function Y(){const t=A(["\n\tline-height: ","px;\n\tpadding: ","px 6px;\n"]);return Y=function(){return t},t}function z(){const t=A(["\n\t::before {\n\t\tcontent: '';\n\t\twidth: 9px;\n\t\theight: 9px;\n\t\tborder-radius: 50%;\n\t\tbackground-color: ",";\n\t\tdisplay: inline-block;\n\t\tposition: relative;\n\t\tmargin-right: 0.1875rem;\n\t}\n"]);return z=function(){return t},t}function V(){const t=A(["\n\tposition: absolute;\n\tbackground: linear-gradient(\n\t\t180deg,\n\t\trgba(0, 0, 0, 0) 0%,\n\t\trgba(0, 0, 0, 0.7) 25%\n\t);\n\twidth: 100%;\n\tbottom: 0;\n\tcolor: ",";\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\ttext-align: start;\n\tpadding: ","px;\n\tpadding-top: ","px;\n"]);return V=function(){return t},t}function D(){const t=A(["\n\t",";\n\t"," {\n\t\t",";\n\t}\n"]);return D=function(){return t},t}function F(){const t=A(["\n\t\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t  "]);return F=function(){return t},t}const N=(0,v.css)(R()),_=(0,v.css)(B(),b.x[2],b.x[2],w.rDY,y.M.neutral[100],b.x[3]),U=(0,v.css)(L()),q=(0,v.css)(Y(),b.x[4],b.x[1]),H=(0,v.css)(z(),y.M.news[500]),W=(0,v.css)(V(),y.M.neutral[100],b.x[2],b.x[9]),G=(0,v.css)(D(),w.cYp,x.HT.tablet,w.A5),K=t=>{let{uniqueId:e,overrideImage:n,posterImage:r,height:i,width:s,alt:a,duration:c,title:d,onClick:l,videoCategory:p,kicker:h,format:f,showTextOverlay:g,imageSize:m,imagePositionOnMobile:b,aspectRatio:w}=t;const y="youtube-overlay-".concat(e),x=!(0,u.b)(c)&&c>0,S=!!p||x,T="live"===p,k=null!=n?n:r,M="right"===b||"left"===b;return(0,o.jsx)(E.I,{format:f,children:(0,o.jsxs)("button",{"data-testid":y,onClick:l,css:N,"aria-label":d?"Play video: ".concat(d):"Play video",type:"button",children:[!!k&&(0,o.jsx)(C,{image:k,alt:a,height:i,width:s,aspectRatio:w}),S&&(0,o.jsxs)("div",{css:M?(0,v.css)(F()):_,children:[!!p&&(0,o.jsx)("div",{css:U,children:(0,o.jsx)("div",{css:[q,T&&H],children:(A=p,A.charAt(0).toUpperCase()+A.slice(1))})}),!!x&&(0,o.jsx)("div",{css:U,children:(0,o.jsx)("div",{css:q,children:(0,I.L)(c)})})]}),(0,o.jsx)(j.u,{imageSize:m,imagePositionOnMobile:b}),g&&(0,o.jsxs)("div",{css:W,children:[!!h&&(0,o.jsx)(O.Y,{text:h,color:(0,P.M)("--youtube-overlay-kicker"),fontWeight:"bold"}),(0,o.jsx)("div",{css:G,children:d})]})]})});var A};function Q(){const t=(e=["\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\tbackground-color: black;\n\t\t\t\t"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return Q=function(){return t},t}const X=t=>{let{uniqueId:e}=t;const n="youtube-placeholder-".concat(e);return(0,o.jsx)("div",{"data-name":n,"data-testid":n,css:[(0,v.css)(Q())]})};var $=n(54577),J=n(82871),Z=n(97656),tt=n(15898);let et,nt;const ot=t=>(0,tt.k)(t).catch((e=>{(0,l.Rm)("dotcom","loadYouTubeAPI: failed to load script ".concat(t),e)}));function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const it=()=>{};class st{async setPlayer(t,e,n,o,r,i){const s=await function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;if((null===(e=window.YT)||void 0===e?void 0:e.Player)instanceof Function)return(0,l.Rm)("dotcom","loadYouTubeAPI: returning existing window.YT"),Promise.resolve(window.YT);const n=nt||(nt=new Promise((t=>{window.onYouTubeIframeAPIReady=()=>{(0,l.Rm)("dotcom","loadYouTubeAPI: resolving YouTube API promise"),t(window.YT)}})),nt);return function(){return et||(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?((0,l.Rm)("dotcom","loadYouTubeAPI: loading YouTube & IMA script"),et=Promise.all([ot("https://www.youtube.com/iframe_api?ima=1"),ot("https://imasdk.googleapis.com/js/sdkloader/ima3.js")])):((0,l.Rm)("dotcom","loadYouTubeAPI: loading YouTube script"),et=Promise.all([ot("https://www.youtube.com/iframe_api")])),et)}(t).then((()=>n))}(o),a=new Promise(((a,c)=>{try{var d,l;o?s.createPlayerForPublishers(t,r,{youtubeOptions:e},((t,e)=>{this.player=t,i(e),n(),a({player:t,imaManager:e})})):(this.player=new s.Player(t,(u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){rt(t,e,n[e])}))}return t}({},e),p=null!=(p={events:{onReady:n,onStateChange:null===(d=e.events)||void 0===d?void 0:d.onStateChange,onFullscreenToggled:null===(l=e.events)||void 0===l?void 0:l.onFullscreenToggled}})?p:{},Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(p)).forEach((function(t){Object.defineProperty(u,t,Object.getOwnPropertyDescriptor(p,t))})),u)),a({player:this.player}))}catch(t){this.logError(t),c(t)}var u,p}));return a}logError(t){(0,l.Rm)("dotcom","YouTubePlayer failed to load: ".concat(t.message)),window.guardian.modules.sentry.reportError(t,"youtube-player")}getPlayerState(){return this.playerPromise.then((t=>{let{player:e}=t;return e.getPlayerState()})).catch((t=>this.logError(t)))}playVideo(){return this.playerPromise.then((t=>{let{player:e}=t;e.playVideo()})).catch((t=>this.logError(t)))}pauseVideo(){return this.playerPromise.then((t=>{let{player:e}=t;e.pauseVideo()})).catch((t=>this.logError(t)))}stopVideo(){return this.playerPromise.then((t=>{let{player:e}=t;e.stopVideo()})).catch((t=>this.logError(t)))}removeEventListener(t,e){var n;null===(n=this.player)||void 0===n||n.removeEventListener(t,e)}constructor({id:t,youtubeOptions:e,onReadyListener:n,enableIma:o,imaAdsRequestCallback:r=it,imaAdManagerListeners:i=it}){rt(this,"playerPromise",void 0),rt(this,"player",void 0),this.playerPromise=this.setPlayer(t,e,n,o,r,i)}}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){at(t,e,n[e])}))}return t}function dt(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function lt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ut(){const t=lt(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n"]);return ut=function(){return t},t}function pt(){const t=lt(["\n\thtml {\n\t\toverflow: hidden;\n\t}\n\tiframe#"," {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\t/* override vw and vh with vsw and vsh if supported */\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\t/* stylelint-disable-next-line declaration-block-no-duplicate-properties */\n\t\twidth: 100svw;\n\t\t/* stylelint-disable-next-line declaration-block-no-duplicate-properties */\n\t\theight: 100svh;\n\t\tz-index: ",";\n\t}\n"]);return pt=function(){return t},t}const ht="video:play",ft=(0,v.css)(ut()),gt=t=>(0,v.css)(pt(),t,(0,J.f)("youTubeFullscreen")),mt=t=>{document.dispatchEvent(new CustomEvent(ht,{detail:{uniqueId:t}}))},vt=(t,e,n,o)=>{const r=t&&!t.disableAds,i=r&&t.adUnit?t.adUnit:"",s=r?t.customParams:{};return(t,r)=>{t.adTagUrl=(0,$.e)({adUnit:i,customParams:s,consentState:e,clientSideParticipations:n,isSignedIn:o}),r.useStyledNonLinearAds=!0,window.google&&(r.uiElements=[window.google.ima.UiElements.AD_ATTRIBUTION,window.google.ima.UiElements.COUNTDOWN])}},bt=t=>e=>{window.google&&e.getAdsLoader().addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.AdsManagerLoaded,(()=>{window.google&&e.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.Started,(()=>{mt(t)}))}),!1)},wt=async()=>{try{const t=await(0,Z.Pq)();return"SignedInWithCookies"===t.kind||"SignedInWithOkta"===t.kind}catch(t){t instanceof Error&&window.guardian.modules.sentry.reportError(t,"youtube-atom-player-is-signed-in")}return!1},yt=t=>{let{uniqueId:e,videoId:n,height:i,width:s,title:a,origin:c,eventEmitters:d,autoPlay:u,onReady:p,pauseVideo:f,deactivateVideo:g,enableAds:m,adTargeting:b,consentState:w,abTestParticipations:y,renderingTarget:x}=t;const P=(0,r.useRef)(),j=(0,r.useRef)({hasSentPlayEvent:!1,hasSent25Event:!1,hasSent50Event:!1,hasSent75Event:!1,hasSentEndEvent:!1}),[E,O]=(0,r.useState)(!1),[I,S]=(0,r.useState)(!1),[T,k]=(0,r.useState)(!1),M=(0,r.useCallback)((()=>O(!0)),[]),C=(0,r.useRef)([]),A=(0,r.useRef)({}),R=(0,r.useRef)(),B="youtube-player-".concat(e);return(0,r.useEffect)((()=>{if(!P.current){(0,l.Rm)("dotcom",{from:"YoutubeAtomPlayer initialise",videoId:n});const t=((t,e,n)=>()=>{(0,l.Rm)("dotcom",{from:"YoutubeAtomPlayer onReady",videoId:t,msg:"Ready"}),e(),n()})(n,p,M),o=((t,e,n,o)=>r=>{const i="YoutubeAtomPlayer onStateChange";(0,l.Rm)("dotcom",{from:i,videoId:t,event:r});const s=r.target;if(r.data===YT.PlayerState.PLAYING){if(mt(e),n.hasSentPlayEvent){(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"resume",event:r});for(const t of o)t("resume")}else{(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"start play",event:r});for(const t of o)t("play");n.hasSentPlayEvent=!0,setTimeout((()=>{a()}),3e3)}const a=()=>{const e=s.getCurrentTime(),c=s.getDuration();if(!c||!e)return;const d=e/c*100;if(!n.hasSent25Event&&25<d){(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"played 25%",event:r});for(const t of o)t("25");n.hasSent25Event=!0}if(!n.hasSent50Event&&50<d){(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"played 50%",event:r});for(const t of o)t("50");n.hasSent50Event=!0}if(!n.hasSent75Event&&75<d){(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"played 75%",event:r});for(const t of o)t("75");n.hasSent75Event=!0}return s.getPlayerState()!==YT.PlayerState.ENDED&&setTimeout((()=>a()),3e3),null}}if(r.data===YT.PlayerState.PAUSED){(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"pause",event:r});for(const t of o)t("pause")}if(r.data===YT.PlayerState.CUED){(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"cued",event:r});for(const t of o)t("cued");n.hasSentPlayEvent=!1}if(r.data===YT.PlayerState.ENDED&&!n.hasSentEndEvent){(0,l.Rm)("dotcom",{from:i,videoId:t,msg:"ended",event:r});for(const t of o)t("end");n.hasSentEndEvent=!0,n.hasSentPlayEvent=!1}})(n,e,j.current,d),r={id:B,youtubeOptions:{height:"100%",width:"100%",videoId:n,playerVars:{controls:1,fs:1,modestbranding:1,origin:c,playsinline:1,rel:0},embedConfig:{relatedChannels:[],adsConfig:{disableAds:!0},enableIma:m,disableRelatedVideos:m},events:{onStateChange:o,onFullscreenToggled:()=>{"Apps"===x&&((0,l.Rm)("dotcom",{from:"YoutubeAtomPlayer fullscreen",videoId:n}),S((t=>!t)))}}},onReadyListener:t,enableIma:m},i=(async(t,e)=>{if("Apps"===e){const e=await(0,h.FA)().setFullscreen(!1);return dt(ct({},t),{external_fullscreen:e?1:0})}return t})(r,x);Promise.allSettled([i,wt()]).then((t=>{let[n,o]=t;const i="fulfilled"===n.status?n.value:r,s="fulfilled"===o.status&&o.value;P.current=new st(m?dt(ct({},i),{imaAdsRequestCallback:vt(b,w,y,s),imaAdManagerListeners:bt(e)}):i)}));const s=t=>{if(t.detail&&t.detail.uniqueId!==e){var n,o;const t=null===(n=P.current)||void 0===n?void 0:n.getPlayerState();null==t||t.then((t=>{var e;t===YT.PlayerState.PLAYING&&(null===(e=P.current)||void 0===e||e.pauseVideo())})),null===(o=R.current)||void 0===o||o.pause(),g()}};document.addEventListener(ht,s),A.current[ht]=s,C.current.push({name:"onReady",listener:t},{name:"onStateChange",listener:o})}}),[y,b,u,w,m,d,g,i,B,p,c,M,x,e,n,s]),(0,r.useEffect)((()=>{var t;E&&u&&((0,l.Rm)("dotcom",{from:"YoutubeAtomPlayer autoplay",videoId:n,msg:"Playing video"}),null===(t=P.current)||void 0===t||t.playVideo())}),[E,u,n]),(0,r.useEffect)((()=>{var t;f&&(null===(t=P.current)||void 0===t||t.pauseVideo())}),[f]),(0,r.useEffect)((()=>{"Apps"===x&&(0,h.FA)().setFullscreen(I).then((t=>{t&&k(I)}))}),[I,x]),(0,r.useLayoutEffect)((()=>{const t=C.current,e=A.current;return()=>{for(const e of t){var n;null===(n=P.current)||void 0===n||n.removeEventListener(e.name,e.listener)}for(const[t,n]of Object.entries(e))document.removeEventListener(t,n)}}),[]),(0,o.jsxs)(o.Fragment,{children:[T&&(0,o.jsx)(v.Global,{styles:gt(B)}),(0,o.jsx)("div",{id:B,"data-testid":B,"data-atom-type":"youtube",title:a,css:m&&ft})]})};var xt=n(56607),Pt=n(97584),jt=n.n(Pt),Et=n(58452);function Ot(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function It(){const t=Ot(["\n\tposition: absolute;\n\tleft: -36px;\n\ttop: 0;\n\tz-index: 22;\n\tbackground-color: ",";\n\theight: 32px;\n\twidth: 32px;\n\tborder-radius: 50%;\n\tborder: 0;\n\tpadding: 0;\n\tcursor: pointer;\n\tdisplay: none;\n\tjustify-content: center;\n\talign-items: center;\n\ttransition: transform 0.2s;\n\n\t&:hover {\n\t\ttransform: scale(1.15);\n\t}\n\n\tsvg {\n\t\tfill: ",";\n\t}\n"]);return It=function(){return t},t}function St(){const t=Ot(["\n\t\tposition: absolute;\n\t\ttop: -4px;\n\t\tbottom: 0;\n\t\tleft: -","px;\n\t\twidth: ","px;\n\n\t\t&:hover button {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\twidth: ",";\n\t"]);return St=function(){return t},t}function Tt(){const t=Ot(["\n\t@keyframes fade-in-up {\n\t\tfrom {\n\t\t\ttransform: translateY(100%);\n\t\t\topacity: 0;\n\t\t}\n\n\t\tto {\n\t\t\ttransform: translateY(0%);\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\tposition: fixed;\n\tbottom: 20px;\n\twidth: 215px;\n\tz-index: 21;\n\tanimation: fade-in-up 1s ease both;\n\n\t"," {\n\t\twidth: 300px;\n\t}\n\n\tfigcaption {\n\t\tdisplay: none;\n\t}\n\n\tbutton {\n\t\tdisplay: ",";\n\t}\n\n\t&:hover button {\n\t\tdisplay: flex;\n\t}\n"]);return Tt=function(){return t},t}function kt(){const t=Ot(["\n\t\theight: 192px;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tpadding-right: ",";\n\n\t\t"," {\n\t\t\theight: 349px;\n\t\t}\n\t"]);return kt=function(){return t},t}const Mt=(0,v.css)(It(),y.M.neutral[7],y.M.neutral[100]),Ct=t=>(0,v.css)(kt(),t?"".concat(b.x[5],"px"):0,x.HT.phablet),At=jt()({tablet:!0}),Rt=t=>{let{uniqueId:e,videoId:n,eventEmitters:i,shouldStick:s,setPauseVideo:a,isActive:d,isMainMedia:u,children:h,isClosed:f,setIsClosed:g,shouldPauseOutOfView:m}=t;const[b,w]=(0,r.useState)(!1),[y,P]=(0,r.useState)(!1),[j,E]=(0,r.useState)(At),{renderingTarget:O}=(0,c.U)(),[I,S]=(0,Et.E)({threshold:.5,repeat:!0,debounce:!0}),T=()=>{w(!1),P(!1),a(!0),g(!0),(0,l.Rm)("dotcom",{from:"YoutubeAtom handleCloseClick",videoId:n,msg:"Close"}),(0,p.u_)({component:{componentType:"STICKY_VIDEO",id:n},action:"CLOSE"},O)},k=t=>{"Escape"===t.key&&T()};(0,r.useEffect)((()=>(window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)))),(0,r.useEffect)((()=>{s&&w(d&&!I&&!f)}),[I,d,s,f]),(0,r.useEffect)((()=>{!s&&m&&a(d&&!I&&!f)}),[I,s,d,m,f,a]),(0,r.useEffect)((()=>{b&&!y&&(P(!0),(0,l.Rm)("dotcom",{from:"YoutubeAtom stick useEffect",videoId:n,msg:"Stick"}),(0,p.u_)({component:{componentType:"STICKY_VIDEO",id:n},action:"STICK"},O))}),[b,y,n,i,O]),(0,r.useEffect)((()=>{E(At&&b)}),[b]);const M=!j&&At;return(0,o.jsx)("div",{ref:S,css:b&&Ct(u),"data-testid":"youtube-sticky-".concat(e),"data-is-sticky":b,children:(0,o.jsxs)("div",{css:b&&(A=M,(0,v.css)(Tt(),x.HT.tablet,A?"flex":"none")),children:[h,b&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{css:(C=j,(0,v.css)(St(),37,37,C?"calc(100% + ".concat(37,"px)"):"".concat(37,"px"))),onClick:()=>E(!1),onKeyDown:()=>E(!1),role:"button",tabIndex:0}),(0,o.jsx)("button",{css:Mt,onClick:T,"data-testid":"youtube-sticky-close-".concat(e),type:"button",children:(0,o.jsx)(xt.F,{size:"medium"})})]})]})});var C,A},Bt=t=>{let{atomId:e,videoId:n,uniqueId:i,overrideImage:s,posterImage:a,adTargeting:c,consentState:d,height:l=259,width:u=460,alt:p,title:h,duration:f,origin:g,eventEmitters:v,shouldStick:b,isMainMedia:w,abTestParticipations:y,videoCategory:x,kicker:P,format:j,shouldPauseOutOfView:E=!1,showTextOverlay:O=!1,imageSize:I,imagePositionOnMobile:S,renderingTarget:T,aspectRatio:k}=t;const[M,C]=(0,r.useState)(!1),[A,R]=(0,r.useState)(!1),[B,L]=(0,r.useState)(!1),[Y,z]=(0,r.useState)(!1),[V,D]=(0,r.useState)(!1),F=!!c&&!c.disableAds&&!!d&&d.canTarget,N=[t=>{switch(t){case"play":case"resume":D(!1),z(!1),L(!0);break;case"end":case"cued":L(!1)}},...v],_=!!(null!=s?s:a),U=_&&!M,q=(!_||M)&&!A;let H;H=!_||!!M;const W=(0,r.useCallback)((()=>R(!0)),[]);return(0,o.jsx)("div",{"data-component":"youtube-atom","data-atom-id":e,"data-video-id":n,"data-video-unique-id":i,children:(0,o.jsx)(Rt,{uniqueId:i,videoId:n,shouldStick:b,isActive:B,eventEmitters:v,setPauseVideo:D,isMainMedia:w,isClosed:Y,setIsClosed:z,shouldPauseOutOfView:E,children:(0,o.jsxs)(m.h,{height:l,width:u,aspectRatio:k,children:[H&&d&&c&&(0,o.jsx)(yt,{videoId:n,uniqueId:i,height:l,width:u,title:h,origin:g,eventEmitters:N,autoPlay:_,onReady:W,pauseVideo:V,deactivateVideo:()=>{L(!1)},enableAds:F,adTargeting:c,consentState:d,abTestParticipations:y,renderingTarget:T}),U&&(0,o.jsx)(K,{uniqueId:i,overrideImage:s,posterImage:a,height:l,width:u,alt:p,duration:f,title:h,onClick:()=>C(!0),videoCategory:x,kicker:P,format:j,showTextOverlay:O,imageSize:I,imagePositionOnMobile:S,aspectRatio:k}),q&&(0,o.jsx)(X,{uniqueId:i})]})})})};var Lt=n(81217);function Yt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function zt(){const t=Yt(["\n\t\t\t\theight: 0px;\n\t\t\t\tposition: relative;\n\t\t\t\tbackground-image: url(",");\n\t\t\t\tbackground-size: cover;\n\t\t\t\tbackground-position: 49% 49%;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tpadding-bottom: 56%;\n\t\t\t\tcolor: ",";\n\t\t\t\tbackground-color: ",";\n\t\t  "]);return zt=function(){return t},t}function Vt(){const t=Yt(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\n\tpadding-top: ","px;\n\tpadding-bottom: ","px;\n\tpadding-left: ","px;\n\tpadding-right: ","px;\n\tcolor: ",";\n\tbackground-color: ",";\n"]);return Vt=function(){return t},t}function Dt(){const t=Yt(["\n\tpadding-right: ","px;\n\tsvg {\n\t\twidth: ","px;\n\t\theight: ","px;\n\t\tfill: ",";\n\t}\n"]);return Dt=function(){return t},t}function Ft(){const t=Yt(["\n\t\t\t\tmargin-top: 16px;\n\t\t\t\tmargin-bottom: 16px;\n\t\t\t"]);return Ft=function(){return t},t}function Nt(){const t=Yt(["\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\tline-height: 1.15;\n\t\t\t\t\t\t"]);return Nt=function(){return t},t}const _t=t=>t?(0,v.css)(zt(),t,y.M.neutral[100],y.M.neutral[20]):void 0,Ut=(0,v.css)(Vt(),b.x[4],b.x[4],b.x[1],b.x[12],y.M.neutral[100],y.M.neutral[20]),qt=(0,v.css)(Dt(),b.x[1],b.x[12],b.x[12],y.M.neutral[100]),Ht=t=>{let{format:e,hideCaption:n,isMainMedia:r,mediaTitle:i,overrideImage:s}=t;return(0,o.jsxs)("figure",{css:(0,v.css)(Ft()),children:[(0,o.jsx)("div",{css:_t(s),children:(0,o.jsxs)("div",{css:Ut,children:[(0,o.jsx)("div",{css:qt,children:(0,o.jsx)(Lt.T,{})}),(0,o.jsx)("p",{css:(0,v.css)(Nt(),w.BTt),children:"This video has been removed. This could be because it launched early, our rights have expired, there was a legal issue, or for another reason."})]})}),!n&&(0,o.jsx)(a.H,{captionText:null!=i?i:"",format:e,displayCredit:!1,mediaType:"Video",isMainMedia:r})]})},Wt={disableAds:!0},Gt=t=>{let{id:e,assetId:d,index:l,mediaTitle:u,altText:p,format:h,hideCaption:m,overrideImage:v,posterImage:b=[],expired:w,isMainMedia:y,height:x=259,width:P=460,duration:j,origin:E,stickyVideos:O,kickerText:I,pauseOffscreenVideo:S=!1,showTextOverlay:T,imageSize:k="large",imagePositionOnMobile:M="none",enableAds:C,aspectRatio:A}=t;var R;const[B,L]=(0,r.useState)(void 0),Y=(0,s.k)(j),{renderingTarget:z}=(0,c.U)(),V=(0,i.H)();var D;const F=null!==(D=null==V?void 0:V.participations)&&void 0!==D?D:{},N="".concat(d,"-").concat(l);return(0,r.useEffect)((()=>{"Web"===z&&(async()=>{const{onConsentChange:t}=await n.e(7513).then(n.bind(n,87513));t((t=>{L(t)}))})().catch((t=>{window.guardian.modules.sentry.reportError(t instanceof Error?t:new Error("Error: unknown"),"youtube-consent")})),"Apps"===z&&L({canTarget:!1,framework:"tcfv2"})}),[z]),w?(0,o.jsx)(Ht,{format:h,hideCaption:m,isMainMedia:y,mediaTitle:u,overrideImage:v}):(0,o.jsxs)("div",{"data-chromatic":"ignore",children:[(0,o.jsx)(Bt,{atomId:e,videoId:d,uniqueId:N,overrideImage:v,posterImage:null===(U=b,R=[...U].sort(((t,e)=>t.width-e.width)).pop())||void 0===R?void 0:R.url,alt:null!==(_=null!=p?p:u)&&void 0!==_?_:"",adTargeting:C&&"Web"===z?Y:Wt,consentState:B,height:x,width:P,title:u,duration:j,eventEmitters:"Web"===z?[f(e)]:[g(e)],format:h,origin:E,shouldStick:"Web"===z&&O,isMainMedia:y,abTestParticipations:F,kicker:I,shouldPauseOutOfView:S,showTextOverlay:T,imageSize:k,imagePositionOnMobile:M,renderingTarget:z,aspectRatio:A}),!m&&(0,o.jsx)(a.H,{captionText:null!=u?u:"",format:h,displayCredit:!1,mediaType:"Video",isMainMedia:y})]});var _,U}},42631:(t,e,n)=>{"use strict";n.d(e,{OA:()=>C,IC:()=>U,GR:()=>k,QF:()=>G,Dq:()=>S,yY:()=>D,_5:()=>Q,ud:()=>H,U:()=>R,yV:()=>L,LE:()=>z,FA:()=>N});var o=n(13011),r=n(96831),i=n(86293),s=n(99895),a=n(65490),c=n(89993),d=n(85159),l=(n(47038),n(59517)),u=(n(29103),n(60579)),p=n(54703),h=n(69504),f=n(75271),g=n(9474),m=n(13213);function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class b extends m.TProtocol{getTransport(){return this.concreteProtocol.getTransport()}flush(){return this.concreteProtocol.flush()}writeMessageBegin(t,e,n){return this.concreteProtocol.writeMessageBegin(t,e,n)}writeMessageEnd(){return this.concreteProtocol.writeMessageEnd()}writeStructBegin(t){return this.concreteProtocol.writeStructBegin(t)}writeStructEnd(){return this.concreteProtocol.writeStructEnd()}writeFieldBegin(t,e,n){return this.concreteProtocol.writeFieldBegin(t,e,n)}writeFieldEnd(){return this.concreteProtocol.writeFieldEnd()}writeFieldStop(){return this.concreteProtocol.writeFieldStop()}writeMapBegin(t,e,n){return this.concreteProtocol.writeMapBegin(t,e,n)}writeMapEnd(){return this.concreteProtocol.writeMapEnd()}writeListBegin(t,e){return this.concreteProtocol.writeListBegin(t,e)}writeListEnd(){return this.concreteProtocol.writeListEnd()}writeSetBegin(t,e){return this.concreteProtocol.writeSetBegin(t,e)}writeSetEnd(){return this.concreteProtocol.writeSetEnd()}writeBool(t){return this.concreteProtocol.writeBool(t)}writeByte(t){return this.concreteProtocol.writeByte(t)}writeI16(t){return this.concreteProtocol.writeI16(t)}writeI32(t){return this.concreteProtocol.writeI32(t)}writeI64(t){return this.concreteProtocol.writeI64(t)}writeDouble(t){return this.concreteProtocol.writeDouble(t)}writeString(t){return this.concreteProtocol.writeString(t)}writeBinary(t){return this.concreteProtocol.writeBinary(t)}readMessageBegin(){return this.concreteProtocol.readMessageBegin()}readMessageEnd(){return this.concreteProtocol.readMessageEnd()}readStructBegin(){return this.concreteProtocol.readStructBegin()}readStructEnd(){return this.concreteProtocol.readStructEnd()}readFieldBegin(){return this.concreteProtocol.readFieldBegin()}readFieldEnd(){return this.concreteProtocol.readFieldEnd()}readMapBegin(){return this.concreteProtocol.readMapBegin()}readMapEnd(){return this.concreteProtocol.readMapEnd()}readListBegin(){return this.concreteProtocol.readListBegin()}readListEnd(){return this.concreteProtocol.readListEnd()}readSetBegin(){return this.concreteProtocol.readSetBegin()}readSetEnd(){return this.concreteProtocol.readSetEnd()}readBool(){return this.concreteProtocol.readBool()}readByte(){return this.concreteProtocol.readByte()}readI16(){return this.concreteProtocol.readI16()}readI32(){return this.concreteProtocol.readI32()}readI64(){return this.concreteProtocol.readI64()}readDouble(){return this.concreteProtocol.readDouble()}readBinary(){return this.concreteProtocol.readBinary()}readString(){return this.concreteProtocol.readString()}skip(t){return this.concreteProtocol.skip(t)}constructor(t){super(t.getTransport()),v(this,"concreteProtocol",void 0),this.concreteProtocol=t}}class w extends b{writeMessageBegin(t,e,n){e===m.MessageType.CALL||e===m.MessageType.ONEWAY?super.writeMessageBegin(this.serviceName+w.separator+t,e,n):super.writeMessageBegin(t,e,n)}constructor(t,e){super(t),v(this,"serviceName",void 0),this.serviceName=e}}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t){window.android?window.android.postMessage(t.data,t.connectionId):window.webkit?window.webkit.messageHandlers.iOSWebViewMessage.postMessage(t):console.warn("No native APIs available")}v(w,"separator",":");let P=1;const j=()=>"connection-".concat(P++);class E extends m.ThriftConnection{reset(t){if(t===this.connectionId&&window.nativeConnections){console.warn("Reseting connection "+t),delete window.nativeConnections[this.connectionId];for(const t of this.promises)t.reject(new m.TApplicationException(m.TApplicationExceptionType.UNKNOWN,"Timeout error"));this.promises=[],this.connectionId=j(),window.nativeConnections[this.connectionId]=this}}receive(t){const e=this.promises.shift();if(e){clearTimeout(e.timeoutId);const n=Buffer.from(t.data,"base64");e.resolve(n)}this.sendNextMessage()}sendNextMessage(){const t=this.outBuffer.shift();t&&(console.log("Sending next message"),x(t))}send(t){const e=this.connectionId,n=this;return new Promise((function(o,r){n.promises.push({resolve:o,reject:r,timeoutId:setTimeout((function(){n.reset(e)}),3e4)});const i={data:t.toString("base64"),connectionId:e};1===n.promises.length?(console.log("Sending message immediately"),x(i)):(console.log("Queing message because others in flight"),n.outBuffer.push(i))}))}constructor(t,e){var n;super(t,e),y(this,"connectionId",j()),y(this,"promises",[]),y(this,"outBuffer",[]),"undefined"!=typeof window&&(window.nativeConnections=null!==(n=window.nativeConnections)&&void 0!==n?n:{},window.nativeConnections[this.connectionId]=this)}}function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffered",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact";const o=new E((0,m.getTransport)(e),class extends w{constructor(e){var o;super(new((0,m.getProtocol)(n))(e),null!==(o=t.serviceName)&&void 0!==o?o:"")}});return new t(o)}let I;const S=()=>((0,g.b)(I)&&(I=O(a.Client,"buffered","compact")),I);let T;const k=()=>((0,g.b)(T)&&(T=O(i.Client,"buffered","compact")),T);let M;const C=()=>(M||(M=O(o.Client,"buffered","compact")),M);let A;const R=()=>(A||(A=O(u.Client,"buffered","compact")),A);let B;const L=()=>(B||(B=O(p.Client,"buffered","compact")),B);let Y;const z=()=>(Y||(Y=O(h.Client,"buffered","compact")),Y);let V;const D=()=>(V||(V=O(c.Client,"buffered","compact")),V);let F;const N=()=>(F||(F=O(f.Client,"buffered","compact")),F);let _;const U=()=>(_||(_=O(r.Client,"buffered","compact")),_);let q;const H=()=>(q||(q=O(l.Client,"buffered","compact")),q);let W;const G=()=>(W||(W=O(s.Client,"buffered","compact")),W);let K;const Q=()=>(K||(K=O(d.Client,"buffered","compact")),K)},73047:(t,e,n)=>{"use strict";n.d(e,{m:()=>o});const o=t=>{const e=new URL(t),n=["/img/media/","/img/static/","/img/uploads/"].find((t=>e.pathname.startsWith(t)));if("i.guim.co.uk"===e.hostname&&n){const t=e.pathname.replace(n,"");switch(n){case"/img/media/":return"https://media.guim.co.uk/".concat(t);case"/img/static/":return"https://static.guim.co.uk/".concat(t);case"/img/uploads/":return"https://uploads.guim.co.uk/".concat(t)}}return t}},67061:(t,e,n)=>{"use strict";n.d(e,{H:()=>a,z:()=>c});var o=n(29273),r=n(53994);const i=new Promise((()=>{})),s="ab-tests",a=()=>{const{data:t}=(0,r.A)(s,(()=>i));return t},c=t=>{let{api:e,participations:n}=t;(0,o.Tk)(s,{api:e,participations:n},!1)}},70704:(t,e,n)=>{"use strict";n.d(e,{T:()=>d,k:()=>c});var o=n(60439),r=n(29273),i=n(53994);const s="ad-targeting",a=new Promise((()=>{})),c=t=>{const{data:e}=(0,i.A)(s,(()=>a));return e&&!e.disableAds&&"number"==typeof t&&(e.customParams.vl=t,(0,o.Rm)("commercial","🎯 Ad Targeting – video length (vl) overriden to ".concat(t))),e},d=t=>{(0,r.Tk)(s,t,!1)}},58452:(t,e,n)=>{"use strict";n.d(e,{E:()=>s});var o=n(44165),r=n.n(o),i=n(67400);const s=t=>{const[e,n]=(0,i.useState)(!1);var o;const[s,a]=(0,i.useState)(null!==(o=t.node)&&void 0!==o?o:null),c=(0,i.useRef)(null),d=(0,i.useCallback)((e=>{let[o]=e;o&&(o.isIntersecting?n(!0):t.repeat&&n(!1))}),[t.repeat]),l=t.debounce?r()(d,200):d;return(0,i.useEffect)((()=>{t.node&&a(t.node)}),[t.node]),(0,i.useEffect)((()=>{if(s&&"IntersectionObserver"in window)return c.current=new window.IntersectionObserver(l,t),c.current.observe(s),()=>{var t;return null===(t=c.current)||void 0===t?void 0:t.disconnect()}}),[s,t,l]),(0,i.useEffect)((()=>{var n;!t.repeat&&e&&(null===(n=c.current)||void 0===n||n.disconnect())}),[e,t.repeat]),[e,a]}},50150:()=>{}}]);
//# sourceMappingURL=6149.client.web.3c0841906d89307f92ce.js.map