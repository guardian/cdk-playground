{"version":3,"file":"Dropdown-importable.client.web.legacy.1e7d9fae381827bdebd2.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/components/Dropdown.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/linkNotificationCount.ts","webpack://@guardian/dotcom-rendering/./src/lib/getZIndex.ts","webpack://@guardian/dotcom-rendering/./src/lib/useIsInView.ts","webpack://@guardian/dotcom-rendering/./src/lib/useOnce.ts","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/lodash.debounce@4.0.8/node_modules/lodash.debounce/index.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/__generated__/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/accessibility/visually-hidden.js","webpack://@guardian/dotcom-rendering/../node_modules/.pnpm/@guardian+source@8.0.0_@emotion+react@11.11.3_@types+react@18.3.1_react@18.3.1_tslib@2.6.2_typescript@5.5.3/node_modules/@guardian/source/dist/foundations/mq/mq.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { isUndefined } from '@guardian/libs';\nimport { from, palette, palette as sourcePalette, textSans12, textSans14, textSans15, textSans17, until, visuallyHidden, } from '@guardian/source/foundations';\nimport { useEffect, useMemo, useState } from 'react';\nimport { submitComponentEvent } from '../client/ophan/ophan';\nimport { getZIndex } from '../lib/getZIndex';\nimport { linkNotificationCount } from '../lib/linkNotificationCount';\nimport { useIsInView } from '../lib/useIsInView';\nimport { useOnce } from '../lib/useOnce';\nimport { useConfig } from './ConfigContext';\nconst NOTIFICATION_COMPONENT_TYPE = 'RETENTION_HEADER';\nconst ulStyles = css `\n\tz-index: ${getZIndex('dropdown')};\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\tli::before {\n\t\tcontent: '\\\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n\tbackground-color: white;\n\tpadding: 6px 0;\n\tbox-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n\n\t${until.tablet} {\n\t\tposition: fixed;\n\t\tborder-radius: 0;\n\t\ttop: 32px;\n\t\tleft: 0;\n\t\tright: 0;\n\t\twidth: auto;\n\t\tmax-height: calc(100% - 50px);\n\t\toverflow: auto;\n\t}\n\n\t${from.tablet} {\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\twidth: 200px;\n\t\tborder-radius: 3px;\n\t}\n`;\nconst liStyles = css `\n\tposition: relative;\n`;\nconst displayBlock = css `\n\tdisplay: block;\n`;\nconst displayNone = css `\n\tdisplay: none;\n`;\nconst linkStyles = css `\n\t${textSans15};\n\tcolor: ${sourcePalette.neutral[7]};\n\ttransition: color 80ms ease-out;\n\tmargin: -1px 0 0 0;\n\ttext-decoration: none;\n\tdisplay: flex;\n\talign-items: flex-start;\n\tjustify-content: space-between;\n\tpadding: 10px 18px 15px 30px;\n\n\t:hover {\n\t\tbackground-color: ${sourcePalette.neutral[93]};\n\t\ttext-decoration: none;\n\t}\n\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-top: 1px solid ${sourcePalette.neutral[86]};\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 30px;\n\t\tright: 0px;\n\t}\n`;\nconst linkActive = css `\n\tfont-weight: bold;\n\n\t:after {\n\t\tcontent: '';\n\t\tborder: 2px solid ${sourcePalette.news[400]};\n\t\tborder-top: 0px;\n\t\tborder-right: 0px;\n\t\tposition: absolute;\n\t\ttop: 19px;\n\t\tleft: 12px;\n\t\twidth: 10px;\n\t\theight: 4px;\n\t\ttransform: rotate(-45deg);\n\t}\n`;\nconst linkFirst = css `\n\t:before {\n\t\tcontent: none;\n\t}\n`;\nconst buttonStyles = css `\n\t${textSans17};\n\tdisplay: block;\n\tcursor: pointer;\n\tbackground: none;\n\tborder: none;\n\t/* Design System: The buttons should be components that handle their own layout using primitives  */\n\tline-height: 1.2;\n\tcolor: ${sourcePalette.neutral[100]};\n\ttransition: color 80ms ease-out;\n\tpadding: 0px 10px 6px 5px;\n\tmargin: 1px 0 0;\n\ttext-decoration: none;\n\tposition: relative;\n\n\t:hover {\n\t\tcolor: ${sourcePalette.brandAlt[400]};\n\n\t\t:after {\n\t\t\ttransform: translateY(0) rotate(45deg);\n\t\t}\n\t}\n\n\t:after {\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\twidth: 5px;\n\t\theight: 5px;\n\t\ttransform: translateY(-2px) rotate(45deg);\n\t\tborder: 1px solid currentColor;\n\t\tborder-left: transparent;\n\t\tborder-top: transparent;\n\t\tmargin-left: 5px;\n\t\tvertical-align: middle;\n\t\ttransition: transform 250ms ease-out;\n\t}\n`;\nconst buttonExpanded = css `\n\t:hover:after {\n\t\ttransform: translateY(-1px) rotate(-135deg);\n\t}\n\t:after {\n\t\ttransform: translateY(1px) rotate(-135deg);\n\t}\n`;\nconst notificationColor = palette.error[400];\nconst notificationBadgeStyles = css `\n\tbackground-color: ${notificationColor};\n\tcolor: ${palette.neutral[100]};\n\ttext-align: center;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t${textSans14};\n\tline-height: 1;\n\tflex-shrink: 0;\n`;\nconst dropdownButtonNotificationBadgeStyles = css `\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tmargin-left: -10px;\n\tmargin-top: -3px;\n`;\nconst notificationTextStyles = css `\n\t${textSans12};\n`;\nconst buildOphanComponentWithNotifications = (link) => {\n    // Only track if it has notifications\n    if (link.notifications && link.notifications.length > 0) {\n        return {\n            componentType: NOTIFICATION_COMPONENT_TYPE,\n            id: link.id,\n            labels: link.notifications.map((notification) => notification.ophanLabel),\n        };\n    }\n    return undefined;\n};\nconst addTrackingToUrl = (url, ophanComponent) => {\n    // Use the acquisitionData query param to send tracking to the destination\n    const acquisitionData = encodeURIComponent(JSON.stringify({\n        source: 'GUARDIAN_WEB',\n        componentId: ophanComponent.id,\n        componentType: ophanComponent.componentType,\n        campaignCode: ophanComponent.id,\n        referrerPageviewId: window.guardian.config.ophan.pageViewId,\n        referrerUrl: window.location.origin + window.location.pathname,\n        labels: ophanComponent.labels,\n    }));\n    const prefix = url.includes('?') ? '&' : '?';\n    return `${url}${prefix}acquisitionData=${acquisitionData}`;\n};\nconst NotificationBadge = ({ diameter }) => {\n    return (_jsx(\"div\", { css: notificationBadgeStyles, style: {\n            width: `${diameter}px`,\n            height: `${diameter}px`,\n            borderRadius: `${diameter}px`,\n        }, children: _jsx(\"span\", { children: \"!\" }) }));\n};\nconst NotificationMessage = ({ notification }) => {\n    const { message } = notification;\n    return _jsx(\"div\", { css: notificationTextStyles, children: message });\n};\nconst DropdownLink = ({ link, index }) => {\n    const ophanComponent = useMemo(() => buildOphanComponentWithNotifications(link), [link]);\n    const { renderingTarget } = useConfig();\n    const [hasBeenSeen, setNode] = useIsInView({\n        debounce: true,\n    });\n    const [hasSentViewEvent, setHasSentViewEvent] = useState(false);\n    // The following hooks, which send INSERT and VIEW events to Ophan,\n    // intentionally only run when the link has notifications (which is why\n    // link.notifications is part of the dependency array for both). In future\n    // if we ever have notifications arriving from different sources at\n    // different times, we'll need to revisit this logic (currently they only\n    // come from Braze).\n    useEffect(() => {\n        if (hasBeenSeen &&\n            ophanComponent &&\n            link.notifications &&\n            link.notifications.length > 0 &&\n            !hasSentViewEvent) {\n            setHasSentViewEvent(true);\n            // For each notification for this link, log the impression back to\n            // Braze separately\n            for (const notification of link.notifications) {\n                notification.logImpression?.();\n            }\n            void submitComponentEvent({\n                component: ophanComponent,\n                action: 'VIEW',\n            }, renderingTarget);\n        }\n    }, [\n        hasBeenSeen,\n        ophanComponent,\n        link.notifications,\n        hasSentViewEvent,\n        link.id,\n        renderingTarget,\n    ]);\n    useOnce(() => {\n        if (ophanComponent) {\n            void submitComponentEvent({\n                component: ophanComponent,\n                action: 'INSERT',\n            }, renderingTarget);\n        }\n    }, [ophanComponent]);\n    const url = ophanComponent\n        ? addTrackingToUrl(link.url, ophanComponent)\n        : link.url;\n    const hasNotifications = !isUndefined(link.notifications) && link.notifications.length > 0;\n    return (_jsx(\"li\", { css: liStyles, ref: setNode, children: _jsxs(\"a\", { href: url, css: [\n                linkStyles,\n                !!link.isActive && linkActive,\n                index === 0 && linkFirst,\n            ], \"data-link-name\": link.dataLinkName, onClick: () => {\n                if (ophanComponent) {\n                    void submitComponentEvent({\n                        component: ophanComponent,\n                        action: 'CLICK',\n                    }, renderingTarget);\n                }\n            }, children: [_jsxs(\"div\", { children: [link.title, link.notifications?.map((notification) => (_jsx(NotificationMessage, { notification: notification }, notification.id)))] }), hasNotifications && _jsx(NotificationBadge, { diameter: 22 })] }) }, link.title));\n};\nexport const Dropdown = ({ id, label, links, dataLinkName, cssOverrides, children, }) => {\n    const [isExpanded, setIsExpanded] = useState(false);\n    const [noJS, setNoJS] = useState(true);\n    const [buttonRef, setButtonRef] = useState(null);\n    useEffect(() => {\n        // If hook runs we know client-side JS is enabled\n        setNoJS(false);\n    }, []);\n    useEffect(() => {\n        const dismissOnEsc = (event) => {\n            if (isExpanded && event.code === 'Escape') {\n                setIsExpanded(false);\n            }\n        };\n        document.addEventListener('keydown', dismissOnEsc, false);\n        // Remove listener on unmount\n        return () => document.removeEventListener('keydown', dismissOnEsc);\n    }, [isExpanded]);\n    useEffect(() => {\n        if (!isExpanded || !buttonRef) {\n            return;\n        }\n        const dismissOnClickAway = (event) => {\n            // If the source of the click is the button, do nothing as the\n            // button's click handler will have already toggled the isExpanded\n            // state\n            if (buttonRef === event.target) {\n                return;\n            }\n            event.stopPropagation();\n            setIsExpanded(false);\n        };\n        document.addEventListener('click', dismissOnClickAway, false);\n        // Remove listener on unmount\n        return () => document.removeEventListener('click', dismissOnClickAway);\n    }, [isExpanded, buttonRef]);\n    const handleToggle = () => {\n        setIsExpanded(!isExpanded);\n    };\n    // needs to be unique to allow multiple dropdowns on same page\n    const dropdownID = `dropbox-id-${id}`;\n    const checkboxID = `checkbox-id-${id}`;\n    const notificationCount = linkNotificationCount(links);\n    return (_jsx(_Fragment, { children: noJS ? (_jsxs(\"div\", { css: css `\n\t\t\t\t\t\t${`#${checkboxID}`} {\n\t\t\t\t\t\t\t/* Never show the input */\n\t\t\t\t\t\t\t${visuallyHidden}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${`#${dropdownID}`} {\n\t\t\t\t\t\t\t/* Hide caption by default */\n\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* stylelint-disable-next-line selector-type-no-unknown */\n\t\t\t\t\t\t${`#${checkboxID}`}:checked + ${`#${dropdownID}`} {\n\t\t\t\t\t\t\t/* Show the caption if the input is checked */\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t}\n\t\t\t\t\t`, children: [_jsx(\"label\", { htmlFor: checkboxID, css: [buttonStyles, cssOverrides], children: label }), _jsx(\"input\", { type: \"checkbox\", id: checkboxID, \"aria-checked\": \"false\", tabIndex: -1 }), _jsx(\"ul\", { id: dropdownID, css: [ulStyles, cssOverrides], children: links.map((l, index) => (_jsx(\"li\", { children: _jsx(\"a\", { href: l.url, css: [\n                                linkStyles,\n                                !!l.isActive && linkActive,\n                                index === 0 && linkFirst,\n                            ], \"data-link-name\": l.dataLinkName, children: l.title }) }, l.title))) })] })) : (_jsxs(_Fragment, { children: [_jsxs(\"button\", { onClick: handleToggle, css: [\n                        buttonStyles,\n                        cssOverrides,\n                        isExpanded && buttonExpanded,\n                    ], \"aria-expanded\": isExpanded ? 'true' : 'false', \"data-link-name\": dataLinkName, \"data-testid\": \"dropdown-button\", type: \"button\", ref: setButtonRef, children: [label, notificationCount > 0 && (_jsx(\"div\", { css: dropdownButtonNotificationBadgeStyles, children: _jsx(NotificationBadge, { diameter: 18 }) }))] }), _jsx(\"div\", { css: isExpanded ? displayBlock : displayNone, children: children ? (_jsx(_Fragment, { children: children })) : (_jsx(\"ul\", { css: [ulStyles, cssOverrides], \"data-testid\": \"dropdown-options\", children: links.map((link, index) => (_jsx(DropdownLink, { link: link, index: index }, link.id))) })) })] })) }));\n};\n","export const linkNotificationCount = (links) => {\n    return links.reduce((runningCount, link) => {\n        const thisLinkNotificationCount = link.notifications?.length ?? 0;\n        return runningCount + thisLinkNotificationCount;\n    }, 0);\n};\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    z-index: ${getZIndex('TheGuardian')};\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n    // Modals will go here at the top\n    'lightbox',\n    'youTubeFullscreen',\n    // Sticky video and button need to be above everything\n    'sticky-video-button',\n    'sticky-video',\n    'banner',\n    'dropdown',\n    'burger',\n    'mastheadVeggieBurgerExpandedMobile',\n    'expanded-veggie-menu-wrapper',\n    'expanded-veggie-menu',\n    //header wrapper needs to be in line with veggie menus to ensure it stands above various banners\n    'fullPageInteractiveHeaderWrapper',\n    // Mobile sticky appears below banners\n    'mobileSticky',\n    // Headers with sticky ads\n    'stickyAdWrapperLabsHeader',\n    'stickyAdWrapper',\n    'stickyAdWrapperNav',\n    // My Account dropdown in masthead - needs to be below stickyAdWrapper\n    'mastheadMyAccountDropdown',\n    // Edition selector in masthead - needs to be below stickyAdWrapper\n    'mastheadEditionDropdown',\n    // Edition selector in nav - needs to be below stickyAdWrapper\n    'editionDropdown',\n    // The content displayed by the Details component\n    'summaryDetails',\n    // Liveblog toast\n    'toast',\n    // Onwards Carousel (Related content etc)\n    'onwardsCarousel',\n    // Search link should be above The Guardian svg\n    'myAccountDropdown',\n    'searchHeaderLink',\n    'TheGuardian',\n    // The edition switcher banner needs to be below the Edition selector\n    // and the myAccount dropdown in the nav\n    'editionSwitcherBanner',\n    // Overlay for expandable marketing card (currently US only)\n    'expandableMarketingCardOverlay',\n    // Sticky table of contents element\n    'tableOfContents',\n    // Article headline (should be above main media)\n    'articleHeadline',\n    'immersiveBlackBox',\n    // Body\n    'bodyArea',\n    'rightColumnArea',\n    // Main media\n    'mainMedia',\n    // Nested links in cards should sit above the main card link\n    // See: https://www.sarasoueidan.com/blog/nested-links/\n    'card-nested-link',\n    'card-link',\n];\nexport const getZIndex = (name) => {\n    const index = indices.indexOf(name);\n    if (index === -1)\n        return -1; // indexOf returns -1 if there is no match\n    return indices.length - index; // reverse the indices: last item gets 1\n};\n","import libDebounce from 'lodash.debounce';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n/**\n * Custom hook around the `IntersectionObserver`.\n *\n * @returns a tuple containing `[isInView, setNode]`\n */\nconst useIsInView = (options) => {\n    const [isInView, setIsInView] = useState(false);\n    const [node, setNode] = useState(options.node ?? null);\n    const observer = useRef(null);\n    const intersectionObserverCallback = useCallback(([entry]) => {\n        if (!entry)\n            return;\n        if (entry.isIntersecting) {\n            setIsInView(true);\n        }\n        else if (options.repeat) {\n            setIsInView(false);\n        }\n    }, [options.repeat]);\n    const intersectionCallback = options.debounce\n        ? libDebounce(intersectionObserverCallback, 200)\n        : intersectionObserverCallback;\n    useEffect(() => {\n        options.node && setNode(options.node);\n    }, [options.node]);\n    useEffect(() => {\n        if (!node)\n            return;\n        // Check for browser support https://caniuse.com/intersectionobserver\n        if (!('IntersectionObserver' in window))\n            return;\n        observer.current = new window.IntersectionObserver(intersectionCallback, options);\n        observer.current.observe(node);\n        return () => observer.current?.disconnect();\n    }, [node, options, intersectionCallback]);\n    useEffect(() => {\n        if (!options.repeat && isInView)\n            observer.current?.disconnect();\n    }, [isInView, options.repeat]);\n    return [isInView, setNode];\n};\nexport { useIsInView };\n","import { isUndefined } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\n/**\n * Ensures that the given task is only run once and only after all items in waitFor are defined\n * @param {Function} task - The task to execute once\n * @param {Array} waitFor - An array of variables that must be defined before the task is executed\n * */\nexport const useOnce = (task, waitFor) => {\n    const [alreadyRun, setAlreadyRun] = useState(false);\n    const isReady = waitFor.every((dep) => !isUndefined(dep));\n    useEffect(() => {\n        if (!alreadyRun && isReady) {\n            task();\n            setAlreadyRun(true);\n        }\n    }, [alreadyRun, isReady, task]);\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","const breakpoints = {\n    desktop: 980,\n    leftCol: 1140,\n    mobile: 320,\n    mobileLandscape: 480,\n    mobileMedium: 375,\n    phablet: 660,\n    tablet: 740,\n    wide: 1300\n};\nexport { breakpoints };\n","const visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\nexport { visuallyHidden };\n","import { breakpoints } from '../__generated__/breakpoints.js';\nconst smidgen = 0.1;\nconst minWidth = (from2) => `@media (min-width: ${`${from2}px`})`;\nconst maxWidth = (until2) => `@media (max-width: ${`${until2 - smidgen}px`})`;\nconst minWidthMaxWidth = (from2, until2) => `@media (min-width: ${`${from2}px`}) and (max-width: ${`${until2 - smidgen}px`})`;\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide)\n};\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide)\n};\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide)\n        }\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide)\n        }\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide)\n        }\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide)\n        }\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide)\n        }\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide)\n        }\n    }\n};\nexport { between, from, until };\n"],"names":["ulStyles","css","getZIndex","until","tablet","from","liStyles","name","styles","displayBlock","displayNone","linkStyles","textSans15","sourcePalette","neutral","linkActive","news","linkFirst","buttonStyles","textSans17","brandAlt","buttonExpanded","notificationColor","palette","error","notificationBadgeStyles","textSans14","dropdownButtonNotificationBadgeStyles","notificationTextStyles","textSans12","NotificationBadge","_ref","diameter","_jsx","style","width","concat","height","borderRadius","children","NotificationMessage","_ref2","message","notification","DropdownLink","_ref3","_link$notifications","link","index","ophanComponent","useMemo","notifications","length","componentType","id","labels","map","ophanLabel","buildOphanComponentWithNotifications","renderingTarget","useConfig","_useIsInView","useIsInView","debounce","_useIsInView2","_slicedToArray","hasBeenSeen","setNode","_useState","useState","_useState2","hasSentViewEvent","setHasSentViewEvent","useEffect","_step","_iterator","_createForOfIteratorHelper","s","n","done","_notification$logImpr","value","logImpression","call","err","e","f","submitComponentEvent","component","action","useOnce","url","acquisitionData","encodeURIComponent","JSON","stringify","source","componentId","campaignCode","referrerPageviewId","window","guardian","config","ophan","pageViewId","referrerUrl","location","origin","pathname","prefix","includes","addTrackingToUrl","hasNotifications","isUndefined","ref","_jsxs","href","isActive","dataLinkName","onClick","title","Dropdown","_ref4","label","links","cssOverrides","_useState3","_useState4","isExpanded","setIsExpanded","_useState5","_useState6","noJS","setNoJS","_useState7","_useState8","buttonRef","setButtonRef","dismissOnEsc","event","code","document","addEventListener","removeEventListener","dismissOnClickAway","target","stopPropagation","dropdownID","checkboxID","notificationCount","reduce","runningCount","_link$notifications$l","linkNotificationCount","_Fragment","visuallyHidden","htmlFor","type","tabIndex","l","indices","indexOf","options","_options$node","isInView","setIsInView","node","observer","useRef","intersectionObserverCallback","useCallback","entry","isIntersecting","repeat","intersectionCallback","libDebounce","current","IntersectionObserver","observe","_observer$current","disconnect","_observer$current2","task","waitFor","alreadyRun","setAlreadyRun","isReady","every","dep","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","Object","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","isSymbol","other","valueOf","replace","isBinary","test","slice","module","exports","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","remainingWait","debounced","isInvoking","arguments","this","leadingEdge","cancel","clearTimeout","flush","breakpoints","desktop","leftCol","mobile","mobileLandscape","mobileMedium","phablet","wide","minWidth","from2","maxWidth","until2","minWidthMaxWidth","between","and"],"sourceRoot":""}