"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[9665],{52150:(t,n,e)=>{e.d(n,{B:()=>x});var r=e(50484),i=e(24017),o=e(92280),s=e(96378),c=e(67400),a=e(37540);function u(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function l(){const t=u(["\n\tdisplay: block;\n"]);return l=function(){return t},t}function d(){const t=u(["\n\t\tpadding-top: ",";\n\t\tposition: relative;\n\t\t& > * {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t"]);return d=function(){return t},t}function p(){const t=u(["\n\t& > * {\n\t\tborder-radius: ","px;\n\t}\n"]);return p=function(){return t},t}function f(){const t=u(["\n\tborder-radius: 100%;\n\tobject-fit: cover;\n\theight: 100%;\n\twidth: 100%;\n"]);return f=function(){return t},t}const b=(0,i.css)(l()),h=t=>{const n=(t=>{switch(t){case"5:4":return"80%";case"4:5":return"125%";case"1:1":return"100%";default:return"60%"}})(t);return(0,i.css)(d(),n)},g=(0,i.css)(p(),s.x[2]),m=(0,i.css)(f()),x=t=>{let{mainImage:n,alt:e,imageSize:i,loading:s,roundedCorners:u,isCircular:l,aspectRatio:d}=t;const p=(0,a.Ip)(n,(t=>{switch(t){case"carousel":return[{breakpoint:o.f.mobile,width:220}];case"small":return[{breakpoint:o.f.mobile,width:120},{breakpoint:o.f.tablet,width:160},{breakpoint:o.f.desktop,width:220}];case"medium":return[{breakpoint:o.f.mobile,width:240},{breakpoint:o.f.tablet,width:330},{breakpoint:o.f.desktop,width:460}];case"large":return[{breakpoint:o.f.mobile,width:360},{breakpoint:o.f.mobileLandscape,width:480},{breakpoint:o.f.tablet,width:500},{breakpoint:o.f.desktop,width:700}];case"jumbo":return[{breakpoint:o.f.mobile,width:360},{breakpoint:o.f.mobileLandscape,width:480},{breakpoint:o.f.tablet,width:680},{breakpoint:o.f.desktop,width:940}];case"feature":return[{breakpoint:o.f.mobile,width:325},{breakpoint:o.f.tablet,width:220},{breakpoint:o.f.desktop,width:300}];case"feature-large":return[{breakpoint:o.f.mobile,width:325},{breakpoint:o.f.tablet,width:337},{breakpoint:o.f.desktop,width:460}]}})(i),d),f=(0,a.sP)(p);return(0,r.jsxs)("picture",{"data-size":i,css:[b,h(d),u&&g,l&&m],children:[p.map((t=>(0,r.jsxs)(c.default.Fragment,{children:[(0,r.jsx)("source",{srcSet:t.hiResUrl,media:"(min-width: ".concat(t.breakpoint,"px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ").concat(t.breakpoint,"px) and (min-resolution: 120dpi)")}),(0,r.jsx)("source",{srcSet:t.lowResUrl,media:"(min-width: ".concat(t.breakpoint,"px)")})]},t.breakpoint))),(0,r.jsx)("img",{alt:null!=e?e:"",src:f.lowResUrl,css:[b,l&&m],loading:s,"data-chromatic":"ignore"})]})}},22e3:(t,n,e)=>{e.d(n,{L:()=>u});var r=e(50484),i=e(24017),o=e(99923);function s(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function c(){const t=s(["\n\t\t\t"," {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t"]);return c=function(){return t},t}function a(){const t=s(["\n\t\t\t"," {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t"]);return a=function(){return t},t}const u=t=>{let n,{children:e,when:s,breakpoint:u,el:l}=t;return n="below"===s?(0,i.css)(c(),o.TG[u]):(0,i.css)(a(),o.HT[u]),"li"===l?(0,r.jsx)("li",{css:n,children:e}):(0,r.jsx)("span",{css:n,children:e})}},67397:(t,n,e)=>{e.d(n,{i:()=>j});var r=e(50484),i=e(24017),o=e(99923),s=e(77907),c=e(96378);function a(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function u(){const t=a(["\n\t\t\tpadding-right: 10px;\n\t\t\tdisplay: none;\n\t\t"]);return u=function(){return t},t}function l(){const t=a(["\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t"," {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t"," {\n\t\t\t\t\t/* above 1140 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t"]);return l=function(){return t},t}function d(){const t=a(["\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t"," {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t"," {\n\t\t\t\t\t/* above 1140, below 1300 */\n\t\t\t\t\tflex-basis: 151px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t"," {\n\t\t\t\t\t/* above 1300 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t"]);return d=function(){return t},t}function p(){const t=a(["\n\tposition: relative;\n"]);return p=function(){return t},t}function f(){const t=a(["\n\t:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\theight: 30px;\n\t\twidth: 1px;\n\t\tbackground: ",";\n\t}\n"]);return f=function(){return t},t}function b(){const t=a(["\n\tborder-right: 1px solid ",";\n"]);return b=function(){return t},t}function h(){const t=a(["\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tKeep spacing at the bottom of the container consistent at 36px, regardless of\n\t\t\t\t\t\t\tbreakpoint, based on chat with Harry Fisher\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tpadding-bottom: ","px;\n\t\t\t\t\t"]);return h=function(){return t},t}function g(){const t=a(["\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t"]);return g=function(){return t},t}const m=(t,n)=>n?(0,i.css)(u()):"wide"===t?(0,i.css)(l(),o.TG.leftCol,o.HT.leftCol):(0,i.css)(d(),o.TG.leftCol,o.Tq.leftCol.and.wide,o.HT.wide),x=(0,i.css)(p()),w=t=>(0,i.css)(f(),t),j=t=>{let{children:n,borderType:e,borderColour:o=s.M.neutral[86],size:a="compact",verticalMargins:u=!0,hasPageSkin:l=!1}=t;return(0,r.jsx)("section",{css:[x,m(a,l),"full"===e&&(d=o,(0,i.css)(b(),d)),u&&(0,i.css)(h(),c.x[9])],children:(0,r.jsx)("div",{css:["partial"===e&&w(o),(0,i.css)(g())],children:n})});var d}},21790:(t,n,e)=>{e.d(n,{Ao:()=>G,SK:()=>L,wF:()=>K});var r=e(50484),i=e(24017),o=e(77907),s=e(96378),c=e(7351),a=e(27123),u=e(1255),l=e(31490),d=e(67400),p=e(50026),f=e(58452),b=e(52150),h=e(15593),g=e(46080),m=e(75203);function x(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function w(){const t=x(["\n\tdisplay: flex;\n\talign-items: center;\n"]);return w=function(){return t},t}function j(){const t=x(["\n\theight: ",";\n\n\tsvg {\n\t\tbackground: ",";\n\t\tborder-radius: 50%;\n\t\theight: 100%;\n\t\tpadding: 2px;\n\t\tmargin-right: ","px;\n\t}\n"]);return j=function(){return t},t}function k(){const t=x(["\n\t",";\n\t/**\n\t * Typography preset styles should not be overridden.\n\t * This has been done because the styles do not directly map to the new presets.\n\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t */\n\tline-height: 1.15;\n"]);return k=function(){return t},t}const v=(0,i.css)(w()),y=t=>(0,i.css)(j(),"small"===t?"20px":"28px",g.jP.primary,s.x[1]),O=(0,i.css)(k(),c.rS6),P=t=>{let{text:n,iconSize:e="normal"}=t;return(0,r.jsxs)("div",{css:v,children:[(0,r.jsx)("div",{css:y(e),children:(0,r.jsx)(m.M,{})}),(0,r.jsx)("span",{css:O,children:n})]})};function S(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function z(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){S(t,n,e[n])}))}return t}function C(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function T(){const t=C(["\n\tposition: relative;\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 215px;\n\tbackground-color: ",";\n"]);return T=function(){return t},t}function M(){const t=C(["\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: ","px;\n\tpadding-bottom: ","px;\n\n\th3 {\n\t\t",";\n\t\tmargin-bottom: ","px;\n\t}\n\n\tp {\n\t\t",";\n\t\tline-height: 1.4;\n\t}\n"]);return M=function(){return t},t}function N(){const t=C(["\n\tmargin-top: auto;\n\tpadding-top: ","px;\n"]);return N=function(){return t},t}function _(){const t=C(["\n\tcolor: ",";\n\tborder-color: ",";\n\t."," {\n\t\tdisplay: none;\n\t}\n\n\t&."," {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\n\t\t."," {\n\t\t\tdisplay: none;\n\t\t}\n\t\t."," {\n\t\t\tdisplay: inline;\n\t\t}\n\t}\n\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n\n\t&","",":hover {\n\t\tbackground-color: ",";\n\t\tborder-color: ",";\n\t}\n"]);return _=function(){return t},t}function D(){const t=C(["\n\twidth: 100%;\n\tmargin-bottom: ","px;\n"]);return D=function(){return t},t}function E(){const t=C(["\n\t\t\t\t\tposition: relative;\n\t\t\t\t"]);return E=function(){return t},t}function I(){const t=C(["\n\t\t\t\t\tbackground-color: ",";\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: auto;\n\t\t\t\t"]);return I=function(){return t},t}const G="GroupedNewslettersList-sign-up-button",L="js-GroupedNewslettersList-sign-up-button--selected",R="js-GroupedNewslettersList-sign-up-button__plus-icon",H="js-GroupedNewslettersList-sign-up-button__tick-icon",F=(0,i.css)(T(),o.M.neutral[97]),U=(0,i.css)(M(),s.x[1],s.x[2],c.aal,s.x[3],c.ufg),W=(0,i.css)(N(),s.x[6]),q=(0,i.css)(_(),o.M.neutral[7],o.M.neutral[7],H,L,o.M.neutral[7],o.M.neutral[100],R,H,o.M.neutral[86],".",L,o.M.neutral[46],o.M.neutral[46]),A=(0,i.css)(D(),s.x[1]),B=t=>{var n;return(0,r.jsx)("figure",{role:"img",css:[A,(0,i.css)(E())],children:(0,r.jsx)("img",{css:(0,i.css)(I(),(t=>{switch(t){case"culture":case"news":case"sport":case"lifestyle":case"opinion":return o.M[t][400];default:return o.M.brand[400]}})(t.theme)),width:t.aspectWidth,height:t.aspectHeight,alt:null!==(n=t.altText)&&void 0!==n?n:""})})},K=t=>{let{newsletter:n,groupTitle:e,cardPosition:i,carouselPosition:o}=t;const[s,c]=(0,f.E)({threshold:.9}),[g,m]=(0,d.useState)(!1),{renderingTarget:x}=(0,h.U)(),w=(0,d.useCallback)((()=>{const t={eventDescription:"card-viewed",newsletterId:n.identityName,carousel:e,cardPosition:i,carouselPosition:o,timestamp:Date.now()};(0,p.u_)({component:{componentType:"CARD",id:"DCR NewsletterCard ".concat(n.identityName)},action:"VIEW",value:JSON.stringify(t)},x)}),[i,o,e,n.identityName,x]);return(0,d.useEffect)((()=>{s&&!g&&(w(),m(!0))}),[s,g,m,w]),(0,r.jsxs)("article",{ref:c,css:F,"aria-label":n.name,children:[n.illustrationCard?(0,r.jsx)("div",{css:A,children:(0,r.jsx)(b.B,{imageSize:"carousel",alt:"",mainImage:n.illustrationCard,loading:"lazy"})}):(0,r.jsx)(B,{theme:n.theme,aspectHeight:300,aspectWidth:500}),(0,r.jsxs)("div",{css:U,children:[(0,r.jsx)(P,{text:n.frequency,iconSize:"small"}),(0,r.jsx)("h3",{children:n.name}),(0,r.jsx)("p",{children:n.description}),(0,r.jsx)("div",{css:W,children:(0,r.jsx)(a.$,(j=z({},(v=n.name,{"aria-label":"add ".concat(v," to subscribe list"),"data-aria-label-when-unchecked":"add ".concat(v," to subscribe list"),"data-aria-label-when-checked":"remove ".concat(v," from subscribe list")})),k={priority:"tertiary",size:"xsmall",iconSide:"left",icon:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:R,children:(0,r.jsx)(u.D,{})}),(0,r.jsx)("span",{className:H,children:(0,r.jsx)(l.Q,{})})]}),cssOverrides:q,"data-identity-name":n.identityName,"data-list-id":n.listId,"data-role":G,children:"Sign up"},k=null!=k?k:{},Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(k)):function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e}(Object(k)).forEach((function(t){Object.defineProperty(j,t,Object.getOwnPropertyDescriptor(k,t))})),j))})]})]},n.name);var j,k,v}},58452:(t,n,e)=>{e.d(n,{E:()=>s});var r=e(44165),i=e.n(r),o=e(67400);const s=t=>{const[n,e]=(0,o.useState)(!1);var r;const[s,c]=(0,o.useState)(null!==(r=t.node)&&void 0!==r?r:null),a=(0,o.useRef)(null),u=(0,o.useCallback)((n=>{let[r]=n;r&&(r.isIntersecting?e(!0):t.repeat&&e(!1))}),[t.repeat]),l=t.debounce?i()(u,200):u;return(0,o.useEffect)((()=>{t.node&&c(t.node)}),[t.node]),(0,o.useEffect)((()=>{if(s&&"IntersectionObserver"in window)return a.current=new window.IntersectionObserver(l,t),a.current.observe(s),()=>{var t;return null===(t=a.current)||void 0===t?void 0:t.disconnect()}}),[s,t,l]),(0,o.useEffect)((()=>{var e;!t.repeat&&n&&(null===(e=a.current)||void 0===e||e.disconnect())}),[n,t.repeat]),[n,c]}}}]);
//# sourceMappingURL=9665.client.web.44986e8c5b2e95cd29b6.js.map