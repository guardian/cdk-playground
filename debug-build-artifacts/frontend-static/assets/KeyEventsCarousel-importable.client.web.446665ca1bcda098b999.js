(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[7865],{85895:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var r=n(50484),o=n(72762),i=n(54163),s=n(15593),c=n(39395),a=n(33254);const l=(e,t,n)=>e.toLocaleDateString(t,{weekday:"short",timeZone:n}),d=(e,t,n)=>e.toLocaleDateString(t,{day:"numeric",month:"short",year:"numeric",timeZone:n}).replaceAll(",",""),u=(e,t,n)=>e.toLocaleTimeString(t,{hour12:!1,hour:"2-digit",minute:"2-digit",timeZoneName:"short",timeZone:n}).replace(":","."),p=e=>{let{date:t,showWeekday:n,showDate:p,showTime:h,display:g="absolute",absoluteServerTimes:f=!0}=e;const{editionId:b}=(0,s.U)(),{dateLocale:m,timeZone:w}=(0,i.iR)(b),v=t.getTime();return"relative"===g?(0,r.jsx)(c.u,{priority:"enhancement",defer:{until:"visible"},children:(0,r.jsx)(a.RelativeTime,{then:v,now:f?864e13:6e4*Math.floor(Date.now()/6e4),editionId:b})}):(0,r.jsx)("time",{dateTime:t.toISOString(),"data-locale":m,title:t.toLocaleDateString(m,{hour:"2-digit",minute:"2-digit",weekday:"long",year:"numeric",month:"long",day:"numeric",timeZoneName:"long",timeZone:w}),children:[n&&l(t,m,w),p&&d(t,m,w),h&&u(t,m,w)].filter(o.K).join(" ")})}},39395:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var r=n(50484);const o=e=>{let{priority:t,defer:n,children:o,role:i}=e;const s="visible"===(null==n?void 0:n.until)?n.rootMargin:void 0,c=String(o.type.name);return(0,r.jsx)("gu-island",{name:c,priority:t,deferUntil:null==n?void 0:n.until,props:JSON.stringify(o.props),rootMargin:s,"data-spacefinder-role":i,children:o})}},79526:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeyEventsCarousel:()=>$});var r=n(50484),o=n(24017),i=n(99923),s=n(96378),c=n(7351),a=n(3959),l=n(27123),d=n(45717),u=n(78580),p=n(67400),h=n(42631),g=n(53694),f=n(95571),b=n(85895);function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function w(){const e=m(["\n\ttext-decoration: none;\n\n\t&::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\theight: 13px;\n\t\twidth: 13px;\n\t\tborder-radius: 50%;\n\t\tbackground-color: ",";\n\t\tmargin-bottom: ","px;\n\t\tz-index: 2;\n\n\t\t"," {\n\t\t\theight: 15px;\n\t\t\twidth: 15px;\n\t\t}\n\t}\n\n\t&:hover::before {\n\t\tbackground-color: ",";\n\t}\n\n\t&:hover {\n\t\tdiv {\n\t\t\ttext-decoration: underline ",";\n\t\t\ttext-underline-offset: 1px;\n\t\t}\n\t}\n"]);return w=function(){return e},e}function v(){const e=m(["\n\t&::before {\n\t\tbackground-color: ",";\n\t}\n\n\t&:hover::before {\n\t\tbackground-color: ",";\n\t}\n"]);return v=function(){return e},e}function y(){const e=m(["\n\tposition: relative;\n\tpadding-bottom: ","px;\n\tpadding-top: ","px;\n\tpadding-right: ","px;\n\tbackground-color: ",";\n\tlist-style: none;\n\tdisplay: block;\n\twidth: 162px;\n\tscroll-snap-align: start;\n\n\t"," {\n\t\tpadding-bottom: ","px;\n\t\tbackground-color: ",";\n\t\twidth: 200px;\n\t\tpadding-right: ","px;\n\t}\n\n\t&::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tborder-top: 1px dotted ",";\n\t\tleft: 0;\n\t\tright: 0;\n\t\ttop: 19px;\n\t}\n\n\t&:last-child::before {\n\t\tborder-top: 0;\n\t}\n"]);return y=function(){return e},e}function k(){const e=m(["\n\t",";\n\tcolor: ",";\n"]);return k=function(){return e},e}function x(){const e=m(["\n\t",";\n\t/**\n\t * Typography preset styles should not be overridden.\n\t * This has been done because the styles do not directly map to the new presets.\n\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t */\n\tline-height: 1.15;\n\tcolor: ",";\n\tdisplay: block;\n"]);return x=function(){return e},e}const P=(0,o.css)(w(),(0,g.M)("--key-event-bullet"),s.x[1],i.HT.tablet,(0,g.M)("--key-event-bullet-hover"),(0,g.M)("--key-event-text")),S=(0,o.css)(v(),(0,g.M)("--summary-event-bullet"),(0,g.M)("--summary-event-bullet-hover")),E=(0,o.css)(y(),s.x[3],s.x[3],s.x[3],(0,g.M)("--key-event-background"),i.HT.desktop,s.x[3],(0,g.M)("--key-event-background-desktop"),s.x[5],(0,g.M)("--key-event-border")),T=(0,o.css)(k(),c.PSs,(0,g.M)("--key-event-text")),I=(0,o.css)(x(),c.rS6,(0,g.M)("--key-event-title")),M=e=>{let{id:t,blockFirstPublished:n,isSummary:i,title:s,filterKeyEvents:c,cardPosition:a="unknown position",absoluteServerTimes:l,renderingTarget:d}=e;const u=(e=>{let{filterKeyEvents:t,renderingTarget:n,id:r}=e;const o=new URLSearchParams;return o.append("filterKeyEvents",String(t)),o.append("page","with:block-".concat(r)),"Apps"===n&&o.append("dcr","apps"),"?".concat(o.toString(),"#block-").concat(r)})({filterKeyEvents:c,renderingTarget:d,id:t});return(0,r.jsx)("li",{css:E,children:(0,r.jsxs)(f.N,{priority:"secondary",cssOverrides:(0,o.css)([P,i&&S]),href:u,"data-link-name":"key event card | ".concat(a),children:[(0,r.jsx)("div",{css:I,children:(0,r.jsx)(b.c,{date:new Date(n),display:"relative",absoluteServerTimes:l,showWeekday:!1,showDate:!0,showTime:!1})}),(0,r.jsx)("div",{css:T,children:s})]})})};function B(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function L(){const e=B(["\n\tbackground-color: ",";\n\tscroll-snap-type: x mandatory;\n\tscroll-behavior: smooth;\n\toverflow-x: auto;\n\toverflow-y: hidden;\n\tmargin-right: -10px;\n\t"," {\n\t\tmargin-right: -20px;\n\t}\n\n\t"," {\n\t\tmargin-right: 0px;\n\t\tbackground-color: ",";\n\t\tscrollbar-width: none;\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n"]);return L=function(){return e},e}function j(){const e=B(["\n\t"," {\n\t\tmargin-left: 240px;\n\t}\n"]);return j=function(){return e},e}function C(){const e=B(["\n\t"," {\n\t\tmargin-bottom: ","px;\n\t}\n"]);return C=function(){return e},e}function O(){const e=B(["\n\t",";\n\t/**\n\t * Typography preset styles should not be overridden.\n\t * This has been done because the styles do not directly map to the new presets.\n\t * Please speak to your team's designer and update this to use a more appropriate preset.\n\t */\n\tline-height: 1.3;\n\tpadding-top: ","px;\n\tcolor: ",";\n"]);return O=function(){return e},e}function A(){const e=B(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: row;\n\talign-items: stretch;\n\twidth: fit-content;\n\tposition: relative;\n"]);return A=function(){return e},e}function U(){const e=B(["\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-bottom: ","px;\n\tbackground-color: ",";\n\t&:active,\n\t&:hover {\n\t\toutline: none;\n\t\tbackground-color: ",";\n\t}\n\tsvg {\n\t\tfill: ",";\n\t}\n"]);return U=function(){return e},e}function F(){const e=B(["\n\tleft: ","px;\n"]);return F=function(){return e},e}function N(){const e=B(["\n\tright: ","px;\n"]);return N=function(){return e},e}const D=(0,o.css)(L(),(0,g.M)("--key-event-background"),i.HT.tablet,i.HT.desktop,(0,g.M)("--key-event-background-desktop")),K=(0,o.css)(j(),i.HT.desktop),Z=(0,o.css)(C(),i.HT.desktop,s.x[12]),R=(0,o.css)(O(),c.ccz,s.x[3],(0,g.M)("--key-event-title")),_=(0,o.css)(A()),z=(0,o.css)(U(),s.x[4],(0,g.M)("--key-event-button"),(0,g.M)("--key-event-button-hover"),(0,g.M)("--key-event-button-fill")),H=(0,o.css)(F(),s.x[5]),W=(0,o.css)(N(),s.x[5]),Y=e=>"string"==typeof e.title&&"number"==typeof e.blockFirstPublished,$=e=>{let{keyEvents:t,filterKeyEvents:n,id:o,absoluteServerTimes:i,renderingTarget:s}=e;const c=(0,p.useRef)(null),g="Apps"===s,f=t.filter(Y),b=f.length,m=b<=4,w=b>6;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{id:o}),(0,r.jsx)(a.L,{from:"desktop",children:(0,r.jsx)("div",{css:R,children:"Key events"})}),(0,r.jsxs)("div",{onTouchStart:g?async()=>{await(0,h._5)().disableArticleSwipe(!0)}:void 0,onTouchEnd:g?async()=>{await(0,h._5)().disableArticleSwipe(!1)}:void 0,ref:c,id:"key-events-carousel",css:[D,m&&K],children:[(0,r.jsx)("ul",{css:[_,w&&Z],children:f.map(((e,t)=>(0,r.jsx)(M,{filterKeyEvents:n,id:e.id,blockFirstPublished:e.blockFirstPublished,isSummary:e.attributes.summary,title:e.title,cardPosition:"".concat(t," of ").concat(b),absoluteServerTimes:i,renderingTarget:s},e.id)))}),(0,r.jsx)(a.L,{until:"desktop",children:w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.$,{hideLabel:!0,cssOverrides:[z,H],iconSide:"left",icon:(0,r.jsx)(d.P,{}),onClick:()=>{c.current&&(c.current.scrollLeft-=200)},"aria-label":"Move key events carousel backwards","data-link-name":"key event carousel left chevron",size:"small"}),(0,r.jsx)(l.$,{hideLabel:!0,cssOverrides:[z,W],iconSide:"left",icon:(0,r.jsx)(u.s,{}),onClick:()=>{c.current&&(c.current.scrollLeft+=200)},"aria-label":"Move key events carousel forwards","data-link-name":"key event carousel right chevron",size:"small"})]})})]})]})}},33254:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RelativeTime:()=>u});var r=n(50484),o=n(73785),i=n(72762),s=n(67400),c=n(54163),a=n(58452);const l=e=>{let{then:t,now:n,precision:r}=e;return Math.floor((n-t)/r)*r},d=(e,t,n)=>{const r=(0,o.f)(e,{now:"server"===n?t:e+l({then:e,now:Date.now(),precision:6e4})});return(0,i.K)(r)?r:"now"},u=e=>{let{then:t,now:n,editionId:o}=e;const[i,l]=(0,a.E)({repeat:!0}),[u,p]=(0,s.useState)(d(t,n,"server"));(0,s.useEffect)((()=>{const e=()=>p(d(t,n,"client"));if(e(),!i)return;const r=setInterval(e,6e4);return()=>clearInterval(r)}),[i,n,t]);const h=new Date(t),{dateLocale:g,timeZone:f}=(0,c.iR)(o);return(0,r.jsx)("time",{ref:l,dateTime:h.toISOString(),"data-locale":g,title:h.toLocaleDateString(g,{hour:"2-digit",minute:"2-digit",weekday:"long",year:"numeric",month:"long",day:"numeric",timeZoneName:"long",timeZone:f}),children:u})}},42631:(e,t,n)=>{"use strict";n.d(t,{OA:()=>j,IC:()=>z,GR:()=>B,QF:()=>$,Dq:()=>I,yY:()=>K,_5:()=>Q,ud:()=>W,U:()=>O,yV:()=>U,LE:()=>N,FA:()=>R});var r=n(13011),o=n(96831),i=n(86293),s=n(99895),c=n(65490),a=n(89993),l=n(85159),d=(n(47038),n(59517)),u=(n(29103),n(60579)),p=n(54703),h=n(69504),g=n(75271),f=n(9474),b=n(13213);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends b.TProtocol{getTransport(){return this.concreteProtocol.getTransport()}flush(){return this.concreteProtocol.flush()}writeMessageBegin(e,t,n){return this.concreteProtocol.writeMessageBegin(e,t,n)}writeMessageEnd(){return this.concreteProtocol.writeMessageEnd()}writeStructBegin(e){return this.concreteProtocol.writeStructBegin(e)}writeStructEnd(){return this.concreteProtocol.writeStructEnd()}writeFieldBegin(e,t,n){return this.concreteProtocol.writeFieldBegin(e,t,n)}writeFieldEnd(){return this.concreteProtocol.writeFieldEnd()}writeFieldStop(){return this.concreteProtocol.writeFieldStop()}writeMapBegin(e,t,n){return this.concreteProtocol.writeMapBegin(e,t,n)}writeMapEnd(){return this.concreteProtocol.writeMapEnd()}writeListBegin(e,t){return this.concreteProtocol.writeListBegin(e,t)}writeListEnd(){return this.concreteProtocol.writeListEnd()}writeSetBegin(e,t){return this.concreteProtocol.writeSetBegin(e,t)}writeSetEnd(){return this.concreteProtocol.writeSetEnd()}writeBool(e){return this.concreteProtocol.writeBool(e)}writeByte(e){return this.concreteProtocol.writeByte(e)}writeI16(e){return this.concreteProtocol.writeI16(e)}writeI32(e){return this.concreteProtocol.writeI32(e)}writeI64(e){return this.concreteProtocol.writeI64(e)}writeDouble(e){return this.concreteProtocol.writeDouble(e)}writeString(e){return this.concreteProtocol.writeString(e)}writeBinary(e){return this.concreteProtocol.writeBinary(e)}readMessageBegin(){return this.concreteProtocol.readMessageBegin()}readMessageEnd(){return this.concreteProtocol.readMessageEnd()}readStructBegin(){return this.concreteProtocol.readStructBegin()}readStructEnd(){return this.concreteProtocol.readStructEnd()}readFieldBegin(){return this.concreteProtocol.readFieldBegin()}readFieldEnd(){return this.concreteProtocol.readFieldEnd()}readMapBegin(){return this.concreteProtocol.readMapBegin()}readMapEnd(){return this.concreteProtocol.readMapEnd()}readListBegin(){return this.concreteProtocol.readListBegin()}readListEnd(){return this.concreteProtocol.readListEnd()}readSetBegin(){return this.concreteProtocol.readSetBegin()}readSetEnd(){return this.concreteProtocol.readSetEnd()}readBool(){return this.concreteProtocol.readBool()}readByte(){return this.concreteProtocol.readByte()}readI16(){return this.concreteProtocol.readI16()}readI32(){return this.concreteProtocol.readI32()}readI64(){return this.concreteProtocol.readI64()}readDouble(){return this.concreteProtocol.readDouble()}readBinary(){return this.concreteProtocol.readBinary()}readString(){return this.concreteProtocol.readString()}skip(e){return this.concreteProtocol.skip(e)}constructor(e){super(e.getTransport()),m(this,"concreteProtocol",void 0),this.concreteProtocol=e}}class v extends w{writeMessageBegin(e,t,n){t===b.MessageType.CALL||t===b.MessageType.ONEWAY?super.writeMessageBegin(this.serviceName+v.separator+e,t,n):super.writeMessageBegin(e,t,n)}constructor(e,t){super(e),m(this,"serviceName",void 0),this.serviceName=t}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){window.android?window.android.postMessage(e.data,e.connectionId):window.webkit?window.webkit.messageHandlers.iOSWebViewMessage.postMessage(e):console.warn("No native APIs available")}m(v,"separator",":");let x=1;const P=()=>"connection-".concat(x++);class S extends b.ThriftConnection{reset(e){if(e===this.connectionId&&window.nativeConnections){console.warn("Reseting connection "+e),delete window.nativeConnections[this.connectionId];for(const e of this.promises)e.reject(new b.TApplicationException(b.TApplicationExceptionType.UNKNOWN,"Timeout error"));this.promises=[],this.connectionId=P(),window.nativeConnections[this.connectionId]=this}}receive(e){const t=this.promises.shift();if(t){clearTimeout(t.timeoutId);const n=Buffer.from(e.data,"base64");t.resolve(n)}this.sendNextMessage()}sendNextMessage(){const e=this.outBuffer.shift();e&&(console.log("Sending next message"),k(e))}send(e){const t=this.connectionId,n=this;return new Promise((function(r,o){n.promises.push({resolve:r,reject:o,timeoutId:setTimeout((function(){n.reset(t)}),3e4)});const i={data:e.toString("base64"),connectionId:t};1===n.promises.length?(console.log("Sending message immediately"),k(i)):(console.log("Queing message because others in flight"),n.outBuffer.push(i))}))}constructor(e,t){var n;super(e,t),y(this,"connectionId",P()),y(this,"promises",[]),y(this,"outBuffer",[]),"undefined"!=typeof window&&(window.nativeConnections=null!==(n=window.nativeConnections)&&void 0!==n?n:{},window.nativeConnections[this.connectionId]=this)}}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffered",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact";const r=new S((0,b.getTransport)(t),class extends v{constructor(t){var r;super(new((0,b.getProtocol)(n))(t),null!==(r=e.serviceName)&&void 0!==r?r:"")}});return new e(r)}let T;const I=()=>((0,f.b)(T)&&(T=E(c.Client,"buffered","compact")),T);let M;const B=()=>((0,f.b)(M)&&(M=E(i.Client,"buffered","compact")),M);let L;const j=()=>(L||(L=E(r.Client,"buffered","compact")),L);let C;const O=()=>(C||(C=E(u.Client,"buffered","compact")),C);let A;const U=()=>(A||(A=E(p.Client,"buffered","compact")),A);let F;const N=()=>(F||(F=E(h.Client,"buffered","compact")),F);let D;const K=()=>(D||(D=E(a.Client,"buffered","compact")),D);let Z;const R=()=>(Z||(Z=E(g.Client,"buffered","compact")),Z);let _;const z=()=>(_||(_=E(o.Client,"buffered","compact")),_);let H;const W=()=>(H||(H=E(d.Client,"buffered","compact")),H);let Y;const $=()=>(Y||(Y=E(s.Client,"buffered","compact")),Y);let G;const Q=()=>(G||(G=E(l.Client,"buffered","compact")),G)},54163:(e,t,n)=>{"use strict";n.d(t,{T$:()=>o,b1:()=>c,iR:()=>s,y4:()=>a});var r=n(92582);const o=[{url:"/preference/edition/uk",editionId:"UK",pageId:"uk",longTitle:"UK edition",title:"UK edition",dateLocale:"en-gb",timeZone:"Europe/London",langLocale:"en-GB",hasEditionalisedPages:!0,shortTitle:"UK"},{url:"/preference/edition/us",editionId:"US",pageId:"us",longTitle:"US edition",title:"US edition",dateLocale:"en-us",timeZone:"America/New_York",langLocale:"en-US",hasEditionalisedPages:!0,shortTitle:"US"},{url:"/preference/edition/au",editionId:"AU",pageId:"au",longTitle:"Australia edition",title:"AU edition",dateLocale:"en-au",timeZone:"Australia/Sydney",langLocale:"en-AU",hasEditionalisedPages:!0,shortTitle:"Aus"},{url:"/preference/edition/eur",editionId:"EUR",pageId:"europe",longTitle:"Europe edition",title:"Europe edition",dateLocale:"en-gb",timeZone:"Europe/Paris",langLocale:"en-EU",hasEditionalisedPages:!1,shortTitle:"Eur"},{url:"/preference/edition/int",editionId:"INT",pageId:"international",longTitle:"International edition",title:"International edition",dateLocale:"en-gb",timeZone:"Europe/London",langLocale:"en",hasEditionalisedPages:!1,shortTitle:"Int"}],[i]=o,s=e=>{var t;return null!==(t=o.find((t=>t.editionId===e)))&&void 0!==t?t:i},c=e=>o.find((t=>t.pageId===e)),a=((0,r.E)(o.map((e=>{let{editionId:t}=e;return t}))),e=>o.some((t=>t.pageId===e)))},58452:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(44165),o=n.n(r),i=n(67400);const s=e=>{const[t,n]=(0,i.useState)(!1);var r;const[s,c]=(0,i.useState)(null!==(r=e.node)&&void 0!==r?r:null),a=(0,i.useRef)(null),l=(0,i.useCallback)((t=>{let[r]=t;r&&(r.isIntersecting?n(!0):e.repeat&&n(!1))}),[e.repeat]),d=e.debounce?o()(l,200):l;return(0,i.useEffect)((()=>{e.node&&c(e.node)}),[e.node]),(0,i.useEffect)((()=>{if(s&&"IntersectionObserver"in window)return a.current=new window.IntersectionObserver(d,e),a.current.observe(s),()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.disconnect()}}),[s,e,d]),(0,i.useEffect)((()=>{var n;!e.repeat&&t&&(null===(n=a.current)||void 0===n||n.disconnect())}),[t,e.repeat]),[t,c]}},53694:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r=e=>"var(".concat(e,")")},50150:()=>{}}]);
//# sourceMappingURL=KeyEventsCarousel-importable.client.web.446665ca1bcda098b999.js.map